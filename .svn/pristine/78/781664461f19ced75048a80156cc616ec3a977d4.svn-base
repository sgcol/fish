{"version":3,"sources":["webpack:///7.default.js","webpack:///./client/pf/default.js","webpack:///./client/tongji.js?b2f6*","webpack:///./client/tongji_zhuge.js?7b0d*"],"names":["webpackJsonp",9,"module","exports","__webpack_require__","_noop","tongji","window","pay","orderid","money","desc","cb","tipon","beginCharge","getAjax","err","r","tip","wins","ClickWin","modal","show","message","popup","endCharge","many","tehui","x","indexOf","substring","length","OtherWin","share","console","log","preShareResult","roomid","setnum","participants","winners","img","arguments",43,"t",74,"_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","zhuge","methods","split","factory","b","a","Array","slice","call","unshift","push","load","document","getElementById","createElement","verDate","Date","verStr","getFullYear","toString","getMonth","getDate","type","id","async","src","location","protocol","onerror","identify","track","ename","callback","c","getElementsByTagName","parentNode","insertBefore","_init","Stat","this","_delayOp","_inited","value","f","me","_delay","qudao","cordova","device","platform","startup_param","pf","name","nickname","gender","sex","level","gameServer","accountType","n","reason","count","tickets","payment","Math","floor","orderId","iapId","currencyAmount","currencyType","virtualCurrencyAmount","paymentType","tableid","table","item","itemNumber","priceInVirtualCurrency","user","tabledesc","msg","data","m","n_name","m_name","detail","price","onunload","userout","bind"],"mappings":"AAAAA,cAAc,IAERC;;;AAIA,SAASC,EAAQC,EAASC,GAE/B,YCLD,SAASC,MAHT,GAAIC,GAASC,OAAOD,OAASF,qBAAQ,GA0BrCG,QAAOC,IAAM,SAASC,EAASC,EAAOC,EAAMC,GAExC,OADCA,IAAOA,EAAKP,GACTQ,OACAP,EAAOQ,YAAYL,EAASC,EAAOC,EAAM,QAClCI,QAAQ,kBAAoBN,QAASA,EAASC,MAAOA,GAAS,SAASM,EAAKC,GAE/E,GAAIA,EAAED,IAAK,CACP,GAAIE,GAAM,GAAIC,MAAKC,SAAS,SAG5B,OAFAF,GAAIG,OAAQ,EACZH,EAAII,OACGT,MAAMI,EAAEM,SAASC,MAAMZ,GAElCC,MAAM,cAAcW,MAAMZ,GAC1BN,EAAOmB,UAAUhB,EAAS,OAG1B,KAAK,GAFDiB,IAAQhB,EACRiB,GAAS,GAAI,IAAK,IAAK,IAAK,IAAK,KAC5BC,EAAI,EAAO,EAAJA,EAAOA,IACfF,GAAQC,EAAMC,KACdF,EAAc,IAAPA,EAGU,IAArBf,EAAKkB,QAAQ,OACbH,EAAO,KAASf,EAAKmB,UAAU,EAAGnB,EAAKoB,OAAS,GACpD,IAAIb,GAAM,GAAIC,MAAKa,SAAS,SAAUN,EACtCR,GAAIG,OAAQ,EACZH,EAAII,cAGZV,MAEJL,OAAO0B,MAAQ,WACXC,QAAQC,IAAI,UAEhB5B,OAAO6B,eAAiB,SAASC,EAAQC,EAAQC,EAAcC,EAASC,GACpEP,QAAQC,IAAI,eAAgBO,aDc1BC;;;AAIA,SAASzC,EAAQC,EAASC,GAE/B,YEhFD,IAAIwC,GAAIxC,0BAAQ,GAChBF,GAAOC,QAAUyC,GFsFXC;;;AAIA,SAAS3C,EAAQC,EAASC,GAE/B,YAMA,SAAS0C,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAJhH,GAAIC,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUC,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAIC,cAAgBH,QAAUE,IAAQF,OAAOI,UAAY,eAAkBF,IAElQG,EAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAM5B,OAAQ6B,IAAK,CAAE,GAAIC,GAAaF,EAAMC,EAAIC,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeR,EAAQG,EAAWM,IAAKN,IAAiB,MAAO,UAAUb,EAAaoB,EAAYC,GAAiJ,MAA9HD,IAAYX,EAAiBT,EAAYO,UAAWa,GAAiBC,GAAaZ,EAAiBT,EAAaqB,GAAqBrB,KGjGjiBzC,QAAO+D,MAAQ/D,OAAO+D,UACtB/D,OAAO+D,MAAMC,QAAU,sDAAsDC,MAAM,KACnFjE,OAAO+D,MAAMG,QAAU,SAASC,GAC5B,MAAO,YACH,GAAIC,GAAIC,MAAMrB,UAAUsB,MAAMC,KAAKpC,UAGnC,OAFAiC,GAAEI,QAAQL,GACVnE,OAAO+D,MAAMU,KAAKL,GACXpE,OAAO+D,OAGtB,KAAK,GAAIV,GAAI,EAAGA,EAAIrD,OAAO+D,MAAMC,QAAQxC,OAAQ6B,IAAK,CAClD,GAAIO,GAAM5D,OAAO+D,MAAMC,QAAQX,EAC/BrD,QAAO+D,MAAMH,GAAO5D,OAAO+D,MAAMG,QAAQN,GAE7C5D,OAAO+D,MAAMW,KAAO,SAASP,EAAG9C,GAC5B,IAAKsD,SAASC,eAAe,YAAa,CACtC,GAAIR,GAAIO,SAASE,cAAc,UAC3BC,EAAU,GAAIC,MACdC,EAASF,EAAQG,cAAcC,WAAaJ,EAAQK,WAAWD,WAAaJ,EAAQM,UAAUF,UAClGd,GAAEiB,KAAO,kBACTjB,EAAEkB,GAAK,WACPlB,EAAEmB,OAAQ,EACVnB,EAAEoB,KAA4B,SAArBC,SAASC,SAAsB,yCAA2C,6CAA+CV,EAClIZ,EAAEuB,QAAU,WACR3F,OAAO+D,MAAM6B,SAAW5F,OAAO+D,MAAM8B,MAAQ,SAASC,EAAO1C,EAAO2C,GAC5DA,GAAyD,sBAA7CrC,OAAOV,UAAUkC,SAASX,KAAKwB,IAAmCA,KAG1F,IAAIC,GAAIrB,SAASsB,qBAAqB,UAAU,EAChDD,GAAEE,WAAWC,aAAa/B,EAAG4B,GAC7BhG,OAAO+D,MAAMqC,MAAMjC,EAAG9C,KAG9BrB,OAAO+D,MAAMW,KAAK,mCHyGjB,IGrGK2B,GHqGM,WGpGR,QAAAA,KAAc9D,EAAA+D,KAAAD,GACVC,KAAKC,YACLD,KAAKE,SAAU,EH8QlB,MApKAvD,GAAaoD,IACTzC,IAAK,OACL6C,MAAO,SG1GP7C,GACD0C,KAAKE,SAAU,KH8Gd5C,IAAK,SACL6C,MAAO,SG5GLC,GACH,MAAKJ,MAAKE,YAGVE,KAFWJ,KAAKC,SAAS9B,MAAOiC,EAAGA,OHiHlC9C,IAAK,SACL6C,MAAO,SG9GLE,GACHL,KAAKM,OAAO,WACR,GAAIC,GAAQ,CACZ,IAAM7G,OAAO8G,QAAS,CAElBD,EAAQE,OAAOC,aACY,UAApBC,cAAcC,KAAgBL,EAAQ,SACjD9C,OAAM6B,SAASe,EAAGrB,IACd6B,KAAMR,EAAGS,SAETC,OAAQJ,cAAcK,IAEtBC,MAAOZ,EAAGY,MACVC,WAAY,KACZC,YAAaZ,SHmHpBjD,IAAK,UACL6C,MAAO,WG/GRH,KAAKM,OAAO,WAAa7C,MAAM8B,MAAM,gBHqHpCjC,IAAK,UACL6C,MAAO,SGpHJiB,GACJpB,KAAKM,OAAO,WAAa7C,MAAM8B,MAAM,WAAa0B,MAAOG,SHyHxD9D,IAAK,SACL6C,MAAO,SGxHLiB,EAAGC,GACNrB,KAAKM,OAAO,WAAa7C,MAAM8B,MAAM,UAAY+B,MAAOF,EAAGC,OAAQA,SH6HlE/D,IAAK,cACL6C,MAAO,SG5HAvG,EAASC,EAAO0H,EAASzH,EAAM0H,GACjB,gBAAXD,KACPC,EAAU1H,EACVA,EAAOyH,EACPA,EAAUE,KAAKC,MAAM7H,EAAQ,IAEjCmG,KAAKM,OAAO,WACR7C,MAAM8B,MAAM,eACRoC,QAAS/H,EACTgI,MAAO9H,EACP+H,eAAgBhI,EAChBiI,aAAc,MACdC,sBAAuBR,EACvBS,YAAaR,SHiIpBlE,IAAK,YACL6C,MAAO,SG9HFvG,EAAS4H,GACfxB,KAAKM,OAAO,WACR7C,MAAM8B,MAAM,aACRoC,QAAS/H,EACToI,YAAaR,SHmIpBlE,IAAK,YACL6C,MAAO,SGhIF8B,GACNjC,KAAKM,OAAO,WACR7C,MAAM8B,MAAM,aAAe2C,MAAOD,SHoIrC3E,IAAK,YACL6C,MAAO,SGlIF8B,EAASpB,EAAMU,GACrBvB,KAAKM,OAAO,WACR7C,MAAM8B,MAAM,aAAe2C,MAAOD,EAASpB,KAAMA,IAC7CU,GAAS9D,MAAM8B,MAAM,WAAa4C,KAAMtB,EAAMuB,WAAY,EAAGC,uBAAwBd,SHsI5FjE,IAAK,UACL6C,MAAO,SGpIJ8B,GACJjC,KAAKM,OAAO,WACR7C,MAAM8B,MAAM,WAAa2C,MAAOD,SHwInC3E,IAAK,QACL6C,MAAO,WGrIRH,KAAKM,OAAO,WACR7C,MAAM8B,MAAM,SAAW+C,MAAQtD,GAAIqB,GAAGrB,GAAI8B,SAAUT,GAAGS,iBH0I1DxD,IAAK,SACL6C,MAAO,SGxIL8B,EAASM,GACZvC,KAAKM,OAAO,WACR7C,MAAM8B,MAAM,UAAY+C,MAAQtD,GAAIqB,GAAGrB,GAAI8B,SAAUT,GAAGS,UAAYoB,OAASlD,GAAIiD,EAASO,IAAKD,UH4IlGjF,IAAK,QACL6C,MAAO,SG1INU,EAAM4B,GACRzC,KAAKM,OAAO,WACR7C,MAAM8B,MAAMsB,EAAsB,WAAf,mBAAO4B,GAAP,YAAApG,EAAOoG,IAAmBA,GAASA,KAAMA,SHuJ/DnF,IAAK,0BACL6C,MAAO,SG7IYiB,EAAGsB,EAAGC,EAAQC,GAC9BD,EAASA,GAAU,KACnBC,EAASA,GAAU,KACnB5C,KAAKM,OAAO,WACR,GAAIuC,KACJA,GAAOF,GAAUvB,EACjByB,EAAOD,GAAUF,EACjBjF,MAAM8B,MAAM,UAAWsD,QHwJ9BvF,IAAK,UACL6C,MAAO,SGhJJU,EAAMO,EAAG0B,GACb9C,KAAKM,OAAO,WACR7C,MAAM8B,MAAM,WAAa4C,KAAMtB,EAAMuB,WAAYhB,EAAGiB,uBAAwBS,UHqJ5E/C,KGhJRtG,EAAS,GAAIsG,EACjBrG,QAAOqJ,SAAWtJ,EAAOuJ,QAAQC,KAAKxJ,GAEtCJ,EAAOC,QAAUG","file":"7.default.js?8e9331af179445b299c7","sourcesContent":["webpackJsonp([7],{\n\n/***/ 9:\n/*!**************************************************************************!*\\\n  !*** ./~/babel-loader/lib?{\"presets\":[\"es2015\"]}!./client/pf/default.js ***!\n  \\**************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar tongji = window.tongji = __webpack_require__(/*! ../tongji.js */ 43);\n\t// var wins = require('../windows.js');\n\t\n\tfunction _noop() {}\n\t// function getAjax(url, data, callback) {\n\t// \tif (typeof data ==='function') {\n\t// \t\tcallback =data;\n\t// \t\tdata=null;\n\t// \t}\n\t// \tif (!callback) callback=function(){};\n\t// \t$.ajax({\n\t// \t\ttype: \"POST\",\n\t// \t\turl: url,\n\t// \t\tdataType: \"JSON\",\n\t// \t\tdata: data,\n\t// \t\ttimeout:30000,\n\t// \t\tsuccess: function (chunk) {\n\t// \t\t\treturn callback(null, chunk);\n\t// \t\t},\n\t// \t\terror: function (e) {\n\t// \t\t\t//if (typeof console == \"object\") console.log(e);\n\t// \t\t\tcallback(e);\n\t// \t\t}\n\t// \t})\n\t// }\n\t\n\twindow.pay = function (orderid, money, desc, cb) {\n\t    !cb && (cb = _noop);\n\t    if (tipon) {\n\t        tongji.beginCharge(orderid, money, desc, '测试通道');\n\t        return getAjax('pf/default/pay', { orderid: orderid, money: money }, function (err, r) {\n\t\n\t            if (r.err) {\n\t                var tip = new wins.ClickWin('购买失败弹框');\n\t                tip.modal = true;\n\t                tip.show();;\n\t                return tipon(r.message).popup(cb);\n\t            };\n\t            tipon('测试版，直接完成充值').popup(cb);\n\t            tongji.endCharge(orderid, '测试通道');\n\t            var many = +money;\n\t            var tehui = [68, 128, 198, 328, 648, 1000];\n\t            for (var x = 0; x < 6; x++) {\n\t                if (many == tehui[x]) {\n\t                    many = many * 10000;\n\t                }\n\t            }\n\t            if (desc.indexOf('o') == 0) many = 10000 * +desc.substring(1, desc.length - 4);\n\t            var tip = new wins.OtherWin('购买成功弹框', many);\n\t            tip.modal = true;\n\t            tip.show();\n\t        });\n\t    }\n\t    cb();\n\t};\n\twindow.share = function () {\n\t    console.log('share');\n\t};\n\twindow.preShareResult = function (roomid, setnum, participants, winners, img) {\n\t    console.log('shareContent', arguments);\n\t};\n\n/***/ },\n\n/***/ 43:\n/*!**************************!*\\\n  !*** ./client/tongji.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar t = __webpack_require__(/*! ./tongji_zhuge.js */ 74);\n\tmodule.exports = t;\n\n/***/ },\n\n/***/ 74:\n/*!********************************!*\\\n  !*** ./client/tongji_zhuge.js ***!\n  \\********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\twindow.zhuge = window.zhuge || [];\n\twindow.zhuge.methods = \"_init debug identify track trackLink trackForm page\".split(\" \");\n\twindow.zhuge.factory = function (b) {\n\t    return function () {\n\t        var a = Array.prototype.slice.call(arguments);\n\t        a.unshift(b);\n\t        window.zhuge.push(a);\n\t        return window.zhuge;\n\t    };\n\t};\n\tfor (var i = 0; i < window.zhuge.methods.length; i++) {\n\t    var key = window.zhuge.methods[i];\n\t    window.zhuge[key] = window.zhuge.factory(key);\n\t}\n\twindow.zhuge.load = function (b, x) {\n\t    if (!document.getElementById(\"zhuge-js\")) {\n\t        var a = document.createElement(\"script\");\n\t        var verDate = new Date();\n\t        var verStr = verDate.getFullYear().toString() + verDate.getMonth().toString() + verDate.getDate().toString();\n\t        a.type = \"text/javascript\";\n\t        a.id = \"zhuge-js\";\n\t        a.async = !0;\n\t        a.src = (location.protocol == 'http:' ? \"http://sdk.zhugeio.com/zhuge.min.js?v=\" : 'https://zgsdk.zhugeio.com/zhuge.min.js?v=') + verStr;\n\t        a.onerror = function () {\n\t            window.zhuge.identify = window.zhuge.track = function (ename, props, callback) {\n\t                if (callback && Object.prototype.toString.call(callback) === '[object Function]') callback();\n\t            };\n\t        };\n\t        var c = document.getElementsByTagName(\"script\")[0];\n\t        c.parentNode.insertBefore(a, c);\n\t        window.zhuge._init(b, x);\n\t    }\n\t};\n\twindow.zhuge.load('a6294c4a959947719afd7248e98fe072'); //配置应用的AppKey\n\t\n\tfunction noop() {}\n\t\n\tvar Stat = function () {\n\t    function Stat() {\n\t        _classCallCheck(this, Stat);\n\t\n\t        this._delayOp = [];\n\t        this._inited = true;\n\t    }\n\t\n\t    _createClass(Stat, [{\n\t        key: \"init\",\n\t        value: function init(key) {\n\t            this._inited = true;\n\t            return;\n\t        }\n\t    }, {\n\t        key: \"_delay\",\n\t        value: function _delay(f) {\n\t            if (!this._inited) {\n\t                return this._delayOp.push({ f: f });\n\t            }\n\t            f();\n\t        }\n\t    }, {\n\t        key: \"userin\",\n\t        value: function userin(me) {\n\t            this._delay(function () {\n\t                var qudao = 0;\n\t                if (!!window.cordova) {\n\t                    var o = { \"Android\": 1, \"BlackBerry 10\": 2, \"browser\": 3, \"iOS\": 4, \"WinCE\": 5, \"Tizen\": 6, \"Mac OS X\": 7 };\n\t                    qudao = device.platform;\n\t                } else if (startup_param.pf == 'wechat') qudao = 'wechat';\n\t                zhuge.identify(me.id, {\n\t                    name: me.nickname,\n\t                    //预定义属性\n\t                    gender: startup_param.sex,\n\t                    //预定义属性\n\t                    level: me.level,\n\t                    gameServer: '通用',\n\t                    accountType: qudao\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"userout\",\n\t        value: function userout() {\n\t            this._delay(function () {\n\t                zhuge.track('userout');\n\t            });\n\t        }\n\t    }, {\n\t        key: \"levelup\",\n\t        value: function levelup(n) {\n\t            this._delay(function () {\n\t                zhuge.track('levelup', { level: n });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"reward\",\n\t        value: function reward(n, reason) {\n\t            this._delay(function () {\n\t                zhuge.track('reward', { count: n, reason: reason });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"beginCharge\",\n\t        value: function beginCharge(orderid, money, tickets, desc, payment) {\n\t            if (typeof tickets == 'string') {\n\t                payment = desc;\n\t                desc = tickets;\n\t                tickets = Math.floor(money / 3);\n\t            }\n\t            this._delay(function () {\n\t                zhuge.track('beginCharge', {\n\t                    orderId: orderid,\n\t                    iapId: desc,\n\t                    currencyAmount: money,\n\t                    currencyType: 'CNY',\n\t                    virtualCurrencyAmount: tickets,\n\t                    paymentType: payment\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"endCharge\",\n\t        value: function endCharge(orderid, payment) {\n\t            this._delay(function () {\n\t                zhuge.track('endCharge', {\n\t                    orderId: orderid,\n\t                    paymentType: payment\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"enterGame\",\n\t        value: function enterGame(tableid) {\n\t            this._delay(function () {\n\t                zhuge.track('enterGame', { table: tableid });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"startGame\",\n\t        value: function startGame(tableid, name, tickets) {\n\t            this._delay(function () {\n\t                zhuge.track('startgame', { table: tableid, name: name });\n\t                if (tickets) zhuge.track('consume', { item: name, itemNumber: 1, priceInVirtualCurrency: tickets });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"endGame\",\n\t        value: function endGame(tableid) {\n\t            this._delay(function () {\n\t                zhuge.track('endGame', { table: tableid });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"share\",\n\t        value: function share() {\n\t            this._delay(function () {\n\t                zhuge.track('share', { user: { id: me.id, nickname: me.nickname } });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"invite\",\n\t        value: function invite(tableid, tabledesc) {\n\t            this._delay(function () {\n\t                zhuge.track('invite', { user: { id: me.id, nickname: me.nickname }, table: { id: tableid, msg: tabledesc } });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"event\",\n\t        value: function event(name, data) {\n\t            this._delay(function () {\n\t                zhuge.track(name, (typeof data === \"undefined\" ? \"undefined\" : _typeof(data)) == 'object' ? data : { data: data });\n\t            });\n\t        }\n\t\n\t        /**\n\t         * \n\t         * @param {number} n , 换多少币\n\t         * @param {number} m ，上级币的数量\n\t         * @param {string|null} n_name, 本级货币名称，默认金币\n\t         * @param {string|null} m_name, 上级货币名称，默认钻石\n\t         */\n\t\n\t    }, {\n\t        key: \"changeToVirtualCurrency\",\n\t        value: function changeToVirtualCurrency(n, m, n_name, m_name) {\n\t            n_name = n_name || '金币';\n\t            m_name = m_name || '钻石';\n\t            this._delay(function () {\n\t                var detail = {};\n\t                detail[n_name] = n;\n\t                detail[m_name] = m;\n\t                zhuge.track('buyCoin', detail);\n\t            });\n\t        }\n\t        /**\n\t         * 消耗虚拟币，如果有3个参数，那么是消耗n*price的币，\n\t         * @param {string} name \n\t         * @param {number} n \n\t         * @param {number|null} price \n\t         */\n\t\n\t    }, {\n\t        key: \"consume\",\n\t        value: function consume(name, n, price) {\n\t            this._delay(function () {\n\t                zhuge.track('consume', { item: name, itemNumber: n, priceInVirtualCurrency: price });\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Stat;\n\t}();\n\t\n\tvar tongji = new Stat();\n\twindow.onunload = tongji.userout.bind(tongji);\n\t\n\tmodule.exports = tongji;\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 7.default.js?8e9331af179445b299c7\n **/","var tongji = window.tongji = require('../tongji.js');\r\n// var wins = require('../windows.js');\r\n\r\nfunction _noop() {}\r\n// function getAjax(url, data, callback) {\r\n// \tif (typeof data ==='function') {\r\n// \t\tcallback =data;\r\n// \t\tdata=null;\r\n// \t}\r\n// \tif (!callback) callback=function(){};\r\n// \t$.ajax({\r\n// \t\ttype: \"POST\",\r\n// \t\turl: url,\r\n// \t\tdataType: \"JSON\",\r\n// \t\tdata: data,\r\n// \t\ttimeout:30000,\r\n// \t\tsuccess: function (chunk) {\r\n// \t\t\treturn callback(null, chunk);\r\n// \t\t},\r\n// \t\terror: function (e) {\r\n// \t\t\t//if (typeof console == \"object\") console.log(e);\r\n// \t\t\tcallback(e);\r\n// \t\t}\r\n// \t})\r\n// }\r\n\r\nwindow.pay = function(orderid, money, desc, cb) {\r\n    !cb && (cb = _noop);\r\n    if (tipon) {\r\n        tongji.beginCharge(orderid, money, desc, '测试通道');\r\n        return getAjax('pf/default/pay', { orderid: orderid, money: money }, function(err, r) {\r\n\r\n            if (r.err) {\r\n                var tip = new wins.ClickWin('购买失败弹框');\r\n                tip.modal = true;\r\n                tip.show();;\r\n                return tipon(r.message).popup(cb);\r\n            };\r\n            tipon('测试版，直接完成充值').popup(cb);\r\n            tongji.endCharge(orderid, '测试通道');\r\n            var many = +money;\r\n            var tehui = [68, 128, 198, 328, 648, 1000]\r\n            for (var x = 0; x < 6; x++) {\r\n                if (many == tehui[x]) {\r\n                    many = many * 10000;\r\n                }\r\n            }\r\n            if (desc.indexOf('o') == 0)\r\n                many = 10000 * +desc.substring(1, desc.length - 4);\r\n            var tip = new wins.OtherWin('购买成功弹框', many);\r\n            tip.modal = true;\r\n            tip.show();\r\n        })\r\n    }\r\n    cb();\r\n}\r\nwindow.share = function() {\r\n    console.log('share');\r\n}\r\nwindow.preShareResult = function(roomid, setnum, participants, winners, img) {\r\n    console.log('shareContent', arguments);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./client/pf/default.js\n **/","var t = require('./tongji_zhuge.js');\nmodule.exports = t;\n\n\n/** WEBPACK FOOTER **\n ** ./client/tongji.js\n **/","window.zhuge = window.zhuge || [];\nwindow.zhuge.methods = \"_init debug identify track trackLink trackForm page\".split(\" \");\nwindow.zhuge.factory = function(b) {\n    return function() {\n        var a = Array.prototype.slice.call(arguments);\n        a.unshift(b);\n        window.zhuge.push(a);\n        return window.zhuge;\n    }\n};\nfor (var i = 0; i < window.zhuge.methods.length; i++) {\n    var key = window.zhuge.methods[i];\n    window.zhuge[key] = window.zhuge.factory(key);\n}\nwindow.zhuge.load = function(b, x) {\n    if (!document.getElementById(\"zhuge-js\")) {\n        var a = document.createElement(\"script\");\n        var verDate = new Date();\n        var verStr = verDate.getFullYear().toString() + verDate.getMonth().toString() + verDate.getDate().toString();\n        a.type = \"text/javascript\";\n        a.id = \"zhuge-js\";\n        a.async = !0;\n        a.src = (location.protocol == 'http:' ? \"http://sdk.zhugeio.com/zhuge.min.js?v=\" : 'https://zgsdk.zhugeio.com/zhuge.min.js?v=') + verStr;\n        a.onerror = function() {\n            window.zhuge.identify = window.zhuge.track = function(ename, props, callback) {\n                if (callback && Object.prototype.toString.call(callback) === '[object Function]') callback();\n            };\n        };\n        var c = document.getElementsByTagName(\"script\")[0];\n        c.parentNode.insertBefore(a, c);\n        window.zhuge._init(b, x)\n    }\n};\nwindow.zhuge.load('a6294c4a959947719afd7248e98fe072'); //配置应用的AppKey\n\nfunction noop() {}\n\nclass Stat {\n    constructor() {\n        this._delayOp = [];\n        this._inited = true;\n    }\n    init(key) {\n        this._inited = true;\n        return;\n    }\n    _delay(f) {\n        if (!this._inited) {\n            return this._delayOp.push({ f: f });\n        }\n        f();\n    }\n    userin(me) {\n        this._delay(function() {\n            var qudao = 0;\n            if (!!window.cordova) {\n                var o = { \"Android\": 1, \"BlackBerry 10\": 2, \"browser\": 3, \"iOS\": 4, \"WinCE\": 5, \"Tizen\": 6, \"Mac OS X\": 7 };\n                qudao = device.platform;\n            } else if (startup_param.pf == 'wechat') qudao = 'wechat';\n            zhuge.identify(me.id, {\n                name: me.nickname,\n                //预定义属性\n                gender: startup_param.sex,\n                //预定义属性\n                level: me.level,\n                gameServer: '通用',\n                accountType: qudao,\n            });\n        });\n    }\n    userout() {\n        this._delay(function() { zhuge.track('userout') });\n    }\n    levelup(n) {\n        this._delay(function() { zhuge.track('levelup', { level: n }) });\n    }\n    reward(n, reason) {\n        this._delay(function() { zhuge.track('reward', { count: n, reason: reason }) });\n    }\n    beginCharge(orderid, money, tickets, desc, payment) {\n        if (typeof tickets == 'string') {\n            payment = desc;\n            desc = tickets;\n            tickets = Math.floor(money / 3);\n        }\n        this._delay(function() {\n            zhuge.track('beginCharge', {\n                orderId: orderid,\n                iapId: desc,\n                currencyAmount: money,\n                currencyType: 'CNY',\n                virtualCurrencyAmount: tickets,\n                paymentType: payment\n            });\n        });\n    }\n    endCharge(orderid, payment) {\n        this._delay(function() {\n            zhuge.track('endCharge', {\n                orderId: orderid,\n                paymentType: payment\n            });\n        });\n    }\n    enterGame(tableid) {\n        this._delay(function() {\n            zhuge.track('enterGame', { table: tableid });\n        });\n    }\n    startGame(tableid, name, tickets) {\n        this._delay(function() {\n            zhuge.track('startgame', { table: tableid, name: name });\n            if (tickets) zhuge.track('consume', { item: name, itemNumber: 1, priceInVirtualCurrency: tickets });\n        });\n    }\n    endGame(tableid) {\n        this._delay(function() {\n            zhuge.track('endGame', { table: tableid });\n        });\n    }\n    share() {\n        this._delay(function() {\n            zhuge.track('share', { user: { id: me.id, nickname: me.nickname } });\n        });\n    }\n    invite(tableid, tabledesc) {\n        this._delay(function() {\n            zhuge.track('invite', { user: { id: me.id, nickname: me.nickname }, table: { id: tableid, msg: tabledesc } });\n        });\n    }\n    event(name, data) {\n        this._delay(function() {\n            zhuge.track(name, (typeof data == 'object' ? data : { data: data }));\n        });\n    }\n\n    /**\n     * \n     * @param {number} n , 换多少币\n     * @param {number} m ，上级币的数量\n     * @param {string|null} n_name, 本级货币名称，默认金币\n     * @param {string|null} m_name, 上级货币名称，默认钻石\n     */\n    changeToVirtualCurrency(n, m, n_name, m_name) {\n            n_name = n_name || '金币';\n            m_name = m_name || '钻石';\n            this._delay(function() {\n                var detail = {};\n                detail[n_name] = n;\n                detail[m_name] = m;\n                zhuge.track('buyCoin', detail);\n            });\n        }\n        /**\n         * 消耗虚拟币，如果有3个参数，那么是消耗n*price的币，\n         * @param {string} name \n         * @param {number} n \n         * @param {number|null} price \n         */\n    consume(name, n, price) {\n        this._delay(function() {\n            zhuge.track('consume', { item: name, itemNumber: n, priceInVirtualCurrency: price })\n        });\n    }\n}\n\nvar tongji = new Stat();\nwindow.onunload = tongji.userout.bind(tongji);\n\nmodule.exports = tongji;\n\n\n/** WEBPACK FOOTER **\n ** ./client/tongji_zhuge.js\n **/"],"sourceRoot":""}