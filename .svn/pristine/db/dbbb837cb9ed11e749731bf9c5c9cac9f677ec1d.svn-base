{"version":3,"sources":["webpack:///8.inapp.js","webpack:///./client/pf/inapp.js","webpack:///./client/tongji.js?b2f6**","webpack:///./client/tongji_zhuge.js?7b0d**"],"names":["webpackJsonp",11,"module","exports","__webpack_require__","_noop","tongji","window","pay","orderid","money","desc","cb","tipon","beginCharge","getAjax","err","r","responseText","popup","endCharge","share","console","log","preShareResult","roomid","setnum","participants","winners","img","arguments",43,"t",74,"_classCallCheck","instance","Constructor","TypeError","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","zhuge","methods","split","factory","b","a","Array","slice","call","unshift","push","load","x","document","getElementById","createElement","verDate","Date","verStr","getFullYear","toString","getMonth","getDate","type","id","async","src","location","protocol","onerror","identify","track","ename","callback","c","getElementsByTagName","parentNode","insertBefore","_init","Stat","this","_delayOp","_inited","value","f","me","_delay","qudao","cordova","device","platform","startup_param","pf","name","nickname","gender","sex","level","gameServer","accountType","n","reason","count","tickets","payment","Math","floor","orderId","iapId","currencyAmount","currencyType","virtualCurrencyAmount","paymentType","tableid","table","item","itemNumber","priceInVirtualCurrency","user","tabledesc","msg","data","m","n_name","m_name","detail","price","onunload","userout","bind"],"mappings":"AAAAA,cAAc,IAERC;;;AAIA,SAASC,EAAQC,EAASC,GAE/B,YCND,SAASC,MAFT,GAAIC,GAAOC,OAAOD,OAAOF,qBAAQ,GAIjCG,QAAOC,IAAI,SAASC,EAASC,EAAOC,EAAMC,GAEzC,OADCA,IAAOA,EAAGP,GACPQ,OACHP,EAAOQ,YAAYL,EAASC,EAAOC,EAAM,QAClCI,QAAQ,kBAAmBN,QAAQA,EAASC,MAAMA,GAAQ,SAASM,EAAKC,GAC9E,MAAID,GAAYH,MAAMG,EAAIE,cAAcC,MAAMP,IAC9CC,MAAM,cAAcM,MAAMP,OAC1BN,GAAOc,UAAUX,EAAS,gBAG5BG,MAEDL,OAAOc,MAAM,WACZC,QAAQC,IAAI,UAEbhB,OAAOiB,eAAe,SAASC,EAAQC,EAAQC,EAAcC,EAASC,GACrEP,QAAQC,IAAI,eAAgBO,aDevBC;;;AAIA,SAAS7B,EAAQC,EAASC,GAE/B,YEzCD,IAAI4B,GAAI5B,0BAAQ,GAChBF,GAAOC,QAAU6B,GF+CXC;;;AAIA,SAAS/B,EAAQC,EAASC,GAE/B,YAMA,SAAS8B,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAJhH,GAAIC,GAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUC,GAAO,aAAcA,IAAS,SAAUA,GAAO,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAIC,cAAgBH,QAAUE,IAAQF,OAAOI,UAAY,eAAkBF,IAElQG,EAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,GAAIE,GAAaH,EAAMC,EAAIE,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAAiB,MAAO,UAAUd,EAAaqB,EAAYC,GAAiJ,MAA9HD,IAAYZ,EAAiBT,EAAYO,UAAWc,GAAiBC,GAAab,EAAiBT,EAAasB,GAAqBtB,KG1DjiB7B,QAAOoD,MAAQpD,OAAOoD,UACtBpD,OAAOoD,MAAMC,QAAU,sDAAsDC,MAAM,KACnFtD,OAAOoD,MAAMG,QAAU,SAASC,GAC5B,MAAO,YACH,GAAIC,GAAIC,MAAMtB,UAAUuB,MAAMC,KAAKrC,UAGnC,OAFAkC,GAAEI,QAAQL,GACVxD,OAAOoD,MAAMU,KAAKL,GACXzD,OAAOoD,OAGtB,KAAK,GAAIX,GAAI,EAAGA,EAAIzC,OAAOoD,MAAMC,QAAQX,OAAQD,IAAK,CAClD,GAAIQ,GAAMjD,OAAOoD,MAAMC,QAAQZ,EAC/BzC,QAAOoD,MAAMH,GAAOjD,OAAOoD,MAAMG,QAAQN,GAE7CjD,OAAOoD,MAAMW,KAAO,SAASP,EAAGQ,GAC5B,IAAKC,SAASC,eAAe,YAAa,CACtC,GAAIT,GAAIQ,SAASE,cAAc,UAC3BC,EAAU,GAAIC,MACdC,EAASF,EAAQG,cAAcC,WAAaJ,EAAQK,WAAWD,WAAaJ,EAAQM,UAAUF,UAClGf,GAAEkB,KAAO,kBACTlB,EAAEmB,GAAK,WACPnB,EAAEoB,OAAQ,EACVpB,EAAEqB,KAA4B,SAArBC,SAASC,SAAsB,yCAA2C,6CAA+CV,EAClIb,EAAEwB,QAAU,WACRjF,OAAOoD,MAAM8B,SAAWlF,OAAOoD,MAAM+B,MAAQ,SAASC,EAAO5C,EAAO6C,GAC5DA,GAAyD,sBAA7CtC,OAAOX,UAAUoC,SAASZ,KAAKyB,IAAmCA,KAG1F,IAAIC,GAAIrB,SAASsB,qBAAqB,UAAU,EAChDD,GAAEE,WAAWC,aAAahC,EAAG6B,GAC7BtF,OAAOoD,MAAMsC,MAAMlC,EAAGQ,KAG9BhE,OAAOoD,MAAMW,KAAK,mCHkEjB,IG9DK4B,GH8DM,WG7DR,QAAAA,KAAchE,EAAAiE,KAAAD,GACVC,KAAKC,YACLD,KAAKE,SAAU,EHuOlB,MApKAzD,GAAasD,IACT1C,IAAK,OACL8C,MAAO,SGnEP9C,GACD2C,KAAKE,SAAU,KHuEd7C,IAAK,SACL8C,MAAO,SGrELC,GACH,MAAKJ,MAAKE,YAGVE,KAFWJ,KAAKC,SAAS/B,MAAOkC,EAAGA,OH0ElC/C,IAAK,SACL8C,MAAO,SGvELE,GACHL,KAAKM,OAAO,WACR,GAAIC,GAAQ,CACZ,IAAMnG,OAAOoG,QAAS,CAElBD,EAAQE,OAAOC,aACY,UAApBC,cAAcC,KAAgBL,EAAQ,SACjD/C,OAAM8B,SAASe,EAAGrB,IACd6B,KAAMR,EAAGS,SAETC,OAAQJ,cAAcK,IAEtBC,MAAOZ,EAAGY,MACVC,WAAY,KACZC,YAAaZ,SH4EpBlD,IAAK,UACL8C,MAAO,WGxERH,KAAKM,OAAO,WAAa9C,MAAM+B,MAAM,gBH8EpClC,IAAK,UACL8C,MAAO,SG7EJiB,GACJpB,KAAKM,OAAO,WAAa9C,MAAM+B,MAAM,WAAa0B,MAAOG,SHkFxD/D,IAAK,SACL8C,MAAO,SGjFLiB,EAAGC,GACNrB,KAAKM,OAAO,WAAa9C,MAAM+B,MAAM,UAAY+B,MAAOF,EAAGC,OAAQA,SHsFlEhE,IAAK,cACL8C,MAAO,SGrFA7F,EAASC,EAAOgH,EAAS/G,EAAMgH,GACjB,gBAAXD,KACPC,EAAUhH,EACVA,EAAO+G,EACPA,EAAUE,KAAKC,MAAMnH,EAAQ,IAEjCyF,KAAKM,OAAO,WACR9C,MAAM+B,MAAM,eACRoC,QAASrH,EACTsH,MAAOpH,EACPqH,eAAgBtH,EAChBuH,aAAc,MACdC,sBAAuBR,EACvBS,YAAaR,SH0FpBnE,IAAK,YACL8C,MAAO,SGvFF7F,EAASkH,GACfxB,KAAKM,OAAO,WACR9C,MAAM+B,MAAM,aACRoC,QAASrH,EACT0H,YAAaR,SH4FpBnE,IAAK,YACL8C,MAAO,SGzFF8B,GACNjC,KAAKM,OAAO,WACR9C,MAAM+B,MAAM,aAAe2C,MAAOD,SH6FrC5E,IAAK,YACL8C,MAAO,SG3FF8B,EAASpB,EAAMU,GACrBvB,KAAKM,OAAO,WACR9C,MAAM+B,MAAM,aAAe2C,MAAOD,EAASpB,KAAMA,IAC7CU,GAAS/D,MAAM+B,MAAM,WAAa4C,KAAMtB,EAAMuB,WAAY,EAAGC,uBAAwBd,SH+F5FlE,IAAK,UACL8C,MAAO,SG7FJ8B,GACJjC,KAAKM,OAAO,WACR9C,MAAM+B,MAAM,WAAa2C,MAAOD,SHiGnC5E,IAAK,QACL8C,MAAO,WG9FRH,KAAKM,OAAO,WACR9C,MAAM+B,MAAM,SAAW+C,MAAQtD,GAAIqB,GAAGrB,GAAI8B,SAAUT,GAAGS,iBHmG1DzD,IAAK,SACL8C,MAAO,SGjGL8B,EAASM,GACZvC,KAAKM,OAAO,WACR9C,MAAM+B,MAAM,UAAY+C,MAAQtD,GAAIqB,GAAGrB,GAAI8B,SAAUT,GAAGS,UAAYoB,OAASlD,GAAIiD,EAASO,IAAKD,UHqGlGlF,IAAK,QACL8C,MAAO,SGnGNU,EAAM4B,GACRzC,KAAKM,OAAO,WACR9C,MAAM+B,MAAMsB,EAAsB,WAAf,mBAAO4B,GAAP,YAAAtG,EAAOsG,IAAmBA,GAASA,KAAMA,SHgH/DpF,IAAK,0BACL8C,MAAO,SGtGYiB,EAAGsB,EAAGC,EAAQC,GAC9BD,EAASA,GAAU,KACnBC,EAASA,GAAU,KACnB5C,KAAKM,OAAO,WACR,GAAIuC,KACJA,GAAOF,GAAUvB,EACjByB,EAAOD,GAAUF,EACjBlF,MAAM+B,MAAM,UAAWsD,QHiH9BxF,IAAK,UACL8C,MAAO,SGzGJU,EAAMO,EAAG0B,GACb9C,KAAKM,OAAO,WACR9C,MAAM+B,MAAM,WAAa4C,KAAMtB,EAAMuB,WAAYhB,EAAGiB,uBAAwBS,UH8G5E/C,KGzGR5F,EAAS,GAAI4F,EACjB3F,QAAO2I,SAAW5I,EAAO6I,QAAQC,KAAK9I,GAEtCJ,EAAOC,QAAUG","file":"8.inapp.js?6e6c272051ae4e80e1c4","sourcesContent":["webpackJsonp([8],{\n\n/***/ 11:\n/*!************************************************************************!*\\\n  !*** ./~/babel-loader/lib?{\"presets\":[\"es2015\"]}!./client/pf/inapp.js ***!\n  \\************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar tongji = window.tongji = __webpack_require__(/*! ../tongji.js */ 43);\n\t\n\tfunction _noop() {}\n\t\n\twindow.pay = function (orderid, money, desc, cb) {\n\t\t!cb && (cb = _noop);\n\t\tif (tipon) {\n\t\t\ttongji.beginCharge(orderid, money, desc, '测试通道');\n\t\t\treturn getAjax('pf/default/pay', { orderid: orderid, money: money }, function (err, r) {\n\t\t\t\tif (err) return tipon(err.responseText).popup(cb);\n\t\t\t\ttipon('测试版，直接完成充值').popup(cb);\n\t\t\t\ttongji.endCharge(orderid, '测试通道');\n\t\t\t});\n\t\t}\n\t\tcb();\n\t};\n\twindow.share = function () {\n\t\tconsole.log('share');\n\t};\n\twindow.preShareResult = function (roomid, setnum, participants, winners, img) {\n\t\tconsole.log('shareContent', arguments);\n\t};\n\n/***/ },\n\n/***/ 43:\n/*!**************************!*\\\n  !*** ./client/tongji.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar t = __webpack_require__(/*! ./tongji_zhuge.js */ 74);\n\tmodule.exports = t;\n\n/***/ },\n\n/***/ 74:\n/*!********************************!*\\\n  !*** ./client/tongji_zhuge.js ***!\n  \\********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\twindow.zhuge = window.zhuge || [];\n\twindow.zhuge.methods = \"_init debug identify track trackLink trackForm page\".split(\" \");\n\twindow.zhuge.factory = function (b) {\n\t    return function () {\n\t        var a = Array.prototype.slice.call(arguments);\n\t        a.unshift(b);\n\t        window.zhuge.push(a);\n\t        return window.zhuge;\n\t    };\n\t};\n\tfor (var i = 0; i < window.zhuge.methods.length; i++) {\n\t    var key = window.zhuge.methods[i];\n\t    window.zhuge[key] = window.zhuge.factory(key);\n\t}\n\twindow.zhuge.load = function (b, x) {\n\t    if (!document.getElementById(\"zhuge-js\")) {\n\t        var a = document.createElement(\"script\");\n\t        var verDate = new Date();\n\t        var verStr = verDate.getFullYear().toString() + verDate.getMonth().toString() + verDate.getDate().toString();\n\t        a.type = \"text/javascript\";\n\t        a.id = \"zhuge-js\";\n\t        a.async = !0;\n\t        a.src = (location.protocol == 'http:' ? \"http://sdk.zhugeio.com/zhuge.min.js?v=\" : 'https://zgsdk.zhugeio.com/zhuge.min.js?v=') + verStr;\n\t        a.onerror = function () {\n\t            window.zhuge.identify = window.zhuge.track = function (ename, props, callback) {\n\t                if (callback && Object.prototype.toString.call(callback) === '[object Function]') callback();\n\t            };\n\t        };\n\t        var c = document.getElementsByTagName(\"script\")[0];\n\t        c.parentNode.insertBefore(a, c);\n\t        window.zhuge._init(b, x);\n\t    }\n\t};\n\twindow.zhuge.load('a6294c4a959947719afd7248e98fe072'); //配置应用的AppKey\n\t\n\tfunction noop() {}\n\t\n\tvar Stat = function () {\n\t    function Stat() {\n\t        _classCallCheck(this, Stat);\n\t\n\t        this._delayOp = [];\n\t        this._inited = true;\n\t    }\n\t\n\t    _createClass(Stat, [{\n\t        key: \"init\",\n\t        value: function init(key) {\n\t            this._inited = true;\n\t            return;\n\t        }\n\t    }, {\n\t        key: \"_delay\",\n\t        value: function _delay(f) {\n\t            if (!this._inited) {\n\t                return this._delayOp.push({ f: f });\n\t            }\n\t            f();\n\t        }\n\t    }, {\n\t        key: \"userin\",\n\t        value: function userin(me) {\n\t            this._delay(function () {\n\t                var qudao = 0;\n\t                if (!!window.cordova) {\n\t                    var o = { \"Android\": 1, \"BlackBerry 10\": 2, \"browser\": 3, \"iOS\": 4, \"WinCE\": 5, \"Tizen\": 6, \"Mac OS X\": 7 };\n\t                    qudao = device.platform;\n\t                } else if (startup_param.pf == 'wechat') qudao = 'wechat';\n\t                zhuge.identify(me.id, {\n\t                    name: me.nickname,\n\t                    //预定义属性\n\t                    gender: startup_param.sex,\n\t                    //预定义属性\n\t                    level: me.level,\n\t                    gameServer: '通用',\n\t                    accountType: qudao\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"userout\",\n\t        value: function userout() {\n\t            this._delay(function () {\n\t                zhuge.track('userout');\n\t            });\n\t        }\n\t    }, {\n\t        key: \"levelup\",\n\t        value: function levelup(n) {\n\t            this._delay(function () {\n\t                zhuge.track('levelup', { level: n });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"reward\",\n\t        value: function reward(n, reason) {\n\t            this._delay(function () {\n\t                zhuge.track('reward', { count: n, reason: reason });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"beginCharge\",\n\t        value: function beginCharge(orderid, money, tickets, desc, payment) {\n\t            if (typeof tickets == 'string') {\n\t                payment = desc;\n\t                desc = tickets;\n\t                tickets = Math.floor(money / 3);\n\t            }\n\t            this._delay(function () {\n\t                zhuge.track('beginCharge', {\n\t                    orderId: orderid,\n\t                    iapId: desc,\n\t                    currencyAmount: money,\n\t                    currencyType: 'CNY',\n\t                    virtualCurrencyAmount: tickets,\n\t                    paymentType: payment\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"endCharge\",\n\t        value: function endCharge(orderid, payment) {\n\t            this._delay(function () {\n\t                zhuge.track('endCharge', {\n\t                    orderId: orderid,\n\t                    paymentType: payment\n\t                });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"enterGame\",\n\t        value: function enterGame(tableid) {\n\t            this._delay(function () {\n\t                zhuge.track('enterGame', { table: tableid });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"startGame\",\n\t        value: function startGame(tableid, name, tickets) {\n\t            this._delay(function () {\n\t                zhuge.track('startgame', { table: tableid, name: name });\n\t                if (tickets) zhuge.track('consume', { item: name, itemNumber: 1, priceInVirtualCurrency: tickets });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"endGame\",\n\t        value: function endGame(tableid) {\n\t            this._delay(function () {\n\t                zhuge.track('endGame', { table: tableid });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"share\",\n\t        value: function share() {\n\t            this._delay(function () {\n\t                zhuge.track('share', { user: { id: me.id, nickname: me.nickname } });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"invite\",\n\t        value: function invite(tableid, tabledesc) {\n\t            this._delay(function () {\n\t                zhuge.track('invite', { user: { id: me.id, nickname: me.nickname }, table: { id: tableid, msg: tabledesc } });\n\t            });\n\t        }\n\t    }, {\n\t        key: \"event\",\n\t        value: function event(name, data) {\n\t            this._delay(function () {\n\t                zhuge.track(name, (typeof data === \"undefined\" ? \"undefined\" : _typeof(data)) == 'object' ? data : { data: data });\n\t            });\n\t        }\n\t\n\t        /**\n\t         * \n\t         * @param {number} n , 换多少币\n\t         * @param {number} m ，上级币的数量\n\t         * @param {string|null} n_name, 本级货币名称，默认金币\n\t         * @param {string|null} m_name, 上级货币名称，默认钻石\n\t         */\n\t\n\t    }, {\n\t        key: \"changeToVirtualCurrency\",\n\t        value: function changeToVirtualCurrency(n, m, n_name, m_name) {\n\t            n_name = n_name || '金币';\n\t            m_name = m_name || '钻石';\n\t            this._delay(function () {\n\t                var detail = {};\n\t                detail[n_name] = n;\n\t                detail[m_name] = m;\n\t                zhuge.track('buyCoin', detail);\n\t            });\n\t        }\n\t        /**\n\t         * 消耗虚拟币，如果有3个参数，那么是消耗n*price的币，\n\t         * @param {string} name \n\t         * @param {number} n \n\t         * @param {number|null} price \n\t         */\n\t\n\t    }, {\n\t        key: \"consume\",\n\t        value: function consume(name, n, price) {\n\t            this._delay(function () {\n\t                zhuge.track('consume', { item: name, itemNumber: n, priceInVirtualCurrency: price });\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Stat;\n\t}();\n\t\n\tvar tongji = new Stat();\n\twindow.onunload = tongji.userout.bind(tongji);\n\t\n\tmodule.exports = tongji;\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** 8.inapp.js?6e6c272051ae4e80e1c4\n **/","var tongji=window.tongji=require('../tongji.js');\n\nfunction _noop() {}\n\nwindow.pay=function(orderid, money, desc, cb) {\n\t!cb && (cb=_noop);\n\tif (tipon) {\n\t\ttongji.beginCharge(orderid, money, desc, '测试通道');\n\t\treturn getAjax('pf/default/pay', {orderid:orderid, money:money}, function(err, r) {\n\t\t\tif (err) return tipon(err.responseText).popup(cb);\n\t\t\ttipon('测试版，直接完成充值').popup(cb);\n\t\t\ttongji.endCharge(orderid, '测试通道');\n\t\t})\n\t}\n\tcb();\n}\nwindow.share=function() {\n\tconsole.log('share');\n}\nwindow.preShareResult=function(roomid, setnum, participants, winners, img) {\n\tconsole.log('shareContent', arguments);\n}\n\n\n/** WEBPACK FOOTER **\n ** ./client/pf/inapp.js\n **/","var t = require('./tongji_zhuge.js');\nmodule.exports = t;\n\n\n/** WEBPACK FOOTER **\n ** ./client/tongji.js\n **/","window.zhuge = window.zhuge || [];\nwindow.zhuge.methods = \"_init debug identify track trackLink trackForm page\".split(\" \");\nwindow.zhuge.factory = function(b) {\n    return function() {\n        var a = Array.prototype.slice.call(arguments);\n        a.unshift(b);\n        window.zhuge.push(a);\n        return window.zhuge;\n    }\n};\nfor (var i = 0; i < window.zhuge.methods.length; i++) {\n    var key = window.zhuge.methods[i];\n    window.zhuge[key] = window.zhuge.factory(key);\n}\nwindow.zhuge.load = function(b, x) {\n    if (!document.getElementById(\"zhuge-js\")) {\n        var a = document.createElement(\"script\");\n        var verDate = new Date();\n        var verStr = verDate.getFullYear().toString() + verDate.getMonth().toString() + verDate.getDate().toString();\n        a.type = \"text/javascript\";\n        a.id = \"zhuge-js\";\n        a.async = !0;\n        a.src = (location.protocol == 'http:' ? \"http://sdk.zhugeio.com/zhuge.min.js?v=\" : 'https://zgsdk.zhugeio.com/zhuge.min.js?v=') + verStr;\n        a.onerror = function() {\n            window.zhuge.identify = window.zhuge.track = function(ename, props, callback) {\n                if (callback && Object.prototype.toString.call(callback) === '[object Function]') callback();\n            };\n        };\n        var c = document.getElementsByTagName(\"script\")[0];\n        c.parentNode.insertBefore(a, c);\n        window.zhuge._init(b, x)\n    }\n};\nwindow.zhuge.load('a6294c4a959947719afd7248e98fe072'); //配置应用的AppKey\n\nfunction noop() {}\n\nclass Stat {\n    constructor() {\n        this._delayOp = [];\n        this._inited = true;\n    }\n    init(key) {\n        this._inited = true;\n        return;\n    }\n    _delay(f) {\n        if (!this._inited) {\n            return this._delayOp.push({ f: f });\n        }\n        f();\n    }\n    userin(me) {\n        this._delay(function() {\n            var qudao = 0;\n            if (!!window.cordova) {\n                var o = { \"Android\": 1, \"BlackBerry 10\": 2, \"browser\": 3, \"iOS\": 4, \"WinCE\": 5, \"Tizen\": 6, \"Mac OS X\": 7 };\n                qudao = device.platform;\n            } else if (startup_param.pf == 'wechat') qudao = 'wechat';\n            zhuge.identify(me.id, {\n                name: me.nickname,\n                //预定义属性\n                gender: startup_param.sex,\n                //预定义属性\n                level: me.level,\n                gameServer: '通用',\n                accountType: qudao,\n            });\n        });\n    }\n    userout() {\n        this._delay(function() { zhuge.track('userout') });\n    }\n    levelup(n) {\n        this._delay(function() { zhuge.track('levelup', { level: n }) });\n    }\n    reward(n, reason) {\n        this._delay(function() { zhuge.track('reward', { count: n, reason: reason }) });\n    }\n    beginCharge(orderid, money, tickets, desc, payment) {\n        if (typeof tickets == 'string') {\n            payment = desc;\n            desc = tickets;\n            tickets = Math.floor(money / 3);\n        }\n        this._delay(function() {\n            zhuge.track('beginCharge', {\n                orderId: orderid,\n                iapId: desc,\n                currencyAmount: money,\n                currencyType: 'CNY',\n                virtualCurrencyAmount: tickets,\n                paymentType: payment\n            });\n        });\n    }\n    endCharge(orderid, payment) {\n        this._delay(function() {\n            zhuge.track('endCharge', {\n                orderId: orderid,\n                paymentType: payment\n            });\n        });\n    }\n    enterGame(tableid) {\n        this._delay(function() {\n            zhuge.track('enterGame', { table: tableid });\n        });\n    }\n    startGame(tableid, name, tickets) {\n        this._delay(function() {\n            zhuge.track('startgame', { table: tableid, name: name });\n            if (tickets) zhuge.track('consume', { item: name, itemNumber: 1, priceInVirtualCurrency: tickets });\n        });\n    }\n    endGame(tableid) {\n        this._delay(function() {\n            zhuge.track('endGame', { table: tableid });\n        });\n    }\n    share() {\n        this._delay(function() {\n            zhuge.track('share', { user: { id: me.id, nickname: me.nickname } });\n        });\n    }\n    invite(tableid, tabledesc) {\n        this._delay(function() {\n            zhuge.track('invite', { user: { id: me.id, nickname: me.nickname }, table: { id: tableid, msg: tabledesc } });\n        });\n    }\n    event(name, data) {\n        this._delay(function() {\n            zhuge.track(name, (typeof data == 'object' ? data : { data: data }));\n        });\n    }\n\n    /**\n     * \n     * @param {number} n , 换多少币\n     * @param {number} m ，上级币的数量\n     * @param {string|null} n_name, 本级货币名称，默认金币\n     * @param {string|null} m_name, 上级货币名称，默认钻石\n     */\n    changeToVirtualCurrency(n, m, n_name, m_name) {\n            n_name = n_name || '金币';\n            m_name = m_name || '钻石';\n            this._delay(function() {\n                var detail = {};\n                detail[n_name] = n;\n                detail[m_name] = m;\n                zhuge.track('buyCoin', detail);\n            });\n        }\n        /**\n         * 消耗虚拟币，如果有3个参数，那么是消耗n*price的币，\n         * @param {string} name \n         * @param {number} n \n         * @param {number|null} price \n         */\n    consume(name, n, price) {\n        this._delay(function() {\n            zhuge.track('consume', { item: name, itemNumber: n, priceInVirtualCurrency: price })\n        });\n    }\n}\n\nvar tongji = new Stat();\nwindow.onunload = tongji.userout.bind(tongji);\n\nmodule.exports = tongji;\n\n\n/** WEBPACK FOOTER **\n ** ./client/tongji_zhuge.js\n **/"],"sourceRoot":""}