{"version":3,"sources":["webpack:///3.3.js","webpack:///./client/ui.js","webpack:///./client/libs/rawinflate/rawinflate.min.js","webpack:///./client/libs/fairygui/fairygui.js","webpack:///./client/res/loadiing@atlas_oy35a.png","webpack:///./client/res/loadiing.fui","webpack:///./client/mainUI.js","webpack:///./client/mainUI.js?8c6d","webpack:///./client/gameUI.js?aecd","webpack:///./client/loadingUI.js?edb7","webpack:///./client/roombase.js","webpack:///./client/res/snd/bgm_lobby.ogg","webpack:///./client/res/Package1@atlas0.png","webpack:///./client/res/Package1@atlas0_1.png","webpack:///./client/res/Package1@atlas_o5uh1a.jpg","webpack:///./client/res/Package1@atlas_gbj4q7.jpg","webpack:///./client/res/Package1@atlas_gbj4q5.jpg","webpack:///./client/res/Package1@atlas_lcqpnb.png","webpack:///./client/res/Package1.fui","webpack:///./client/res/zheng/3333.ls","webpack:///./client/res/fu/layaScene.lh","webpack:///./client/js/easyrtc.js","webpack:///(webpack)/~/node-libs-browser/~/assert/assert.js","webpack:///./~/socket.io-client/lib/index.js","webpack:///./~/socket.io-client/lib/url.js","webpack:///./~/socket.io-client/lib/manager.js","webpack:///./~/socket.io-client/lib/socket.js","webpack:///./~/socket.io-client/~/socket.io-parser/index.js","webpack:///./~/socket.io-client/lib/on.js","webpack:///./~/socket.io-client/~/debug/src/browser.js","webpack:///./~/socket.io-client/~/parseuri/index.js","webpack:///./~/socket.io-client/~/engine.io-client/index.js","webpack:///./~/socket.io-client/~/component-emitter/index.js","webpack:///./~/socket.io-client/~/component-bind/index.js","webpack:///./~/socket.io-client/~/indexof/index.js","webpack:///./~/socket.io-client/~/backo2/index.js","webpack:///./~/socket.io-client/~/to-array/index.js","webpack:///./~/socket.io-client/~/parseqs/index.js","webpack:///./~/socket.io-client/~/socket.io-parser/binary.js","webpack:///./~/socket.io-client/~/socket.io-parser/is-buffer.js","webpack:///./~/socket.io-client/~/debug/src/debug.js","webpack:///./~/socket.io-client/~/socket.io-parser/~/has-binary2/index.js","webpack:///./~/socket.io-client/~/engine.io-client/lib/index.js","webpack:///./~/socket.io-client/~/socket.io-parser/~/isarray/index.js","webpack:///./~/socket.io-client/~/engine.io-client/lib/socket.js","webpack:///./~/socket.io-client/~/debug/~/ms/index.js","webpack:///./~/socket.io-client/~/engine.io-client/lib/transport.js","webpack:///./~/socket.io-client/~/engine.io-client/lib/transports/index.js","webpack:///./~/socket.io-client/~/engine.io-client/~/engine.io-parser/lib/browser.js","webpack:///./~/socket.io-client/~/engine.io-client/~/parsejson/index.js","webpack:///./~/socket.io-client/~/engine.io-client/lib/xmlhttprequest.js","webpack:///./~/socket.io-client/~/engine.io-client/lib/transports/polling-xhr.js","webpack:///./~/socket.io-client/~/engine.io-client/lib/transports/polling-jsonp.js","webpack:///./~/socket.io-client/~/engine.io-client/lib/transports/websocket.js","webpack:///./~/socket.io-client/~/engine.io-client/~/engine.io-parser/lib/keys.js","webpack:///./~/socket.io-client/~/engine.io-client/~/engine.io-parser/lib/utf8.js","webpack:///./~/socket.io-client/~/engine.io-client/lib/transports/polling.js","webpack:///./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/has-binary2/index.js","webpack:///./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/arraybuffer.slice/index.js","webpack:///./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/after/index.js","webpack:///./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/blob/index.js","webpack:///./~/socket.io-client/~/base64-arraybuffer/lib/base64-arraybuffer.js","webpack:///./~/socket.io-client/~/has-cors/index.js","webpack:///./~/socket.io-client/~/engine.io-client/~/component-inherit/index.js","webpack:///./~/socket.io-client/~/engine.io-client/~/yeast/index.js","webpack:///./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/has-binary2/~/isarray/index.js"],"names":["webpackJsonp","module","exports","__webpack_require__","uidefine","laya","net","Loader","utils","Handler","login","hall","args","arguments","loader","creator","apply","gamefish","loading","console","log","uiCreator","name","opt","cb","ui","views","current","get","viewname","err","view","active","self","this","deactive","fairygui","GRoot","inst","removeChild","_view","Laya","SoundManager","stopAll","setSize","width","height","addRelation","RelationType","Size","addChild","p","b","e","a","split","c","l","execScript","d","length","shift","t","f","g","h","k","m","r","n","s","J","Number","POSITIVE_INFINITY","q","Uint32Array","Array","u","input","Uint8Array","i","v","index","bufferSize","bufferType","resize","w","j","Error","x","S","A","C","call","Uint16Array","DataView","prototype","set","subarray","o","y","z","N","O","B","D","E","F","G","H","I","K","L","M","Q","R","P","push","slice","buffer","U","V","W","X","T","ADAPTIVE","BLOCK","Object","keys","window","document","__static","un","uns","__class","__getset","getset","__newvec","Browser","Byte","ColorFilter","filters","Ease","Event","events","EventDispatcher","HTMLDivElement","display","Graphics","html","dom","HitArea","Input","Log","Point","Node","maths","Rectangle","Render","renders","media","Sound","Sprite","Text","Stage","Texture","resource","Tween","Utils","ControllerAction","fromPage","toPage","__proto","run","controller","prevPage","curPage","indexOf","leave","enter","setup","xml","str","getAttribute","createAction","type","PlayTransitionAction","ChangePageAction","AssetProxy","_asset","getRes","url","load","complete","progress","priority","cache","setAsset","asset","_inst","AutoSizeType","AsyncOperation","callback","_itemList","_objectPool","_index","createObject","pkgName","resName","pkg","UIPackage","getByName","pi","getItemByName","internalCreateObject","createObjectFromURL","getItemByURL","cancel","timer","clear","obj","$each_obj","dispose","item","collectComponentChildren","DisplayListItem","frameLoop","owner","getItemAsset","cnt","displayList","di","packageItem","defaultItem","listItemCount","col","desc","childNodes","cxml","nodeName","poolStart","now","frameTime","UIConfig1","frameTimeForAsyncUIConstruction","totalItems","UIObjectFactory","newObject","_constructing","constructFromResource2","splice","constructFromResource","newObject2","itemPool","returnObject","result","runWith","parse","value","None","Both","Height","ButtonMode","Common","Check","Radio","ChildrenRenderOrder","Ascent","Descent","Arch","BitmapFont1","BitmapFont","id","size","ttf","glyphs","resizable","BMGlyph","offsetX","offsetY","advance","lineHeight","channel","texture","Frame","rect","addDelay","PlayState","reachEnding","reversed","repeatedCount","_curFrame","_curFrameDelay","_lastUpdateSeq","update","mc","elapsed","NaN","frameId","currFrame","delta","interval","frames","repeatDelay","swing","frameCount","Math","max","rewind","reset","copy","src","Events","DragDropManager","_agent","_sourceData","GLoader","draggable","touchable","setPivot","align","verticalAlign","sortingOrder","on","__dragEnd","startDrag","source","icon","sourceData","touchPointID","parent","pt","globalToLocal","stage","mouseX","mouseY","setXY","stopDrag","evt","GObject","cast","target","displayObject","hasListener","requestFocus","event","createEvent","$event","setTo","touchId","nativeEvent","_stoped","dispatch","STATE_CHANGED","XY_CHANGED","SIZE_CHANGED","SIZE_DELAY_CHANGE","CLICK_ITEM","SCROLL","SCROLL_END","DROP","FOCUS_CHANGED","DRAG_START","DRAG_MOVE","DRAG_END","PULL_DOWN_RELEASE","PULL_UP_RELEASE","GEAR_STOP","FlipType","Horizontal","Vertical","data","_x","_y","_alpha","_rotation","_visible","_touchable","_grayed","_draggable","_scaleX","_scaleY","_skewX","_skewY","_pivotX","_pivotY","_pivotAsAnchor","_pivotOffsetX","_pivotOffsetY","_sortingOrder","_internalVisible","_handlingController","_focusable","_tooltips","_pixelSnapping","_relations","_group","_gears","_dragBounds","_displayObject","_yOffset","_sizeImplType","minWidth","minHeight","maxWidth","maxHeight","sourceWidth","sourceHeight","initWidth","initHeight","_parent","_width","_height","_rawWidth","_rawHeight","_id","_name","_underConstruct","_gearLocked","_sizePercentInGroup","_touchDownPoint","_gInstanceCounter","createDisplayObject","Relations","xv","yv","dx","dy","handleXYChanged","GGroup","moveChildren","updateGear","GList","setBoundsChangedFlag","draggingObject","sUpdateInDragging","localToGlobalRect","sGlobalRect","center","restraint","root","wv","hv","ignorePivot","dWidth","dHeight","handleSizeChanged","applyPivot","updatePivotOffset","resizeChildren","onOwnerSizeChanged","ensureSizeCorrect","setScale","sx","sy","handleScaleChanged","setSkew","skew","asAnchor","internalSetPivot","transform","sHelperPoint","transformPoint","updateAlpha","alpha","focus","getGear","gear","GearDisplay","GearXY","GearSize","GearLook","GearColor","GearAnimation","GearText","GearIcon","updateState","checkGearController","updateGearFromRelations","updateFromRelations","addDisplayLock","gearDisplay","ret","addLock","checkGearDisplay","releaseDisplayLock","token","releaseLock","connected","childStateChanged","relationType","usePercent","add","removeRelation","remove","removeFromParent","destroy","onClick","thisObj","listener","offClick","off","hasClickListener","thisObject","dragBegin","dragEnd","localToGlobal","ax","ay","resultPoint","aWidth","aHeight","resultRect","globalToLocalRect","handleControllerChanged","round","pos","scale","handleGrayedChanged","grayFilter","setup_beforeAdd","arr","parseInt","parseFloat","rotation","visible","grayed","tooltips","blendMode","cm","ColorMatrix","adjustBrightness","adjustContrast","adjustSaturation","adjustHue","cf","setup_afterAdd","getChildById","length1","i1","nodeType","GearXMLKeys","undefined","initDrag","__begin","sGlobalDragStart","__moving2","__end2","sDraggingQuery","__moving","__end","sensitivity","touchDragSensitivity","abs","xx","yy","sDragHelperRect","right","bottom","normalizeRotation","sizeDirty","ensureRelationsSizeCorrect","rot","GImage","GMovieClip","GTextField","GTextInput","GRichTextField","mouseEnabled","old","childSortingOrderChanged","finalVisible","_$P","val","sprite","gearXY","gearSize","gearLook","gearColor","gearAni","gearText","gearIcon","GearBase","_tween","_easeType","_tweenTime","_delay","_displayLockToken","_owner","_controller","quadOut","getController","init","ToolSet","parseEaseType","pages","values","addStatus","pageId","disableAllTweenEffect","GObjectPool","_pool","_count","getObject","normalizeURL","child","resourceURL","GroupLayoutType","ListLayoutType","SingleColumn","SingleRow","FlowHorizontal","FlowVertical","Pagination","ListSelectionMode","Single","Multiple","Multiple_SingleClick","LoaderFillType","Scale","ScaleMatchHeight","ScaleMatchWidth","ScaleFree","Margin","left","top","OverflowType","Visible","Hidden","Scroll","PackageItem","file","decoded","scale9Grid","scaleByTile","tileGridIndice","smoothing","componentData","extensionType","sound","bitmapFont","toString","PackageItemType","Image","Swf","MovieClip","Component","Misc","Font","Atlas","PageOption","getPageIndexById","pageIndex","getPageId","getPageNameById","pageName","getPageIdByName","ProgressTitleType","PopupMenu","_contentPane","_list","popupMenu","asCom","__addedToStage","getChild","removeChildrenToPool","__clickItem","addItem","caption","handler","addItemFromPool","asButton","title","selectedIndex","addItemAt","getFromPool","addChildAt","addSeperator","popupMenu_seperator","list","getItemName","getChildAt","setItemText","setItemVisible","setItemGrayed","setItemCheckable","checkable","setItemChecked","checked","isItemChecked","removeItem","getChildIndex","removeChildToPoolAt","clearItems","show","downward","showPopup","contentPane","itemObject","once","__clickItem2","GButton","hidePopup","resizeToFit","numChildren","Percent","ValueAndMax","Value","Max","RelationItem","_target","_defs","_targetX","_targetY","_targetWidth","_targetHeight","RelationDef","def","internalAdd","info","percent","pixelSnapping","dc","copyFrom","info2","releaseRefTarget","applyOnSelfResized","ox","oy","len","_transitions","applyOnXYChanged","applyOnSizeChanged","targetX","targetY","tmp","addRefTarget","__targetXYChanged","__targetSizeChanged","__targetSizeWillChange","relations","handling","group","_updating","ow","oh","__init$","_items","newItem","addItems","sidePairs","charAt","substr","RELATION_NAMES","isEmpty","contains","clearFor","clearAll","ri","targetId","ScrollBarDisplayType","Left_Left","Left_Center","Left_Right","Center_Center","Right_Left","Right_Center","Right_Right","Top_Top","Top_Middle","Top_Bottom","Middle_Middle","Bottom_Top","Bottom_Middle","Bottom_Bottom","Width","LeftExt_Left","LeftExt_Right","RightExt_Left","RightExt_Right","TopExt_Top","TopExt_Bottom","BottomExt_Top","BottomExt_Bottom","Default","Auto","ScrollPane","scrollType","scrollBarMargin","scrollBarDisplay","flags","vtScrollBarRes","hzScrollBarRes","_maskContainer","_container","_alignContainer","_viewWidth","_viewHeight","_contentWidth","_contentHeight","_scrollType","_scrollSpeed","_mouseWheelSpeed","_scrollBarMargin","_bouncebackEffect","_touchEffect","_scrollBarDisplayAuto","_vScrollNone","_hScrollNone","_displayOnLeft","_snapToItem","_displayInDemand","_mouseWheelEnabled","_pageMode","_pageSizeH","_pageSizeV","_inertiaDisabled","_yPerc","_xPerc","_xPos","_yPos","_xOverlap","_yOverlap","_tweening","_tweenHelper","_tweener","_needRefresh","_time1","_time2","_y1","_y2","_x1","_x2","_xOffset","_holdAreaPoint","_isHoldAreaDone","_aniFlag","_scrollBarVisible","_pageController","_hzScrollBar","_vtScrollBar","isDragged","_easeTypeFunc","cubicOut","TweenHelper","defaultScrollBounceEffect","defaultScrollTouchEffect","defaultScrollSpeed","scrollRect","defaultScrollBarDisplay","res","verticalScrollBar","setScrollPane","horizontalScrollBar","__mouseDown","__mouseWheel","setPercX","ani","ensureBoundsCorrect","clamp01","posChanged","setPercY","setPosX","clamp","setPosY","getDeltaX","move","getDeltaY","scrollTop","scrollBottom","scrollUp","speed","scrollDown","scrollLeft","scrollRight","scrollToView","setFirst","refresh","sHelperRect","posY","floor","posX","isChildInView","dist","cancelDragging","__mouseMove","__mouseUp","__click","draggingPane","_gestureFlag","currentPageX","currentPageY","updatePageController","changing","pageCount","adjustMaskContainer","mx","my","margin","_alignOffset","setContentSize","changeContentSizeOnScrolling","deltaWidth","deltaHeight","deltaPosX","deltaPosY","validateHolderPos","start","onScrolling","minSize","displayPerc","min","ceil","scrollPerc","callLater","killTween","syncScrollBar","page","getSnappingPosition","refresh2","contentXLoc","contentYLoc","toX","toY","to","create","__tweenComplete","__tweenUpdate","syncPos","end","showScrollBar","currTimer","touchScrollSensitivity","diff","diff2","sv","sh","st","time","yVelocity","defaultTouchScrollSpeedRatio","xVelocity","duration","change1","change2","endX","endY","fireRelease","testPageSize","calculateChange","__tweenComplete2","__tweenUpdate2","__rollOver","__rollOut","__showScrollBar","scrollSpeed","sc","velocity","checkpoint","easeOutCubic","ScrollType","Transition","autoPlayRepeat","autoPlayDelay","_ownerBaseX","_ownerBaseY","_totalTimes","_totalTasks","_playing","_onComplete","_options","_reversed","_maxTime","_autoPlay","OPTION_IGNORE_DISPLAY_CONTROLLER","OPTION_AUTO_STOP_DISABLED","OPTION_AUTO_STOP_AT_END","FRAME_RATE","TransitionActionType","TransitionItem","TransitionValue","play","onComplete","times","delay","_play","playReverse","changeRepeat","stop","internalPlay","displayLockToken","setToComplete","processCallback","stopItem","filterCreated","completed","tweener","trans","getTransition","__shake","startValue","f1","f2","tween","yoyo","repeat","applyValue","endValue","setValue","label","__args","sz","label2","b1","b2","f3","f4","setHook","hook","hook2","clearHooks","setTarget","newTarget","setDuration","OnOwnerRemovedFromStage","startTime","__delayCall","startTween","__delayCall2","prepareValue","toProps","dummy","completeHandler","tweenTimes","__tweenRepeatComplete","easeType","checkAllComplete","__playTransComplete","color","frame","playing","playOneShotSound","getItemAssetURL","__shakeItem","rx","random","ry","decodeValue","intv","onStage","XY","Pivot","Alpha","Rotation","Color","Animation","Shake","Skew","Unknown","TreeNode","hasChild","_data","_children","_expanded","_tree","_cell","_level","setCell","setLevel","setChildIndex","setTree","afterInserted","childIndex","removeChildAt","afterRemoved","removeChildren","beginIndex","endIndex","getPrevSibling","getNextSibling","oldIndex","afterMoved","swapChildren","child1","child2","index1","index2","swapChildrenAt","treeNodeWillExpand","node","afterExpanded","afterCollapsed","text","TreeView","_root","_indent","treeNodeCreateCell","treeNodeRender","treeNodeClick","expanded","getSelectedNode","getSelection","sels","addSelection","scrollItToView","parentNode","cell","removeSelection","clearSelection","getNodeIndex","updateNode","updateNodes","nodes","expandAll","folderNode","isFolder","collapseAll","createCell","indentObj","level","expandButton","__clickExpandButton","selected","getInsertIndexForNode","checkChildren","prevNode","insertIndex","myLevel","testNode","removeNode","hideFolderNode","returnToPool","node2","stopPropagation","currentTarget","scrollPane","UIConfig","defaultFont","windowModalWaiting","globalModalWaiting","modalLayerColor","buttonSound","buttonSoundVolumeScale","loaderErrorSign","tooltipsWin","defaultComboBoxVisibleItemCount","clickDragSensitivity","bringWindowToFrontOnClick","setPackageItemExtension","packageItemExtensions","setLoaderExtension","loaderType","resolvePackageItemExtension","cls","extention","GComponent","GLabel","GProgressBar","GSlider","GScrollBar","GComboBox","GBasicTextField","GGraph","_basePath","_itemsById","_itemsByName","_resKey","_resData","_customId","_sprites","_hitTestDatas","AtlasSprite","resKey","loadPackage","decompressPackage","getDesc","arr2","itemId","binIndex","atlas","rotated","ba","base64Decode","endian","bytesAvailable","hitTestData","PixelHitTestData","readUTFString","parseXMLFromString","rootNode","firstChild","resources","findChildNode","loadFont","_bitmapFonts","buf","inflater","Zlib","RawInflate","decompress","fn","readUTFBytes","curr","substring","userClass","getItemById","getItemAssetByName","createSpriteTexture","fileName","loadMovieClip","loadComponentChildren","translateComponent","getPixelHitTestData","listNode","dcnt","tagName","pkgId","getById","_stringsSource","strings","dxml","exml","ename","elementId","items","length2","i2","setAttribute","atlasItem","atlasTexture","createSubTexture","clipRect","createFromTexture","frameNodes","frameNode","font","charImg","mainTexture","lines","lineCount","kv","xadvance","atlasOffsetX","atlasOffsetY","trim","bg","isNaN","xoffset","yoffset","chnl","img","String","fromCharCode","face","_packageInstById","_packageInstByName","addPackage","customId","removePackage","packageId","getItemURL","pos1","pos2","srcId","srcName","getBitmapFontByURL","setStringsSource","resNode","key","textContent","key2","key3","sep0","sep1","sep2","sep3","pixelWidth","pixels","getInt32","readByte","getFileName","lastIndexOf","startsWith","ignoreCase","toLowerCase","endsWith","targetString","trimLeft","trimRight","tempChar","convertToHtmlColor","argb","hasAlpha","red","green","blue","convertFromHtmlColor","displayObjectToGObject","encodeHTML","replace","parseUBB","defaultUBBParser","removeUBB","EaseMap","quartOut","bstr","code","BASE64_CHARS","writeByte","UBBParser","Linear","linearNone","Elastic.In","elasticIn","Elastic.Out","elasticOut","Elastic.InOut","elasticInOut","Quad.In","quadIn","Quad.Out","Quad.InOut","quadInOut","Cube.In","cubicIn","Cube.Out","Cube.InOut","cubicInOut","Quart.In","quartIn","Quart.Out","Quart.InOut","quartInOut","Quint.In","quintIn","Quint.Out","quintOut","Quint.InOut","quintInOut","Sine.In","sineIn","Sine.Out","sineOut","Sine.InOut","sineInOut","Bounce.In","bounceIn","Bounce.Out","bounceOut","Bounce.InOut","bounceInOut","Circ.In","circIn","Circ.Out","circOut","Circ.InOut","circInOut","Expo.In","Expo.Out","Expo.InOut","Back.In","backIn","Back.Out","backOut","Back.InOut","backInOut","_text","_readPos","_handlers","smallFontSize","normalFontSize","largeFontSize","defaultImgWidth","defaultImgHeight","onTag_URL","onTag_IMG","onTag_Simple","onTag_COLOR","onTag_FONT","onTag_SIZE","attr","href","getTagText","tag","repl","func","pos3","_super","__super","LENGTH","IDENTITY_MATRIX","invert","multiplyMatrix","adjustColor","p_brightness","p_contrast","p_saturation","p_hue","p_val","cleanValue","invSat","invLumR","invLumG","invLumB","PI","cos","sin","concat","p_matrix","clone","copyMatrix","p_limit","LUMA_R","LUMA_G","LUMA_B","Controller","_selectedIndex","_previousIndex","_pageIds","_pageNames","_actions","_autoRadioGroupDepth","setSelectedIndex","applyController","setSelectedPage","getPageName","addPage","addPageAt","nid","_nextPageId","removePage","removePageAt","clearPages","hasPage","aName","aId","runActions","previousPageId","selectedPageId","action","ii","taction","transitionName","stopOnExit","PixelHitTest","scaleX","scaleY","isHit","objectId","controllerName","targetPage","gcom","cc","_currentTransition","_gearColor","imps","fairygui.IColorGear","fontSize","valign","leading","letterSpacing","ubbEnabled","italic","bold","underline","singleLine","strokeColor","stroke","_sortingChildCount","_opaque","_applyingController","_margin","_trackBounds","_boundsChanged","_childrenRenderOrder","_apexIndex","_buildingDisplayList","_controllers","_scrollPane","mouseThrough","transCnt","getInsertPosForSortingChild","inContainer","buildNativeDisplayList","getVisibleChild","getChildInGroup","_setChildIndex","setChildIndexBefore","displayIndex","isAncestorOf","addController","getControllerAt","removeController","mask","applyAllControllers","adjustRadioGroupDepth","myIndex","maxIndex","relatedController","getTransitionAt","transName","getFirstChildInView","updateHitArea","hitArea","hitTest","updateMask","setupScroll","scroll","setupOverflow","overflow","__render","updateBounds","aw","ah","ar","NEGATIVE_INFINITY","ab","actualWidth","actualHeight","setBounds","xValue","yValue","prev","oldValue","newValue","objectPool","poolIndex","opaque","hitTestPrior","scrollBarFlags","childCount","___added","___removed","constructFromXML","pageController","autoPlay","viewWidth","viewHeight","_storage","_default","GearAnimationValue","gv","GearColorValue","col1","col2","_tweenValue","_tweenTarget","GearLookValue","_type","_lineSize","_lineColor","_fillColor","drawRect","lineSize","lineColor","fillColor","drawCommon","drawEllipse","gr","graphics","isWebGL","toHexColor","drawCircle","repaint","replaceMe","addBeforeMe","addAfterMe","setNativeObject","_layout","_lineGap","_columnGap","_percentReady","childSizeChanged","handleLayout","MAX_VALUE","MIN_VALUE","empty","curX","updatePercent","curY","dw","dh","last","remainSize","found","nw","nh","GearSizeValue","image","_color","_flip","applyColor","Image1","tex","scaleTexture","flip","_url","_align","_valign","_autoSize","_fill","_showErrorSign","_frame","_contentItem","_contentSourceWidth","_contentSourceHeight","_content","_errorSign","_updatingLayout","fairygui.IAnimationGear","freeExternal","loadContent","clearContent","loadFromPackage","loadExternal","itemURL","setErrorState","updateLayout","MovieClip1","boundsRect","__getResCompleted","onExternalLoadSuccess","onExternalLoadFailed","_errorSignPool","clearErrorState","currentFrame","movieClip","setPlaySettings","endAt","endHandler","textField","_font","_ubbEnabled","_singleLine","_letterSpacing","_widthAutoSize","_heightAutoSize","_updatingSize","_textWidth","_textHeight","_bitmapFont","_lines","LineInfo","TextExt","setAutoSize","wordWrap","typeset","renderWithBitmapFont","updateSize","textWidth","textHeight","returnList","line","lineSpacing","rectWidth","lineWidth","lineTextHeight","glyphWidth","glyphHeight","wordChars","wordStart","wordEnd","lastLineHeight","lineBuffer","lineY","fontScale","textLength","offset","ch","charCodeAt","glyph","borrow","count","doAlign","charX","lineIndent","charIndent","drawTexture","GUTTER_X","GUTTER_Y","pool","pop","returns","li","_lock","_sizeDirty","baseTypeset","_isChanged","setChanged","isChanged","autoSize","_$set_isChanged","_titleObject","_iconObject","_relatedController","_mode","_selected","_title","_selectedTitle","_icon","_selectedIcon","_sound","_soundVolumeScale","_pageOption","_buttonController","_changeStateOnClick","_linkedPopup","_downEffect","_downEffectValue","_downScaled","_down","_over","fireClick","downEffect","setState","selectedPage","__rollover","__rollout","__mousedown","selectedTitle","selectedIcon","titleColor","titleFontSize","checkPopups","__mouseup","Window","toggleStatus","togglePopup","oppositePageId","UP","DOWN","OVER","SELECTED_OVER","DISABLED","SELECTED_DISABLED","dropdown","_icons","_values","_popupDownward","_visibleItemCount","_itemsUpdated","_selectionController","updateSelectionController","print","asList","__popupWinClosed","showDropdown","promptText","maxLength","restrict","password","keyboardType","asTextInput","editable","itemRenderer","itemProvider","scrollItemToViewOnClick","foldInvisibleItems","_lineCount","_columnCount","_defaultItem","_autoResizeItem","_selectionMode","_verticalAlign","_lastSelectedIndex","_virtual","_loop","_numItems","_realNumItems","_firstIndex","_curLineItemCount","_curLineItemCount2","_itemSize","_virtualListChanged","_virtualItems","_eventLocked","ItemInfo","cacheAsBitmap","button","changeStateOnClick","removeChildToPool","childIndexToItemIndex","checkVirtualList","itemIndexToChildIndex","selectAll","selectNone","selectReverse","handleArrowKey","dir","setSelectionOnEvent","dontChangeLastIndex","clearSelectionExcept","shiftKey","ctrlKey","itemCount","curCount","numItems","getMaxItemWidth","setVirtualListChangedFlag","saved","pos_param","getIndexOnPos1","getIndexOnPos2","getIndexOnPos3","setVirtual","_setVirtual","setVirtualAndLoop","loop","bouncebackEffect","__scrolled","refreshVirtualList","_refreshVirtualList","layoutChanged","cw","len2","handleAlign","handleScroll","forceUpdate","startIndex","roundSize","scrollingPosY","contentHeight","handleScroll1","scrollingPosX","contentWidth","handleScroll2","handleScroll3","enterCounter","newFirstIndex","oldFirstIndex","ii2","curIndex","forward","oldCount","lastIndex","reuseIndex","needRender","deltaSize","firstItemDeltaSize","partSize","itemInfoVer","updateFlag","virtualItemCount","pageSize","startCol","partWidth","partHeight","lastObj","borderX","newOffsetX","newOffsetY","lineStart","ratio","eachHeight","div","style","innerHTML","_max","_value","_titleType","_reverse","_aniObject","_barObjectH","_barObjectV","_barMaxWidth","_barMaxHeight","_barMaxWidthDelta","_barMaxHeightDelta","_barStartX","_barStartY","tweenValue","easeLinear","onTweenComplete","onUpdateTween","fullWidth","fullHeight","_modalLayer","_popupStack","_justClosedPopups","_modalWaitPane","_focusedObject","_tooltipWin","_defaultTooltipWin","_checkPopups","showWindow","win","adjustModalLayer","hideWindow","hide","hideWindowImmediately","bringToFront","modal","showModalWait","msg","closeModalWait","closeAllExceptModals","closeAllWindows","getTopWindow","popup","sizeW","sizeH","closePopup","showTooltips","showTooltipsWin","tooltipWin","position","hideTooltips","getObjectUnderPoint","globalX","globalY","setFocus","volumeScale","playSound","__stageMouseDown","__stageMouseUp","__winResize","clickTarget","pindex","gg","focusable","soundVolume","_$SET_inst","maxChars","multiline","prompt","_grip","_arrowButton1","_arrowButton2","_bar","_vertical","_scrollPerc","_fixedGripSize","_dragOffset","vertical","__gripMouseDown","__arrowButton1Click","__arrowButton2Click","__barMouseDown","__gripMouseMove","__gripMouseUp","sScrollbarHelperPoint","_gripObject","_clickPos","_clickPercent","changeOnClick","canDrag","updateWidthPercent","sSilderHelperPoint","deltaX","deltaY","stageX","stageY","_closeButton","_dragArea","_contentArea","_modal","_uiSources","_inited","_loading","_requestingCmd","bringToFontOnClick","__onShown","__onHidden","addUISource","showOn","isShowing","doHideAnimation","hideImmediately","centerOn","isTop","requestingCmd","layoutModalWaitPane","lib","loaded","__uiLoadComplete","_init","onInit","onShown","onHide","doShowAnimation","closeEventHandler","__dragStart","closeButton","dragArea","contentArea","asGraph","_tex","_scaleByTile","_scale9Grid","_tileGridIndice","_textureScaleX","_textureScaleY","_needRebuild","markChanged","rebuild","sw","fillTexture","centerWidth","centerHeight","getTexture","part","$GID","getGID","_textureCache","clearCache","playState","_$3__texture","_frameCount","_frames","_currentFrame","_boundsRect","_start","_end","_times","_endAt","_status","_endHandler","__addToStage","__removeFromStage","setFrame","__init","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","coinchg","mainview","resetCoin","diamondchg","me","diamond","ticketschg","tickets","levelchg","vipLvchg","vipLv","coins","toFixed","_createClass","defineProperties","props","descriptor","defineProperty","protoProps","staticProps","_get","object","property","receiver","Function","getOwnPropertyDescriptor","getPrototypeOf","getter","RoomBase","merge","wins","rewardType","rewardTimes","tableType","tabletypes","tabletypess","Room","_RoomBase","pack","tables","highScene","tableId","joined","donotJoin","seat","_socket","sendp","roomtype","higher","HighWin","all","today","Date","getDate","month","welfare","WelfareWin","huoqu","string","sce","scene","yuyuyu","getChildByName","playMusic","firstBuy","bought","l33","f33","scene1","Scene","scene2","Sprite3D","spltt","HIERARCHY_LOADED","fishDef","bianfuyu","cheqiyu","dianmanyu","dinianyu","fangyu","haigui","hetun","jianyu","jinqiangyu","shayu","shiziyu","tianshiyu","xiaochouyu","xiaohuangyu","xiaolvyu","jlong","chuitouyu","hama","zhadan","ding","fazhen","localPosition","Vector3","localScale","jiangquan1","jiangquan2","jiangquan5","jiangquan10","jiangquan20","jiangquan50","denglong","denglongyu","zuyu","chuqi","hama2","jlong2","chuitouyu2","hour","getHours","giftNumber","gedDef","onhour","nickname","faceid","faceurl","shop","ShopingWin","rank","RankingWin","bank","BankWin","mail","ShowMailWin","uInfo","UserinfoWin","vip","VipWin","cai","CainiaoWin","tipon","option","SettingWin","removeListener","seatNumber","easyrtcApp","IMAGE","BUFFER","room","afterCreateView","cbs","require","callbacks","capitalizeFirstLetter","toUpperCase","walkobj","path","_typeof","safeK","easyrtc_connect","appname","_noop","easyrtc","connect","myId","Symbol","iterator","assert","EventEmitter","ViewBase","_this","cl","fairyguiNamedEle","btn","_ret","test","_n","_idx","ctrl","candiName","Win","fail","GameData","_EventEmitter","_this2","re","_rangeEvents","reg","RegExp","idx","findIndex","ele","_enumAttr","exec","unshift","emit","_e","countdown","$","recursive","_chkRegEvent","delCmd","ensuredelete","isArray","io","ensureAccessCamera","onAndroid","permissions","requestPermissions","RECORD_AUDIO","CAMERA","status","hasPermission","cordova","plugins","checkPermission","setSocketUrl","setVideoDims","_cb","bind","addEventListener","reason","audioroute","currentOutputs","outs","overrideOutput","sysdiv","getElementById","sysCanvas","_ViewBase","_this3","gamedata","_seatNumber","_calls","gd","disableRtc","initMediaSource","hasQuit","disableMicrophone","onVideoActived","chgVoiceBtnFunc","selfVideo","icon2Video","setVideoObjectSrc","getLocalStream","afterRtcConnected","setDisconnectListener","showError","cancelRec","_recCanceled","stopRecord","_rec","setMusicVolume","assignAllBtns","voicebtn","getVoiceBtn","startRecord","setTimeout","RecWin","_update","netmsg","inviteCode","preInvite","mySeat","video2Icon","removeAllListeners","disconnect","videos","getElementsByTagName","seats","user","rX","clientScaleX","rY","clientScaleY","css","append","ho","createElement","_s","rw","onIOS","devicePixelRatio","rotate","transformOrigin","appendChild","userid","serverSeatToLocal","locateMe","msgloop","pause","resume","enableMicrophone","rtcid","uid","extenddata","isMe","getUserMediaRect","createHTMLVideo","enable","enableCamera","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","__WEBPACK_LOCAL_MODULE_1__","__WEBPACK_LOCAL_MODULE_0__","__WEBPACK_LOCAL_MODULE_2__","factory","unableToEnterRoom","resolutionWarning","badUserName","localMediaError","miscSignalError","noServer","badsocket","icf","statsNotSupported","noWebrtcSupport","gumFailed","requireAudioOrVideo",1,"SDPUtils","generateIdentifier","localCName","splitLines","blob","map","splitSections","parts","matchPrefix","prefix","filter","parseCandidate","candidate","foundation","component","protocol","ip","port","relatedAddress","relatedPort","tcpType","writeCandidate","sdp","join","parseRtpMap","parsed","payloadType","clockRate","numChannels","writeRtpMap","codec","preferredPayloadType","parseExtmap","uri","writeExtmap","headerExtension","preferredId","parseFmtp","writeFmtp","parameters","params","forEach","param","parseRtcpFb","parameter","writeRtcpFb","rtcpFeedback","fb","parseSsrcMedia","sp","ssrc","colon","attribute","getDtlsParameters","mediaSection","sessionpart","fpLine","dtlsParameters","role","fingerprints","algorithm","writeDtlsParameters","setupType","fp","getIceParameters","iceParameters","usernameFragment","writeIceParameters","parseRtpParameters","description","codecs","headerExtensions","fecMechanisms","rtcp","mline","rtpmapline","fmtps","writeRtpDescription","kind","caps","parseRtpEncodingParameters","secondarySsrc","encodingParameters","hasRed","hasUlpfec","ssrcs","primarySsrc","flows","apt","encParam","codecPayloadType","rtx","JSON","stringify","fec","mechanism","bandwidth","maxBitrate","writeSessionBoilerplate","writeMediaSection","transceiver","stream","iceGatherer","getLocalParameters","dtlsTransport","mid","rtpSender","rtpReceiver","msid","track","sendEncodingParameters","getDirection",2,"logging","browserDetails","extractVersion","disableLog","chromeShim","edgeShim","firefoxShim","safariShim","browser","shimPeerConnection","browserShim","shimGetUserMedia","shimMediaStream","shimSourceObject","shimOnTrack","./chrome/chrome_shim","./edge/edge_shim","./firefox/firefox_shim","./safari/safari_shim","./utils",3,"MediaStream","webkitMediaStream","RTCPeerConnection","_ontrack","removeEventListener","_ontrackpoly","te","streams","dispatchEvent","getTracks","HTMLMediaElement","_srcObject","URL","revokeObjectURL","createObjectURL","pcConfig","pcConstraints","iceTransportPolicy","iceTransports","pc","webkitRTCPeerConnection","origGetStats","getStats","selector","successCallback","errorCallback","fixChromeStats_","response","standardReport","reports","report","standardStats","timestamp","names","stat","makeMapStats","stats","legacyStats","Map","successCallbackWrapper_","Promise","resolve","reject","then","generateCertificate","method","nativeMethod","opts","version","promise","RTCIceCandidate","RTCSessionDescription","nativeAddIceCandidate","addIceCandidate","../utils.js","./getusermedia",4,"constraintsToChrome_","mandatory","optional","ideal","exact","oldname_","oc","mix","advanced","shimConstraints_","constraints","audio","video","facingMode","navigator","mediaDevices","getSupportedConstraints","enumerateDevices","devices","back","find","deviceId","shimError_","PermissionDeniedError","ConstraintNotSatisfiedError","message","constraint","constraintName","getUserMedia_","onSuccess","onError","webkitGetUserMedia","getUserMedia","getUserMediaPromise_","kinds","MediaStreamTrack","getSources","device","groupId","origGetUserMedia","cs","getAudioTracks","getVideoTracks","DOMException",5,"RTCIceGatherer","origMSTEnabled","ev","enabled","config","_eventTarget","createDocumentFragment","onicecandidate","onaddstream","ontrack","onremovestream","onsignalingstatechange","oniceconnectionstatechange","onnegotiationneeded","ondatachannel","localStreams","remoteStreams","getLocalStreams","getRemoteStreams","localDescription","remoteDescription","signalingState","iceConnectionState","iceGatheringState","iceOptions","gatherPolicy","iceServers","usingBundle","bundlePolicy","server","urls","_config","transceivers","_localIceCandidatesBuffer","_emitBufferedCandidates","sections","sdpMLineIndex","every","state","getConfiguration","addStream","clonedStream","clonedTrack","_maybeFireNegotiationNeeded","removeStream","getSenders","getReceivers","_getCommonCapabilities","localCapabilities","remoteCapabilities","commonCapabilities","lCodec","rCodec","lHeaderExtension","rHeaderExtension","_createIceAndDtlsTransports","iceTransport","RTCIceTransport","onlocalcandidate","sdpMid","cand","onicestatechange","_updateConnectionState","RTCDtlsTransport","ondtlsstatechange","onerror","_transceive","send","recv","encodings","cname","recvEncodingParameters","receive","setLocalDescription","_pendingOffer","isIceLite","rejected","isDatachannel","remoteIceParameters","cands","setRemoteCandidates","remoteDtlsParameters","_updateSignalingState","hasCallback","setRemoteDescription","receiverList","direction","remoteSsrc","isComplete","addTrack","transports","RTCRtpReceiver","getCapabilities","localTrack","RTCRtpSender","trackEvent","close","newState","states","new","closed","connecting","checking","failed","disconnected","createOffer","offerOptions","tracks","numAudioTracks","numVideoTracks","offerToReceiveAudio","offerToReceiveVideo","wantReceive","createAnswer","mLineIndex","addRemoteCandidate","promises","results","../utils",6,7,"mozSrcObject","mozRTCPeerConnection","newIceServers","hasOwnProperty","newServer","username","credential","mozRTCSessionDescription","mozRTCIceCandidate","nativeGetStats","onSucc","onErr",8,"SecurityError","The operation is insecure.","constraintsToFF37_","mozGetUserMedia","infos","orgEnumerateDevices","warn",9,10,"logDisabled_","bool","uastring","expr","match","detectBrowser","userAgent","easyrtc_lang","adapter","Easyrtc","logDebug","debugPrinter","isEmptyObj","stopStream","isSocketConnected","socket","eventName","callingFunction","errCodes","DEVELOPER_ERR","allowedEvents","getSourceList","sourceType","getFirefoxPeerStatistics","peerId","peerConns","srcKey","candidates","activeId","entry","majorKey","subKey","ipAddress","portNumber","remoteCandidateId","filteredItems","error","statistics","getConstantString","getChromePeerStatistics","itemKeys","itemKey","userKey","partList","bestI","hasActive","curReceived","localAddress","remoteAddress","localStats","partNames","bestBytes","turnAddress","googRemoteAddress","googActiveConnection","isTurnServer","fullMatch","sendRoomApiFields","roomName","fields","fieldAsString","dataToShip","msgType","msgData","setRoomApiField","field","webSocket","json","ackMsg","errorCode","errorText","enqueueSendRoomApi","roomApiFieldTimer","clearTimeout","_roomApiFields","enableMediaTracks","getLocalMediaStreamByName","streamName","namedLocalMediaStreams","buildMediaIds","mediaMap","registerLocalMediaStreamByName","mediaIds","roomData","getNameOfRemoteStream","easyrtcId","webrtcStreamId","remoteStreamIdToName","getRoomApiField","anyName","closeLocalMediaStreamByName","streamId","sendPeerMessage","getRemoteStreamByName","peerConn","otherUser","keyToMatch","remoteId","_haveTracks","easyrtcid","checkAudio","peerConnObj","oops","disconnectBody","loggingOut","offersPending","acceptancePending","disconnecting","closedChannel","webSocketConnected","preallocatedSocketIo","hangupAll","roomOccupantListener","lastLoggedInList","emitEvent","roomJoin","myEasyrtcid","oldConfig","sendSignalling","destUser","targetEasyrtcid","sendByChunkHelper","startMessage","endMessage","transferId","sendByChunkUidCounter","numberOfChunks","maxP2PMessageLength","transfer","dataChannelS","buildPeerConstraints","options","DtlsSrtpKeyAgreement","sendQueuedCandidates","peer","onSignalSuccess","onSignalFailure","candidatesToSend","emitOnStreamClosed","liveRemoteStreams","onStreamClosed","onRemoveStreamHelper","updateConfigurationInfo","buildDeltaRecord","added","deleted","objectNotEmpty","findDeltas","oldVersion","newVersion","subPart","collectConfigurationInfo","p2pList","connectTime","isInitiator","newConfig","userSettings","sharingAudio","haveAudioVideo","sharingVideo","sharingData","dataEnabled","nativeVideoWidth","nativeVideoHeight","windowWidth","innerWidth","windowHeight","innerHeight","screenWidth","screen","screenHeight","cookieEnabled","os","oscpu","language","updateConfiguration","sendDeltas","alteredData","setUserCfg","formatPriority","candidateStr","address","processCandicate","candicate","_candicates","processAddedStream","theStream","cancelled","startedAV","getTime","callSuccessCB","audioEnabled","videoEnabled","remoteName","streamAcceptor","sendDataWS","processAddedTrack","peerStreams","trackTimers","peerStream","buildPeerConnection","failureCB","streamNames","dataChannelMessageHandler","pendingTransfer","chunks","chunkedMsg","receivePeerDistribute","initOutGoingChannel","dataChannel","createDataChannel","dataChannelName","getDatachannelConstraints","dataChannelR","onmessage","onopen","onclose","dataChannelReady","onDataChannelClose","initIncomingChannel","newPeerConn","iceConfig","pc_config_to_use","pc_config","createRTCPeerConnection","enableNegotiateListener","sdpLocalFilter","eventTarget","signalingStateChangeListener","connState","iceConnectionStateChangeListener","onPeerOpen","NOVIABLEICE","onPeerFailing","failing","onPeerClosed","onPeerRecovered","onconnection","connectionAccepted","streamsAddedAcks","candidateData","iceCandidateFilter","PEER_GONE","SYSTEM_ERR","autoInitUserMedia","setPeerListener","onDataChannelOpen","channelErrorEvent","formatError","targeting","doAnswerBody","caller","setLocalAndSendMessage1","sessionDescription","sendAnswer","connectDataConnection","INTERNAL_ERR","sd","invokeCreateAnswer","receivedMediaConstraints","sdpRemoteFilter","srdError","doAnswer","localStream","MEDIA_ERR","format","use_fresh_ice_each_peer","getFreshIceConfig","succeeded","CALL_ERR","callBody","callFailureCB","wasAcceptedCB","setLocalAndSendMessage0","sendOffer","errorObj","isStreamActive","isActive","ended","reduce","clearQueuedMessages","queuedMessages","closePeer","hangupBody","onRemoteHangup","callCancelled","isPeerInAnyRoom","processLostPeers","peersInRoom","addAggregatingTimer","period","counter","aggregatingTimers","processOccupantList","occupantList","myInfo","reducedList","occupants","onChannelMsg","ackAcceptorFunc","ackMessage","targetRoom","targetGroup","senderEasyrtcid","receiveServerCB","processUrl","_turnServers","_stunServers","processIceConfig","processSessionData","sessionData","easyrtcsid","sessionFields","processRoomData","stuffToRemove","stuffToAdd","removeId","roomStatus","roomEntryListener","clientList","clientListDelta","updateClient","removeClient","rooms","onChannelCmd","ackAcceptorFn","processReject","processAnswer","smdException","flushCachedCandidates","processCandidateQueue","processCandidateBody","iceAddSuccess","iceAddFailure","domError","ICECANDIDATE_ERR","processOffer","helper","wasAccepted","supportsPeerConnections","acceptCheck","newWindow","open","forwardToUrl","location","processToken","connection","application","sendAuthenticate","cookies","cookieId","cookie","apiVersion","applicationName","presenceShow","setPresence","presenceStatus","connectToWSServer","addSocketListener","websocketListeners","connectHandler","CONNECT_ERR","SIGNAL_ERR","serverPath","connectionOptions","socketErr","SYSTEM_ERROR","handleErrorEvent","disconnectListener","connect timeout","force new connection","setSdpFilters","localFilter","remoteFilter","setPeerClosedListener","setPeerOpenListener","setPeerFailingListener","failingHandler","recoveredHandler","setIceCandidateFilter","setIceConnectionStateChangeListener","setSignalingStateChangeListener","setAutoInitUserMedia","flag","arg1","arg2","arg3","formatted","regexp","roomOccupant","roomOccupants","eventListeners","eventListener","listeners","eventData","BAD_NAME","MEDIA_WARNING","ALREADY_CONNECTED","BAD_CREDENTIAL","usernameRegExp","enableAudioReceive","OfferToReceiveAudio","enableVideoReceive","OfferToReceiveVideo","setAudioOutput","element","sinkId","setSinkId","errorMessage","getAudioSinkList","getAudioSourceList","getVideoSourceList","isNameValid","setCookieId","_desiredVideoProperties","setVideoSource","videoSrcId","screenCapture","_desiredAudioProperties","setAudioSource","audioSrcId","frameRate","setScreenCapture","enableScreenCapture","getUserMediaConstraints","_presetMediaConstraints","chromeMediaSource","minFrameRate","maxFrameRate","setApplicationName","enableDebug","toISOString","stackString","stack","srcLine","stackFrameStrings","supportsGetUserMedia","supportsDataChannels","hasCreateDataChannel","supportsStatistics","hasGetStats","optionalStuff","reliable","receivePeer","msgTypes","getPeerConnectionByUserId","userId","chromeStatsFilter","googTransmitBitrate","googActualEncBitrate","googAvailableSendBandwidth","googCodecName","googTypingNoiseState","packetsSent","bytesSent","googFrameRateSent","packetsLost","packetsReceived","bytesReceived","googFrameRateOutput","audioOutputLevel","audioInputLevel","firefoxStatsFilter","outboundrtp_audio.bytesSent","outboundrtp_video.bytesSent","inboundrtp_video.bytesReceived","inboundrtp_audio.bytesReceived","outboundrtp_audio.packetsSent","outboundrtp_video.packetsSent","inboundrtp_video.packetsReceived","inboundrtp_audio.packetsReceived","inboundrtp_video.packetsLost","inboundrtp_audio.packetsLost","firefoxRemoteAddress","getPeerStatistics","fieldName","fieldValue","jsonError","messageCode","errorObject","errorBody","errorDiv","className","clearButton","createTextNode","onclick","body","messageNode","mediaStream","errMessage","webkitURL","webkit","cleanId","idString","MAP","&","<",">","setRoomEntryListener","setRoomOccupantListener","setDataChannelOpenListener","setDataChannelCloseListener","getConnectionCount","getConnectStatus","IS_CONNECTED","setMaxP2PMessageLength","enableAudio","enableVideo","enableDataChannels","getLocalMediaIds","register3rdPartyLocalMediaStream","webrtcStream","closeLocalMediaStream","closeLocalStream","muteVideoObject","videoObjectName","mute","videoObject","muted","getLocalStreamAsUrl","clearMediaStream","srcObject","autoplay","buildLocalMediaStream","audioTracks","videoTracks","streamToClone","mediaClone","oldTracks","removeTrack","loadStylesheet","cssIndex","links","easySheet","headSection","firstHead","insertBefore","getCurrentTime","tryAgain","currentTime","firstCallTime","mode","onUserMediaSuccess","onUserMediaError","videoObj","triesLeft","tryToGetSize","videoWidth","videoHeight","errText","setAcceptChecker","setStreamAcceptor","acceptor","setOnError","errListener","setCallCancelled","setOnStreamClosed","sources","setServerListener","socketUrl","setUsername","usernameToIds","apiField","setCredential","credentialParm","idToName","setUseFreshIceEachPeerConnection","getServerIce","setIceUsedInCalls","ice","haveAudioTrack","haveVideoTrack","getRoomField","getRoomFields","sendDataP2P","flattenedData","sendDataErr","destination","ackhandler","outgoingMessage","sendData","ackHandler","successCB","sendServerMessage","getRoomList","roomList","NOT_CONNECTED","BECOMING_CONNECTED","hangup","sawAConnection","doesDataChannelWork","getRemoteStream","remoteStreamName","makeLocalStreamFromRemoteStream","localStreamName","remoteStream","addStreamToCall","receiptHandler","dumpPeerConnectionInfo","remotes","remoteIds","locals","localIds","local","remote","updatePresence","statusText","getSessionFields","getSessionField","getRoomOccupantsAsArray","getRoomOccupantsAsMap","isStunServer","joinRoom","roomParameters","newRoomData","roomParameter","signallingSuccess","signallingFailure","leaveRoom","failureCallback","roomItem","roomLeave","getRoomsJoined","roomsIn","getApplicationFields","getConnectionFields","useThisSocketConnection","alreadyAllocatedSocketIo","easyAppBody","monitorVideoId","videoIds","validateVideoIds","getCallerOfVideo","videoIdToCallerMap","setCallerOfVideo","callerEasyrtcId","videoIsFree","getIthVideo","videoIdsP","showVideo","visibility","hideVideo","numPEOPLE","onCall","onHangup","setOnCall","setOnHangup","getIthCaller","vid","getSlotOfCaller","addControls","parentDiv","autoAddCloseButtons","monitorVideo","defaultMuted","dontAddCloseButtons","easyApp","onReady","onFailure","nextInitializationStep","gotConnectionCallback","postGetUserMedia","connectError","gotMediaCallback","setGotMedia","gotMediaCB","setGotConnection","gotConnectionCB","global","compare","isBuffer","Buffer","_isBuffer","pToString","isView","arrbuf","ArrayBuffer","getName","util","isFunction","functionsHaveNames","regex","truncate","inspect","something","rawname","getMessage","actual","operator","expected","stackStartFunction","AssertionError","ok","_deepEqual","strict","memos","isDate","isRegExp","Float32Array","Float64Array","actualIndex","objEquiv","isArguments","actualVisitedObjects","isPrimitive","aIsArgs","bIsArgs","pSlice","ka","objectKeys","kb","sort","notDeepStrictEqual","expectedException","isPrototypeOf","_tryBlock","block","_throws","shouldThrow","userProvidedMessage","isUnwantedException","isError","isUnexpectedException","hasOwn","generatedMessage","captureStackTrace","out","fn_name","next_line","inherits","equal","notEqual","deepEqual","deepStrictEqual","notDeepEqual","strictEqual","notStrictEqual","doesNotThrow","ifError","lookup","sameNamespace","nsps","newConnection","forceNew","multiplex","debug","Manager","query","parser","managers","Socket","loc","host","parseuri","ipv6","subs","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","Backoff","jitter","timeout","readyState","lastPing","encoding","packetBuffer","_parser","encoder","Encoder","decoder","Decoder","autoConnect","eio","Emitter","has","emitAll","nsp","updateSocketIds","generateId","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","setMin","_randomizationFactor","setJitter","_reconnectionDelayMax","setMax","_timeout","maybeReconnectOnOpen","reconnecting","attempts","reconnect","skipReconnect","openSub","errorSub","cleanup","onping","onpong","ondata","ondecoded","packet","onConnecting","encode","encodedPackets","write","processPacketQueue","subsLength","sub","onreconnect","attempt","ids","acks","receiveBuffer","sendBuffer","toArray","parseqs","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","ping","pong","subEvents","EVENT","compress","CONNECT","onpacket","onconnect","onevent","BINARY_EVENT","ACK","onack","BINARY_ACK","DISCONNECT","ondisconnect","ERROR","ack","sent","emitBuffered","encodeAsString","attachments","encodeAsBinary","writeEncoding","bloblessData","deconstruction","binary","deconstructPacket","buffers","removeBlobs","reconstructor","decodeString","types","next","tryParse","BinaryReconstructor","reconPack","hasBin","isBuf","base64","takeBinaryData","finishedReconstruction","binData","reconstructPacket","process","useColors","documentElement","WebkitAppearance","firebug","exception","table","$1","formatArgs","namespace","humanize","lastC","save","namespaces","storage","env","DEBUG","localstorage","localStorage","chrome","colors","formatters","authority","ipv6uri","mixin","_callbacks","hasListeners","ms","factor","pow","rand","deviation","array","encodeURIComponent","decode","qs","qry","pairs","pair","decodeURIComponent","_deconstructPacket","placeholder","_placeholder","num","newData","_reconstructPacket","withNativeBlob","Blob","withNativeFile","File","packetData","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","FileReader","onload","readAsArrayBuffer","selectColor","hash","createDebug","prevTime","coerce","formatter","logFn","skips","disable","hasBinary","toJSON","hostname","secure","agent","upgrade","forceJSONP","jsonp","forceBase64","enablesXDR","timestampParam","timestampRequests","transportOptions","writeBuffer","prevBufferLen","policyPort","rememberUpgrade","binaryType","onlyBinaryUpgrades","perMessageDeflate","threshold","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","forceNode","freeGlobal","extraHeaders","upgrades","pingInterval","pingTimeout","pingIntervalTimer","pingTimeoutTimer","parsejson","priorWebsocketSuccess","Transport","createTransport","EIO","transport","sid","requestTimeout","protocols","setTransport","onDrain","onPacket","onClose","probe","onTransportOpen","upgradeLosesBinary","supportsBinary","upgrading","flush","freezeTransport","onTransportClose","onupgrade","onOpen","onHandshake","setPing","filterUpgrades","onHeartbeat","sendPacket","cleanupAndClose","waitForUpgrade","filteredUpgrades","fmtShort","fmtLong","plural","doOpen","doClose","packets","onData","decodePacket","polling","xhr","xd","xs","isSSL","xdomain","xscheme","XMLHttpRequest","XHR","JSONP","websocket","encodeBase64Object","encodeArrayBuffer","encodeBase64Packet","contentArray","resultBuffer","byteLength","encodeBlobAsArrayBuffer","fr","encodePacket","encodeBlob","dontSendBlobs","tryDecode","utf8","ary","each","done","after","eachWithIndex","el","base64encoder","sliceBuffer","isAndroid","isPhantomJS","noop","packetslist","utf8encode","encoded","b64","readAsDataURL","b64data","typed","basic","btoa","utf8decode","decodeBase64Packet","asArray","rest","encodePayload","setLengthHeader","encodeOne","doneCallback","isBinary","encodePayloadAsBlob","encodePayloadAsArrayBuffer","decodePayload","decodePayloadAsBinary","chr","totalLength","acc","resultArray","bufferIndex","isString","lenStr","binaryIdentifier","lengthAry","bufferTail","tailArray","msgLength","total","rvalidchars","rvalidescape","rvalidtokens","rvalidbraces","rtrimLeft","rtrimRight","hasCORS","XDomainRequest","Polling","Request","async","unloadHandler","requests","abort","inherit","request","doWrite","req","sendXhr","doPoll","pollXhr","setDisableHeaderCheck","setRequestHeader","withCredentials","hasXDR","onLoad","responseText","onreadystatechange","contentType","getResponseHeader","responseType","requestsCount","fromError","attachEvent","JSONPPolling","___eio","script","rNewline","rEscapedNewline","form","iframe","insertAt","head","isUAgecko","initIframe","iframeId","area","submit","WS","usingBrowserWebSocket","BrowserWebSocket","WebSocket","NodeWebSocket","yeast","MozWebSocket","check","headers","ws","supports","addEventListeners","schema","ucs2decode","extra","output","ucs2encode","stringFromCharCode","checkScalarValue","codePoint","createByte","encodeCodePoint","symbol","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","freeExports","hasXHR2","poll","onPause","callbackfn","arraybuffer","bytes","abv","err_cb","proxy","bail","mapArrayBufferViews","chunk","byteOffset","BlobBuilderConstructor","bb","BlobBuilder","getBlob","BlobConstructor","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","blobSupportsArrayBufferView","blobBuilderSupported","chars","encoded1","encoded2","encoded3","encoded4","bufferLength","alphabet","seed"],"mappings":"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","file":"3.3.js?77ae89475a9e0876054f","sourcesContent":["webpackJsonp([3],[\n/* 0 */,\n/* 1 */,\n/* 2 */,\n/* 3 */\n/*!**********************!*\\\n  !*** ./client/ui.js ***!\n  \\**********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar async = __webpack_require__(/*! async */ 34),\n\t    me = __webpack_require__(/*! ./myself.js */ 1),\n\t    printf = __webpack_require__(/*! printf */ 65),\n\t    etc = __webpack_require__(/*! ./etc.js */ 27),\n\t    EventEmitter = __webpack_require__(/*! events */ 42);\n\tvar wins = __webpack_require__(/*! ./windows.js */ 2);\n\t\n\tvar Loader = laya.net.Loader;\n\tvar Handler = laya.utils.Handler;\n\tvar innerStage;\n\t\n\tvar uidefine = {\n\t    'login': __webpack_require__(/*! ./mainUI.js */ 28),\n\t    'hall': function hall() {\n\t        var args = arguments;\n\t        var loader = __webpack_require__(/*! bundle!./mainUI.js */ 29);\n\t        loader(function (creator) {\n\t            creator.apply(null, args);\n\t        });\n\t    },\n\t    'gamefish': function gamefish() {\n\t        var args = arguments;\n\t        var loader = __webpack_require__(/*! bundle!./gameUI.js */ 30);\n\t        loader(function (creator) {\n\t            creator.apply(null, args);\n\t        });\n\t    },\n\t    'loading': function loading() {\n\t        var args = arguments;\n\t        var loader = __webpack_require__(/*! bundle!./loadingUI.js */ 32);\n\t        console.log('load1');\n\t        loader(function (creator) {\n\t            creator.apply(null, args);\n\t        });\n\t    }\n\t};\n\tvar uiCreator = function uiCreator(name, opt, cb) {\n\t    if (uidefine[name]) {\n\t        return uidefine[name](opt, cb);\n\t    }\n\t    cb('no such view');\n\t};\n\tvar ui = {\n\t    views: {},\n\t    current: null,\n\t    get: function get(viewname, opt, cb) {\n\t        console.log('get');\n\t        var self = this;\n\t        // if (this.views[viewname]) return cb(null, this.views[viewname]);\n\t        uiCreator(viewname, opt, function (err, view) {\n\t            console.log(viewname, 'created');\n\t            if (err) return cb(err);\n\t            //self.views[viewname]=view;\n\t            cb(null, view);\n\t        });\n\t    },\n\t    active: function active(viewname, opt, cb) {\n\t        var self = this;\n\t        this.get(viewname, opt, function (err, view) {\n\t            console.log('errr1');\n\t            if (err) return cb && cb(err);\n\t            console.log('enter', viewname);\n\t            if (view == self.current) return cb && cb(null, view);\n\t            if (self.current) {\n\t                self.current.deactive && self.current.deactive();\n\t                fairygui.GRoot.inst.removeChild(self.current._view);\n\t            }\n\t            Laya.SoundManager.stopAll();\n\t            view._view.setSize(fairygui.GRoot.inst.width, fairygui.GRoot.inst.height);\n\t            view._view.addRelation(fairygui.GRoot.inst, fairygui.RelationType.Size);\n\t            fairygui.GRoot.inst.addChild(view._view);\n\t            self.current = view;\n\t            cb && cb(null, view);\n\t        });\n\t    }\n\t};\n\t\n\tmodule.exports = ui;\n\n/***/ },\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */\n/*!**********************************************************************************!*\\\n  !*** ./~/imports-loader?this=>window!./client/libs/rawinflate/rawinflate.min.js ***!\n  \\**********************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t(function() {\n\t\n\t/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function() {'use strict';var l=this;function p(b,e){var a=b.split(\".\"),c=l;!(a[0]in c)&&c.execScript&&c.execScript(\"var \"+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&void 0!==e?c[d]=e:c=c[d]?c[d]:c[d]={}};var q=\"undefined\"!==typeof Uint8Array&&\"undefined\"!==typeof Uint16Array&&\"undefined\"!==typeof Uint32Array&&\"undefined\"!==typeof DataView;function t(b){var e=b.length,a=0,c=Number.POSITIVE_INFINITY,d,f,g,h,k,m,r,n,s,J;for(n=0;n<e;++n)b[n]>a&&(a=b[n]),b[n]<c&&(c=b[n]);d=1<<a;f=new (q?Uint32Array:Array)(d);g=1;h=0;for(k=2;g<=a;){for(n=0;n<e;++n)if(b[n]===g){m=0;r=h;for(s=0;s<g;++s)m=m<<1|r&1,r>>=1;J=g<<16|n;for(s=m;s<d;s+=k)f[s]=J;++h}++g;h<<=1;k<<=1}return[f,a,c]};function u(b,e){this.g=[];this.h=32768;this.c=this.f=this.d=this.k=0;this.input=q?new Uint8Array(b):b;this.l=!1;this.i=v;this.q=!1;if(e||!(e={}))e.index&&(this.d=e.index),e.bufferSize&&(this.h=e.bufferSize),e.bufferType&&(this.i=e.bufferType),e.resize&&(this.q=e.resize);switch(this.i){case w:this.a=32768;this.b=new (q?Uint8Array:Array)(32768+this.h+258);break;case v:this.a=0;this.b=new (q?Uint8Array:Array)(this.h);this.e=this.v;this.m=this.s;this.j=this.t;break;default:throw Error(\"invalid inflate mode\");\n\t}}var w=0,v=1;\n\tu.prototype.u=function(){for(;!this.l;){var b=x(this,3);b&1&&(this.l=!0);b>>>=1;switch(b){case 0:var e=this.input,a=this.d,c=this.b,d=this.a,f=e.length,g=void 0,h=void 0,k=c.length,m=void 0;this.c=this.f=0;if(a+1>=f)throw Error(\"invalid uncompressed block header: LEN\");g=e[a++]|e[a++]<<8;if(a+1>=f)throw Error(\"invalid uncompressed block header: NLEN\");h=e[a++]|e[a++]<<8;if(g===~h)throw Error(\"invalid uncompressed block header: length verify\");if(a+g>e.length)throw Error(\"input buffer is broken\");switch(this.i){case w:for(;d+\n\tg>c.length;){m=k-d;g-=m;if(q)c.set(e.subarray(a,a+m),d),d+=m,a+=m;else for(;m--;)c[d++]=e[a++];this.a=d;c=this.e();d=this.a}break;case v:for(;d+g>c.length;)c=this.e({o:2});break;default:throw Error(\"invalid inflate mode\");}if(q)c.set(e.subarray(a,a+g),d),d+=g,a+=g;else for(;g--;)c[d++]=e[a++];this.d=a;this.a=d;this.b=c;break;case 1:this.j(y,z);break;case 2:A(this);break;default:throw Error(\"unknown BTYPE: \"+b);}}return this.m()};\n\tvar B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=q?new Uint16Array(B):B,D=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],E=q?new Uint16Array(D):D,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],G=q?new Uint8Array(F):F,H=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],I=q?new Uint16Array(H):H,K=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,\n\t13],L=q?new Uint8Array(K):K,M=new (q?Uint8Array:Array)(288),N,O;N=0;for(O=M.length;N<O;++N)M[N]=143>=N?8:255>=N?9:279>=N?7:8;var y=t(M),P=new (q?Uint8Array:Array)(30),Q,R;Q=0;for(R=P.length;Q<R;++Q)P[Q]=5;var z=t(P);function x(b,e){for(var a=b.f,c=b.c,d=b.input,f=b.d,g=d.length,h;c<e;){if(f>=g)throw Error(\"input buffer is broken\");a|=d[f++]<<c;c+=8}h=a&(1<<e)-1;b.f=a>>>e;b.c=c-e;b.d=f;return h}\n\tfunction S(b,e){for(var a=b.f,c=b.c,d=b.input,f=b.d,g=d.length,h=e[0],k=e[1],m,r;c<k&&!(f>=g);)a|=d[f++]<<c,c+=8;m=h[a&(1<<k)-1];r=m>>>16;b.f=a>>r;b.c=c-r;b.d=f;return m&65535}\n\tfunction A(b){function e(a,b,c){var e,d=this.p,f,g;for(g=0;g<a;)switch(e=S(this,b),e){case 16:for(f=3+x(this,2);f--;)c[g++]=d;break;case 17:for(f=3+x(this,3);f--;)c[g++]=0;d=0;break;case 18:for(f=11+x(this,7);f--;)c[g++]=0;d=0;break;default:d=c[g++]=e}this.p=d;return c}var a=x(b,5)+257,c=x(b,5)+1,d=x(b,4)+4,f=new (q?Uint8Array:Array)(C.length),g,h,k,m;for(m=0;m<d;++m)f[C[m]]=x(b,3);if(!q){m=d;for(d=f.length;m<d;++m)f[C[m]]=0}g=t(f);h=new (q?Uint8Array:Array)(a);k=new (q?Uint8Array:Array)(c);b.p=0;\n\tb.j(t(e.call(b,a,g,h)),t(e.call(b,c,g,k)))}u.prototype.j=function(b,e){var a=this.b,c=this.a;this.n=b;for(var d=a.length-258,f,g,h,k;256!==(f=S(this,b));)if(256>f)c>=d&&(this.a=c,a=this.e(),c=this.a),a[c++]=f;else{g=f-257;k=E[g];0<G[g]&&(k+=x(this,G[g]));f=S(this,e);h=I[f];0<L[f]&&(h+=x(this,L[f]));c>=d&&(this.a=c,a=this.e(),c=this.a);for(;k--;)a[c]=a[c++-h]}for(;8<=this.c;)this.c-=8,this.d--;this.a=c};\n\tu.prototype.t=function(b,e){var a=this.b,c=this.a;this.n=b;for(var d=a.length,f,g,h,k;256!==(f=S(this,b));)if(256>f)c>=d&&(a=this.e(),d=a.length),a[c++]=f;else{g=f-257;k=E[g];0<G[g]&&(k+=x(this,G[g]));f=S(this,e);h=I[f];0<L[f]&&(h+=x(this,L[f]));c+k>d&&(a=this.e(),d=a.length);for(;k--;)a[c]=a[c++-h]}for(;8<=this.c;)this.c-=8,this.d--;this.a=c};\n\tu.prototype.e=function(){var b=new (q?Uint8Array:Array)(this.a-32768),e=this.a-32768,a,c,d=this.b;if(q)b.set(d.subarray(32768,b.length));else{a=0;for(c=b.length;a<c;++a)b[a]=d[a+32768]}this.g.push(b);this.k+=b.length;if(q)d.set(d.subarray(e,e+32768));else for(a=0;32768>a;++a)d[a]=d[e+a];this.a=32768;return d};\n\tu.prototype.v=function(b){var e,a=this.input.length/this.d+1|0,c,d,f,g=this.input,h=this.b;b&&(\"number\"===typeof b.o&&(a=b.o),\"number\"===typeof b.r&&(a+=b.r));2>a?(c=(g.length-this.d)/this.n[2],f=258*(c/2)|0,d=f<h.length?h.length+f:h.length<<1):d=h.length*a;q?(e=new Uint8Array(d),e.set(h)):e=h;return this.b=e};\n\tu.prototype.m=function(){var b=0,e=this.b,a=this.g,c,d=new (q?Uint8Array:Array)(this.k+(this.a-32768)),f,g,h,k;if(0===a.length)return q?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);f=0;for(g=a.length;f<g;++f){c=a[f];h=0;for(k=c.length;h<k;++h)d[b++]=c[h]}f=32768;for(g=this.a;f<g;++f)d[b++]=e[f];this.g=[];return this.buffer=d};\n\tu.prototype.s=function(){var b,e=this.a;q?this.q?(b=new Uint8Array(e),b.set(this.b.subarray(0,e))):b=this.b.subarray(0,e):(this.b.length>e&&(this.b.length=e),b=this.b);return this.buffer=b};p(\"Zlib.RawInflate\",u);p(\"Zlib.RawInflate.prototype.decompress\",u.prototype.u);var T={ADAPTIVE:v,BLOCK:w},U,V,W,X;if(Object.keys)U=Object.keys(T);else for(V in U=[],W=0,T)U[W++]=V;W=0;for(X=U.length;W<X;++W)V=U[W],p(\"Zlib.RawInflate.BufferType.\"+V,T[V]);}).call(this); //@ sourceMappingURL=rawinflate.min.js.map\n\t\n\t}.call(window));\n\n/***/ },\n/* 20 */\n/*!**************************************************************************!*\\\n  !*** ./~/imports-loader?this=>window!./client/libs/fairygui/fairygui.js ***!\n  \\**************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*** IMPORTS FROM imports-loader ***/\n\t(function() {\n\t\n\t(function(window, document, Laya) {\r\n\t    var __un = Laya.un,\r\n\t        __uns = Laya.uns,\r\n\t        __static = Laya.static,\r\n\t        __class = Laya.class,\r\n\t        __getset = Laya.getset,\r\n\t        __newvec = Laya.__newvec;\r\n\t\r\n\t    var Browser = laya.utils.Browser,\r\n\t        Byte = laya.utils.Byte,\r\n\t        ColorFilter = laya.filters.ColorFilter,\r\n\t        Ease = laya.utils.Ease;\r\n\t    var Event = laya.events.Event,\r\n\t        EventDispatcher = laya.events.EventDispatcher,\r\n\t        Graphics = laya.display.Graphics,\r\n\t        HTMLDivElement = laya.html.dom.HTMLDivElement;\r\n\t    var Handler = laya.utils.Handler,\r\n\t        HitArea = laya.utils.HitArea,\r\n\t        Input = laya.display.Input,\r\n\t        Log = laya.utils.Log,\r\n\t        Node = laya.display.Node;\r\n\t    var Point = laya.maths.Point,\r\n\t        Rectangle = laya.maths.Rectangle,\r\n\t        Render = laya.renders.Render,\r\n\t        Sound = laya.media.Sound;\r\n\t    var SoundManager = laya.media.SoundManager,\r\n\t        Sprite = laya.display.Sprite,\r\n\t        Stage = laya.display.Stage,\r\n\t        Text = laya.display.Text;\r\n\t    var Texture = laya.resource.Texture,\r\n\t        Tween = laya.utils.Tween,\r\n\t        Utils = laya.utils.Utils;\r\n\t    Laya.interface('fairygui.IUISource');\r\n\t    Laya.interface('fairygui.IColorGear');\r\n\t    Laya.interface('fairygui.IAnimationGear');\r\n\t    //class fairygui.action.ControllerAction\r\n\t    var ControllerAction = (function() {\r\n\t        function ControllerAction() {\r\n\t            this.fromPage = null;\r\n\t            this.toPage = null;\r\n\t        }\r\n\t\r\n\t        __class(ControllerAction, 'fairygui.action.ControllerAction');\r\n\t        var __proto = ControllerAction.prototype;\r\n\t        __proto.run = function(controller, prevPage, curPage) {\r\n\t            if ((this.fromPage == null || this.fromPage.length == 0 || this.fromPage.indexOf(prevPage) != -1) &&\r\n\t                (this.toPage == null || this.toPage.length == 0 || this.toPage.indexOf(curPage) != -1))\r\n\t                this.enter(controller);\r\n\t            else\r\n\t                this.leave(controller);\r\n\t        }\r\n\t\r\n\t        __proto.enter = function(controller) {}\r\n\t        __proto.leave = function(controller) {}\r\n\t        __proto.setup = function(xml) {\r\n\t            var str;\r\n\t            str = xml.getAttribute('fromPage');\r\n\t            if (str)\r\n\t                this.fromPage = str.split(\",\");\r\n\t            str = xml.getAttribute('toPage');\r\n\t            if (str)\r\n\t                this.toPage = str.split(\",\");\r\n\t        }\r\n\t\r\n\t        ControllerAction.createAction = function(type) {\r\n\t            switch (type) {\r\n\t                case \"play_transition\":\r\n\t                    return new PlayTransitionAction();\r\n\t                case \"change_page\":\r\n\t                    return new ChangePageAction();\r\n\t            }\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        return ControllerAction;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.AssetProxy\r\n\t    var AssetProxy = (function() {\r\n\t        function AssetProxy() {\r\n\t            this._asset = null;\r\n\t            this._asset = Laya.loader;\r\n\t        }\r\n\t\r\n\t        __class(AssetProxy, 'fairygui.AssetProxy');\r\n\t        var __proto = AssetProxy.prototype;\r\n\t        __proto.getRes = function(url) {\r\n\t            return this._asset.getRes(url);\r\n\t        }\r\n\t\r\n\t        __proto.load = function(url, complete, progress, type, priority, cache) {\r\n\t            (priority === void 0) && (priority = 1);\r\n\t            (cache === void 0) && (cache = true);\r\n\t            this._asset.load(url, complete, progress, type, priority, cache);\r\n\t        }\r\n\t\r\n\t        __proto.setAsset = function(asset) {\r\n\t            this._asset = asset;\r\n\t        }\r\n\t\r\n\t        __getset(1, AssetProxy, 'inst', function() {\r\n\t            if (fairygui.AssetProxy._inst == null)\r\n\t                AssetProxy._inst = new AssetProxy();\r\n\t            return fairygui.AssetProxy._inst;\r\n\t        });\r\n\t\r\n\t        AssetProxy._inst = null\r\n\t        return AssetProxy;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.AsyncOperation\r\n\t    var AsyncOperation = (function() {\r\n\t        function AsyncOperation() {\r\n\t            this.callback = null;\r\n\t            this._itemList = null;\r\n\t            this._objectPool = null;\r\n\t            this._index = 0;\r\n\t            this._itemList = [];\r\n\t            this._objectPool = [];\r\n\t        }\r\n\t\r\n\t        __class(AsyncOperation, 'fairygui.AsyncOperation');\r\n\t        var __proto = AsyncOperation.prototype;\r\n\t        __proto.createObject = function(pkgName, resName) {\r\n\t            var pkg = UIPackage.getByName(pkgName);\r\n\t            if (pkg) {\r\n\t                var pi = pkg.getItemByName(resName);\r\n\t                if (!pi)\r\n\t                    throw new Error(\"resource not found: \" + resName);\r\n\t                this.internalCreateObject(pi);\r\n\t            } else\r\n\t                throw new Error(\"package not found: \" + pkgName);\r\n\t        }\r\n\t\r\n\t        __proto.createObjectFromURL = function(url) {\r\n\t            var pi = UIPackage.getItemByURL(url);\r\n\t            if (pi)\r\n\t                this.internalCreateObject(pi);\r\n\t            else\r\n\t                throw new Error(\"resource not found: \" + url);\r\n\t        }\r\n\t\r\n\t        __proto.cancel = function() {\r\n\t            Laya.timer.clear(this, this.run);\r\n\t            this._itemList.length = 0;\r\n\t            if (this._objectPool.length > 0) {\r\n\t                var obj;\r\n\t                /*for each*/\r\n\t                for (var $each_obj in this._objectPool) {\r\n\t                    obj = this._objectPool[$each_obj];\r\n\t                    obj.dispose();\r\n\t                }\r\n\t                this._objectPool.length = 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.internalCreateObject = function(item) {\r\n\t            this._itemList.length = 0;\r\n\t            this._objectPool.length = 0;\r\n\t            this.collectComponentChildren(item);\r\n\t            this._itemList.push(new DisplayListItem(item, null));\r\n\t            this._index = 0;\r\n\t            Laya.timer.frameLoop(1, this, this.run);\r\n\t        }\r\n\t\r\n\t        __proto.collectComponentChildren = function(item) {\r\n\t            item.owner.getItemAsset(item);\r\n\t            var cnt = item.displayList.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var di = item.displayList[i];\r\n\t                if (di.packageItem != null && di.packageItem.type == /*fairygui.PackageItemType.Component*/ 4)\r\n\t                    this.collectComponentChildren(di.packageItem);\r\n\t                else if (di.type == \"list\") {\r\n\t                    var defaultItem = null;\r\n\t                    di.listItemCount = 0;\r\n\t                    var col = di.desc.childNodes;\r\n\t                    var length = col.length;\r\n\t                    for (var j = 0; j < length; j++) {\r\n\t                        var cxml = col[j];\r\n\t                        if (cxml.nodeName != \"item\")\r\n\t                            continue;\r\n\t                        var url = cxml.getAttribute(\"url\");\r\n\t                        if (!url) {\r\n\t                            if (defaultItem == null)\r\n\t                                defaultItem = di.desc.getAttribute(\"defaultItem\");\r\n\t                            url = defaultItem;\r\n\t                            if (!url)\r\n\t                                continue;\r\n\t                        };\r\n\t                        var pi = UIPackage.getItemByURL(url);\r\n\t                        if (pi) {\r\n\t                            if (pi.type == /*fairygui.PackageItemType.Component*/ 4)\r\n\t                                this.collectComponentChildren(pi);\r\n\t                            this._itemList.push(new DisplayListItem(pi, null));\r\n\t                            di.listItemCount++;\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t                this._itemList.push(di);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.run = function() {\r\n\t            var obj;\r\n\t            var di;\r\n\t            var poolStart = 0;\r\n\t            var k = 0;\r\n\t            var t = Browser.now();\r\n\t            var frameTime = UIConfig1.frameTimeForAsyncUIConstruction;\r\n\t            var totalItems = this._itemList.length;\r\n\t            while (this._index < totalItems) {\r\n\t                di = this._itemList[this._index];\r\n\t                if (di.packageItem != null) {\r\n\t                    obj = UIObjectFactory.newObject(di.packageItem);\r\n\t                    obj.packageItem = di.packageItem;\r\n\t                    this._objectPool.push(obj);\r\n\t                    UIPackage._constructing++;\r\n\t                    if (di.packageItem.type == /*fairygui.PackageItemType.Component*/ 4) {\r\n\t                        poolStart = this._objectPool.length - di.packageItem.displayList.length - 1;\r\n\t                        (obj).constructFromResource2(this._objectPool, poolStart);\r\n\t                        this._objectPool.splice(poolStart, di.packageItem.displayList.length);\r\n\t                    } else {\r\n\t                        obj.constructFromResource();\r\n\t                    }\r\n\t                    UIPackage._constructing--;\r\n\t                } else {\r\n\t                    obj = UIObjectFactory.newObject2(di.type);\r\n\t                    this._objectPool.push(obj);\r\n\t                    if (di.type == \"list\" && di.listItemCount > 0) {\r\n\t                        poolStart = this._objectPool.length - di.listItemCount - 1;\r\n\t                        for (k = 0; k < di.listItemCount; k++)\r\n\t                            (obj).itemPool.returnObject(this._objectPool[k + poolStart]);\r\n\t                        this._objectPool.splice(poolStart, di.listItemCount);\r\n\t                    }\r\n\t                }\r\n\t                this._index++;\r\n\t                if ((this._index % 5 == 0) && Browser.now() - t >= frameTime)\r\n\t                    return;\r\n\t            }\r\n\t            Laya.timer.clear(this, this.run);\r\n\t            var result = this._objectPool[0];\r\n\t            this._itemList.length = 0;\r\n\t            this._objectPool.length = 0;\r\n\t            if (this.callback != null)\r\n\t                this.callback.runWith(result);\r\n\t        }\r\n\t\r\n\t        return AsyncOperation;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.AutoSizeType\r\n\t    var AutoSizeType = (function() {\r\n\t        function AutoSizeType() {}\r\n\t        __class(AutoSizeType, 'fairygui.AutoSizeType');\r\n\t        AutoSizeType.parse = function(value) {\r\n\t            switch (value) {\r\n\t                case \"none\":\r\n\t                    return 0;\r\n\t                case \"both\":\r\n\t                    return 1;\r\n\t                case \"height\":\r\n\t                    return 2;\r\n\t                default:\r\n\t                    return 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        AutoSizeType.None = 0;\r\n\t        AutoSizeType.Both = 1;\r\n\t        AutoSizeType.Height = 2;\r\n\t        return AutoSizeType;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.ButtonMode\r\n\t    var ButtonMode = (function() {\r\n\t        function ButtonMode() {}\r\n\t        __class(ButtonMode, 'fairygui.ButtonMode');\r\n\t        ButtonMode.parse = function(value) {\r\n\t            switch (value) {\r\n\t                case \"Common\":\r\n\t                    return 0;\r\n\t                case \"Check\":\r\n\t                    return 1;\r\n\t                case \"Radio\":\r\n\t                    return 2;\r\n\t                default:\r\n\t                    return 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        ButtonMode.Common = 0;\r\n\t        ButtonMode.Check = 1;\r\n\t        ButtonMode.Radio = 2;\r\n\t        return ButtonMode;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.ChildrenRenderOrder\r\n\t    var ChildrenRenderOrder = (function() {\r\n\t        function ChildrenRenderOrder() {}\r\n\t        __class(ChildrenRenderOrder, 'fairygui.ChildrenRenderOrder');\r\n\t        ChildrenRenderOrder.parse = function(value) {\r\n\t            switch (value) {\r\n\t                case \"ascent\":\r\n\t                    return 0;\r\n\t                case \"descent\":\r\n\t                    return 1;\r\n\t                case \"arch\":\r\n\t                    return 2;\r\n\t                default:\r\n\t                    return 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        ChildrenRenderOrder.Ascent = 0;\r\n\t        ChildrenRenderOrder.Descent = 1;\r\n\t        ChildrenRenderOrder.Arch = 2;\r\n\t        return ChildrenRenderOrder;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.display.BitmapFont\r\n\t    var BitmapFont1 = (function() {\r\n\t        function BitmapFont() {\r\n\t            this.id = null;\r\n\t            this.size = 0;\r\n\t            this.ttf = false;\r\n\t            this.glyphs = null;\r\n\t            this.resizable = false;\r\n\t            this.glyphs = {};\r\n\t        }\r\n\t\r\n\t        __class(BitmapFont, 'fairygui.display.BitmapFont', null, 'BitmapFont1');\r\n\t        return BitmapFont;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.display.BMGlyph\r\n\t    var BMGlyph = (function() {\r\n\t        function BMGlyph() {\r\n\t            this.x = 0;\r\n\t            this.y = 0;\r\n\t            this.offsetX = 0;\r\n\t            this.offsetY = 0;\r\n\t            this.width = 0;\r\n\t            this.height = 0;\r\n\t            this.advance = 0;\r\n\t            this.lineHeight = 0;\r\n\t            this.channel = 0;\r\n\t            this.texture = null;\r\n\t        }\r\n\t\r\n\t        __class(BMGlyph, 'fairygui.display.BMGlyph');\r\n\t        return BMGlyph;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.display.Frame\r\n\t    var Frame = (function() {\r\n\t        function Frame() {\r\n\t            this.rect = null;\r\n\t            this.addDelay = 0;\r\n\t            this.texture = null;\r\n\t            this.rect = new Rectangle();\r\n\t        }\r\n\t\r\n\t        __class(Frame, 'fairygui.display.Frame');\r\n\t        return Frame;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.display.PlayState\r\n\t    var PlayState = (function() {\r\n\t        function PlayState() {\r\n\t            this.reachEnding = false;\r\n\t            this.reversed = false;\r\n\t            this.repeatedCount = 0;\r\n\t            this._curFrame = 0;\r\n\t            this._curFrameDelay = 0;\r\n\t            this._lastUpdateSeq = 0;\r\n\t        }\r\n\t\r\n\t        __class(PlayState, 'fairygui.display.PlayState');\r\n\t        var __proto = PlayState.prototype;\r\n\t        __proto.update = function(mc) {\r\n\t            var elapsed = NaN;\r\n\t            var frameId = Laya.timer.currFrame;\r\n\t            if (frameId - this._lastUpdateSeq != 1)\r\n\t                elapsed = 0;\r\n\t            else\r\n\t                elapsed = Laya.timer.delta;\r\n\t            this._lastUpdateSeq = frameId;\r\n\t            this.reachEnding = false;\r\n\t            this._curFrameDelay += elapsed;\r\n\t            var interval = mc.interval + mc.frames[this._curFrame].addDelay + ((this._curFrame == 0 && this.repeatedCount > 0) ? mc.repeatDelay : 0);\r\n\t            if (this._curFrameDelay < interval)\r\n\t                return;\r\n\t            this._curFrameDelay -= interval;\r\n\t            if (this._curFrameDelay > mc.interval)\r\n\t                this._curFrameDelay = mc.interval;\r\n\t            if (mc.swing) {\r\n\t                if (this.reversed) {\r\n\t                    this._curFrame--;\r\n\t                    if (this._curFrame <= 0) {\r\n\t                        this._curFrame = 0;\r\n\t                        this.repeatedCount++;\r\n\t                        this.reversed = !this.reversed;\r\n\t                    }\r\n\t                } else {\r\n\t                    this._curFrame++;\r\n\t                    if (this._curFrame > mc.frameCount - 1) {\r\n\t                        this._curFrame = Math.max(0, mc.frameCount - 2);\r\n\t                        this.repeatedCount++;\r\n\t                        this.reachEnding = true;\r\n\t                        this.reversed = !this.reversed;\r\n\t                    }\r\n\t                }\r\n\t            } else {\r\n\t                this._curFrame++;\r\n\t                if (this._curFrame > mc.frameCount - 1) {\r\n\t                    this._curFrame = 0;\r\n\t                    this.repeatedCount++;\r\n\t                    this.reachEnding = true;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.rewind = function() {\r\n\t            this._curFrame = 0;\r\n\t            this._curFrameDelay = 0;\r\n\t            this.reversed = false;\r\n\t            this.reachEnding = false;\r\n\t        }\r\n\t\r\n\t        __proto.reset = function() {\r\n\t            this._curFrame = 0;\r\n\t            this._curFrameDelay = 0;\r\n\t            this.repeatedCount = 0;\r\n\t            this.reachEnding = false;\r\n\t            this.reversed = false;\r\n\t        }\r\n\t\r\n\t        __proto.copy = function(src) {\r\n\t            this._curFrame = src._curFrame;\r\n\t            this._curFrameDelay = src._curFrameDelay;\r\n\t            this.repeatedCount = src.repeatedCount;\r\n\t            this.reachEnding = src.reachEnding;\r\n\t            this.reversed = src.reversed;\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'currentFrame', function() {\r\n\t            return this._curFrame;\r\n\t        }, function(value) {\r\n\t            this._curFrame = value;\r\n\t            this._curFrameDelay = 0;\r\n\t        });\r\n\t\r\n\t        return PlayState;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.DisplayListItem\r\n\t    var DisplayListItem = (function() {\r\n\t        function DisplayListItem(packageItem, type) {\r\n\t            this.packageItem = null;\r\n\t            this.type = null;\r\n\t            this.desc = null;\r\n\t            this.listItemCount = 0;\r\n\t            this.packageItem = packageItem;\r\n\t            this.type = type;\r\n\t        }\r\n\t\r\n\t        __class(DisplayListItem, 'fairygui.DisplayListItem');\r\n\t        return DisplayListItem;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.DragDropManager\r\n\t    var DragDropManager = (function() {\r\n\t        function DragDropManager() {\r\n\t            this._agent = null;\r\n\t            this._sourceData = null;\r\n\t            this._agent = new GLoader();\r\n\t            this._agent.draggable = true;\r\n\t            this._agent.touchable = false;\r\n\t            this._agent.setSize(100, 100);\r\n\t            this._agent.setPivot(0.5, 0.5, true);\r\n\t            this._agent.align = \"center\";\r\n\t            this._agent.verticalAlign = \"middle\";\r\n\t            this._agent.sortingOrder = 1000000;\r\n\t            this._agent.on( /*fairygui.Events.DRAG_END*/ \"fui_drag_end\", this, this.__dragEnd);\r\n\t        }\r\n\t\r\n\t        __class(DragDropManager, 'fairygui.DragDropManager');\r\n\t        var __proto = DragDropManager.prototype;\r\n\t        __proto.startDrag = function(source, icon, sourceData, touchPointID) {\r\n\t            (touchPointID === void 0) && (touchPointID = -1);\r\n\t            if (this._agent.parent != null)\r\n\t                return;\r\n\t            this._sourceData = sourceData;\r\n\t            this._agent.url = icon;\r\n\t            GRoot.inst.addChild(this._agent);\r\n\t            var pt = GRoot.inst.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY);\r\n\t            this._agent.setXY(pt.x, pt.y);\r\n\t            this._agent.startDrag(touchPointID);\r\n\t        }\r\n\t\r\n\t        __proto.cancel = function() {\r\n\t            if (this._agent.parent != null) {\r\n\t                this._agent.stopDrag();\r\n\t                GRoot.inst.removeChild(this._agent);\r\n\t                this._sourceData = null;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__dragEnd = function(evt) {\r\n\t            if (this._agent.parent == null)\r\n\t                return;\r\n\t            GRoot.inst.removeChild(this._agent);\r\n\t            var sourceData = this._sourceData;\r\n\t            this._sourceData = null;\r\n\t            var obj = GObject.cast(evt.target);\r\n\t            while (obj != null) {\r\n\t                if (obj.displayObject.hasListener( /*fairygui.Events.DROP*/ \"fui_drop\")) {\r\n\t                    obj.requestFocus();\r\n\t                    obj.displayObject.event( /*fairygui.Events.DROP*/ \"fui_drop\", [sourceData, Events.createEvent( /*fairygui.Events.DROP*/ \"fui_drop\", obj.displayObject, evt)]);\r\n\t                    return;\r\n\t                }\r\n\t                obj = obj.parent;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'dragAgent', function() {\r\n\t            return this._agent;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'dragging', function() {\r\n\t            return this._agent.parent != null;\r\n\t        });\r\n\t\r\n\t        __getset(1, DragDropManager, 'inst', function() {\r\n\t            if (fairygui.DragDropManager._inst == null)\r\n\t                fairygui.DragDropManager._inst = new DragDropManager();\r\n\t            return fairygui.DragDropManager._inst;\r\n\t        });\r\n\t\r\n\t        DragDropManager._inst = null\r\n\t        return DragDropManager;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.Events\r\n\t    var Events = (function() {\r\n\t        function Events() {};\r\n\t        __class(Events, 'fairygui.Events');\r\n\t        Events.createEvent = function(type, target, source) {\r\n\t            fairygui.Events.$event.setTo(type, target, source ? source.target : target);\r\n\t            if (source) {\r\n\t                fairygui.Events.$event.touchId = source.touchId;\r\n\t                fairygui.Events.$event.nativeEvent = source.nativeEvent;\r\n\t            } else {\r\n\t                fairygui.Events.$event.nativeEvent = null;\r\n\t            }\r\n\t            fairygui.Events.$event._stoped = false;\r\n\t            return fairygui.Events.$event;\r\n\t        }\r\n\t\r\n\t        Events.dispatch = function(type, target, source) {\r\n\t            target.event(type, fairygui.Events.createEvent(type, target, source));\r\n\t        }\r\n\t\r\n\t        Events.STATE_CHANGED = \"fui_state_changed\";\r\n\t        Events.XY_CHANGED = \"fui_xy_changed\";\r\n\t        Events.SIZE_CHANGED = \"fui_size_changed\";\r\n\t        Events.SIZE_DELAY_CHANGE = \"fui_size_delay_change\";\r\n\t        Events.CLICK_ITEM = \"fui_click_item\";\r\n\t        Events.SCROLL = \"fui_scroll\";\r\n\t        Events.SCROLL_END = \"fui_scroll_end\";\r\n\t        Events.DROP = \"fui_drop\";\r\n\t        Events.FOCUS_CHANGED = \"fui_focus_changed\";\r\n\t        Events.DRAG_START = \"fui_drag_start\";\r\n\t        Events.DRAG_MOVE = \"fui_drag_move\";\r\n\t        Events.DRAG_END = \"fui_drag_end\";\r\n\t        Events.PULL_DOWN_RELEASE = \"fui_pull_down_release\";\r\n\t        Events.PULL_UP_RELEASE = \"fui_pull_up_release\";\r\n\t        Events.GEAR_STOP = \"fui_gear_stop\";\r\n\t        __static(Events, ['$event', function() { return this.$event = new Event(); }]);\r\n\t        return Events;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.FlipType\r\n\t    var FlipType = (function() {\r\n\t        function FlipType() {}\r\n\t        __class(FlipType, 'fairygui.FlipType');\r\n\t        FlipType.parse = function(value) {\r\n\t            switch (value) {\r\n\t                case \"hz\":\r\n\t                    return /*CLASS CONST:fairygui.FlipType.Horizontal*/ 1;\r\n\t                case \"vt\":\r\n\t                    return /*CLASS CONST:fairygui.FlipType.Vertical*/ 2;\r\n\t                case \"both\":\r\n\t                    return /*CLASS CONST:fairygui.FlipType.Both*/ 3;\r\n\t                default:\r\n\t                    return /*CLASS CONST:fairygui.FlipType.None*/ 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        FlipType.None = 0;\r\n\t        FlipType.Horizontal = 1;\r\n\t        FlipType.Vertical = 2;\r\n\t        FlipType.Both = 3;\r\n\t        return FlipType;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.GObject\r\n\t    var GObject = (function() {\r\n\t        function GObject() {\r\n\t            this.data = null;\r\n\t            this.packageItem = null;\r\n\t            this._x = 0;\r\n\t            this._y = 0;\r\n\t            this._alpha = 1;\r\n\t            this._rotation = 0;\r\n\t            this._visible = true;\r\n\t            this._touchable = true;\r\n\t            this._grayed = false;\r\n\t            this._draggable = false;\r\n\t            this._scaleX = 1;\r\n\t            this._scaleY = 1;\r\n\t            this._skewX = 0;\r\n\t            this._skewY = 0;\r\n\t            this._pivotX = 0;\r\n\t            this._pivotY = 0;\r\n\t            this._pivotAsAnchor = false;\r\n\t            this._pivotOffsetX = 0;\r\n\t            this._pivotOffsetY = 0;\r\n\t            this._sortingOrder = 0;\r\n\t            this._internalVisible = true;\r\n\t            this._handlingController = false;\r\n\t            this._focusable = false;\r\n\t            this._tooltips = null;\r\n\t            this._pixelSnapping = false;\r\n\t            this._relations = null;\r\n\t            this._group = null;\r\n\t            this._gears = null;\r\n\t            this._dragBounds = null;\r\n\t            this._displayObject = null;\r\n\t            this._yOffset = 0;\r\n\t            this._sizeImplType = 0;\r\n\t            this.minWidth = 0;\r\n\t            this.minHeight = 0;\r\n\t            this.maxWidth = 0;\r\n\t            this.maxHeight = 0;\r\n\t            this.sourceWidth = 0;\r\n\t            this.sourceHeight = 0;\r\n\t            this.initWidth = 0;\r\n\t            this.initHeight = 0;\r\n\t            this._parent = null;\r\n\t            this._width = 0;\r\n\t            this._height = 0;\r\n\t            this._rawWidth = 0;\r\n\t            this._rawHeight = 0;\r\n\t            this._id = null;\r\n\t            this._name = null;\r\n\t            this._underConstruct = false;\r\n\t            this._gearLocked = false;\r\n\t            this._sizePercentInGroup = 0;\r\n\t            this._touchDownPoint = null;;\r\n\t            this._id = \"\" + fairygui.GObject._gInstanceCounter++;\r\n\t            this._name = \"\";\r\n\t            this.createDisplayObject();\r\n\t            this._relations = new Relations(this);\r\n\t            this._gears = __newvec(8, null);\r\n\t        }\r\n\t\r\n\t        __class(GObject, 'fairygui.GObject');\r\n\t        var __proto = GObject.prototype;\r\n\t        __proto.setXY = function(xv, yv) {\r\n\t            if (this._x != xv || this._y != yv) {\r\n\t                var dx = xv - this._x;\r\n\t                var dy = yv - this._y;\r\n\t                this._x = xv;\r\n\t                this._y = yv;\r\n\t                this.handleXYChanged();\r\n\t                if ((this instanceof fairygui.GGroup))\r\n\t                    (this).moveChildren(dx, dy);\r\n\t                this.updateGear(1);\r\n\t                if (this._parent && !((this._parent instanceof fairygui.GList))) {\r\n\t                    this._parent.setBoundsChangedFlag();\r\n\t                    if (this._group != null)\r\n\t                        this._group.setBoundsChangedFlag();\r\n\t                    this.displayObject.event( /*fairygui.Events.XY_CHANGED*/ \"fui_xy_changed\");\r\n\t                }\r\n\t                if (GObject.draggingObject == this && !GObject.sUpdateInDragging)\r\n\t                    this.localToGlobalRect(0, 0, this.width, this.height, GObject.sGlobalRect);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.center = function(restraint) {\r\n\t            (restraint === void 0) && (restraint = false);\r\n\t            var r;\r\n\t            if (this._parent != null)\r\n\t                r = this.parent;\r\n\t            else\r\n\t                r = this.root;\r\n\t            this.setXY((r.width - this.width) / 2, (r.height - this.height) / 2);\r\n\t            if (restraint) {\r\n\t                this.addRelation(r, /*fairygui.RelationType.Center_Center*/ 3);\r\n\t                this.addRelation(r, /*fairygui.RelationType.Middle_Middle*/ 10);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setSize = function(wv, hv, ignorePivot) {\r\n\t            (ignorePivot === void 0) && (ignorePivot = false);\r\n\t            if (this._rawWidth != wv || this._rawHeight != hv) {\r\n\t                this._rawWidth = wv;\r\n\t                this._rawHeight = hv;\r\n\t                if (wv < this.minWidth)\r\n\t                    wv = this.minWidth;\r\n\t                if (hv < this.minHeight)\r\n\t                    hv = this.minHeight;\r\n\t                if (this.maxWidth > 0 && wv > this.maxWidth)\r\n\t                    wv = this.maxWidth;\r\n\t                if (this.maxHeight > 0 && hv > this.maxHeight)\r\n\t                    hv = this.maxHeight;\r\n\t                var dWidth = wv - this._width;\r\n\t                var dHeight = hv - this._height;\r\n\t                this._width = wv;\r\n\t                this._height = hv;\r\n\t                this.handleSizeChanged();\r\n\t                if (this._pivotX != 0 || this._pivotY != 0) {\r\n\t                    if (!this._pivotAsAnchor) {\r\n\t                        if (!ignorePivot)\r\n\t                            this.setXY(this.x - this._pivotX * dWidth, this.y - this._pivotY * dHeight);\r\n\t                        this.updatePivotOffset();\r\n\t                    } else\r\n\t                        this.applyPivot();\r\n\t                }\r\n\t                if ((this instanceof fairygui.GGroup))\r\n\t                    (this).resizeChildren(dWidth, dHeight);\r\n\t                this.updateGear(2);\r\n\t                if (this._parent) {\r\n\t                    this._relations.onOwnerSizeChanged(dWidth, dHeight);\r\n\t                    this._parent.setBoundsChangedFlag();\r\n\t                    if (this._group != null)\r\n\t                        this._group.setBoundsChangedFlag(true);\r\n\t                }\r\n\t                this.displayObject.event( /*fairygui.Events.SIZE_CHANGED*/ \"fui_size_changed\");\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.ensureSizeCorrect = function() {}\r\n\t        __proto.setScale = function(sx, sy) {\r\n\t            if (this._scaleX != sx || this._scaleY != sy) {\r\n\t                this._scaleX = sx;\r\n\t                this._scaleY = sy;\r\n\t                this.handleScaleChanged();\r\n\t                this.applyPivot();\r\n\t                this.updateGear(2);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setSkew = function(sx, sy) {\r\n\t            if (this._skewX != sx || this._skewY != sy) {\r\n\t                this._skewX = sx;\r\n\t                this._skewY = sy;\r\n\t                if (this._displayObject != null) {\r\n\t                    this._displayObject.skew(-sx, sy);\r\n\t                    this.applyPivot();\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setPivot = function(xv, yv, asAnchor) {\r\n\t            (yv === void 0) && (yv = 0);\r\n\t            (asAnchor === void 0) && (asAnchor = false);\r\n\t            if (this._pivotX != xv || this._pivotY != yv || this._pivotAsAnchor != asAnchor) {\r\n\t                this._pivotX = xv;\r\n\t                this._pivotY = yv;\r\n\t                this._pivotAsAnchor = asAnchor;\r\n\t                this.updatePivotOffset();\r\n\t                this.handleXYChanged();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.internalSetPivot = function(xv, yv, asAnchor) {\r\n\t            this._pivotX = xv;\r\n\t            this._pivotY = yv;\r\n\t            this._pivotAsAnchor = asAnchor;\r\n\t            if (this._pivotAsAnchor)\r\n\t                this.handleXYChanged();\r\n\t        }\r\n\t\r\n\t        __proto.updatePivotOffset = function() {\r\n\t            if (this._displayObject != null) {\r\n\t                if (this._displayObject.transform && (this._pivotX != 0 || this._pivotY != 0)) {\r\n\t                    if (this._sizeImplType == 0) {\r\n\t                        fairygui.GObject.sHelperPoint.x = this._pivotX * this._width;\r\n\t                        fairygui.GObject.sHelperPoint.y = this._pivotY * this._height;\r\n\t                    } else {\r\n\t                        fairygui.GObject.sHelperPoint.x = this._pivotX * this.sourceWidth;\r\n\t                        fairygui.GObject.sHelperPoint.y = this._pivotY * this.sourceHeight;\r\n\t                    };\r\n\t                    var pt = this._displayObject.transform.transformPoint(fairygui.GObject.sHelperPoint);\r\n\t                    this._pivotOffsetX = this._pivotX * this._width - pt.x;\r\n\t                    this._pivotOffsetY = this._pivotY * this._height - pt.y;\r\n\t                } else {\r\n\t                    this._pivotOffsetX = 0;\r\n\t                    this._pivotOffsetY = 0;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.applyPivot = function() {\r\n\t            if (this._pivotX != 0 || this._pivotY != 0) {\r\n\t                this.updatePivotOffset();\r\n\t                this.handleXYChanged();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.updateAlpha = function() {\r\n\t            if (this._displayObject)\r\n\t                this._displayObject.alpha = this._alpha;\r\n\t            this.updateGear(3);\r\n\t        }\r\n\t\r\n\t        __proto.requestFocus = function() {\r\n\t            var p = this;\r\n\t            while (p && !p._focusable)\r\n\t                p = p.parent;\r\n\t            if (p != null)\r\n\t                this.root.focus = p;\r\n\t        }\r\n\t\r\n\t        __proto.getGear = function(index) {\r\n\t            var gear = this._gears[index];\r\n\t            if (gear == null) {\r\n\t                switch (index) {\r\n\t                    case 0:\r\n\t                        gear = new GearDisplay(this);\r\n\t                        break;\r\n\t                    case 1:\r\n\t                        gear = new GearXY(this);\r\n\t                        break;\r\n\t                    case 2:\r\n\t                        gear = new GearSize(this);\r\n\t                        break;\r\n\t                    case 3:\r\n\t                        gear = new GearLook(this);\r\n\t                        break;\r\n\t                    case 4:\r\n\t                        gear = new GearColor(this);\r\n\t                        break;\r\n\t                    case 5:\r\n\t                        gear = new GearAnimation(this);\r\n\t                        break;\r\n\t                    case 6:\r\n\t                        gear = new GearText(this);\r\n\t                        break;\r\n\t                    case 7:\r\n\t                        gear = new GearIcon(this);\r\n\t                        break;\r\n\t                    default:\r\n\t                        throw new Error(\"FairyGUI: invalid gear index!\");\r\n\t                }\r\n\t                this._gears[index] = gear;\r\n\t            }\r\n\t            return gear;\r\n\t        }\r\n\t\r\n\t        __proto.updateGear = function(index) {\r\n\t            if (this._underConstruct || this._gearLocked)\r\n\t                return;\r\n\t            var gear = this._gears[index];\r\n\t            if (gear != null && gear.controller != null)\r\n\t                gear.updateState();\r\n\t        }\r\n\t\r\n\t        __proto.checkGearController = function(index, c) {\r\n\t            return this._gears[index] != null && this._gears[index].controller == c;\r\n\t        }\r\n\t\r\n\t        __proto.updateGearFromRelations = function(index, dx, dy) {\r\n\t            if (this._gears[index] != null)\r\n\t                this._gears[index].updateFromRelations(dx, dy);\r\n\t        }\r\n\t\r\n\t        __proto.addDisplayLock = function() {\r\n\t            var gearDisplay = (this._gears[0]);\r\n\t            if (gearDisplay && gearDisplay.controller) {\r\n\t                var ret = gearDisplay.addLock();\r\n\t                this.checkGearDisplay();\r\n\t                return ret;\r\n\t            } else\r\n\t                return 0;\r\n\t        }\r\n\t\r\n\t        __proto.releaseDisplayLock = function(token) {\r\n\t            var gearDisplay = (this._gears[0]);\r\n\t            if (gearDisplay && gearDisplay.controller) {\r\n\t                gearDisplay.releaseLock(token);\r\n\t                this.checkGearDisplay();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.checkGearDisplay = function() {\r\n\t            if (this._handlingController)\r\n\t                return;\r\n\t            var connected = this._gears[0] == null || (this._gears[0]).connected;\r\n\t            if (connected != this._internalVisible) {\r\n\t                this._internalVisible = connected;\r\n\t                if (this._parent)\r\n\t                    this._parent.childStateChanged(this);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.addRelation = function(target, relationType, usePercent) {\r\n\t            (usePercent === void 0) && (usePercent = false);\r\n\t            this._relations.add(target, relationType, usePercent);\r\n\t        }\r\n\t\r\n\t        __proto.removeRelation = function(target, relationType) {\r\n\t            (relationType === void 0) && (relationType = 0);\r\n\t            this._relations.remove(target, relationType);\r\n\t        }\r\n\t\r\n\t        __proto.removeFromParent = function() {\r\n\t            if (this._parent)\r\n\t                this._parent.removeChild(this);\r\n\t        }\r\n\t\r\n\t        __proto.dispose = function() {\r\n\t            this.removeFromParent();\r\n\t            this._relations.dispose();\r\n\t            this._displayObject.destroy();\r\n\t        }\r\n\t\r\n\t        __proto.onClick = function(thisObj, listener, args) {\r\n\t            this.on( /*laya.events.Event.CLICK*/ \"click\", thisObj, listener, args);\r\n\t        }\r\n\t\r\n\t        __proto.offClick = function(thisObj, listener) {\r\n\t            this.off( /*laya.events.Event.CLICK*/ \"click\", thisObj, listener);\r\n\t        }\r\n\t\r\n\t        __proto.hasClickListener = function() {\r\n\t            return this._displayObject.hasListener( /*laya.events.Event.CLICK*/ \"click\");\r\n\t        }\r\n\t\r\n\t        __proto.on = function(type, thisObject, listener, args) {\r\n\t            this._displayObject.on(type, thisObject, listener, args);\r\n\t        }\r\n\t\r\n\t        __proto.off = function(type, thisObject, listener) {\r\n\t            this._displayObject.off(type, thisObject, listener);\r\n\t        }\r\n\t\r\n\t        __proto.startDrag = function(touchPointID) {\r\n\t            (touchPointID === void 0) && (touchPointID = -1);\r\n\t            if (this._displayObject.stage == null)\r\n\t                return;\r\n\t            this.dragBegin();\r\n\t        }\r\n\t\r\n\t        __proto.stopDrag = function() {\r\n\t            this.dragEnd();\r\n\t        }\r\n\t\r\n\t        __proto.localToGlobal = function(ax, ay, resultPoint) {\r\n\t            (ax === void 0) && (ax = 0);\r\n\t            (ay === void 0) && (ay = 0);\r\n\t            if (this._pivotAsAnchor) {\r\n\t                ax += this._pivotX * this._width;\r\n\t                ay += this._pivotY * this._height;\r\n\t            }\r\n\t            if (!resultPoint) {\r\n\t                resultPoint = fairygui.GObject.sHelperPoint;\r\n\t                resultPoint.x = ax;\r\n\t                resultPoint.y = ay;\r\n\t                return this._displayObject.localToGlobal(resultPoint, true);\r\n\t            } else {\r\n\t                resultPoint.x = ax;\r\n\t                resultPoint.y = ay;\r\n\t                return this._displayObject.localToGlobal(resultPoint, false);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.globalToLocal = function(ax, ay, resultPoint) {\r\n\t            (ax === void 0) && (ax = 0);\r\n\t            (ay === void 0) && (ay = 0);\r\n\t            if (!resultPoint) {\r\n\t                resultPoint = fairygui.GObject.sHelperPoint;\r\n\t                resultPoint.x = ax;\r\n\t                resultPoint.y = ay;\r\n\t                resultPoint = this._displayObject.globalToLocal(resultPoint, true);\r\n\t            } else {\r\n\t                resultPoint.x = ax;\r\n\t                resultPoint.y = ay;\r\n\t                this._displayObject.globalToLocal(resultPoint, false);\r\n\t            }\r\n\t            if (this._pivotAsAnchor) {\r\n\t                resultPoint.x -= this._pivotX * this._width;\r\n\t                resultPoint.y -= this._pivotY * this._height;\r\n\t            }\r\n\t            return resultPoint;\r\n\t        }\r\n\t\r\n\t        __proto.localToGlobalRect = function(ax, ay, aWidth, aHeight, resultRect) {\r\n\t            (ax === void 0) && (ax = 0);\r\n\t            (ay === void 0) && (ay = 0);\r\n\t            (aWidth === void 0) && (aWidth = 0);\r\n\t            (aHeight === void 0) && (aHeight = 0);\r\n\t            if (resultRect == null)\r\n\t                resultRect = new Rectangle();\r\n\t            var pt = this.localToGlobal(ax, ay);\r\n\t            resultRect.x = pt.x;\r\n\t            resultRect.y = pt.y;\r\n\t            pt = this.localToGlobal(ax + aWidth, ay + aHeight);\r\n\t            resultRect.width = pt.x - resultRect.x;\r\n\t            resultRect.height = pt.y - resultRect.y;\r\n\t            return resultRect;\r\n\t        }\r\n\t\r\n\t        __proto.globalToLocalRect = function(ax, ay, aWidth, aHeight, resultRect) {\r\n\t            (ax === void 0) && (ax = 0);\r\n\t            (ay === void 0) && (ay = 0);\r\n\t            (aWidth === void 0) && (aWidth = 0);\r\n\t            (aHeight === void 0) && (aHeight = 0);\r\n\t            if (resultRect == null)\r\n\t                resultRect = new Rectangle();\r\n\t            var pt = this.globalToLocal(ax, ay);\r\n\t            resultRect.x = pt.x;\r\n\t            resultRect.y = pt.y;\r\n\t            pt = this.globalToLocal(ax + aWidth, ay + aHeight);\r\n\t            resultRect.width = pt.x - resultRect.x;\r\n\t            resultRect.height = pt.y - resultRect.y;\r\n\t            return resultRect;\r\n\t        }\r\n\t\r\n\t        __proto.handleControllerChanged = function(c) {\r\n\t            this._handlingController = true;\r\n\t            for (var i = 0; i < 8; i++) {\r\n\t                var gear = this._gears[i];\r\n\t                if (gear != null && gear.controller == c)\r\n\t                    gear.apply();\r\n\t            }\r\n\t            this._handlingController = false;\r\n\t            this.checkGearDisplay();\r\n\t        }\r\n\t\r\n\t        __proto.createDisplayObject = function() {\r\n\t            this._displayObject = new Sprite();\r\n\t            this._displayObject[\"$owner\"] = this;\r\n\t        }\r\n\t\r\n\t        __proto.handleXYChanged = function() {\r\n\t            var xv = this._x;\r\n\t            var yv = this._y + this._yOffset;\r\n\t            if (this._pivotAsAnchor) {\r\n\t                xv -= this._pivotX * this._width;\r\n\t                yv -= this._pivotY * this._height;\r\n\t            }\r\n\t            if (this._pixelSnapping) {\r\n\t                xv = Math.round(xv);\r\n\t                yv = Math.round(yv);\r\n\t            }\r\n\t            this._displayObject.pos(xv + this._pivotOffsetX, yv + this._pivotOffsetY);\r\n\t        }\r\n\t\r\n\t        __proto.handleSizeChanged = function() {\r\n\t            if (this._displayObject != null) {\r\n\t                if (this._sizeImplType == 0 || this.sourceWidth == 0 || this.sourceHeight == 0)\r\n\t                    this._displayObject.size(this._width, this._height);\r\n\t                else\r\n\t                    this._displayObject.scale(this._width / this.sourceWidth * this._scaleX,\r\n\t                        this._height / this.sourceHeight * this._scaleY);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.handleScaleChanged = function() {\r\n\t            if (this._displayObject != null) {\r\n\t                if (this._sizeImplType == 0 || this.sourceWidth == 0 || this.sourceHeight == 0)\r\n\t                    this._displayObject.scale(this._scaleX, this._scaleY);\r\n\t                else\r\n\t                    this._displayObject.scale(this._width / this.sourceWidth * this._scaleX,\r\n\t                        this._height / this.sourceHeight * this._scaleY);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.handleGrayedChanged = function() {\r\n\t            if (this._displayObject) {\r\n\t                if (this._grayed)\r\n\t                    this._displayObject.filters = [GObject.grayFilter];\r\n\t                else\r\n\t                    this._displayObject.filters = null;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.constructFromResource = function() {}\r\n\t        __proto.setup_beforeAdd = function(xml) {\r\n\t            var str;\r\n\t            var arr;\r\n\t            this._id = xml.getAttribute(\"id\");\r\n\t            this._name = xml.getAttribute(\"name\");\r\n\t            str = xml.getAttribute(\"xy\");\r\n\t            arr = str.split(\",\");\r\n\t            this.setXY(parseInt(arr[0]), parseInt(arr[1]));\r\n\t            str = xml.getAttribute(\"size\");\r\n\t            if (str) {\r\n\t                arr = str.split(\",\");\r\n\t                this.initWidth = parseInt(arr[0]);\r\n\t                this.initHeight = parseInt(arr[1]);\r\n\t                this.setSize(this.initWidth, this.initHeight, true);\r\n\t            }\r\n\t            str = xml.getAttribute(\"restrictSize\");\r\n\t            if (str) {\r\n\t                arr = str.split(\",\");\r\n\t                this.minWidth = parseInt(arr[0]);\r\n\t                this.maxWidth = parseInt(arr[1]);\r\n\t                this.minHeight = parseInt(arr[2]);\r\n\t                this.maxHeight = parseInt(arr[3]);\r\n\t            }\r\n\t            str = xml.getAttribute(\"scale\");\r\n\t            if (str) {\r\n\t                arr = str.split(\",\");\r\n\t                this.setScale(parseFloat(arr[0]), parseFloat(arr[1]));\r\n\t            }\r\n\t            str = xml.getAttribute(\"skew\");\r\n\t            if (str) {\r\n\t                arr = str.split(\",\");\r\n\t                this.setSkew(parseFloat(arr[0]), parseFloat(arr[1]));\r\n\t            }\r\n\t            str = xml.getAttribute(\"rotation\");\r\n\t            if (str)\r\n\t                this.rotation = parseInt(str);\r\n\t            str = xml.getAttribute(\"pivot\");\r\n\t            if (str) {\r\n\t                arr = str.split(\",\");\r\n\t                str = xml.getAttribute(\"anchor\");\r\n\t                this.setPivot(parseFloat(arr[0]), parseFloat(arr[1]), str == \"true\");\r\n\t            }\r\n\t            str = xml.getAttribute(\"alpha\");\r\n\t            if (str)\r\n\t                this.alpha = parseFloat(str);\r\n\t            if (xml.getAttribute(\"touchable\") == \"false\")\r\n\t                this.touchable = false;\r\n\t            if (xml.getAttribute(\"visible\") == \"false\")\r\n\t                this.visible = false;\r\n\t            if (xml.getAttribute(\"grayed\") == \"true\")\r\n\t                this.grayed = true;\r\n\t            this.tooltips = xml.getAttribute(\"tooltips\");\r\n\t            str = xml.getAttribute(\"blend\");\r\n\t            if (str)\r\n\t                this.blendMode = str;\r\n\t            str = xml.getAttribute('filter');\r\n\t            if (str) {\r\n\t                switch (str) {\r\n\t                    case \"color\":\r\n\t                        str = xml.getAttribute('filterData');\r\n\t                        arr = str.split(\",\");\r\n\t                        var cm = new ColorMatrix();\r\n\t                        cm.adjustBrightness(parseFloat(arr[0]));\r\n\t                        cm.adjustContrast(parseFloat(arr[1]));\r\n\t                        cm.adjustSaturation(parseFloat(arr[2]));\r\n\t                        cm.adjustHue(parseFloat(arr[3]));\r\n\t                        var cf = new ColorFilter(cm);\r\n\t                        this.filters = [cf];\r\n\t                        break;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setup_afterAdd = function(xml) {\r\n\t            var str = xml.getAttribute(\"group\");\r\n\t            if (str)\r\n\t                this._group = this._parent.getChildById(str);\r\n\t            var col = xml.childNodes;\r\n\t            var length1 = col.length;\r\n\t            for (var i1 = 0; i1 < length1; i1++) {\r\n\t                var cxml = col[i1];\r\n\t                if (cxml.nodeType != 1)\r\n\t                    continue;\r\n\t                var index = fairygui.GObject.GearXMLKeys[cxml.nodeName];\r\n\t                if (index != undefined)\r\n\t                    this.getGear(index).setup(cxml);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.initDrag = function() {\r\n\t            if (this._draggable)\r\n\t                this.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__begin);\r\n\t            else\r\n\t                this.off( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__begin);\r\n\t        }\r\n\t\r\n\t        __proto.dragBegin = function() {\r\n\t            if (fairygui.GObject.draggingObject != null)\r\n\t                fairygui.GObject.draggingObject.stopDrag();\r\n\t            fairygui.GObject.sGlobalDragStart.x = Laya.stage.mouseX;\r\n\t            fairygui.GObject.sGlobalDragStart.y = Laya.stage.mouseY;\r\n\t            this.localToGlobalRect(0, 0, this.width, this.height, fairygui.GObject.sGlobalRect);\r\n\t            fairygui.GObject.draggingObject = this;\r\n\t            Laya.stage.on( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__moving2);\r\n\t            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__end2);\r\n\t        }\r\n\t\r\n\t        __proto.dragEnd = function() {\r\n\t            if (fairygui.GObject.draggingObject == this) {\r\n\t                Laya.stage.off( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__moving2);\r\n\t                Laya.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__end2);\r\n\t                fairygui.GObject.draggingObject = null;\r\n\t            }\r\n\t            fairygui.GObject.sDraggingQuery = false;\r\n\t        }\r\n\t\r\n\t        __proto.reset = function() {\r\n\t            Laya.stage.off( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__moving);\r\n\t            Laya.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__end);\r\n\t        }\r\n\t\r\n\t        __proto.__begin = function() {\r\n\t            if (this._touchDownPoint == null)\r\n\t                this._touchDownPoint = new Point();\r\n\t            this._touchDownPoint.x = Laya.stage.mouseX;\r\n\t            this._touchDownPoint.y = Laya.stage.mouseY;\r\n\t            Laya.stage.on( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__moving);\r\n\t            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__end);\r\n\t        }\r\n\t\r\n\t        __proto.__end = function() {\r\n\t            this.reset();\r\n\t        }\r\n\t\r\n\t        __proto.__moving = function(evt) {\r\n\t            var sensitivity = UIConfig1.touchDragSensitivity;\r\n\t            if (this._touchDownPoint != null &&\r\n\t                Math.abs(this._touchDownPoint.x - Laya.stage.mouseX) < sensitivity &&\r\n\t                Math.abs(this._touchDownPoint.y - Laya.stage.mouseY) < sensitivity)\r\n\t                return;\r\n\t            this.reset();\r\n\t            fairygui.GObject.sDraggingQuery = true;\r\n\t            Events.dispatch( /*fairygui.Events.DRAG_START*/ \"fui_drag_start\", this._displayObject, evt);\r\n\t            if (fairygui.GObject.sDraggingQuery)\r\n\t                this.dragBegin();\r\n\t        }\r\n\t\r\n\t        __proto.__moving2 = function(evt) {\r\n\t            var xx = Laya.stage.mouseX - fairygui.GObject.sGlobalDragStart.x + fairygui.GObject.sGlobalRect.x;\r\n\t            var yy = Laya.stage.mouseY - fairygui.GObject.sGlobalDragStart.y + fairygui.GObject.sGlobalRect.y;\r\n\t            if (this._dragBounds != null) {\r\n\t                var rect = GRoot.inst.localToGlobalRect(this._dragBounds.x, this._dragBounds.y,\r\n\t                    this._dragBounds.width, this._dragBounds.height, fairygui.GObject.sDragHelperRect);\r\n\t                if (xx < rect.x)\r\n\t                    xx = rect.x;\r\n\t                else if (xx + fairygui.GObject.sGlobalRect.width > rect.right) {\r\n\t                    xx = rect.right - fairygui.GObject.sGlobalRect.width;\r\n\t                    if (xx < rect.x)\r\n\t                        xx = rect.x;\r\n\t                }\r\n\t                if (yy < rect.y)\r\n\t                    yy = rect.y;\r\n\t                else if (yy + fairygui.GObject.sGlobalRect.height > rect.bottom) {\r\n\t                    yy = rect.bottom - fairygui.GObject.sGlobalRect.height;\r\n\t                    if (yy < rect.y)\r\n\t                        yy = rect.y;\r\n\t                }\r\n\t            }\r\n\t            GObject.sUpdateInDragging = true;\r\n\t            var pt = this.parent.globalToLocal(xx, yy, fairygui.GObject.sHelperPoint);\r\n\t            this.setXY(Math.round(pt.x), Math.round(pt.y));\r\n\t            GObject.sUpdateInDragging = false;\r\n\t            Events.dispatch( /*fairygui.Events.DRAG_MOVE*/ \"fui_drag_move\", this._displayObject, evt);\r\n\t        }\r\n\t\r\n\t        __proto.__end2 = function(evt) {\r\n\t            if (fairygui.GObject.draggingObject == this) {\r\n\t                this.stopDrag();\r\n\t                Events.dispatch( /*fairygui.Events.DRAG_END*/ \"fui_drag_end\", this._displayObject, evt);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'actualHeight', function() {\r\n\t            return this.height * Math.abs(this._scaleY);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'id', function() {\r\n\t            return this._id;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'name', function() {\r\n\t            return this._name;\r\n\t        }, function(value) {\r\n\t            this._name = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'rotation', function() {\r\n\t            return this._rotation;\r\n\t        }, function(value) {\r\n\t            if (this._rotation != value) {\r\n\t                this._rotation = value;\r\n\t                if (this._displayObject != null) {\r\n\t                    this._displayObject.rotation = this.normalizeRotation;\r\n\t                    this.applyPivot();\r\n\t                }\r\n\t                this.updateGear(3);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'width', function() {\r\n\t            this.ensureSizeCorrect();\r\n\t            if (this._relations.sizeDirty)\r\n\t                this._relations.ensureRelationsSizeCorrect();\r\n\t            return this._width;\r\n\t        }, function(value) {\r\n\t            this.setSize(value, this._rawHeight);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'x', function() {\r\n\t            return this._x;\r\n\t        }, function(value) {\r\n\t            this.setXY(value, this._y);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'draggable', function() {\r\n\t            return this._draggable;\r\n\t        }, function(value) {\r\n\t            if (this._draggable != value) {\r\n\t                this._draggable = value;\r\n\t                this.initDrag();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'y', function() {\r\n\t            return this._y;\r\n\t        }, function(value) {\r\n\t            this.setXY(this._x, value);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'pixelSnapping', function() {\r\n\t            return this._pixelSnapping;\r\n\t        }, function(value) {\r\n\t            if (this._pixelSnapping != value) {\r\n\t                this._pixelSnapping = value;\r\n\t                this.handleXYChanged();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'height', function() {\r\n\t            this.ensureSizeCorrect();\r\n\t            if (this._relations.sizeDirty)\r\n\t                this._relations.ensureRelationsSizeCorrect();\r\n\t            return this._height;\r\n\t        }, function(value) {\r\n\t            this.setSize(this._rawWidth, value);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asButton', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'actualWidth', function() {\r\n\t            return this.width * Math.abs(this._scaleX);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'blendMode', function() {\r\n\t            return this._displayObject.blendMode;\r\n\t        }, function(value) {\r\n\t            this._displayObject.blendMode = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'scaleX', function() {\r\n\t            return this._scaleX;\r\n\t        }, function(value) {\r\n\t            this.setScale(value, this._scaleY);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'scaleY', function() {\r\n\t            return this._scaleY;\r\n\t        }, function(value) {\r\n\t            this.setScale(this._scaleX, value);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'skewX', function() {\r\n\t            return this._skewX;\r\n\t        }, function(value) {\r\n\t            this.setScale(value, this._skewY);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'skewY', function() {\r\n\t            return this._skewY;\r\n\t        }, function(value) {\r\n\t            this.setSkew(this._skewX, value);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'pivotX', function() {\r\n\t            return this._pivotX;\r\n\t        }, function(value) {\r\n\t            this.setPivot(value, this._pivotY);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asLoader', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asTextInput', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'displayObject', function() {\r\n\t            return this._displayObject;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'normalizeRotation', function() {\r\n\t            var rot = this._rotation % 360;\r\n\t            if (rot > 180)\r\n\t                rot = rot - 360;\r\n\t            else if (rot < -180)\r\n\t                rot = 360 + rot;\r\n\t            return rot;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'pivotY', function() {\r\n\t            return this._pivotY;\r\n\t        }, function(value) {\r\n\t            this.setPivot(this._pivotX, value);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'touchable', function() {\r\n\t            return this._touchable;\r\n\t        }, function(value) {\r\n\t            if (this._touchable != value) {\r\n\t                this._touchable = value;\r\n\t                this.updateGear(3);\r\n\t                if (((this instanceof fairygui.GImage)) || ((this instanceof fairygui.GMovieClip)) ||\r\n\t                    ((this instanceof fairygui.GTextField)) && !((this instanceof fairygui.GTextInput)) && !((this instanceof fairygui.GRichTextField)))\r\n\t                    return;\r\n\t                if (this._displayObject != null)\r\n\t                    this._displayObject.mouseEnabled = this._touchable;\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'alpha', function() {\r\n\t            return this._alpha;\r\n\t        }, function(value) {\r\n\t            if (this._alpha != value) {\r\n\t                this._alpha = value;\r\n\t                this.updateAlpha();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'grayed', function() {\r\n\t            return this._grayed;\r\n\t        }, function(value) {\r\n\t            if (this._grayed != value) {\r\n\t                this._grayed = value;\r\n\t                this.handleGrayedChanged();\r\n\t                this.updateGear(3);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'dragBounds', function() {\r\n\t            return this._dragBounds;\r\n\t        }, function(value) {\r\n\t            this._dragBounds = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asProgress', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'enabled', function() {\r\n\t            return !this._grayed && this._touchable;\r\n\t        }, function(value) {\r\n\t            this.grayed = !value;\r\n\t            this.touchable = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'sortingOrder', function() {\r\n\t            return this._sortingOrder;\r\n\t        }, function(value) {\r\n\t            if (value < 0)\r\n\t                value = 0;\r\n\t            if (this._sortingOrder != value) {\r\n\t                var old = this._sortingOrder;\r\n\t                this._sortingOrder = value;\r\n\t                if (this._parent != null)\r\n\t                    this._parent.childSortingOrderChanged(this, old, this._sortingOrder);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'visible', function() {\r\n\t            return this._visible;\r\n\t        }, function(value) {\r\n\t            if (this._visible != value) {\r\n\t                this._visible = value;\r\n\t                if (this._displayObject)\r\n\t                    this._displayObject.visible = this._visible;\r\n\t                if (this._parent) {\r\n\t                    this._parent.childStateChanged(this);\r\n\t                    this._parent.setBoundsChangedFlag();\r\n\t                }\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'finalVisible', function() {\r\n\t            return this._visible && this._internalVisible && (!this._group || this._group.finalVisible) &&\r\n\t                !this._displayObject._$P[\"maskParent\"];\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asGraph', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'gearSize', function() {\r\n\t            return (this.getGear(2));\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'focusable', function() {\r\n\t            return this._focusable;\r\n\t        }, function(value) {\r\n\t            this._focusable = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'focused', function() {\r\n\t            return this.root.focus == this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'tooltips', function() {\r\n\t            return this._tooltips;\r\n\t        }, function(value) {\r\n\t            this._tooltips = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'dragging', function() {\r\n\t            return fairygui.GObject.draggingObject == this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'group', function() {\r\n\t            return this._group;\r\n\t        }, function(value) {\r\n\t            if (this._group != value) {\r\n\t                if (this._group != null)\r\n\t                    this._group.setBoundsChangedFlag(true);\r\n\t                this._group = value;\r\n\t                if (this._group != null)\r\n\t                    this._group.setBoundsChangedFlag(true);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'filters', function() {\r\n\t            return this._displayObject.filters;\r\n\t        }, function(value) {\r\n\t            this._displayObject.filters = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'inContainer', function() {\r\n\t            return this._displayObject != null && this._displayObject.parent != null;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'resourceURL', function() {\r\n\t            if (this.packageItem != null)\r\n\t                return \"ui://\" + this.packageItem.owner.id + this.packageItem.id;\r\n\t            else\r\n\t                return null;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'onStage', function() {\r\n\t            return this._displayObject != null && this._displayObject.stage != null;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'gearXY', function() {\r\n\t            return (this.getGear(1));\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'root', function() {\r\n\t            if ((this instanceof fairygui.GRoot))\r\n\t                return (this);\r\n\t            var p = this._parent;\r\n\t            while (p) {\r\n\t                if ((p instanceof fairygui.GRoot))\r\n\t                    return (p);\r\n\t                p = p.parent;\r\n\t            }\r\n\t            return GRoot.inst;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'gearLook', function() {\r\n\t            return (this.getGear(3));\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asCom', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'relations', function() {\r\n\t            return this._relations;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'parent', function() {\r\n\t            return this._parent;\r\n\t        }, function(val) {\r\n\t            this._parent = val;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asLabel', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asImage', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asTextField', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asGroup', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asRichTextField', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asList', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asSlider', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asComboBox', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'asMovieClip', function() {\r\n\t            return this;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'text', function() {\r\n\t            return null;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'icon', function() {\r\n\t            return null;\r\n\t        }, function(value) {});\r\n\t\r\n\t        GObject.cast = function(sprite) {\r\n\t            return (sprite[\"$owner\"]);\r\n\t        }\r\n\t\r\n\t        GObject.draggingObject = null\r\n\t        GObject._gInstanceCounter = 0;\r\n\t        GObject.sDraggingQuery = false;\r\n\t        GObject.sUpdateInDragging = false;\r\n\t        __static(GObject, ['grayFilter', function() { return this.grayFilter = new ColorFilter([0.3086, 0.6094, 0.082, 0, 0, 0.3086, 0.6094, 0.082, 0, 0, 0.3086, 0.6094, 0.082, 0, 0, 0, 0, 0, 1, 0]); }, 'GearXMLKeys', function() {\r\n\t                return this.GearXMLKeys = {\r\n\t                    \"gearDisplay\": 0,\r\n\t                    \"gearXY\": 1,\r\n\t                    \"gearSize\": 2,\r\n\t                    \"gearLook\": 3,\r\n\t                    \"gearColor\": 4,\r\n\t                    \"gearAni\": 5,\r\n\t                    \"gearText\": 6,\r\n\t                    \"gearIcon\": 7\r\n\t                };\r\n\t            }, 'sGlobalDragStart', function() { return this.sGlobalDragStart = new Point(); }, 'sGlobalRect', function() { return this.sGlobalRect = new Rectangle(); }, 'sHelperPoint', function() { return this.sHelperPoint = new Point(); }, 'sDragHelperRect', function() { return this.sDragHelperRect = new Rectangle(); }\r\n\t\r\n\t        ]);\r\n\t        return GObject;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.GearBase\r\n\t    var GearBase = (function() {\r\n\t        function GearBase(owner) {\r\n\t            this._tween = false;\r\n\t            this._easeType = null;\r\n\t            this._tweenTime = 0.3;\r\n\t            this._delay = 0;\r\n\t            this._displayLockToken = 0;\r\n\t            this._owner = null;\r\n\t            this._controller = null;\r\n\t            this._owner = owner;\r\n\t            this._easeType = Ease.quadOut;\r\n\t        }\r\n\t\r\n\t        __class(GearBase, 'fairygui.GearBase');\r\n\t        var __proto = GearBase.prototype;\r\n\t        __proto.setup = function(xml) {\r\n\t            this._controller = this._owner.parent.getController(xml.getAttribute(\"controller\"));\r\n\t            if (this._controller == null)\r\n\t                return;\r\n\t            this.init();\r\n\t            var str;\r\n\t            str = xml.getAttribute(\"tween\");\r\n\t            if (str)\r\n\t                this._tween = true;\r\n\t            str = xml.getAttribute(\"ease\");\r\n\t            if (str)\r\n\t                this._easeType = ToolSet.parseEaseType(str);\r\n\t            str = xml.getAttribute(\"duration\");\r\n\t            if (str)\r\n\t                this._tweenTime = parseFloat(str);\r\n\t            str = xml.getAttribute(\"delay\");\r\n\t            if (str)\r\n\t                this._delay = parseFloat(str);\r\n\t            if ((this instanceof fairygui.GearDisplay)) {\r\n\t                str = xml.getAttribute(\"pages\");\r\n\t                if (str) {\r\n\t                    var arr = str.split(\",\");\r\n\t                    (this).pages = arr;\r\n\t                }\r\n\t            } else {\r\n\t                var pages;\r\n\t                var values;\r\n\t                str = xml.getAttribute(\"pages\");\r\n\t                if (str)\r\n\t                    pages = str.split(\",\");\r\n\t                if (pages) {\r\n\t                    str = xml.getAttribute(\"values\");\r\n\t                    if (str != null)\r\n\t                        values = str.split(\"|\");\r\n\t                    else\r\n\t                        values = [];\r\n\t                    for (var i = 0; i < pages.length; i++)\r\n\t                        this.addStatus(pages[i], values[i]);\r\n\t                }\r\n\t                str = xml.getAttribute(\"default\");\r\n\t                if (str)\r\n\t                    this.addStatus(null, str);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.updateFromRelations = function(dx, dy) {}\r\n\t        __proto.addStatus = function(pageId, value) {}\r\n\t        __proto.init = function() {}\r\n\t        __proto.apply = function() {}\r\n\t        __proto.updateState = function() {}\r\n\t        __getset(0, __proto, 'controller', function() {\r\n\t            return this._controller;\r\n\t        }, function(val) {\r\n\t            if (val != this._controller) {\r\n\t                this._controller = val;\r\n\t                if (this._controller)\r\n\t                    this.init();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'tween', function() {\r\n\t            return this._tween;\r\n\t        }, function(val) {\r\n\t            this._tween = val;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'delay', function() {\r\n\t            return this._delay;\r\n\t        }, function(val) {\r\n\t            this._delay = val;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'tweenTime', function() {\r\n\t            return this._tweenTime;\r\n\t        }, function(value) {\r\n\t            this._tweenTime = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'easeType', function() {\r\n\t            return this._easeType;\r\n\t        }, function(value) {\r\n\t            this._easeType = value;\r\n\t        });\r\n\t\r\n\t        GearBase.disableAllTweenEffect = false;\r\n\t        return GearBase;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.GObjectPool\r\n\t    var GObjectPool = (function() {\r\n\t        function GObjectPool() {\r\n\t            this._pool = null;\r\n\t            this._count = 0;\r\n\t            this._pool = {};\r\n\t        }\r\n\t\r\n\t        __class(GObjectPool, 'fairygui.GObjectPool');\r\n\t        var __proto = GObjectPool.prototype;\r\n\t        __proto.clear = function() {\r\n\t            var length1 = this._pool.length;\r\n\t            for (var i1 = 0; i1 < length1; i1++) {\r\n\t                var arr = this._pool[i1];\r\n\t                var cnt = arr.length;\r\n\t                for (var i = 0; i < cnt; i++)\r\n\t                    arr[i].dispose();\r\n\t            }\r\n\t            this._pool = {};\r\n\t            this._count = 0;\r\n\t        }\r\n\t\r\n\t        __proto.getObject = function(url) {\r\n\t            url = UIPackage.normalizeURL(url);\r\n\t            if (url == null)\r\n\t                return null;\r\n\t            var arr = this._pool[url];\r\n\t            if (arr != null && arr.length > 0) {\r\n\t                this._count--;\r\n\t                return arr.shift();\r\n\t            };\r\n\t            var child = UIPackage.createObjectFromURL(url);\r\n\t            return child;\r\n\t        }\r\n\t\r\n\t        __proto.returnObject = function(obj) {\r\n\t            var url = obj.resourceURL;\r\n\t            if (!url)\r\n\t                return;\r\n\t            var arr = this._pool[url];\r\n\t            if (arr == null) {\r\n\t                arr = [];\r\n\t                this._pool[url] = arr;\r\n\t            }\r\n\t            this._count++;\r\n\t            arr.push(obj);\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'count', function() {\r\n\t            return this._count;\r\n\t        });\r\n\t\r\n\t        return GObjectPool;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.GroupLayoutType\r\n\t    var GroupLayoutType = (function() {\r\n\t        function GroupLayoutType() {}\r\n\t        __class(GroupLayoutType, 'fairygui.GroupLayoutType');\r\n\t        GroupLayoutType.parse = function(value) {\r\n\t            switch (value) {\r\n\t                case \"none\":\r\n\t                    return 0;\r\n\t                case \"hz\":\r\n\t                    return 1;\r\n\t                case \"vt\":\r\n\t                    return 2;\r\n\t                default:\r\n\t                    return 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        GroupLayoutType.None = 0;\r\n\t        GroupLayoutType.Horizontal = 1;\r\n\t        GroupLayoutType.Vertical = 2;\r\n\t        return GroupLayoutType;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.ListLayoutType\r\n\t    var ListLayoutType = (function() {\r\n\t        function ListLayoutType() {}\r\n\t        __class(ListLayoutType, 'fairygui.ListLayoutType');\r\n\t        ListLayoutType.parse = function(value) {\r\n\t            switch (value) {\r\n\t                case \"column\":\r\n\t                    return 0;\r\n\t                case \"row\":\r\n\t                    return 1;\r\n\t                case \"flow_hz\":\r\n\t                    return 2;\r\n\t                case \"flow_vt\":\r\n\t                    return 3;\r\n\t                case \"pagination\":\r\n\t                    return 4;\r\n\t                default:\r\n\t                    return 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        ListLayoutType.SingleColumn = 0;\r\n\t        ListLayoutType.SingleRow = 1;\r\n\t        ListLayoutType.FlowHorizontal = 2;\r\n\t        ListLayoutType.FlowVertical = 3;\r\n\t        ListLayoutType.Pagination = 4;\r\n\t        return ListLayoutType;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.ListSelectionMode\r\n\t    var ListSelectionMode = (function() {\r\n\t        function ListSelectionMode() {}\r\n\t        __class(ListSelectionMode, 'fairygui.ListSelectionMode');\r\n\t        ListSelectionMode.parse = function(value) {\r\n\t            switch (value) {\r\n\t                case \"single\":\r\n\t                    return 0;\r\n\t                case \"multiple\":\r\n\t                    return 1;\r\n\t                case \"multipleSingleClick\":\r\n\t                    return 2;\r\n\t                case \"none\":\r\n\t                    return 3;\r\n\t                default:\r\n\t                    return 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        ListSelectionMode.Single = 0;\r\n\t        ListSelectionMode.Multiple = 1;\r\n\t        ListSelectionMode.Multiple_SingleClick = 2;\r\n\t        ListSelectionMode.None = 3;\r\n\t        return ListSelectionMode;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.LoaderFillType\r\n\t    var LoaderFillType = (function() {\r\n\t        function LoaderFillType() {}\r\n\t        __class(LoaderFillType, 'fairygui.LoaderFillType');\r\n\t        LoaderFillType.parse = function(value) {\r\n\t            switch (value) {\r\n\t                case \"none\":\r\n\t                    return 0;\r\n\t                case \"scale\":\r\n\t                    return 1;\r\n\t                case \"scaleMatchHeight\":\r\n\t                    return 2;\r\n\t                case \"scaleMatchWidth\":\r\n\t                    return 3;\r\n\t                case \"scaleFree\":\r\n\t                    return 4;\r\n\t                default:\r\n\t                    return 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        LoaderFillType.None = 0;\r\n\t        LoaderFillType.Scale = 1;\r\n\t        LoaderFillType.ScaleMatchHeight = 2;\r\n\t        LoaderFillType.ScaleMatchWidth = 3;\r\n\t        LoaderFillType.ScaleFree = 4;\r\n\t        return LoaderFillType;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.Margin\r\n\t    var Margin = (function() {\r\n\t        function Margin() {\r\n\t            this.left = 0;\r\n\t            this.right = 0;\r\n\t            this.top = 0;\r\n\t            this.bottom = 0;\r\n\t        }\r\n\t\r\n\t        __class(Margin, 'fairygui.Margin');\r\n\t        var __proto = Margin.prototype;\r\n\t        __proto.parse = function(str) {\r\n\t            if (!str) {\r\n\t                this.left = 0;\r\n\t                this.right = 0;\r\n\t                this.top = 0;\r\n\t                this.bottom = 0;\r\n\t                return;\r\n\t            };\r\n\t            var arr = str.split(\",\");\r\n\t            if (arr.length == 1) {\r\n\t                var k = parseInt(arr[0]);\r\n\t                this.top = k;\r\n\t                this.bottom = k;\r\n\t                this.left = k;\r\n\t                this.right = k;\r\n\t            } else {\r\n\t                this.top = parseInt(arr[0]);\r\n\t                this.bottom = parseInt(arr[1]);\r\n\t                this.left = parseInt(arr[2]);\r\n\t                this.right = parseInt(arr[3]);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.copy = function(source) {\r\n\t            this.top = source.top;\r\n\t            this.bottom = source.bottom;\r\n\t            this.left = source.left;\r\n\t            this.right = source.right;\r\n\t        }\r\n\t\r\n\t        return Margin;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.OverflowType\r\n\t    var OverflowType = (function() {\r\n\t        function OverflowType() {}\r\n\t        __class(OverflowType, 'fairygui.OverflowType');\r\n\t        OverflowType.parse = function(value) {\r\n\t            switch (value) {\r\n\t                case \"visible\":\r\n\t                    return 0;\r\n\t                case \"hidden\":\r\n\t                    return 1;\r\n\t                case \"scroll\":\r\n\t                    return 2;\r\n\t                case \"scale\":\r\n\t                    return 3;\r\n\t                case \"scaleFree\":\r\n\t                    return 4;\r\n\t                default:\r\n\t                    return 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        OverflowType.Visible = 0;\r\n\t        OverflowType.Hidden = 1;\r\n\t        OverflowType.Scroll = 2;\r\n\t        OverflowType.Scale = 3;\r\n\t        OverflowType.ScaleFree = 4;\r\n\t        return OverflowType;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.PackageItem\r\n\t    var PackageItem = (function() {\r\n\t        function PackageItem() {\r\n\t            this.owner = null;\r\n\t            this.type = 0;\r\n\t            this.id = null;\r\n\t            this.name = null;\r\n\t            this.width = 0;\r\n\t            this.height = 0;\r\n\t            this.file = null;\r\n\t            this.decoded = false;\r\n\t            this.scale9Grid = null;\r\n\t            this.scaleByTile = false;\r\n\t            this.tileGridIndice = 0;\r\n\t            this.smoothing = false;\r\n\t            this.texture = null;\r\n\t            this.interval = 0;\r\n\t            this.repeatDelay = 0;\r\n\t            this.swing = false;\r\n\t            this.frames = null;\r\n\t            this.componentData = null;\r\n\t            this.displayList = null;\r\n\t            this.extensionType = null;\r\n\t            this.sound = null;\r\n\t            this.bitmapFont = null;\r\n\t        }\r\n\t\r\n\t        __class(PackageItem, 'fairygui.PackageItem');\r\n\t        var __proto = PackageItem.prototype;\r\n\t        __proto.load = function() {\r\n\t            return this.owner.getItemAsset(this);\r\n\t        }\r\n\t\r\n\t        __proto.toString = function() {\r\n\t            return this.name;\r\n\t        }\r\n\t\r\n\t        return PackageItem;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.PackageItemType\r\n\t    var PackageItemType = (function() {\r\n\t        function PackageItemType() {}\r\n\t        __class(PackageItemType, 'fairygui.PackageItemType');\r\n\t        PackageItemType.parse = function(value) {\r\n\t            switch (value) {\r\n\t                case \"image\":\r\n\t                    return 0;\r\n\t                case \"movieclip\":\r\n\t                    return 2;\r\n\t                case \"sound\":\r\n\t                    return 3;\r\n\t                case \"component\":\r\n\t                    return 4;\r\n\t                case \"swf\":\r\n\t                    return 1;\r\n\t                case \"font\":\r\n\t                    return 6;\r\n\t                case \"atlas\":\r\n\t                    return 7;\r\n\t            }\r\n\t            return 0;\r\n\t        }\r\n\t\r\n\t        PackageItemType.Image = 0;\r\n\t        PackageItemType.Swf = 1;\r\n\t        PackageItemType.MovieClip = 2;\r\n\t        PackageItemType.Sound = 3;\r\n\t        PackageItemType.Component = 4;\r\n\t        PackageItemType.Misc = 5;\r\n\t        PackageItemType.Font = 6;\r\n\t        PackageItemType.Atlas = 7;\r\n\t        return PackageItemType;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.PageOption\r\n\t    var PageOption = (function() {\r\n\t        function PageOption() {\r\n\t            this._controller = null;\r\n\t            this._id = null;\r\n\t        }\r\n\t\r\n\t        __class(PageOption, 'fairygui.PageOption');\r\n\t        var __proto = PageOption.prototype;\r\n\t        __proto.clear = function() {\r\n\t            this._id = null;\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'controller', null, function(val) {\r\n\t            this._controller = val;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'index', function() {\r\n\t            if (this._id)\r\n\t                return this._controller.getPageIndexById(this._id);\r\n\t            else\r\n\t                return -1;\r\n\t        }, function(pageIndex) {\r\n\t            this._id = this._controller.getPageId(pageIndex);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'name', function() {\r\n\t            if (this._id)\r\n\t                return this._controller.getPageNameById(this._id);\r\n\t            else\r\n\t                return null;\r\n\t        }, function(pageName) {\r\n\t            this._id = this._controller.getPageIdByName(pageName);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'id', function() {\r\n\t            return this._id;\r\n\t        }, function(id) {\r\n\t            this._id = id;\r\n\t        });\r\n\t\r\n\t        return PageOption;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.PopupMenu\r\n\t    var PopupMenu = (function() {\r\n\t        function PopupMenu(resourceURL) {\r\n\t            this._contentPane = null;\r\n\t            this._list = null;\r\n\t            if (!resourceURL) {\r\n\t                resourceURL = UIConfig1.popupMenu;\r\n\t                if (!resourceURL)\r\n\t                    throw \"UIConfig.popupMenu not defined\";\r\n\t            }\r\n\t            this._contentPane = UIPackage.createObjectFromURL(resourceURL).asCom;\r\n\t            this._contentPane.on( /*laya.events.Event.DISPLAY*/ \"display\", this, this.__addedToStage);\r\n\t            this._list = (this._contentPane.getChild(\"list\"));\r\n\t            this._list.removeChildrenToPool();\r\n\t            this._list.addRelation(this._contentPane, /*fairygui.RelationType.Width*/ 14);\r\n\t            this._list.removeRelation(this._contentPane, /*fairygui.RelationType.Height*/ 15);\r\n\t            this._contentPane.addRelation(this._list, /*fairygui.RelationType.Height*/ 15);\r\n\t            this._list.on( /*fairygui.Events.CLICK_ITEM*/ \"fui_click_item\", this, this.__clickItem);\r\n\t        }\r\n\t\r\n\t        __class(PopupMenu, 'fairygui.PopupMenu');\r\n\t        var __proto = PopupMenu.prototype;\r\n\t        __proto.dispose = function() {\r\n\t            this._contentPane.dispose();\r\n\t        }\r\n\t\r\n\t        __proto.addItem = function(caption, handler) {\r\n\t            var item = this._list.addItemFromPool().asButton;\r\n\t            item.title = caption;\r\n\t            item.data = handler;\r\n\t            item.grayed = false;\r\n\t            var c = item.getController(\"checked\");\r\n\t            if (c != null)\r\n\t                c.selectedIndex = 0;\r\n\t            return item;\r\n\t        }\r\n\t\r\n\t        __proto.addItemAt = function(caption, index, handler) {\r\n\t            var item = this._list.getFromPool().asButton;\r\n\t            this._list.addChildAt(item, index);\r\n\t            item.title = caption;\r\n\t            item.data = handler;\r\n\t            item.grayed = false;\r\n\t            var c = item.getController(\"checked\");\r\n\t            if (c != null)\r\n\t                c.selectedIndex = 0;\r\n\t            return item;\r\n\t        }\r\n\t\r\n\t        __proto.addSeperator = function() {\r\n\t            if (UIConfig1.popupMenu_seperator == null)\r\n\t                throw \"UIConfig.popupMenu_seperator not defined\";\r\n\t            this.list.addItemFromPool(UIConfig1.popupMenu_seperator);\r\n\t        }\r\n\t\r\n\t        __proto.getItemName = function(index) {\r\n\t            var item = this._list.getChildAt(index);\r\n\t            return item.name;\r\n\t        }\r\n\t\r\n\t        __proto.setItemText = function(name, caption) {\r\n\t            var item = this._list.getChild(name).asButton;\r\n\t            item.title = caption;\r\n\t        }\r\n\t\r\n\t        __proto.setItemVisible = function(name, visible) {\r\n\t            var item = this._list.getChild(name).asButton;\r\n\t            if (item.visible != visible) {\r\n\t                item.visible = visible;\r\n\t                this._list.setBoundsChangedFlag();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setItemGrayed = function(name, grayed) {\r\n\t            var item = this._list.getChild(name).asButton;\r\n\t            item.grayed = grayed;\r\n\t        }\r\n\t\r\n\t        __proto.setItemCheckable = function(name, checkable) {\r\n\t            var item = this._list.getChild(name).asButton;\r\n\t            var c = item.getController(\"checked\");\r\n\t            if (c != null) {\r\n\t                if (checkable) {\r\n\t                    if (c.selectedIndex == 0)\r\n\t                        c.selectedIndex = 1;\r\n\t                } else\r\n\t                    c.selectedIndex = 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setItemChecked = function(name, checked) {\r\n\t            var item = this._list.getChild(name).asButton;\r\n\t            var c = item.getController(\"checked\");\r\n\t            if (c != null)\r\n\t                c.selectedIndex = checked ? 2 : 1;\r\n\t        }\r\n\t\r\n\t        __proto.isItemChecked = function(name) {\r\n\t            var item = this._list.getChild(name).asButton;\r\n\t            var c = item.getController(\"checked\");\r\n\t            if (c != null)\r\n\t                return c.selectedIndex == 2;\r\n\t            else\r\n\t                return false;\r\n\t        }\r\n\t\r\n\t        __proto.removeItem = function(name) {\r\n\t            var item = this._list.getChild(name);\r\n\t            if (item != null) {\r\n\t                var index = this._list.getChildIndex(item);\r\n\t                this._list.removeChildToPoolAt(index);\r\n\t                return true;\r\n\t            } else\r\n\t                return false;\r\n\t        }\r\n\t\r\n\t        __proto.clearItems = function() {\r\n\t            this._list.removeChildrenToPool();\r\n\t        }\r\n\t\r\n\t        __proto.show = function(target, downward) {\r\n\t            var r = target != null ? target.root : GRoot.inst;\r\n\t            r.showPopup(this.contentPane, ((target instanceof fairygui.GRoot)) ? null : target, downward);\r\n\t        }\r\n\t\r\n\t        __proto.__clickItem = function(itemObject) {\r\n\t            Laya.timer.once(100, this, this.__clickItem2, [itemObject]);\r\n\t        }\r\n\t\r\n\t        __proto.__clickItem2 = function(itemObject) {\r\n\t            if (!((itemObject instanceof fairygui.GButton)))\r\n\t                return;\r\n\t            if (itemObject.grayed) {\r\n\t                this._list.selectedIndex = -1;\r\n\t                return;\r\n\t            };\r\n\t            var c = itemObject.asCom.getController(\"checked\");\r\n\t            if (c != null && c.selectedIndex != 0) {\r\n\t                if (c.selectedIndex == 1)\r\n\t                    c.selectedIndex = 2;\r\n\t                else\r\n\t                    c.selectedIndex = 1;\r\n\t            };\r\n\t            var r = (this._contentPane.parent);\r\n\t            r.hidePopup(this.contentPane);\r\n\t            if (itemObject.data != null) {\r\n\t                (itemObject.data).run();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__addedToStage = function() {\r\n\t            this._list.selectedIndex = -1;\r\n\t            this._list.resizeToFit(100000, 10);\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'itemCount', function() {\r\n\t            return this._list.numChildren;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'contentPane', function() {\r\n\t            return this._contentPane;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'list', function() {\r\n\t            return this._list;\r\n\t        });\r\n\t\r\n\t        return PopupMenu;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.ProgressTitleType\r\n\t    var ProgressTitleType = (function() {\r\n\t        function ProgressTitleType() {}\r\n\t        __class(ProgressTitleType, 'fairygui.ProgressTitleType');\r\n\t        ProgressTitleType.parse = function(value) {\r\n\t            switch (value) {\r\n\t                case \"percent\":\r\n\t                    return 0;\r\n\t                case \"valueAndmax\":\r\n\t                    return 1;\r\n\t                case \"value\":\r\n\t                    return 2;\r\n\t                case \"max\":\r\n\t                    return 3;\r\n\t                default:\r\n\t                    return 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        ProgressTitleType.Percent = 0;\r\n\t        ProgressTitleType.ValueAndMax = 1;\r\n\t        ProgressTitleType.Value = 2;\r\n\t        ProgressTitleType.Max = 3;\r\n\t        return ProgressTitleType;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.RelationItem\r\n\t    var RelationItem = (function() {\r\n\t        var RelationDef;\r\n\t\r\n\t        function RelationItem(owner) {\r\n\t            this._owner = null;\r\n\t            this._target = null;\r\n\t            this._defs = null;\r\n\t            this._targetX = NaN;\r\n\t            this._targetY = NaN;\r\n\t            this._targetWidth = NaN;\r\n\t            this._targetHeight = NaN;\r\n\t            this._owner = owner;\r\n\t            this._defs = [];\r\n\t        }\r\n\t\r\n\t        __class(RelationItem, 'fairygui.RelationItem');\r\n\t        var __proto = RelationItem.prototype;\r\n\t        __proto.add = function(relationType, usePercent) {\r\n\t            if (relationType == /*fairygui.RelationType.Size*/ 24) {\r\n\t                this.add( /*fairygui.RelationType.Width*/ 14, usePercent);\r\n\t                this.add( /*fairygui.RelationType.Height*/ 15, usePercent);\r\n\t                return;\r\n\t            };\r\n\t            var length = this._defs.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var def = this._defs[i];\r\n\t                if (def.type == relationType)\r\n\t                    return;\r\n\t            }\r\n\t            this.internalAdd(relationType, usePercent);\r\n\t        }\r\n\t\r\n\t        __proto.internalAdd = function(relationType, usePercent) {\r\n\t            if (relationType == /*fairygui.RelationType.Size*/ 24) {\r\n\t                this.internalAdd( /*fairygui.RelationType.Width*/ 14, usePercent);\r\n\t                this.internalAdd( /*fairygui.RelationType.Height*/ 15, usePercent);\r\n\t                return;\r\n\t            };\r\n\t            var info = new RelationDef();\r\n\t            info.percent = usePercent;\r\n\t            info.type = relationType;\r\n\t            this._defs.push(info);\r\n\t            if (usePercent || relationType == /*fairygui.RelationType.Left_Center*/ 1 || relationType == /*fairygui.RelationType.Center_Center*/ 3 || relationType == /*fairygui.RelationType.Right_Center*/ 5 ||\r\n\t                relationType == /*fairygui.RelationType.Top_Middle*/ 8 || relationType == /*fairygui.RelationType.Middle_Middle*/ 10 || relationType == /*fairygui.RelationType.Bottom_Middle*/ 12)\r\n\t                this._owner.pixelSnapping = true;\r\n\t        }\r\n\t\r\n\t        __proto.remove = function(relationType) {\r\n\t            (relationType === void 0) && (relationType = 0);\r\n\t            if (relationType == /*fairygui.RelationType.Size*/ 24) {\r\n\t                this.remove( /*fairygui.RelationType.Width*/ 14);\r\n\t                this.remove( /*fairygui.RelationType.Height*/ 15);\r\n\t                return;\r\n\t            };\r\n\t            var dc = this._defs.length;\r\n\t            for (var k = 0; k < dc; k++) {\r\n\t                if (this._defs[k].type == relationType) {\r\n\t                    this._defs.splice(k, 1);\r\n\t                    break;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.copyFrom = function(source) {\r\n\t            this.target = source.target;\r\n\t            this._defs.length = 0;\r\n\t            var length = source._defs.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var info = source._defs[i];\r\n\t                var info2 = new RelationDef();\r\n\t                info2.copyFrom(info);\r\n\t                this._defs.push(info2);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.dispose = function() {\r\n\t            if (this._target != null) {\r\n\t                this.releaseRefTarget(this._target);\r\n\t                this._target = null;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.applyOnSelfResized = function(dWidth, dHeight) {\r\n\t            var ox = this._owner.x;\r\n\t            var oy = this._owner.y;\r\n\t            var length = this._defs.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var info = this._defs[i];\r\n\t                switch (info.type) {\r\n\t                    case /*fairygui.RelationType.Center_Center*/ 3:\r\n\t                    case /*fairygui.RelationType.Right_Center*/ 5:\r\n\t                        this._owner.x -= dWidth / 2;\r\n\t                        break;\r\n\t                    case /*fairygui.RelationType.Right_Left*/ 4:\r\n\t                    case /*fairygui.RelationType.Right_Right*/ 6:\r\n\t                        this._owner.x -= dWidth;\r\n\t                        break;\r\n\t                    case /*fairygui.RelationType.Middle_Middle*/ 10:\r\n\t                    case /*fairygui.RelationType.Bottom_Middle*/ 12:\r\n\t                        this._owner.y -= dHeight / 2;\r\n\t                        break;\r\n\t                    case /*fairygui.RelationType.Bottom_Top*/ 11:\r\n\t                    case /*fairygui.RelationType.Bottom_Bottom*/ 13:\r\n\t                        this._owner.y -= dHeight;\r\n\t                        break;\r\n\t                }\r\n\t            }\r\n\t            if (ox != this._owner.x || oy != this._owner.y) {\r\n\t                ox = this._owner.x - ox;\r\n\t                oy = this._owner.y - oy;\r\n\t                this._owner.updateGearFromRelations(1, ox, oy);\r\n\t                if (this._owner.parent != null) {\r\n\t                    var len = this._owner.parent._transitions.length;\r\n\t                    if (len > 0) {\r\n\t                        for (i = 0; i < len; ++i) {\r\n\t                            this._owner.parent._transitions[i].updateFromRelations(this._owner.id, ox, oy);\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.applyOnXYChanged = function(info, dx, dy) {\r\n\t            switch (info.type) {\r\n\t                case /*fairygui.RelationType.Left_Left*/ 0:\r\n\t                case /*fairygui.RelationType.Left_Center*/ 1:\r\n\t                case /*fairygui.RelationType.Left_Right*/ 2:\r\n\t                case /*fairygui.RelationType.Center_Center*/ 3:\r\n\t                case /*fairygui.RelationType.Right_Left*/ 4:\r\n\t                case /*fairygui.RelationType.Right_Center*/ 5:\r\n\t                case /*fairygui.RelationType.Right_Right*/ 6:\r\n\t                    this._owner.x += dx;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Top_Top*/ 7:\r\n\t                case /*fairygui.RelationType.Top_Middle*/ 8:\r\n\t                case /*fairygui.RelationType.Top_Bottom*/ 9:\r\n\t                case /*fairygui.RelationType.Middle_Middle*/ 10:\r\n\t                case /*fairygui.RelationType.Bottom_Top*/ 11:\r\n\t                case /*fairygui.RelationType.Bottom_Middle*/ 12:\r\n\t                case /*fairygui.RelationType.Bottom_Bottom*/ 13:\r\n\t                    this._owner.y += dy;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Width*/ 14:\r\n\t                case /*fairygui.RelationType.Height*/ 15:\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.LeftExt_Left*/ 16:\r\n\t                case /*fairygui.RelationType.LeftExt_Right*/ 17:\r\n\t                    this._owner.x += dx;\r\n\t                    this._owner.width = this._owner._rawWidth - dx;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.RightExt_Left*/ 18:\r\n\t                case /*fairygui.RelationType.RightExt_Right*/ 19:\r\n\t                    this._owner.width = this._owner._rawWidth + dx;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.TopExt_Top*/ 20:\r\n\t                case /*fairygui.RelationType.TopExt_Bottom*/ 21:\r\n\t                    this._owner.y += dy;\r\n\t                    this._owner.height = this._owner._rawHeight - dy;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.BottomExt_Top*/ 22:\r\n\t                case /*fairygui.RelationType.BottomExt_Bottom*/ 23:\r\n\t                    this._owner.height = this._owner._rawHeight + dy;\r\n\t                    break;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.applyOnSizeChanged = function(info) {\r\n\t            var targetX = NaN,\r\n\t                targetY = NaN;\r\n\t            if (this._target != this._owner.parent) {\r\n\t                targetX = this._target.x;\r\n\t                targetY = this._target.y;\r\n\t            } else {\r\n\t                targetX = 0;\r\n\t                targetY = 0;\r\n\t            };\r\n\t            var v = NaN,\r\n\t                tmp = NaN;\r\n\t            switch (info.type) {\r\n\t                case /*fairygui.RelationType.Left_Left*/ 0:\r\n\t                    if (info.percent && this._target == this._owner.parent) {\r\n\t                        v = this._owner.x - targetX;\r\n\t                        if (info.percent)\r\n\t                            v = v / this._targetWidth * this._target._width;\r\n\t                        this._owner.x = targetX + v;\r\n\t                    }\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Left_Center*/ 1:\r\n\t                    v = this._owner.x - (targetX + this._targetWidth / 2);\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetWidth * this._target._width;\r\n\t                    this._owner.x = targetX + this._target._width / 2 + v;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Left_Right*/ 2:\r\n\t                    v = this._owner.x - (targetX + this._targetWidth);\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetWidth * this._target._width;\r\n\t                    this._owner.x = targetX + this._target._width + v;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Center_Center*/ 3:\r\n\t                    v = this._owner.x + this._owner._rawWidth / 2 - (targetX + this._targetWidth / 2);\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetWidth * this._target._width;\r\n\t                    this._owner.x = targetX + this._target._width / 2 + v - this._owner._rawWidth / 2;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Right_Left*/ 4:\r\n\t                    v = this._owner.x + this._owner._rawWidth - targetX;\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetWidth * this._target._width;\r\n\t                    this._owner.x = targetX + v - this._owner._rawWidth;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Right_Center*/ 5:\r\n\t                    v = this._owner.x + this._owner._rawWidth - (targetX + this._targetWidth / 2);\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetWidth * this._target._width;\r\n\t                    this._owner.x = targetX + this._target._width / 2 + v - this._owner._rawWidth;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Right_Right*/ 6:\r\n\t                    v = this._owner.x + this._owner._rawWidth - (targetX + this._targetWidth);\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetWidth * this._target._width;\r\n\t                    this._owner.x = targetX + this._target._width + v - this._owner._rawWidth;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Top_Top*/ 7:\r\n\t                    if (info.percent && this._target == this._owner.parent) {\r\n\t                        v = this._owner.y - targetY;\r\n\t                        if (info.percent)\r\n\t                            v = v / this._targetHeight * this._target._height;\r\n\t                        this._owner.y = targetY + v;\r\n\t                    }\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Top_Middle*/ 8:\r\n\t                    v = this._owner.y - (targetY + this._targetHeight / 2);\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetHeight * this._target._height;\r\n\t                    this._owner.y = targetY + this._target._height / 2 + v;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Top_Bottom*/ 9:\r\n\t                    v = this._owner.y - (targetY + this._targetHeight);\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetHeight * this._target._height;\r\n\t                    this._owner.y = targetY + this._target._height + v;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Middle_Middle*/ 10:\r\n\t                    v = this._owner.y + this._owner._rawHeight / 2 - (targetY + this._targetHeight / 2);\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetHeight * this._target._height;\r\n\t                    this._owner.y = targetY + this._target._height / 2 + v - this._owner._rawHeight / 2;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Bottom_Top*/ 11:\r\n\t                    v = this._owner.y + this._owner._rawHeight - targetY;\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetHeight * this._target._height;\r\n\t                    this._owner.y = targetY + v - this._owner._rawHeight;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Bottom_Middle*/ 12:\r\n\t                    v = this._owner.y + this._owner._rawHeight - (targetY + this._targetHeight / 2);\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetHeight * this._target._height;\r\n\t                    this._owner.y = targetY + this._target._height / 2 + v - this._owner._rawHeight;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Bottom_Bottom*/ 13:\r\n\t                    v = this._owner.y + this._owner._rawHeight - (targetY + this._targetHeight);\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetHeight * this._target._height;\r\n\t                    this._owner.y = targetY + this._target._height + v - this._owner._rawHeight;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Width*/ 14:\r\n\t                    if (this._owner._underConstruct && this._owner == this._target.parent)\r\n\t                        v = this._owner.sourceWidth - this._target.initWidth;\r\n\t                    else\r\n\t                        v = this._owner._rawWidth - this._targetWidth;\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetWidth * this._target._width;\r\n\t                    if (this._target == this._owner.parent)\r\n\t                        this._owner.setSize(this._target._width + v, this._owner._rawHeight, true);\r\n\t                    else\r\n\t                        this._owner.width = this._target._width + v;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.Height*/ 15:\r\n\t                    if (this._owner._underConstruct && this._owner == this._target.parent)\r\n\t                        v = this._owner.sourceHeight - this._target.initHeight;\r\n\t                    else\r\n\t                        v = this._owner._rawHeight - this._targetHeight;\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetHeight * this._target._height;\r\n\t                    if (this._target == this._owner.parent)\r\n\t                        this._owner.setSize(this._owner._rawWidth, this._target._height + v, true);\r\n\t                    else\r\n\t                        this._owner.height = this._target._height + v;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.LeftExt_Left*/ 16:\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.LeftExt_Right*/ 17:\r\n\t                    v = this._owner.x - (targetX + this._targetWidth);\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetWidth * this._target._width;\r\n\t                    tmp = this._owner.x;\r\n\t                    this._owner.x = targetX + this._target._width + v;\r\n\t                    this._owner.width = this._owner._rawWidth - (this._owner.x - tmp);\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.RightExt_Left*/ 18:\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.RightExt_Right*/ 19:\r\n\t                    if (this._owner._underConstruct && this._owner == this._target.parent)\r\n\t                        v = this._owner.sourceWidth - (targetX + this._target.initWidth);\r\n\t                    else\r\n\t                        v = this._owner.width - (targetX + this._targetWidth);\r\n\t                    if (this._owner != this._target.parent)\r\n\t                        v += this._owner.x;\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetWidth * this._target._width;\r\n\t                    if (this._owner != this._target.parent)\r\n\t                        this._owner.width = targetX + this._target._width + v - this._owner.x;\r\n\t                    else\r\n\t                        this._owner.width = targetX + this._target._width + v;\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.TopExt_Top*/ 20:\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.TopExt_Bottom*/ 21:\r\n\t                    v = this._owner.y - (targetY + this._targetHeight);\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetHeight * this._target._height;\r\n\t                    tmp = this._owner.y;\r\n\t                    this._owner.y = targetY + this._target._height + v;\r\n\t                    this._owner.height = this._owner._rawHeight - (this._owner.y - tmp);\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.BottomExt_Top*/ 22:\r\n\t                    break;\r\n\t                case /*fairygui.RelationType.BottomExt_Bottom*/ 23:\r\n\t                    if (this._owner._underConstruct && this._owner == this._target.parent)\r\n\t                        v = this._owner.sourceHeight - (targetY + this._target.initHeight);\r\n\t                    else\r\n\t                        v = this._owner._rawHeight - (targetY + this._targetHeight);\r\n\t                    if (this._owner != this._target.parent)\r\n\t                        v += this._owner.y;\r\n\t                    if (info.percent)\r\n\t                        v = v / this._targetHeight * this._target._height;\r\n\t                    if (this._owner != this._target.parent)\r\n\t                        this._owner.height = targetY + this._target._height + v - this._owner.y;\r\n\t                    else\r\n\t                        this._owner.height = targetY + this._target._height + v;\r\n\t                    break;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.addRefTarget = function(target) {\r\n\t            if (target != this._owner.parent)\r\n\t                target.on( /*fairygui.Events.XY_CHANGED*/ \"fui_xy_changed\", this, this.__targetXYChanged);\r\n\t            target.on( /*fairygui.Events.SIZE_CHANGED*/ \"fui_size_changed\", this, this.__targetSizeChanged);\r\n\t            target.on( /*fairygui.Events.SIZE_DELAY_CHANGE*/ \"fui_size_delay_change\", this, this.__targetSizeWillChange);\r\n\t            this._targetX = this._target.x;\r\n\t            this._targetY = this._target.y;\r\n\t            this._targetWidth = this._target._width;\r\n\t            this._targetHeight = this._target._height;\r\n\t        }\r\n\t\r\n\t        __proto.releaseRefTarget = function(target) {\r\n\t            target.off( /*fairygui.Events.XY_CHANGED*/ \"fui_xy_changed\", this, this.__targetXYChanged);\r\n\t            target.off( /*fairygui.Events.SIZE_CHANGED*/ \"fui_size_changed\", this, this.__targetSizeChanged);\r\n\t            target.off( /*fairygui.Events.SIZE_DELAY_CHANGE*/ \"fui_size_delay_change\", this, this.__targetSizeWillChange);\r\n\t        }\r\n\t\r\n\t        __proto.__targetXYChanged = function() {\r\n\t            if (this._owner.relations.handling != null || this._owner.group != null && this._owner.group._updating) {\r\n\t                this._targetX = this._target.x;\r\n\t                this._targetY = this._target.y;\r\n\t                return;\r\n\t            }\r\n\t            this._owner.relations.handling = this._target;\r\n\t            var ox = this._owner.x;\r\n\t            var oy = this._owner.y;\r\n\t            var dx = this._target.x - this._targetX;\r\n\t            var dy = this._target.y - this._targetY;\r\n\t            var length = this._defs.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var info = this._defs[i];\r\n\t                this.applyOnXYChanged(info, dx, dy);\r\n\t            }\r\n\t            this._targetX = this._target.x;\r\n\t            this._targetY = this._target.y;\r\n\t            if (ox != this._owner.x || oy != this._owner.y) {\r\n\t                ox = this._owner.x - ox;\r\n\t                oy = this._owner.y - oy;\r\n\t                this._owner.updateGearFromRelations(1, ox, oy);\r\n\t                if (this._owner.parent != null) {\r\n\t                    var len = this._owner.parent._transitions.length;\r\n\t                    if (len > 0) {\r\n\t                        for (i = 0; i < len; ++i) {\r\n\t                            this._owner.parent._transitions[i].updateFromRelations(this._owner.id, ox, oy);\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            this._owner.relations.handling = null;\r\n\t        }\r\n\t\r\n\t        __proto.__targetSizeChanged = function() {\r\n\t            if (this._owner.relations.handling != null)\r\n\t                return;\r\n\t            this._owner.relations.handling = this._target;\r\n\t            var ox = this._owner.x;\r\n\t            var oy = this._owner.y;\r\n\t            var ow = this._owner._rawWidth;\r\n\t            var oh = this._owner._rawHeight;\r\n\t            var length = this._defs.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var info = this._defs[i];\r\n\t                this.applyOnSizeChanged(info);\r\n\t            }\r\n\t            this._targetWidth = this._target._width;\r\n\t            this._targetHeight = this._target._height;\r\n\t            if (ox != this._owner.x || oy != this._owner.y) {\r\n\t                ox = this._owner.x - ox;\r\n\t                oy = this._owner.y - oy;\r\n\t                this._owner.updateGearFromRelations(1, ox, oy);\r\n\t                if (this._owner.parent != null) {\r\n\t                    var len = this._owner.parent._transitions.length;\r\n\t                    if (len > 0) {\r\n\t                        for (i = 0; i < len; ++i) {\r\n\t                            this._owner.parent._transitions[i].updateFromRelations(this._owner.id, ox, oy);\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            if (ow != this._owner._rawWidth || oh != this._owner._rawHeight) {\r\n\t                ow = this._owner._rawWidth - ow;\r\n\t                oh = this._owner._rawHeight - oh;\r\n\t                this._owner.updateGearFromRelations(2, ow, oh);\r\n\t            }\r\n\t            this._owner.relations.handling = null;\r\n\t        }\r\n\t\r\n\t        __proto.__targetSizeWillChange = function() {\r\n\t            this._owner.relations.sizeDirty = true;\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'owner', function() {\r\n\t            return this._owner;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'target', function() {\r\n\t            return this._target;\r\n\t        }, function(value) {\r\n\t            if (this._target != value) {\r\n\t                if (this._target)\r\n\t                    this.releaseRefTarget(this._target);\r\n\t                this._target = value;\r\n\t                if (this._target)\r\n\t                    this.addRefTarget(this._target);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'isEmpty', function() {\r\n\t            return this._defs.length == 0;\r\n\t        });\r\n\t\r\n\t        RelationItem.__init$ = function() {\r\n\t            //class RelationDef\r\n\t            RelationDef = (function() {\r\n\t                function RelationDef() {\r\n\t                    this.percent = false;\r\n\t                    this.type = NaN;\r\n\t                }\r\n\t                __class(RelationDef, '');\r\n\t                var __proto = RelationDef.prototype;\r\n\t                __proto.copyFrom = function(source) {\r\n\t                    this.percent = source.percent;\r\n\t                    this.type = source.type;\r\n\t                }\r\n\t                return RelationDef;\r\n\t            })()\r\n\t        }\r\n\t\r\n\t        return RelationItem;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.Relations\r\n\t    var Relations = (function() {\r\n\t        function Relations(owner) {\r\n\t            this._owner = null;\r\n\t            this._items = null;\r\n\t            this.handling = null;\r\n\t            this.sizeDirty = false;\r\n\t            this._owner = owner;\r\n\t            this._items = [];\r\n\t        }\r\n\t\r\n\t        __class(Relations, 'fairygui.Relations');\r\n\t        var __proto = Relations.prototype;\r\n\t        __proto.add = function(target, relationType, usePercent) {\r\n\t            (usePercent === void 0) && (usePercent = false);\r\n\t            var length = this._items.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var item = this._items[i];\r\n\t                if (item.target == target) {\r\n\t                    item.add(relationType, usePercent);\r\n\t                    return;\r\n\t                }\r\n\t            };\r\n\t            var newItem = new RelationItem(this._owner);\r\n\t            newItem.target = target;\r\n\t            newItem.add(relationType, usePercent);\r\n\t            this._items.push(newItem);\r\n\t        }\r\n\t\r\n\t        __proto.addItems = function(target, sidePairs) {\r\n\t            var arr = sidePairs.split(\",\");\r\n\t            var s;\r\n\t            var usePercent = false;\r\n\t            var i = NaN;\r\n\t            var newItem = new RelationItem(this._owner);\r\n\t            newItem.target = target;\r\n\t            for (i = 0; i < 2; i++) {\r\n\t                s = arr[i];\r\n\t                if (!s)\r\n\t                    continue;\r\n\t                if (s.charAt(s.length - 1) == \"%\") {\r\n\t                    s = s.substr(0, s.length - 1);\r\n\t                    usePercent = true;\r\n\t                } else\r\n\t                    usePercent = false;\r\n\t                var j = s.indexOf(\"-\");\r\n\t                if (j == -1)\r\n\t                    s = s + \"-\" + s;\r\n\t                var t = fairygui.Relations.RELATION_NAMES.indexOf(s);\r\n\t                if (t == -1)\r\n\t                    throw \"invalid relation type\";\r\n\t                newItem.internalAdd(t, usePercent);\r\n\t            }\r\n\t            this._items.push(newItem);\r\n\t        }\r\n\t\r\n\t        __proto.remove = function(target, relationType) {\r\n\t            (relationType === void 0) && (relationType = 0);\r\n\t            var cnt = this._items.length;\r\n\t            var i = 0;\r\n\t            while (i < cnt) {\r\n\t                var item = this._items[i];\r\n\t                if (item.target == target) {\r\n\t                    item.remove(relationType);\r\n\t                    if (item.isEmpty) {\r\n\t                        item.dispose();\r\n\t                        this._items.splice(i, 1);\r\n\t                        cnt--;\r\n\t                    } else\r\n\t                        i++;\r\n\t                } else\r\n\t                    i++;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.contains = function(target) {\r\n\t            var length = this._items.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var item = this._items[i];\r\n\t                if (item.target == target)\r\n\t                    return true;\r\n\t            }\r\n\t            return false;\r\n\t        }\r\n\t\r\n\t        __proto.clearFor = function(target) {\r\n\t            var cnt = this._items.length;\r\n\t            var i = 0;\r\n\t            while (i < cnt) {\r\n\t                var item = this._items[i];\r\n\t                if (item.target == target) {\r\n\t                    item.dispose();\r\n\t                    this._items.splice(i, 1);\r\n\t                    cnt--;\r\n\t                } else\r\n\t                    i++;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.clearAll = function() {\r\n\t            var length = this._items.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var item = this._items[i];\r\n\t                item.dispose();\r\n\t            }\r\n\t            this._items.length = 0;\r\n\t        }\r\n\t\r\n\t        __proto.copyFrom = function(source) {\r\n\t            this.clearAll();\r\n\t            var arr = source._items;\r\n\t            var length = arr.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var ri = arr[i];\r\n\t                var item = new RelationItem(this._owner);\r\n\t                item.copyFrom(ri);\r\n\t                this._items.push(item);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.dispose = function() {\r\n\t            this.clearAll();\r\n\t        }\r\n\t\r\n\t        __proto.onOwnerSizeChanged = function(dWidth, dHeight) {\r\n\t            if (this._items.length == 0)\r\n\t                return;\r\n\t            var length = this._items.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var item = this._items[i];\r\n\t                item.applyOnSelfResized(dWidth, dHeight);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.ensureRelationsSizeCorrect = function() {\r\n\t            if (this._items.length == 0)\r\n\t                return;\r\n\t            this.sizeDirty = false;\r\n\t            var length = this._items.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var item = this._items[i];\r\n\t                item.target.ensureSizeCorrect();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setup = function(xml) {\r\n\t            var col = xml.childNodes;\r\n\t            var length = col.length;\r\n\t            var targetId;\r\n\t            var target;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var cxml = col[i];\r\n\t                if (cxml.nodeName != \"relation\")\r\n\t                    continue;\r\n\t                targetId = cxml.getAttribute(\"target\");\r\n\t                if (this._owner.parent) {\r\n\t                    if (targetId)\r\n\t                        target = this._owner.parent.getChildById(targetId);\r\n\t                    else\r\n\t                        target = this._owner.parent;\r\n\t                } else {\r\n\t                    target = (this._owner).getChildById(targetId);\r\n\t                }\r\n\t                if (target)\r\n\t                    this.addItems(target, cxml.getAttribute(\"sidePair\"));\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'empty', function() {\r\n\t            return this._items.length == 0;\r\n\t        });\r\n\t\r\n\t        __static(Relations, ['RELATION_NAMES', function() {\r\n\t            return this.RELATION_NAMES = [\r\n\t                \"left-left\",\r\n\t                \"left-center\",\r\n\t                \"left-right\",\r\n\t                \"center-center\",\r\n\t                \"right-left\",\r\n\t                \"right-center\",\r\n\t                \"right-right\",\r\n\t                \"top-top\",\r\n\t                \"top-middle\",\r\n\t                \"top-bottom\",\r\n\t                \"middle-middle\",\r\n\t                \"bottom-top\",\r\n\t                \"bottom-middle\",\r\n\t                \"bottom-bottom\",\r\n\t                \"width-width\",\r\n\t                \"height-height\",\r\n\t                \"leftext-left\",\r\n\t                \"leftext-right\",\r\n\t                \"rightext-left\",\r\n\t                \"rightext-right\",\r\n\t                \"topext-top\",\r\n\t                \"topext-bottom\",\r\n\t                \"bottomext-top\",\r\n\t                \"bottomext-bottom\"\r\n\t            ];\r\n\t        }]);\r\n\t        return Relations;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.RelationType\r\n\t    var RelationType = (function() {\r\n\t        function RelationType() {}\r\n\t        __class(RelationType, 'fairygui.RelationType');\r\n\t        RelationType.Left_Left = 0;\r\n\t        RelationType.Left_Center = 1;\r\n\t        RelationType.Left_Right = 2;\r\n\t        RelationType.Center_Center = 3;\r\n\t        RelationType.Right_Left = 4;\r\n\t        RelationType.Right_Center = 5;\r\n\t        RelationType.Right_Right = 6;\r\n\t        RelationType.Top_Top = 7;\r\n\t        RelationType.Top_Middle = 8;\r\n\t        RelationType.Top_Bottom = 9;\r\n\t        RelationType.Middle_Middle = 10;\r\n\t        RelationType.Bottom_Top = 11;\r\n\t        RelationType.Bottom_Middle = 12;\r\n\t        RelationType.Bottom_Bottom = 13;\r\n\t        RelationType.Width = 14;\r\n\t        RelationType.Height = 15;\r\n\t        RelationType.LeftExt_Left = 16;\r\n\t        RelationType.LeftExt_Right = 17;\r\n\t        RelationType.RightExt_Left = 18;\r\n\t        RelationType.RightExt_Right = 19;\r\n\t        RelationType.TopExt_Top = 20;\r\n\t        RelationType.TopExt_Bottom = 21;\r\n\t        RelationType.BottomExt_Top = 22;\r\n\t        RelationType.BottomExt_Bottom = 23;\r\n\t        RelationType.Size = 24;\r\n\t        return RelationType;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.ScrollBarDisplayType\r\n\t    var ScrollBarDisplayType = (function() {\r\n\t        function ScrollBarDisplayType() {}\r\n\t        __class(ScrollBarDisplayType, 'fairygui.ScrollBarDisplayType');\r\n\t        ScrollBarDisplayType.parse = function(value) {\r\n\t            switch (value) {\r\n\t                case \"default\":\r\n\t                    return 0;\r\n\t                case \"visible\":\r\n\t                    return 1;\r\n\t                case \"auto\":\r\n\t                    return 2;\r\n\t                case \"hidden\":\r\n\t                    return 3;\r\n\t                default:\r\n\t                    return 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        ScrollBarDisplayType.Default = 0;\r\n\t        ScrollBarDisplayType.Visible = 1;\r\n\t        ScrollBarDisplayType.Auto = 2;\r\n\t        ScrollBarDisplayType.Hidden = 3;\r\n\t        return ScrollBarDisplayType;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.ScrollPane\r\n\t    var ScrollPane = (function() {\r\n\t        var TweenHelper;\r\n\t\r\n\t        function ScrollPane(owner, scrollType, scrollBarMargin, scrollBarDisplay, flags, vtScrollBarRes, hzScrollBarRes) {\r\n\t            this._owner = null;\r\n\t            this._maskContainer = null;\r\n\t            this._container = null;\r\n\t            this._alignContainer = null;\r\n\t            this._viewWidth = 0;\r\n\t            this._viewHeight = 0;\r\n\t            this._contentWidth = 0;\r\n\t            this._contentHeight = 0;\r\n\t            this._scrollType = 0;\r\n\t            this._scrollSpeed = 0;\r\n\t            this._mouseWheelSpeed = 0;\r\n\t            this._scrollBarMargin = null;\r\n\t            this._bouncebackEffect = false;\r\n\t            this._touchEffect = false;\r\n\t            this._scrollBarDisplayAuto = false;\r\n\t            this._vScrollNone = false;\r\n\t            this._hScrollNone = false;\r\n\t            this._displayOnLeft = false;\r\n\t            this._snapToItem = false;\r\n\t            this._displayInDemand = false;\r\n\t            this._mouseWheelEnabled = false;\r\n\t            this._pageMode = false;\r\n\t            this._pageSizeH = NaN;\r\n\t            this._pageSizeV = NaN;\r\n\t            this._inertiaDisabled = false;\r\n\t            this._yPerc = NaN;\r\n\t            this._xPerc = NaN;\r\n\t            this._xPos = NaN;\r\n\t            this._yPos = NaN;\r\n\t            this._xOverlap = NaN;\r\n\t            this._yOverlap = NaN;\r\n\t            this._tweening = NaN;\r\n\t            this._tweenHelper = null;\r\n\t            this._tweener = null;\r\n\t            this._needRefresh = false;\r\n\t            this._time1 = NaN;\r\n\t            this._time2 = NaN;\r\n\t            this._y1 = NaN;\r\n\t            this._y2 = NaN;\r\n\t            this._yOffset = NaN;\r\n\t            this._x1 = NaN;\r\n\t            this._x2 = NaN;\r\n\t            this._xOffset = NaN;\r\n\t            this._holdAreaPoint = null;\r\n\t            this._isHoldAreaDone = false;\r\n\t            this._aniFlag = 0;\r\n\t            this._scrollBarVisible = false;\r\n\t            this._pageController = null;\r\n\t            this._hzScrollBar = null;\r\n\t            this._vtScrollBar = null;\r\n\t            this.isDragged = false;;\r\n\t            if (fairygui.ScrollPane._easeTypeFunc == null)\r\n\t                fairygui.ScrollPane._easeTypeFunc = Ease.cubicOut;\r\n\t            this._tweenHelper = new TweenHelper();\r\n\t            this._owner = owner;\r\n\t            this._maskContainer = new Sprite();\r\n\t            this._owner.displayObject.addChild(this._maskContainer);\r\n\t            this._container = this._owner._container;\r\n\t            this._container.pos(0, 0);\r\n\t            this._maskContainer.addChild(this._container);\r\n\t            this._scrollType = scrollType;\r\n\t            this._scrollBarMargin = scrollBarMargin;\r\n\t            this._bouncebackEffect = UIConfig1.defaultScrollBounceEffect;\r\n\t            this._touchEffect = UIConfig1.defaultScrollTouchEffect;\r\n\t            this._scrollSpeed = UIConfig1.defaultScrollSpeed;\r\n\t            this._mouseWheelSpeed = this._scrollSpeed * 2;\r\n\t            this._displayOnLeft = (flags & 1) != 0;\r\n\t            this._snapToItem = (flags & 2) != 0;\r\n\t            this._displayInDemand = (flags & 4) != 0;\r\n\t            this._pageMode = (flags & 8) != 0;\r\n\t            if (flags & 16)\r\n\t                this._touchEffect = true;\r\n\t            else if (flags & 32)\r\n\t                this._touchEffect = false;\r\n\t            else\r\n\t                this._touchEffect = UIConfig1.defaultScrollTouchEffect;\r\n\t            if (flags & 64)\r\n\t                this._bouncebackEffect = true;\r\n\t            else if (flags & 128)\r\n\t                this._bouncebackEffect = false;\r\n\t            else\r\n\t                this._bouncebackEffect = UIConfig1.defaultScrollBounceEffect;\r\n\t            this._inertiaDisabled = (flags & 256) != 0;\r\n\t            if ((flags & 512) == 0)\r\n\t                this._maskContainer.scrollRect = new Rectangle();\r\n\t            this._xPerc = 0;\r\n\t            this._yPerc = 0;\r\n\t            this._xPos = 0\r\n\t            this._yPos = 0;\r\n\t            this._xOverlap = 0;\r\n\t            this._yOverlap = 0;\r\n\t            this._aniFlag = 0;\r\n\t            this._scrollBarVisible = true;\r\n\t            this._mouseWheelEnabled = true;\r\n\t            this._holdAreaPoint = new Point();\r\n\t            if (scrollBarDisplay == /*fairygui.ScrollBarDisplayType.Default*/ 0)\r\n\t                scrollBarDisplay = UIConfig1.defaultScrollBarDisplay;\r\n\t            if (scrollBarDisplay != /*fairygui.ScrollBarDisplayType.Hidden*/ 3) {\r\n\t                if (this._scrollType == /*fairygui.ScrollType.Both*/ 2 || this._scrollType == /*fairygui.ScrollType.Vertical*/ 1) {\r\n\t                    var res = vtScrollBarRes ? vtScrollBarRes : UIConfig1.verticalScrollBar;\r\n\t                    if (res) {\r\n\t                        this._vtScrollBar = (UIPackage.createObjectFromURL(res));\r\n\t                        if (!this._vtScrollBar)\r\n\t                            throw \"cannot create scrollbar from \" + res;\r\n\t                        this._vtScrollBar.setScrollPane(this, true);\r\n\t                        this._owner.displayObject.addChild(this._vtScrollBar.displayObject);\r\n\t                    }\r\n\t                }\r\n\t                if (this._scrollType == /*fairygui.ScrollType.Both*/ 2 || this._scrollType == /*fairygui.ScrollType.Horizontal*/ 0) {\r\n\t                    res = hzScrollBarRes ? hzScrollBarRes : UIConfig1.horizontalScrollBar;\r\n\t                    if (res) {\r\n\t                        this._hzScrollBar = (UIPackage.createObjectFromURL(res));\r\n\t                        if (!this._hzScrollBar)\r\n\t                            throw \"cannot create scrollbar from \" + res;\r\n\t                        this._hzScrollBar.setScrollPane(this, false);\r\n\t                        this._owner.displayObject.addChild(this._hzScrollBar.displayObject);\r\n\t                    }\r\n\t                }\r\n\t                this._scrollBarDisplayAuto = scrollBarDisplay == /*fairygui.ScrollBarDisplayType.Auto*/ 2;\r\n\t                if (this._scrollBarDisplayAuto) {\r\n\t                    this._scrollBarVisible = false;\r\n\t                    if (this._vtScrollBar)\r\n\t                        this._vtScrollBar.displayObject.visible = false;\r\n\t                    if (this._hzScrollBar)\r\n\t                        this._hzScrollBar.displayObject.visible = false;\r\n\t                }\r\n\t            }\r\n\t            this._contentWidth = 0;\r\n\t            this._contentHeight = 0;\r\n\t            this.setSize(owner.width, owner.height);\r\n\t            this._owner.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__mouseDown);\r\n\t            this._owner.on( /*laya.events.Event.MOUSE_WHEEL*/ \"mousewheel\", this, this.__mouseWheel);\r\n\t        }\r\n\t\r\n\t        __class(ScrollPane, 'fairygui.ScrollPane');\r\n\t        var __proto = ScrollPane.prototype;\r\n\t        __proto.setPercX = function(value, ani) {\r\n\t            (ani === void 0) && (ani = false);\r\n\t            this._owner.ensureBoundsCorrect();\r\n\t            value = ToolSet.clamp01(value);\r\n\t            if (value != this._xPerc) {\r\n\t                this._xPerc = value;\r\n\t                this._xPos = this._xPerc * this._xOverlap;\r\n\t                this.posChanged(ani);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setPercY = function(value, ani) {\r\n\t            (ani === void 0) && (ani = false);\r\n\t            this._owner.ensureBoundsCorrect();\r\n\t            value = ToolSet.clamp01(value);\r\n\t            if (value != this._yPerc) {\r\n\t                this._yPerc = value;\r\n\t                this._yPos = this._yPerc * this._yOverlap;\r\n\t                this.posChanged(ani);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setPosX = function(value, ani) {\r\n\t            (ani === void 0) && (ani = false);\r\n\t            this._owner.ensureBoundsCorrect();\r\n\t            value = ToolSet.clamp(value, 0, this._xOverlap);\r\n\t            if (value != this._xPos) {\r\n\t                this._xPos = value;\r\n\t                this._xPerc = this._xOverlap == 0 ? 0 : this._xPos / this._xOverlap;\r\n\t                this.posChanged(ani);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setPosY = function(value, ani) {\r\n\t            (ani === void 0) && (ani = false);\r\n\t            this._owner.ensureBoundsCorrect();\r\n\t            value = ToolSet.clamp(value, 0, this._yOverlap);\r\n\t            if (value != this._yPos) {\r\n\t                this._yPos = value;\r\n\t                this._yPerc = this._yOverlap == 0 ? 0 : this._yPos / this._yOverlap;\r\n\t                this.posChanged(ani);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.getDeltaX = function(move) {\r\n\t            return move / (this._contentWidth - this._viewWidth);\r\n\t        }\r\n\t\r\n\t        __proto.getDeltaY = function(move) {\r\n\t            return move / (this._contentHeight - this._viewHeight);\r\n\t        }\r\n\t\r\n\t        __proto.scrollTop = function(ani) {\r\n\t            (ani === void 0) && (ani = false);\r\n\t            this.setPercY(0, ani);\r\n\t        }\r\n\t\r\n\t        __proto.scrollBottom = function(ani) {\r\n\t            (ani === void 0) && (ani = false);\r\n\t            this.setPercY(1, ani);\r\n\t        }\r\n\t\r\n\t        __proto.scrollUp = function(speed, ani) {\r\n\t            (speed === void 0) && (speed = 1);\r\n\t            (ani === void 0) && (ani = false);\r\n\t            this.setPercY(this._yPerc - this.getDeltaY(this._scrollSpeed * speed), ani);\r\n\t        }\r\n\t\r\n\t        __proto.scrollDown = function(speed, ani) {\r\n\t            (speed === void 0) && (speed = 1);\r\n\t            (ani === void 0) && (ani = false);\r\n\t            this.setPercY(this._yPerc + this.getDeltaY(this._scrollSpeed * speed), ani);\r\n\t        }\r\n\t\r\n\t        __proto.scrollLeft = function(speed, ani) {\r\n\t            (speed === void 0) && (speed = 1);\r\n\t            (ani === void 0) && (ani = false);\r\n\t            this.setPercX(this._xPerc - this.getDeltaX(this._scrollSpeed * speed), ani);\r\n\t        }\r\n\t\r\n\t        __proto.scrollRight = function(speed, ani) {\r\n\t            (speed === void 0) && (speed = 1);\r\n\t            (ani === void 0) && (ani = false);\r\n\t            this.setPercX(this._xPerc + this.getDeltaX(this._scrollSpeed * speed), ani);\r\n\t        }\r\n\t\r\n\t        __proto.scrollToView = function(target, ani, setFirst) {\r\n\t            (ani === void 0) && (ani = false);\r\n\t            (setFirst === void 0) && (setFirst = false);\r\n\t            this._owner.ensureBoundsCorrect();\r\n\t            if (this._needRefresh)\r\n\t                this.refresh();\r\n\t            var rect;\r\n\t            if ((target instanceof fairygui.GObject)) {\r\n\t                if (target.parent != this._owner) {\r\n\t                    target.parent.localToGlobalRect(target.x, target.y,\r\n\t                        target.width, target.height, fairygui.ScrollPane.sHelperRect);\r\n\t                    rect = this._owner.globalToLocalRect(fairygui.ScrollPane.sHelperRect.x, fairygui.ScrollPane.sHelperRect.y,\r\n\t                        fairygui.ScrollPane.sHelperRect.width, fairygui.ScrollPane.sHelperRect.height, fairygui.ScrollPane.sHelperRect);\r\n\t                } else {\r\n\t                    rect = fairygui.ScrollPane.sHelperRect;\r\n\t                    rect.setTo(target.x, target.y, target.width, target.height);\r\n\t                }\r\n\t            } else\r\n\t                rect = (target);\r\n\t            if (this._yOverlap > 0) {\r\n\t                var top = this.posY;\r\n\t                var bottom = top + this._viewHeight;\r\n\t                if (setFirst || rect.y < top || rect.height >= this._viewHeight) {\r\n\t                    if (this._pageMode)\r\n\t                        this.setPosY(Math.floor(rect.y / this._pageSizeV) * this._pageSizeV, ani);\r\n\t                    else\r\n\t                        this.setPosY(rect.y, ani);\r\n\t                } else if (rect.y + rect.height > bottom) {\r\n\t                    if (this._pageMode)\r\n\t                        this.setPosY(Math.floor(rect.y / this._pageSizeV) * this._pageSizeV, ani);\r\n\t                    else if (rect.height <= this._viewHeight / 2)\r\n\t                        this.setPosY(rect.y + rect.height * 2 - this._viewHeight, ani);\r\n\t                    else\r\n\t                        this.setPosY(rect.y + rect.height - this._viewHeight, ani);\r\n\t                }\r\n\t            }\r\n\t            if (this._xOverlap > 0) {\r\n\t                var left = this.posX;\r\n\t                var right = left + this._viewWidth;\r\n\t                if (setFirst || rect.x < left || rect.width >= this._viewWidth) {\r\n\t                    if (this._pageMode)\r\n\t                        this.setPosX(Math.floor(rect.x / this._pageSizeH) * this._pageSizeH, ani);\r\n\t                    else\r\n\t                        this.setPosX(rect.x, ani);\r\n\t                } else if (rect.x + rect.width > right) {\r\n\t                    if (this._pageMode)\r\n\t                        this.setPosX(Math.floor(rect.x / this._pageSizeH) * this._pageSizeH, ani);\r\n\t                    else if (rect.width <= this._viewWidth / 2)\r\n\t                        this.setPosX(rect.x + rect.width * 2 - this._viewWidth, ani);\r\n\t                    else\r\n\t                        this.setPosX(rect.x + rect.width - this._viewWidth, ani);\r\n\t                }\r\n\t            }\r\n\t            if (!ani && this._needRefresh)\r\n\t                this.refresh();\r\n\t        }\r\n\t\r\n\t        __proto.isChildInView = function(obj) {\r\n\t            var dist = NaN;\r\n\t            if (this._yOverlap > 0) {\r\n\t                dist = obj.y + this._container.y;\r\n\t                if (dist < -obj.height - 20 || dist > this._viewHeight + 20)\r\n\t                    return false;\r\n\t            }\r\n\t            if (this._xOverlap > 0) {\r\n\t                dist = obj.x + this._container.x;\r\n\t                if (dist < -obj.width - 20 || dist > this._viewWidth + 20)\r\n\t                    return false;\r\n\t            }\r\n\t            return true;\r\n\t        }\r\n\t\r\n\t        __proto.cancelDragging = function() {\r\n\t            this._owner.displayObject.stage.off( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__mouseMove);\r\n\t            this._owner.displayObject.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseUp);\r\n\t            this._owner.displayObject.stage.off( /*laya.events.Event.CLICK*/ \"click\", this, this.__click);\r\n\t            if (ScrollPane.draggingPane == this)\r\n\t                ScrollPane.draggingPane = null;\r\n\t            ScrollPane._gestureFlag = 0;\r\n\t            this.isDragged = false;\r\n\t            this._maskContainer.mouseEnabled = true;\r\n\t        }\r\n\t\r\n\t        __proto.onOwnerSizeChanged = function() {\r\n\t            this.setSize(this._owner.width, this._owner.height);\r\n\t            this.posChanged(false);\r\n\t        }\r\n\t\r\n\t        __proto.handleControllerChanged = function(c) {\r\n\t            if (this._pageController == c) {\r\n\t                if (this._scrollType == /*fairygui.ScrollType.Horizontal*/ 0)\r\n\t                    this.currentPageX = c.selectedIndex;\r\n\t                else\r\n\t                    this.currentPageY = c.selectedIndex;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.updatePageController = function() {\r\n\t            if (this._pageController != null && !this._pageController.changing) {\r\n\t                var index = 0;\r\n\t                if (this._scrollType == /*fairygui.ScrollType.Horizontal*/ 0)\r\n\t                    index = this.currentPageX;\r\n\t                else\r\n\t                    index = this.currentPageY;\r\n\t                if (index < this._pageController.pageCount) {\r\n\t                    var c = this._pageController;\r\n\t                    this._pageController = null;\r\n\t                    c.selectedIndex = index;\r\n\t                    this._pageController = c;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.adjustMaskContainer = function() {\r\n\t            var mx = NaN,\r\n\t                my = NaN;\r\n\t            if (this._displayOnLeft && this._vtScrollBar != null)\r\n\t                mx = Math.floor(this._owner.margin.left + this._vtScrollBar.width);\r\n\t            else\r\n\t                mx = Math.floor(this._owner.margin.left);\r\n\t            my = Math.floor(this._owner.margin.top);\r\n\t            this._maskContainer.pos(mx, my);\r\n\t            if (this._owner._alignOffset.x != 0 || this._owner._alignOffset.y != 0) {\r\n\t                if (this._alignContainer == null) {\r\n\t                    this._alignContainer = new Sprite();\r\n\t                    this._maskContainer.addChild(this._alignContainer);\r\n\t                    this._alignContainer.addChild(this._container);\r\n\t                }\r\n\t                this._alignContainer.pos(this._owner._alignOffset.x, this._owner._alignOffset.y);\r\n\t            } else if (this._alignContainer) {\r\n\t                this._alignContainer.pos(0, 0);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setSize = function(aWidth, aHeight) {\r\n\t            this.adjustMaskContainer();\r\n\t            if (this._hzScrollBar) {\r\n\t                this._hzScrollBar.y = aHeight - this._hzScrollBar.height;\r\n\t                if (this._vtScrollBar && !this._vScrollNone) {\r\n\t                    this._hzScrollBar.width = aWidth - this._vtScrollBar.width - this._scrollBarMargin.left - this._scrollBarMargin.right;\r\n\t                    if (this._displayOnLeft)\r\n\t                        this._hzScrollBar.x = this._scrollBarMargin.left + this._vtScrollBar.width;\r\n\t                    else\r\n\t                        this._hzScrollBar.x = this._scrollBarMargin.left;\r\n\t                } else {\r\n\t                    this._hzScrollBar.width = aWidth - this._scrollBarMargin.left - this._scrollBarMargin.right;\r\n\t                    this._hzScrollBar.x = this._scrollBarMargin.left;\r\n\t                }\r\n\t            }\r\n\t            if (this._vtScrollBar) {\r\n\t                if (!this._displayOnLeft)\r\n\t                    this._vtScrollBar.x = aWidth - this._vtScrollBar.width;\r\n\t                if (this._hzScrollBar)\r\n\t                    this._vtScrollBar.height = aHeight - this._hzScrollBar.height - this._scrollBarMargin.top - this._scrollBarMargin.bottom;\r\n\t                else\r\n\t                    this._vtScrollBar.height = aHeight - this._scrollBarMargin.top - this._scrollBarMargin.bottom;\r\n\t                this._vtScrollBar.y = this._scrollBarMargin.top;\r\n\t            }\r\n\t            this._viewWidth = aWidth;\r\n\t            this._viewHeight = aHeight;\r\n\t            if (this._hzScrollBar && !this._hScrollNone)\r\n\t                this._viewHeight -= this._hzScrollBar.height;\r\n\t            if (this._vtScrollBar && !this._vScrollNone)\r\n\t                this._viewWidth -= this._vtScrollBar.width;\r\n\t            this._viewWidth -= (this._owner.margin.left + this._owner.margin.right);\r\n\t            this._viewHeight -= (this._owner.margin.top + this._owner.margin.bottom);\r\n\t            this._viewWidth = Math.max(1, this._viewWidth);\r\n\t            this._viewHeight = Math.max(1, this._viewHeight);\r\n\t            this._pageSizeH = this._viewWidth;\r\n\t            this._pageSizeV = this._viewHeight;\r\n\t            this.handleSizeChanged();\r\n\t        }\r\n\t\r\n\t        __proto.setContentSize = function(aWidth, aHeight) {\r\n\t            if (this._contentWidth == aWidth && this._contentHeight == aHeight)\r\n\t                return;\r\n\t            this._contentWidth = aWidth;\r\n\t            this._contentHeight = aHeight;\r\n\t            this.handleSizeChanged();\r\n\t        }\r\n\t\r\n\t        __proto.changeContentSizeOnScrolling = function(deltaWidth, deltaHeight, deltaPosX, deltaPosY) {\r\n\t            this._contentWidth += deltaWidth;\r\n\t            this._contentHeight += deltaHeight;\r\n\t            if (this.isDragged) {\r\n\t                if (deltaPosX != 0)\r\n\t                    this._container.x -= deltaPosX;\r\n\t                if (deltaPosY != 0)\r\n\t                    this._container.y -= deltaPosY;\r\n\t                this.validateHolderPos();\r\n\t                this._xOffset += deltaPosX;\r\n\t                this._yOffset += deltaPosY;\r\n\t                var tmp = this._y2 - this._y1;\r\n\t                this._y1 = this._container.y;\r\n\t                this._y2 = this._y1 + tmp;\r\n\t                tmp = this._x2 - this._x1;\r\n\t                this._x1 = this._container.x;\r\n\t                this._x2 = this._x1 + tmp;\r\n\t                this._yPos = -this._container.y;\r\n\t                this._xPos = -this._container.x;\r\n\t            } else if (this._tweening == 2) {\r\n\t                if (deltaPosX != 0) {\r\n\t                    this._container.x -= deltaPosX;\r\n\t                    this._tweenHelper.start.x -= deltaPosX;\r\n\t                }\r\n\t                if (deltaPosY != 0) {\r\n\t                    this._container.y -= deltaPosY;\r\n\t                    this._tweenHelper.start.y -= deltaPosY;\r\n\t                }\r\n\t            }\r\n\t            this.handleSizeChanged(true);\r\n\t        }\r\n\t\r\n\t        __proto.handleSizeChanged = function(onScrolling) {\r\n\t            (onScrolling === void 0) && (onScrolling = false);\r\n\t            if (this._displayInDemand) {\r\n\t                if (this._vtScrollBar) {\r\n\t                    if (this._contentHeight <= this._viewHeight) {\r\n\t                        if (!this._vScrollNone) {\r\n\t                            this._vScrollNone = true;\r\n\t                            this._viewWidth += this._vtScrollBar.width;\r\n\t                        }\r\n\t                    } else {\r\n\t                        if (this._vScrollNone) {\r\n\t                            this._vScrollNone = false;\r\n\t                            this._viewWidth -= this._vtScrollBar.width;\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t                if (this._hzScrollBar) {\r\n\t                    if (this._contentWidth <= this._viewWidth) {\r\n\t                        if (!this._hScrollNone) {\r\n\t                            this._hScrollNone = true;\r\n\t                            this._viewHeight += this._hzScrollBar.height;\r\n\t                        }\r\n\t                    } else {\r\n\t                        if (this._hScrollNone) {\r\n\t                            this._hScrollNone = false;\r\n\t                            this._viewHeight -= this._hzScrollBar.height;\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            if (this._vtScrollBar) {\r\n\t                if (this._viewHeight < this._vtScrollBar.minSize)\r\n\t                    this._vtScrollBar.displayObject.visible = false;\r\n\t                else {\r\n\t                    this._vtScrollBar.displayObject.visible = this._scrollBarVisible && !this._vScrollNone;\r\n\t                    if (this._contentHeight == 0)\r\n\t                        this._vtScrollBar.displayPerc = 0;\r\n\t                    else\r\n\t                        this._vtScrollBar.displayPerc = Math.min(1, this._viewHeight / this._contentHeight);\r\n\t                }\r\n\t            }\r\n\t            if (this._hzScrollBar) {\r\n\t                if (this._viewWidth < this._hzScrollBar.minSize)\r\n\t                    this._hzScrollBar.displayObject.visible = false;\r\n\t                else {\r\n\t                    this._hzScrollBar.displayObject.visible = this._scrollBarVisible && !this._hScrollNone;\r\n\t                    if (this._contentWidth == 0)\r\n\t                        this._hzScrollBar.displayPerc = 0;\r\n\t                    else\r\n\t                        this._hzScrollBar.displayPerc = Math.min(1, this._viewWidth / this._contentWidth);\r\n\t                }\r\n\t            };\r\n\t            var rect = this._maskContainer.scrollRect;\r\n\t            if (rect != null) {\r\n\t                rect.width = this._viewWidth;\r\n\t                rect.height = this._viewHeight;\r\n\t                this._maskContainer.scrollRect = rect;\r\n\t            }\r\n\t            if (this._scrollType == /*fairygui.ScrollType.Horizontal*/ 0 || this._scrollType == /*fairygui.ScrollType.Both*/ 2)\r\n\t                this._xOverlap = Math.ceil(Math.max(0, this._contentWidth - this._viewWidth));\r\n\t            else\r\n\t                this._xOverlap = 0;\r\n\t            if (this._scrollType == /*fairygui.ScrollType.Vertical*/ 1 || this._scrollType == /*fairygui.ScrollType.Both*/ 2)\r\n\t                this._yOverlap = Math.ceil(Math.max(0, this._contentHeight - this._viewHeight));\r\n\t            else\r\n\t                this._yOverlap = 0;\r\n\t            if (this._tweening == 0 && onScrolling) {\r\n\t                if (this._xPerc == 0 || this._xPerc == 1) {\r\n\t                    this._xPos = this._xPerc * this._xOverlap;\r\n\t                    this._container.x = -this._xPos;\r\n\t                }\r\n\t                if (this._yPerc == 0 || this._yPerc == 1) {\r\n\t                    this._yPos = this._yPerc * this._yOverlap;\r\n\t                    this._container.y = -this._yPos;\r\n\t                }\r\n\t            } else {\r\n\t                this._xPos = ToolSet.clamp(this._xPos, 0, this._xOverlap);\r\n\t                this._xPerc = this._xOverlap > 0 ? this._xPos / this._xOverlap : 0;\r\n\t                this._yPos = ToolSet.clamp(this._yPos, 0, this._yOverlap);\r\n\t                this._yPerc = this._yOverlap > 0 ? this._yPos / this._yOverlap : 0;\r\n\t            }\r\n\t            this.validateHolderPos();\r\n\t            if (this._vtScrollBar != null)\r\n\t                this._vtScrollBar.scrollPerc = this._yPerc;\r\n\t            if (this._hzScrollBar != null)\r\n\t                this._hzScrollBar.scrollPerc = this._xPerc;\r\n\t            if (this._pageMode)\r\n\t                this.updatePageController();\r\n\t        }\r\n\t\r\n\t        __proto.validateHolderPos = function() {\r\n\t            this._container.x = ToolSet.clamp(this._container.x, -this._xOverlap, 0);\r\n\t            this._container.y = ToolSet.clamp(this._container.y, -this._yOverlap, 0);\r\n\t        }\r\n\t\r\n\t        __proto.posChanged = function(ani) {\r\n\t            if (this._aniFlag == 0)\r\n\t                this._aniFlag = ani ? 1 : -1;\r\n\t            else if (this._aniFlag == 1 && !ani)\r\n\t                this._aniFlag = -1;\r\n\t            this._needRefresh = true;\r\n\t            Laya.timer.callLater(this, this.refresh);\r\n\t            if (this._tweening == 2) {\r\n\t                this.killTween();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.killTween = function() {\r\n\t            if (this._tweening == 1) {\r\n\t                this._tweener.clear();\r\n\t                this._tweening = 0;\r\n\t                this._tweener = null;\r\n\t                this.syncScrollBar(true);\r\n\t            } else if (this._tweening == 2) {\r\n\t                this._tweener.clear();\r\n\t                this._tweener = null;\r\n\t                this._tweening = 0;\r\n\t                this.validateHolderPos();\r\n\t                this.syncScrollBar(true);\r\n\t                Events.dispatch( /*fairygui.Events.SCROLL_END*/ \"fui_scroll_end\", this._owner.displayObject);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.refresh = function() {\r\n\t            this._needRefresh = false;\r\n\t            Laya.timer.clear(this, this.refresh);\r\n\t            if (this._pageMode) {\r\n\t                var page = 0;\r\n\t                var delta = NaN;\r\n\t                if (this._yOverlap > 0 && this._yPerc != 1 && this._yPerc != 0) {\r\n\t                    page = Math.floor(this._yPos / this._pageSizeV);\r\n\t                    delta = this._yPos - page * this._pageSizeV;\r\n\t                    if (delta > this._pageSizeV / 2)\r\n\t                        page++;\r\n\t                    this._yPos = page * this._pageSizeV;\r\n\t                    if (this._yPos > this._yOverlap) {\r\n\t                        this._yPos = this._yOverlap;\r\n\t                        this._yPerc = 1;\r\n\t                    } else\r\n\t                        this._yPerc = this._yPos / this._yOverlap;\r\n\t                }\r\n\t                if (this._xOverlap > 0 && this._xPerc != 1 && this._xPerc != 0) {\r\n\t                    page = Math.floor(this._xPos / this._pageSizeH);\r\n\t                    delta = this._xPos - page * this._pageSizeH;\r\n\t                    if (delta > this._pageSizeH / 2)\r\n\t                        page++;\r\n\t                    this._xPos = page * this._pageSizeH;\r\n\t                    if (this._xPos > this._xOverlap) {\r\n\t                        this._xPos = this._xOverlap;\r\n\t                        this._xPerc = 1;\r\n\t                    } else\r\n\t                        this._xPerc = this._xPos / this._xOverlap;\r\n\t                }\r\n\t            } else if (this._snapToItem) {\r\n\t                var pt = this._owner.getSnappingPosition(this._xPerc == 1 ? 0 : this._xPos, this._yPerc == 1 ? 0 : this._yPos, ScrollPane.sHelperPoint);\r\n\t                if (this._xPerc != 1 && pt.x != this._xPos) {\r\n\t                    this._xPos = pt.x;\r\n\t                    this._xPerc = this._xPos / this._xOverlap;\r\n\t                    if (this._xPerc > 1) {\r\n\t                        this._xPerc = 1;\r\n\t                        this._xPos = this._xOverlap;\r\n\t                    }\r\n\t                }\r\n\t                if (this._yPerc != 1 && pt.y != this._yPos) {\r\n\t                    this._yPos = pt.y;\r\n\t                    this._yPerc = this._yPos / this._yOverlap;\r\n\t                    if (this._yPerc > 1) {\r\n\t                        this._yPerc = 1;\r\n\t                        this._yPos = this._yOverlap;\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            this.refresh2();\r\n\t            Events.dispatch( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this._owner.displayObject);\r\n\t            if (this._needRefresh) {\r\n\t                this._needRefresh = false;\r\n\t                Laya.timer.clear(this, this.refresh);\r\n\t                this.refresh2();\r\n\t            }\r\n\t            this._aniFlag = 0;\r\n\t        }\r\n\t\r\n\t        __proto.refresh2 = function() {\r\n\t            var contentXLoc = Math.floor(this._xPos);\r\n\t            var contentYLoc = Math.floor(this._yPos);\r\n\t            if (this._aniFlag == 1 && !this.isDragged) {\r\n\t                var toX = this._container.x;\r\n\t                var toY = this._container.y;\r\n\t                if (this._yOverlap > 0)\r\n\t                    toY = -contentYLoc;\r\n\t                else {\r\n\t                    if (this._container.y != 0)\r\n\t                        this._container.y = 0;\r\n\t                }\r\n\t                if (this._xOverlap > 0)\r\n\t                    toX = -contentXLoc;\r\n\t                else {\r\n\t                    if (this._container.x != 0)\r\n\t                        this._container.x = 0;\r\n\t                }\r\n\t                if (toX != this._container.x || toY != this._container.y) {\r\n\t                    this.killTween();\r\n\t                    this._maskContainer.mouseEnabled = false;\r\n\t                    this._tweening = 1;\r\n\t                    this._tweener = Tween.to(this._container, { x: toX, y: toY },\r\n\t                        500,\r\n\t                        fairygui.ScrollPane._easeTypeFunc,\r\n\t                        Handler.create(this, this.__tweenComplete));\r\n\t                    this._tweener.update = Handler.create(this, this.__tweenUpdate, null, false);\r\n\t                }\r\n\t            } else {\r\n\t                if (this._tweener != null)\r\n\t                    this.killTween();\r\n\t                if (this.isDragged) {\r\n\t                    this._xOffset += this._container.x - (-contentXLoc);\r\n\t                    this._yOffset += this._container.y - (-contentYLoc);\r\n\t                }\r\n\t                this._container.pos(-contentXLoc, -contentYLoc);\r\n\t                if (this.isDragged) {\r\n\t                    this._y1 = this._y2 = this._container.y;\r\n\t                    this._x1 = this._x2 = this._container.x;\r\n\t                }\r\n\t                if (this._vtScrollBar)\r\n\t                    this._vtScrollBar.scrollPerc = this._yPerc;\r\n\t                if (this._hzScrollBar)\r\n\t                    this._hzScrollBar.scrollPerc = this._xPerc;\r\n\t            }\r\n\t            if (this._pageMode)\r\n\t                this.updatePageController();\r\n\t        }\r\n\t\r\n\t        __proto.syncPos = function() {\r\n\t            if (this._xOverlap > 0) {\r\n\t                this._xPos = ToolSet.clamp(-this._container.x, 0, this._xOverlap);\r\n\t                this._xPerc = this._xPos / this._xOverlap;\r\n\t            }\r\n\t            if (this._yOverlap > 0) {\r\n\t                this._yPos = ToolSet.clamp(-this._container.y, 0, this._yOverlap);\r\n\t                this._yPerc = this._yPos / this._yOverlap;\r\n\t            }\r\n\t            if (this._pageMode)\r\n\t                this.updatePageController();\r\n\t        }\r\n\t\r\n\t        __proto.syncScrollBar = function(end) {\r\n\t            (end === void 0) && (end = false);\r\n\t            if (end) {\r\n\t                if (this._vtScrollBar) {\r\n\t                    if (this._scrollBarDisplayAuto)\r\n\t                        this.showScrollBar(false);\r\n\t                }\r\n\t                if (this._hzScrollBar) {\r\n\t                    if (this._scrollBarDisplayAuto)\r\n\t                        this.showScrollBar(false);\r\n\t                }\r\n\t                this._maskContainer.mouseEnabled = true;\r\n\t            } else {\r\n\t                if (this._vtScrollBar) {\r\n\t                    this._vtScrollBar.scrollPerc = this._yOverlap == 0 ? 0 : ToolSet.clamp(-this._container.y, 0, this._yOverlap) / this._yOverlap;\r\n\t                    if (this._scrollBarDisplayAuto)\r\n\t                        this.showScrollBar(true);\r\n\t                }\r\n\t                if (this._hzScrollBar) {\r\n\t                    this._hzScrollBar.scrollPerc = this._xOverlap == 0 ? 0 : ToolSet.clamp(-this._container.x, 0, this._xOverlap) / this._xOverlap;\r\n\t                    if (this._scrollBarDisplayAuto)\r\n\t                        this.showScrollBar(true);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__mouseDown = function() {\r\n\t            if (!this._touchEffect)\r\n\t                return;\r\n\t            if (this._tweener != null)\r\n\t                this.killTween();\r\n\t            this._owner.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, fairygui.ScrollPane.sHelperPoint);\r\n\t            this._x1 = this._x2 = this._container.x;\r\n\t            this._y1 = this._y2 = this._container.y;\r\n\t            this._xOffset = fairygui.ScrollPane.sHelperPoint.x - this._container.x;\r\n\t            this._yOffset = fairygui.ScrollPane.sHelperPoint.y - this._container.y;\r\n\t            this._time1 = this._time2 = Laya.timer.currTimer;\r\n\t            this._holdAreaPoint.x = fairygui.ScrollPane.sHelperPoint.x;\r\n\t            this._holdAreaPoint.y = fairygui.ScrollPane.sHelperPoint.y;\r\n\t            this._isHoldAreaDone = false;\r\n\t            this.isDragged = false;\r\n\t            this._owner.displayObject.stage.on( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__mouseMove);\r\n\t            this._owner.displayObject.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseUp);\r\n\t            this._owner.displayObject.stage.on( /*laya.events.Event.CLICK*/ \"click\", this, this.__click);\r\n\t        }\r\n\t\r\n\t        __proto.__mouseMove = function() {\r\n\t            if (!this._touchEffect)\r\n\t                return;\r\n\t            if (ScrollPane.draggingPane != null && ScrollPane.draggingPane != this || GObject.draggingObject != null)\r\n\t                return;\r\n\t            var sensitivity = UIConfig1.touchScrollSensitivity;\r\n\t            var pt = this._owner.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, fairygui.ScrollPane.sHelperPoint);\r\n\t            var diff = NaN,\r\n\t                diff2 = NaN;\r\n\t            var sv = false,\r\n\t                sh = false,\r\n\t                st = false;\r\n\t            if (this._scrollType == /*fairygui.ScrollType.Vertical*/ 1) {\r\n\t                if (!this._isHoldAreaDone) {\r\n\t                    ScrollPane._gestureFlag |= 1;\r\n\t                    diff = Math.abs(this._holdAreaPoint.y - this._maskContainer.mouseY);\r\n\t                    if (diff < sensitivity)\r\n\t                        return;\r\n\t                    if ((ScrollPane._gestureFlag & 2) != 0) {\r\n\t                        diff2 = Math.abs(this._holdAreaPoint.x - this._maskContainer.mouseX);\r\n\t                        if (diff < diff2)\r\n\t                            return;\r\n\t                    }\r\n\t                }\r\n\t                sv = true;\r\n\t            } else if (this._scrollType == /*fairygui.ScrollType.Horizontal*/ 0) {\r\n\t                if (!this._isHoldAreaDone) {\r\n\t                    ScrollPane._gestureFlag |= 2;\r\n\t                    diff = Math.abs(this._holdAreaPoint.x - this._maskContainer.mouseX);\r\n\t                    if (diff < sensitivity)\r\n\t                        return;\r\n\t                    if ((ScrollPane._gestureFlag & 1) != 0) {\r\n\t                        diff2 = Math.abs(this._holdAreaPoint.y - this._maskContainer.mouseY);\r\n\t                        if (diff < diff2)\r\n\t                            return;\r\n\t                    }\r\n\t                }\r\n\t                sh = true;\r\n\t            } else {\r\n\t                ScrollPane._gestureFlag = 3;\r\n\t                if (!this._isHoldAreaDone) {\r\n\t                    diff = Math.abs(this._holdAreaPoint.y - this._maskContainer.mouseY);\r\n\t                    if (diff < sensitivity) {\r\n\t                        diff = Math.abs(this._holdAreaPoint.x - this._maskContainer.mouseX);\r\n\t                        if (diff < sensitivity)\r\n\t                            return;\r\n\t                    }\r\n\t                }\r\n\t                sv = sh = true;\r\n\t            };\r\n\t            var t = Laya.timer.currTimer;\r\n\t            if (t - this._time2 > 50) {\r\n\t                this._time2 = this._time1;\r\n\t                this._time1 = t;\r\n\t                st = true;\r\n\t            }\r\n\t            if (sv) {\r\n\t                var y = Math.floor(pt.y - this._yOffset);\r\n\t                if (y > 0) {\r\n\t                    if (!this._bouncebackEffect || this._inertiaDisabled)\r\n\t                        this._container.y = 0;\r\n\t                    else\r\n\t                        this._container.y = Math.floor(y * 0.5);\r\n\t                } else if (y < -this._yOverlap) {\r\n\t                    if (!this._bouncebackEffect || this._inertiaDisabled)\r\n\t                        this._container.y = -Math.floor(this._yOverlap);\r\n\t                    else\r\n\t                        this._container.y = Math.floor((y - this._yOverlap) * 0.5);\r\n\t                } else {\r\n\t                    this._container.y = y;\r\n\t                }\r\n\t                if (st) {\r\n\t                    this._y2 = this._y1;\r\n\t                    this._y1 = this._container.y;\r\n\t                }\r\n\t            }\r\n\t            if (sh) {\r\n\t                var x = Math.floor(pt.x - this._xOffset);\r\n\t                if (x > 0) {\r\n\t                    if (!this._bouncebackEffect || this._inertiaDisabled)\r\n\t                        this._container.x = 0;\r\n\t                    else\r\n\t                        this._container.x = Math.floor(x * 0.5);\r\n\t                } else if (x < 0 - this._xOverlap || this._inertiaDisabled) {\r\n\t                    if (!this._bouncebackEffect)\r\n\t                        this._container.x = -Math.floor(this._xOverlap);\r\n\t                    else\r\n\t                        this._container.x = Math.floor((x - this._xOverlap) * 0.5);\r\n\t                } else {\r\n\t                    this._container.x = x;\r\n\t                }\r\n\t                if (st) {\r\n\t                    this._x2 = this._x1;\r\n\t                    this._x1 = this._container.x;\r\n\t                }\r\n\t            }\r\n\t            ScrollPane.draggingPane = this;\r\n\t            this._maskContainer.mouseEnabled = false;\r\n\t            this._isHoldAreaDone = true;\r\n\t            this.isDragged = true;\r\n\t            this.syncPos();\r\n\t            this.syncScrollBar();\r\n\t            Events.dispatch( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this._owner.displayObject);\r\n\t        }\r\n\t\r\n\t        __proto.__mouseUp = function() {\r\n\t            this._owner.displayObject.stage.off( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__mouseMove);\r\n\t            this._owner.displayObject.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseUp);\r\n\t            this._owner.displayObject.stage.off( /*laya.events.Event.CLICK*/ \"click\", this, this.__click);\r\n\t            if (!this._touchEffect) {\r\n\t                this.isDragged = false;\r\n\t                return;\r\n\t            }\r\n\t            if (ScrollPane.draggingPane == this)\r\n\t                ScrollPane.draggingPane = null;\r\n\t            ScrollPane._gestureFlag = 0;\r\n\t            if (!this.isDragged || !this._touchEffect || this._inertiaDisabled) {\r\n\t                this.isDragged = false;\r\n\t                return;\r\n\t            }\r\n\t            this.isDragged = false;\r\n\t            var time = (Laya.timer.currTimer - this._time2) / 1000;\r\n\t            if (time == 0)\r\n\t                time = 0.001;\r\n\t            var yVelocity = (this._container.y - this._y2) / time * 2 * UIConfig1.defaultTouchScrollSpeedRatio;;\r\n\t            var xVelocity = (this._container.x - this._x2) / time * 2 * UIConfig1.defaultTouchScrollSpeedRatio;;\r\n\t            var duration = 0.3;\r\n\t            this._tweenHelper.start.x = this._container.x;\r\n\t            this._tweenHelper.start.y = this._container.y;\r\n\t            var change1 = this._tweenHelper.change1;\r\n\t            var change2 = this._tweenHelper.change2;\r\n\t            var endX = 0;\r\n\t            var endY = 0;\r\n\t            var page = 0;\r\n\t            var delta = 0;\r\n\t            var fireRelease = 0;\r\n\t            var testPageSize = NaN;\r\n\t            if (this._scrollType == /*fairygui.ScrollType.Both*/ 2 || this._scrollType == /*fairygui.ScrollType.Horizontal*/ 0) {\r\n\t                if (this._container.x > UIConfig1.touchDragSensitivity)\r\n\t                    fireRelease = 1;\r\n\t                else if (this._container.x < -this._xOverlap - UIConfig1.touchDragSensitivity)\r\n\t                    fireRelease = 2;\r\n\t                change1.x = TweenHelper.calculateChange(xVelocity, duration);\r\n\t                change2.x = 0;\r\n\t                endX = this._container.x + change1.x;\r\n\t                if (this._pageMode && endX < 0 && endX > -this._xOverlap) {\r\n\t                    page = Math.floor(-endX / this._pageSizeH);\r\n\t                    testPageSize = Math.min(this._pageSizeH, this._contentWidth - (page + 1) * this._pageSizeH);\r\n\t                    delta = -endX - page * this._pageSizeH;\r\n\t                    if (Math.abs(change1.x) > this._pageSizeH) {\r\n\t                        if (delta > testPageSize * 0.5)\r\n\t                            page++;\r\n\t                    } else {\r\n\t                        if (delta > testPageSize * (change1.x < 0 ? 0.3 : 0.7))\r\n\t                            page++;\r\n\t                    }\r\n\t                    endX = -page * this._pageSizeH;\r\n\t                    if (endX < -this._xOverlap)\r\n\t                        endX = -this._xOverlap;\r\n\t                    change1.x = endX - this._container.x;\r\n\t                }\r\n\t            } else\r\n\t                change1.x = change2.x = 0;\r\n\t            if (this._scrollType == /*fairygui.ScrollType.Both*/ 2 || this._scrollType == /*fairygui.ScrollType.Vertical*/ 1) {\r\n\t                if (this._container.y > UIConfig1.touchDragSensitivity)\r\n\t                    fireRelease = 1;\r\n\t                else if (this._container.y < -this._yOverlap - UIConfig1.touchDragSensitivity)\r\n\t                    fireRelease = 2;\r\n\t                change1.y = TweenHelper.calculateChange(yVelocity, duration);\r\n\t                change2.y = 0;\r\n\t                endY = this._container.y + change1.y;\r\n\t                if (this._pageMode && endY < 0 && endY > -this._yOverlap) {\r\n\t                    page = Math.floor(-endY / this._pageSizeV);\r\n\t                    testPageSize = Math.min(this._pageSizeV, this._contentHeight - (page + 1) * this._pageSizeV);\r\n\t                    delta = -endY - page * this._pageSizeV;\r\n\t                    if (Math.abs(change1.y) > this._pageSizeV) {\r\n\t                        if (delta > testPageSize * 0.5)\r\n\t                            page++;\r\n\t                    } else {\r\n\t                        if (delta > testPageSize * (change1.y < 0 ? 0.3 : 0.7))\r\n\t                            page++;\r\n\t                    }\r\n\t                    endY = -page * this._pageSizeV;\r\n\t                    if (endY < -this._yOverlap)\r\n\t                        endY = -this._yOverlap;\r\n\t                    change1.y = endY - this._container.y;\r\n\t                }\r\n\t            } else\r\n\t                change1.y = change2.y = 0;\r\n\t            if (this._snapToItem && !this._pageMode) {\r\n\t                endX = -endX;\r\n\t                endY = -endY;\r\n\t                var pt = this._owner.getSnappingPosition(endX, endY, fairygui.ScrollPane.sHelperPoint);\r\n\t                endX = -pt.x;\r\n\t                endY = -pt.y;\r\n\t                change1.x = endX - this._container.x;\r\n\t                change1.y = endY - this._container.y;\r\n\t            }\r\n\t            if (this._bouncebackEffect) {\r\n\t                if (endX > 0)\r\n\t                    change2.x = 0 - this._container.x - change1.x;\r\n\t                else if (endX < -this._xOverlap)\r\n\t                    change2.x = -this._xOverlap - this._container.x - change1.x;\r\n\t                if (endY > 0)\r\n\t                    change2.y = 0 - this._container.y - change1.y;\r\n\t                else if (endY < -this._yOverlap)\r\n\t                    change2.y = -this._yOverlap - this._container.y - change1.y;\r\n\t            } else {\r\n\t                if (endX > 0)\r\n\t                    change1.x = 0 - this._container.x;\r\n\t                else if (endX < -this._xOverlap)\r\n\t                    change1.x = -this._xOverlap - this._container.x;\r\n\t                if (endY > 0)\r\n\t                    change1.y = 0 - this._container.y;\r\n\t                else if (endY < -this._yOverlap)\r\n\t                    change1.y = -this._yOverlap - this._container.y;\r\n\t            }\r\n\t            this._tweenHelper.value = 0;\r\n\t            this._tweenHelper.change1 = change1;\r\n\t            this._tweenHelper.change2 = change2;\r\n\t            if (this._tweener != null)\r\n\t                this.killTween();\r\n\t            this._tweening = 2;\r\n\t            this._tweener = Tween.to(this._tweenHelper, { value: 1 },\r\n\t                duration * 1000,\r\n\t                fairygui.ScrollPane._easeTypeFunc,\r\n\t                Handler.create(this, this.__tweenComplete2));\r\n\t            this._tweener.update = Handler.create(this, this.__tweenUpdate2, null, false);\r\n\t            if (fireRelease == 1)\r\n\t                Events.dispatch( /*fairygui.Events.PULL_DOWN_RELEASE*/ \"fui_pull_down_release\", this._owner.displayObject);\r\n\t            else if (fireRelease == 2)\r\n\t                Events.dispatch( /*fairygui.Events.PULL_UP_RELEASE*/ \"fui_pull_up_release\", this._owner.displayObject);\r\n\t        }\r\n\t\r\n\t        __proto.__click = function() {\r\n\t            this.isDragged = false;\r\n\t        }\r\n\t\r\n\t        __proto.__mouseWheel = function(evt) {\r\n\t            if (!this._mouseWheelEnabled)\r\n\t                return;\r\n\t            var pt = this._owner.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, fairygui.ScrollPane.sHelperPoint);\r\n\t            var delta = evt[\"delta\"];\r\n\t            if (this._xOverlap > 0 && this._yOverlap == 0) {\r\n\t                if (delta < 0)\r\n\t                    this.setPercX(this._xPerc + this.getDeltaX(this._mouseWheelSpeed), false);\r\n\t                else\r\n\t                    this.setPercX(this._xPerc - this.getDeltaX(this._mouseWheelSpeed), false);\r\n\t            } else {\r\n\t                if (delta < 0)\r\n\t                    this.setPercY(this._yPerc + this.getDeltaY(this._mouseWheelSpeed), false);\r\n\t                else\r\n\t                    this.setPercY(this._yPerc - this.getDeltaY(this._mouseWheelSpeed), false);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__rollOver = function() {\r\n\t            this.showScrollBar(true);\r\n\t        }\r\n\t\r\n\t        __proto.__rollOut = function() {\r\n\t            this.showScrollBar(false);\r\n\t        }\r\n\t\r\n\t        __proto.showScrollBar = function(val) {\r\n\t            if (val) {\r\n\t                this.__showScrollBar(true);\r\n\t                Laya.timer.clear(this, this.__showScrollBar);\r\n\t            } else\r\n\t                Laya.timer.once(500, this, this.__showScrollBar, [val]);\r\n\t        }\r\n\t\r\n\t        __proto.__showScrollBar = function(val) {\r\n\t            this._scrollBarVisible = val && this._viewWidth > 0 && this._viewHeight > 0;\r\n\t            if (this._vtScrollBar)\r\n\t                this._vtScrollBar.displayObject.visible = this._scrollBarVisible && !this._vScrollNone;\r\n\t            if (this._hzScrollBar)\r\n\t                this._hzScrollBar.displayObject.visible = this._scrollBarVisible && !this._hScrollNone;\r\n\t        }\r\n\t\r\n\t        __proto.__tweenUpdate = function() {\r\n\t            this.syncScrollBar();\r\n\t            Events.dispatch( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this._owner.displayObject);\r\n\t        }\r\n\t\r\n\t        __proto.__tweenComplete = function() {\r\n\t            this._tweener = null;\r\n\t            this._tweening = 0;\r\n\t            this.validateHolderPos();\r\n\t            this.syncScrollBar(true);\r\n\t            Events.dispatch( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this._owner.displayObject);\r\n\t        }\r\n\t\r\n\t        __proto.__tweenUpdate2 = function() {\r\n\t            this._container.pos(Math.floor(this._tweenHelper.start.x + this._tweenHelper.change1.x * this._tweenHelper.value +\r\n\t                    this._tweenHelper.change2.x * this._tweenHelper.value * this._tweenHelper.value),\r\n\t                Math.floor(this._tweenHelper.start.y + this._tweenHelper.change1.y * this._tweenHelper.value +\r\n\t                    this._tweenHelper.change2.y * this._tweenHelper.value * this._tweenHelper.value));\r\n\t            this.syncPos();\r\n\t            this.syncScrollBar();\r\n\t            Events.dispatch( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this._owner.displayObject);\r\n\t        }\r\n\t\r\n\t        __proto.__tweenComplete2 = function() {\r\n\t            this._tweener = null;\r\n\t            this._tweening = 0;\r\n\t            this.validateHolderPos();\r\n\t            this.syncPos();\r\n\t            this.syncScrollBar(true);\r\n\t            Events.dispatch( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this._owner.displayObject);\r\n\t            Events.dispatch( /*fairygui.Events.SCROLL_END*/ \"fui_scroll_end\", this._owner.displayObject);\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'viewWidth', function() {\r\n\t            return this._viewWidth;\r\n\t        }, function(value) {\r\n\t            value = value + this._owner.margin.left + this._owner.margin.right;\r\n\t            if (this._vtScrollBar != null)\r\n\t                value += this._vtScrollBar.width;\r\n\t            this._owner.width = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'owner', function() {\r\n\t            return this._owner;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'percY', function() {\r\n\t            return this._yPerc;\r\n\t        }, function(value) {\r\n\t            this.setPercY(value, false);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'scrollSpeed', function() {\r\n\t            return this._scrollSpeed;\r\n\t        }, function(val) {\r\n\t            this._scrollSpeed = this.scrollSpeed;\r\n\t            if (this._scrollSpeed == 0)\r\n\t                this._scrollSpeed = UIConfig1.defaultScrollSpeed;\r\n\t            this._mouseWheelSpeed = this._scrollSpeed * 2;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'percX', function() {\r\n\t            return this._xPerc;\r\n\t        }, function(value) {\r\n\t            this.setPercX(value, false);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'bouncebackEffect', function() {\r\n\t            return this._bouncebackEffect;\r\n\t        }, function(sc) {\r\n\t            this._bouncebackEffect = sc;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'isBottomMost', function() {\r\n\t            return this._yPerc == 1 || this._yOverlap == 0;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'touchEffect', function() {\r\n\t            return this._touchEffect;\r\n\t        }, function(sc) {\r\n\t            this._touchEffect = sc;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'mouseWheelEnabled', function() {\r\n\t            return this._mouseWheelEnabled;\r\n\t        }, function(val) {\r\n\t            this._mouseWheelEnabled = val;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'viewHeight', function() {\r\n\t            return this._viewHeight;\r\n\t        }, function(value) {\r\n\t            value = value + this._owner.margin.top + this._owner.margin.bottom;\r\n\t            if (this._hzScrollBar != null)\r\n\t                value += this._hzScrollBar.height;\r\n\t            this._owner.height = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'snapToItem', function() {\r\n\t            return this._snapToItem;\r\n\t        }, function(value) {\r\n\t            this._snapToItem = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'posX', function() {\r\n\t            return this._xPos;\r\n\t        }, function(value) {\r\n\t            this.setPosX(value, false);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'posY', function() {\r\n\t            return this._yPos;\r\n\t        }, function(value) {\r\n\t            this.setPosY(value, false);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'isRightMost', function() {\r\n\t            return this._xPerc == 1 || this._xOverlap == 0;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'currentPageX', function() {\r\n\t            if (!this._pageMode)\r\n\t                return 0;\r\n\t            var page = Math.floor(this._xPos / this._pageSizeH);\r\n\t            if (this._xPos - page * this._pageSizeH > this._pageSizeH * 0.5)\r\n\t                page++;\r\n\t            return page;\r\n\t        }, function(value) {\r\n\t            if (this._pageMode && this._xOverlap > 0)\r\n\t                this.setPosX(value * this._pageSizeH, false);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'currentPageY', function() {\r\n\t            if (!this._pageMode)\r\n\t                return 0;\r\n\t            var page = Math.floor(this._yPos / this._pageSizeV);\r\n\t            if (this._yPos - page * this._pageSizeV > this._pageSizeV * 0.5)\r\n\t                page++;\r\n\t            return page;\r\n\t        }, function(value) {\r\n\t            if (this._pageMode && this._yOverlap > 0)\r\n\t                this.setPosY(value * this._pageSizeV, false);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'pageController', function() {\r\n\t            return this._pageController;\r\n\t        }, function(value) {\r\n\t            this._pageController = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'scrollingPosX', function() {\r\n\t            return ToolSet.clamp(-this._container.x, 0, this._xOverlap);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'scrollingPosY', function() {\r\n\t            return ToolSet.clamp(-this._container.y, 0, this._yOverlap);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'contentWidth', function() {\r\n\t            return this._contentWidth;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'contentHeight', function() {\r\n\t            return this._contentHeight;\r\n\t        });\r\n\t\r\n\t        ScrollPane._easeTypeFunc = null\r\n\t        ScrollPane.draggingPane = null\r\n\t        ScrollPane._gestureFlag = 0;\r\n\t        __static(ScrollPane, ['sHelperRect', function() { return this.sHelperRect = new Rectangle(); }, 'sHelperPoint', function() { return this.sHelperPoint = new Point(); }]);\r\n\t        ScrollPane.__init$ = function() {\r\n\t            //class TweenHelper\r\n\t            TweenHelper = (function() {\r\n\t                function TweenHelper() {\r\n\t                    this.value = NaN;\r\n\t                    this.start = null;\r\n\t                    this.change1 = null;\r\n\t                    this.change2 = null;\r\n\t                    this.start = new Point();\r\n\t                    this.change1 = new Point();\r\n\t                    this.change2 = new Point();\r\n\t                }\r\n\t                __class(TweenHelper, '');\r\n\t                TweenHelper.calculateChange = function(velocity, duration) {\r\n\t                    return (duration * TweenHelper.checkpoint * velocity) / TweenHelper.easeOutCubic(TweenHelper.checkpoint, 0, 1, 1);\r\n\t                }\r\n\t                TweenHelper.easeOutCubic = function(t, b, c, d) {\r\n\t                    return c * ((t = t / d - 1) * t * t + 1) + b;\r\n\t                }\r\n\t                TweenHelper.checkpoint = 0.05;\r\n\t                return TweenHelper;\r\n\t            })()\r\n\t        }\r\n\t\r\n\t        return ScrollPane;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.ScrollType\r\n\t    var ScrollType = (function() {\r\n\t        function ScrollType() {}\r\n\t        __class(ScrollType, 'fairygui.ScrollType');\r\n\t        ScrollType.parse = function(value) {\r\n\t            switch (value) {\r\n\t                case \"horizontal\":\r\n\t                    return 0;\r\n\t                case \"vertical\":\r\n\t                    return 1;\r\n\t                case \"both\":\r\n\t                    return 2;\r\n\t                default:\r\n\t                    return 1;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        ScrollType.Horizontal = 0;\r\n\t        ScrollType.Vertical = 1;\r\n\t        ScrollType.Both = 2;\r\n\t        return ScrollType;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.Transition\r\n\t    var Transition = (function() {\r\n\t        var TransitionActionType, TransitionItem, TransitionValue;\r\n\t\r\n\t        function Transition(owner) {\r\n\t            this.name = null;\r\n\t            this.autoPlayRepeat = 1;\r\n\t            this.autoPlayDelay = 0;\r\n\t            this._owner = null;\r\n\t            this._ownerBaseX = 0;\r\n\t            this._ownerBaseY = 0;\r\n\t            this._items = null;\r\n\t            this._totalTimes = 0;\r\n\t            this._totalTasks = 0;\r\n\t            this._playing = false;\r\n\t            this._onComplete = null;\r\n\t            this._options = 0;\r\n\t            this._reversed = false;\r\n\t            this._maxTime = 0;\r\n\t            this._autoPlay = false;\r\n\t            this.OPTION_IGNORE_DISPLAY_CONTROLLER = 1;\r\n\t            this.OPTION_AUTO_STOP_DISABLED = 2;\r\n\t            this.OPTION_AUTO_STOP_AT_END = 4;\r\n\t            this.FRAME_RATE = 24;\r\n\t            this._owner = owner;\r\n\t            this._items = [];\r\n\t        }\r\n\t\r\n\t        __class(Transition, 'fairygui.Transition');\r\n\t        var __proto = Transition.prototype;\r\n\t        __proto.play = function(onComplete, times, delay) {\r\n\t            (times === void 0) && (times = 1);\r\n\t            (delay === void 0) && (delay = 0);\r\n\t            this._play(onComplete, times, delay, false);\r\n\t        }\r\n\t\r\n\t        __proto.playReverse = function(onComplete, times, delay) {\r\n\t            (times === void 0) && (times = 1);\r\n\t            (delay === void 0) && (delay = 0);\r\n\t            this._play(onComplete, times, delay, true);\r\n\t        }\r\n\t\r\n\t        __proto.changeRepeat = function(value) {\r\n\t            this._totalTimes = value;\r\n\t        }\r\n\t\r\n\t        __proto._play = function(onComplete, times, delay, reversed) {\r\n\t            (times === void 0) && (times = 1);\r\n\t            (delay === void 0) && (delay = 0);\r\n\t            (reversed === void 0) && (reversed = false);\r\n\t            this.stop();\r\n\t            this._totalTimes = times;\r\n\t            this._reversed = reversed;\r\n\t            this.internalPlay(delay);\r\n\t            this._playing = this._totalTasks > 0;\r\n\t            if (this._playing) {\r\n\t                this._onComplete = onComplete;\r\n\t                if ((this._options & this.OPTION_IGNORE_DISPLAY_CONTROLLER) != 0) {\r\n\t                    var cnt = this._items.length;\r\n\t                    for (var i = 0; i < cnt; i++) {\r\n\t                        var item = this._items[i];\r\n\t                        if (item.target != null && item.target != this._owner)\r\n\t                            item.displayLockToken = item.target.addDisplayLock();\r\n\t                    }\r\n\t                }\r\n\t            } else if (onComplete != null) {\r\n\t                onComplete.run();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.stop = function(setToComplete, processCallback) {\r\n\t            (setToComplete === void 0) && (setToComplete = true);\r\n\t            (processCallback === void 0) && (processCallback = false);\r\n\t            if (this._playing) {\r\n\t                this._playing = false;\r\n\t                this._totalTasks = 0;\r\n\t                this._totalTimes = 0;\r\n\t                var handler = this._onComplete;\r\n\t                this._onComplete = null;\r\n\t                var cnt = this._items.length;\r\n\t                var i = NaN;\r\n\t                var item;\r\n\t                if (this._reversed) {\r\n\t                    for (i = cnt - 1; i >= 0; i--) {\r\n\t                        item = this._items[i];\r\n\t                        if (item.target == null)\r\n\t                            continue;\r\n\t                        this.stopItem(item, setToComplete);\r\n\t                    }\r\n\t                } else {\r\n\t                    for (i = 0; i < cnt; i++) {\r\n\t                        item = this._items[i];\r\n\t                        if (item.target == null)\r\n\t                            continue;\r\n\t                        this.stopItem(item, setToComplete);\r\n\t                    }\r\n\t                }\r\n\t                if (processCallback && handler != null) {\r\n\t                    handler.run();\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.stopItem = function(item, setToComplete) {\r\n\t            if (item.displayLockToken != 0) {\r\n\t                item.target.releaseDisplayLock(item.displayLockToken);\r\n\t                item.displayLockToken = 0;\r\n\t            }\r\n\t            if (item.type == /*TransitionActionType.ColorFilter*/ 12 && item.filterCreated)\r\n\t                item.target.filters = null;\r\n\t            if (item.completed)\r\n\t                return;\r\n\t            if (item.tweener != null) {\r\n\t                item.tweener.clear();\r\n\t                item.tweener = null;\r\n\t            }\r\n\t            if (item.type == /*TransitionActionType.Transition*/ 10) {\r\n\t                var trans = (item.target).getTransition(item.value.s);\r\n\t                if (trans != null)\r\n\t                    trans.stop(setToComplete, false);\r\n\t            } else if (item.type == /*TransitionActionType.Shake*/ 11) {\r\n\t                Laya.timer.clear(item, item.__shake);\r\n\t                item.target._gearLocked = true;\r\n\t                item.target.setXY(item.target.x - item.startValue.f1, item.target.y - item.startValue.f2);\r\n\t                item.target._gearLocked = false;\r\n\t            } else {\r\n\t                if (setToComplete) {\r\n\t                    if (item.tween) {\r\n\t                        if (!item.yoyo || item.repeat % 2 == 0)\r\n\t                            this.applyValue(item, this._reversed ? item.startValue : item.endValue);\r\n\t                        else\r\n\t                            this.applyValue(item, this._reversed ? item.endValue : item.startValue);\r\n\t                    } else if (item.type != /*TransitionActionType.Sound*/ 9)\r\n\t                        this.applyValue(item, item.value);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.dispose = function() {\r\n\t            if (!this._playing)\r\n\t                return;\r\n\t            this._playing = false;\r\n\t            var cnt = this._items.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var item = this._items[i];\r\n\t                if (item.target == null || item.completed)\r\n\t                    continue;\r\n\t                if (item.tweener != null) {\r\n\t                    item.tweener.clear();\r\n\t                    item.tweener = null;\r\n\t                }\r\n\t                if (item.type == /*TransitionActionType.Transition*/ 10) {\r\n\t                    var trans = (item.target).getTransition(item.value.s);\r\n\t                    if (trans != null)\r\n\t                        trans.dispose();\r\n\t                } else if (item.type == /*TransitionActionType.Shake*/ 11) {\r\n\t                    Laya.timer.clear(item, item.__shake);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setValue = function(label, __args) {\r\n\t            var args = [];\r\n\t            for (var i = 1, sz = arguments.length; i < sz; i++) args.push(arguments[i]);\r\n\t            var cnt = this._items.length;\r\n\t            var value;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var item = this._items[i];\r\n\t                if (item.label == null && item.label2 == null)\r\n\t                    continue;\r\n\t                if (item.label == label) {\r\n\t                    if (item.tween)\r\n\t                        value = item.startValue;\r\n\t                    else\r\n\t                        value = item.value;\r\n\t                } else if (item.label2 == label) {\r\n\t                    value = item.endValue;\r\n\t                } else\r\n\t                    continue;\r\n\t                switch (item.type) {\r\n\t                    case /*TransitionActionType.XY*/ 0:\r\n\t                    case /*TransitionActionType.Size*/ 1:\r\n\t                    case /*TransitionActionType.Pivot*/ 3:\r\n\t                    case /*TransitionActionType.Scale*/ 2:\r\n\t                    case /*TransitionActionType.Skew*/ 13:\r\n\t                        value.b1 = true;\r\n\t                        value.b2 = true;\r\n\t                        value.f1 = parseFloat(args[0]);\r\n\t                        value.f2 = parseFloat(args[1]);\r\n\t                        break;\r\n\t                    case /*TransitionActionType.Alpha*/ 4:\r\n\t                        value.f1 = parseFloat(args[0]);\r\n\t                        break;\r\n\t                    case /*TransitionActionType.Rotation*/ 5:\r\n\t                        value.i = parseInt(args[0]);\r\n\t                        break;\r\n\t                    case /*TransitionActionType.Color*/ 6:\r\n\t                        value.s = args[0];\r\n\t                        break;\r\n\t                    case /*TransitionActionType.Animation*/ 7:\r\n\t                        value.i = parseInt(args[0]);\r\n\t                        if (args.length > 1)\r\n\t                            value.b = args[1];\r\n\t                        break;\r\n\t                    case /*TransitionActionType.Visible*/ 8:\r\n\t                        value.b = args[0];\r\n\t                        break;\r\n\t                    case /*TransitionActionType.Sound*/ 9:\r\n\t                        value.s = args[0];\r\n\t                        if (args.length > 1)\r\n\t                            value.f1 = parseFloat(args[1]);\r\n\t                        break;\r\n\t                    case /*TransitionActionType.Transition*/ 10:\r\n\t                        value.s = args[0];\r\n\t                        if (args.length > 1)\r\n\t                            value.i = parseInt(args[1]);\r\n\t                        break;\r\n\t                    case /*TransitionActionType.Shake*/ 11:\r\n\t                        value.f1 = parseFloat(args[0]);\r\n\t                        if (args.length > 1)\r\n\t                            value.f2 = parseFloat(args[1]);\r\n\t                        break;\r\n\t                    case /*TransitionActionType.ColorFilter*/ 12:\r\n\t                        value.f1 = parseFloat(args[0]);\r\n\t                        value.f2 = parseFloat(args[1]);\r\n\t                        value.f3 = parseFloat(args[2]);\r\n\t                        value.f4 = parseFloat(args[3]);\r\n\t                        break;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setHook = function(label, callback) {\r\n\t            var cnt = this._items.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var item = this._items[i];\r\n\t                if (item.label == label) {\r\n\t                    item.hook = callback;\r\n\t                    break;\r\n\t                } else if (item.label2 == label) {\r\n\t                    item.hook2 = callback;\r\n\t                    break;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.clearHooks = function() {\r\n\t            var cnt = this._items.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var item = this._items[i];\r\n\t                item.hook = null;\r\n\t                item.hook2 = null;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setTarget = function(label, newTarget) {\r\n\t            var cnt = this._items.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var item = this._items[i];\r\n\t                if (item.label == label)\r\n\t                    item.targetId = newTarget.id;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setDuration = function(label, value) {\r\n\t            var cnt = this._items.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var item = this._items[i];\r\n\t                if (item.tween && item.label == label)\r\n\t                    item.duration = value;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.updateFromRelations = function(targetId, dx, dy) {\r\n\t            var cnt = this._items.length;\r\n\t            if (cnt == 0)\r\n\t                return;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var item = this._items[i];\r\n\t                if (item.type == /*TransitionActionType.XY*/ 0 && item.targetId == targetId) {\r\n\t                    if (item.tween) {\r\n\t                        item.startValue.f1 += dx;\r\n\t                        item.startValue.f2 += dy;\r\n\t                        item.endValue.f1 += dx;\r\n\t                        item.endValue.f2 += dy;\r\n\t                    } else {\r\n\t                        item.value.f1 += dx;\r\n\t                        item.value.f2 += dy;\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.OnOwnerRemovedFromStage = function() {\r\n\t            if ((this._options & this.OPTION_AUTO_STOP_DISABLED) == 0)\r\n\t                this.stop((this._options & this.OPTION_AUTO_STOP_AT_END) != 0 ? true : false, false);\r\n\t        }\r\n\t\r\n\t        __proto.internalPlay = function(delay) {\r\n\t            (delay === void 0) && (delay = 0);\r\n\t            this._ownerBaseX = this._owner.x;\r\n\t            this._ownerBaseY = this._owner.y;\r\n\t            this._totalTasks = 0;\r\n\t            var cnt = this._items.length;\r\n\t            var startTime = NaN;\r\n\t            var item;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                item = this._items[i];\r\n\t                if (item.targetId)\r\n\t                    item.target = this._owner.getChildById(item.targetId);\r\n\t                else\r\n\t                    item.target = this._owner;\r\n\t                if (item.target == null)\r\n\t                    continue;\r\n\t                if (item.tween) {\r\n\t                    if (this._reversed)\r\n\t                        startTime = delay + this._maxTime - item.time - item.duration;\r\n\t                    else\r\n\t                        startTime = delay + item.time;\r\n\t                    if (startTime > 0) {\r\n\t                        this._totalTasks++;\r\n\t                        item.completed = false;\r\n\t                        item.tweener = Tween.to(item.value, {}, startTime * 1000, null, Handler.create(this, this.__delayCall, [item]));\r\n\t                        item.tweener.update = null;\r\n\t                    } else\r\n\t                        this.startTween(item);\r\n\t                } else {\r\n\t                    if (this._reversed)\r\n\t                        startTime = delay + this._maxTime - item.time;\r\n\t                    else\r\n\t                        startTime = delay + item.time;\r\n\t                    if (startTime == 0)\r\n\t                        this.applyValue(item, item.value);\r\n\t                    else {\r\n\t                        item.completed = false;\r\n\t                        this._totalTasks++;\r\n\t                        item.tweener = Tween.to(item.value, {}, startTime * 1000, null, Handler.create(this, this.__delayCall2, [item]));\r\n\t                        item.tweener.update = null;\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.prepareValue = function(item, toProps, reversed) {\r\n\t            (reversed === void 0) && (reversed = false);\r\n\t            var startValue;\r\n\t            var endValue;\r\n\t            if (reversed) {\r\n\t                startValue = item.endValue;\r\n\t                endValue = item.startValue;\r\n\t            } else {\r\n\t                startValue = item.startValue;\r\n\t                endValue = item.endValue;\r\n\t            }\r\n\t            switch (item.type) {\r\n\t                case /*TransitionActionType.XY*/ 0:\r\n\t                case /*TransitionActionType.Size*/ 1:\r\n\t                    if (item.type == /*TransitionActionType.XY*/ 0) {\r\n\t                        if (item.target == this._owner) {\r\n\t                            if (!startValue.b1)\r\n\t                                startValue.f1 = 0;\r\n\t                            if (!startValue.b2)\r\n\t                                startValue.f2 = 0;\r\n\t                        } else {\r\n\t                            if (!startValue.b1)\r\n\t                                startValue.f1 = item.target.x;\r\n\t                            if (!startValue.b2)\r\n\t                                startValue.f2 = item.target.y;\r\n\t                        }\r\n\t                    } else {\r\n\t                        if (!startValue.b1)\r\n\t                            startValue.f1 = item.target.width;\r\n\t                        if (!startValue.b2)\r\n\t                            startValue.f2 = item.target.height;\r\n\t                    }\r\n\t                    item.value.f1 = startValue.f1;\r\n\t                    item.value.f2 = startValue.f2;\r\n\t                    if (!endValue.b1)\r\n\t                        endValue.f1 = item.value.f1;\r\n\t                    if (!endValue.b2)\r\n\t                        endValue.f2 = item.value.f2;\r\n\t                    item.value.b1 = startValue.b1 || endValue.b1;\r\n\t                    item.value.b2 = startValue.b2 || endValue.b2;\r\n\t                    toProps.f1 = endValue.f1;\r\n\t                    toProps.f2 = endValue.f2;\r\n\t                    break;\r\n\t                case /*TransitionActionType.Scale*/ 2:\r\n\t                case /*TransitionActionType.Skew*/ 13:\r\n\t                    item.value.f1 = startValue.f1;\r\n\t                    item.value.f2 = startValue.f2;\r\n\t                    toProps.f1 = endValue.f1;\r\n\t                    toProps.f2 = endValue.f2;\r\n\t                    break;\r\n\t                case /*TransitionActionType.Alpha*/ 4:\r\n\t                    item.value.f1 = startValue.f1;\r\n\t                    toProps.f1 = endValue.f1;\r\n\t                    break;\r\n\t                case /*TransitionActionType.Rotation*/ 5:\r\n\t                    item.value.i = startValue.i;\r\n\t                    toProps.i = endValue.i;\r\n\t                    break;\r\n\t                case /*TransitionActionType.ColorFilter*/ 12:\r\n\t                    item.value.f1 = startValue.f1;\r\n\t                    item.value.f2 = startValue.f2;\r\n\t                    item.value.f3 = startValue.f3;\r\n\t                    item.value.f4 = startValue.f4;\r\n\t                    toProps.f1 = endValue.f1;\r\n\t                    toProps.f2 = endValue.f2;\r\n\t                    toProps.f3 = endValue.f3;\r\n\t                    toProps.f4 = endValue.f4;\r\n\t                    break;\r\n\t            }\r\n\t            toProps.dummy = 0;\r\n\t        }\r\n\t\r\n\t        __proto.startTween = function(item) {\r\n\t            var toProps = {};\r\n\t            this.prepareValue(item, toProps, this._reversed);\r\n\t            this.applyValue(item, item.value);\r\n\t            var completeHandler;\r\n\t            if (item.repeat != 0) {\r\n\t                item.tweenTimes = 0;\r\n\t                completeHandler = Handler.create(this, this.__tweenRepeatComplete, [item]);\r\n\t            } else\r\n\t                completeHandler = Handler.create(this, this.__tweenComplete, [item]);\r\n\t            this._totalTasks++;\r\n\t            item.completed = false;\r\n\t            item.tweener = Tween.to(item.value,\r\n\t                toProps,\r\n\t                item.duration * 1000,\r\n\t                item.easeType,\r\n\t                completeHandler);\r\n\t            item.tweener.update = Handler.create(this, this.__tweenUpdate, [item], false);\r\n\t            if (item.hook != null)\r\n\t                item.hook.run();\r\n\t        }\r\n\t\r\n\t        __proto.__delayCall = function(item) {\r\n\t            item.tweener = null;\r\n\t            this._totalTasks--;\r\n\t            this.startTween(item);\r\n\t        }\r\n\t\r\n\t        __proto.__delayCall2 = function(item) {\r\n\t            item.tweener = null;\r\n\t            this._totalTasks--;\r\n\t            item.completed = true;\r\n\t            this.applyValue(item, item.value);\r\n\t            if (item.hook != null)\r\n\t                item.hook.run();\r\n\t            this.checkAllComplete();\r\n\t        }\r\n\t\r\n\t        __proto.__tweenUpdate = function(item) {\r\n\t            this.applyValue(item, item.value);\r\n\t        }\r\n\t\r\n\t        __proto.__tweenComplete = function(item) {\r\n\t            item.tweener = null;\r\n\t            this._totalTasks--;\r\n\t            item.completed = true;\r\n\t            if (item.hook2 != null)\r\n\t                item.hook2.run();\r\n\t            this.checkAllComplete();\r\n\t        }\r\n\t\r\n\t        __proto.__tweenRepeatComplete = function(item) {\r\n\t            item.tweenTimes++;\r\n\t            if (item.repeat == -1 || item.tweenTimes < item.repeat + 1) {\r\n\t                var toProps = {};\r\n\t                var reversed = false;\r\n\t                if (item.yoyo) {\r\n\t                    if (this._reversed)\r\n\t                        reversed = item.tweenTimes % 2 == 0;\r\n\t                    else\r\n\t                        reversed = item.tweenTimes % 2 == 1;\r\n\t                } else\r\n\t                    reversed = this._reversed;\r\n\t                this.prepareValue(item, toProps, reversed);\r\n\t                item.tweener = Tween.to(item.value,\r\n\t                    toProps,\r\n\t                    item.duration * 1000,\r\n\t                    item.easeType,\r\n\t                    Handler.create(this, this.__tweenRepeatComplete, [item]));\r\n\t                item.tweener.update = Handler.create(this, this.__tweenUpdate, [item], false);\r\n\t            } else\r\n\t                this.__tweenComplete(item);\r\n\t        }\r\n\t\r\n\t        __proto.__playTransComplete = function(item) {\r\n\t            this._totalTasks--;\r\n\t            item.completed = true;\r\n\t            this.checkAllComplete();\r\n\t        }\r\n\t\r\n\t        __proto.checkAllComplete = function() {\r\n\t            if (this._playing && this._totalTasks == 0) {\r\n\t                if (this._totalTimes < 0) {\r\n\t                    Laya.timer.callLater(this, this.internalPlay);\r\n\t                } else {\r\n\t                    this._totalTimes--;\r\n\t                    if (this._totalTimes > 0)\r\n\t                        Laya.timer.callLater(this, this.internalPlay);\r\n\t                    else {\r\n\t                        this._playing = false;\r\n\t                        var cnt = this._items.length;\r\n\t                        for (var i = 0; i < cnt; i++) {\r\n\t                            var item = this._items[i];\r\n\t                            if (item.target != null) {\r\n\t                                if (item.displayLockToken != 0) {\r\n\t                                    item.target.releaseDisplayLock(item.displayLockToken);\r\n\t                                    item.displayLockToken = 0;\r\n\t                                }\r\n\t                                if (item.filterCreated) {\r\n\t                                    item.filterCreated = false;\r\n\t                                    item.target.filters = null;\r\n\t                                }\r\n\t                            }\r\n\t                        }\r\n\t                        if (this._onComplete != null) {\r\n\t                            var handler = this._onComplete;\r\n\t                            this._onComplete = null;\r\n\t                            handler.run();\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.applyValue = function(item, value) {\r\n\t            item.target._gearLocked = true;\r\n\t            switch (item.type) {\r\n\t                case /*TransitionActionType.XY*/ 0:\r\n\t                    if (item.target == this._owner) {\r\n\t                        var f1 = 0,\r\n\t                            f2 = 0;\r\n\t                        if (!value.b1)\r\n\t                            f1 = item.target.x;\r\n\t                        else\r\n\t                            f1 = value.f1 + this._ownerBaseX;\r\n\t                        if (!value.b2)\r\n\t                            f2 = item.target.y;\r\n\t                        else\r\n\t                            f2 = value.f2 + this._ownerBaseY;\r\n\t                        item.target.setXY(f1, f2);\r\n\t                    } else {\r\n\t                        if (!value.b1)\r\n\t                            value.f1 = item.target.x;\r\n\t                        if (!value.b2)\r\n\t                            value.f2 = item.target.y;\r\n\t                        item.target.setXY(value.f1, value.f2);\r\n\t                    }\r\n\t                    break;\r\n\t                case /*TransitionActionType.Size*/ 1:\r\n\t                    if (!value.b1)\r\n\t                        value.f1 = item.target.width;\r\n\t                    if (!value.b2)\r\n\t                        value.f2 = item.target.height;\r\n\t                    item.target.setSize(value.f1, value.f2);\r\n\t                    break;\r\n\t                case /*TransitionActionType.Pivot*/ 3:\r\n\t                    item.target.setPivot(value.f1, value.f2);\r\n\t                    break;\r\n\t                case /*TransitionActionType.Alpha*/ 4:\r\n\t                    item.target.alpha = value.f1;\r\n\t                    break;\r\n\t                case /*TransitionActionType.Rotation*/ 5:\r\n\t                    item.target.rotation = value.i;\r\n\t                    break;\r\n\t                case /*TransitionActionType.Scale*/ 2:\r\n\t                    item.target.setScale(value.f1, value.f2);\r\n\t                    break;\r\n\t                case /*TransitionActionType.Skew*/ 13:\r\n\t                    item.target.setSkew(value.f1, value.f2);\r\n\t                    break;\r\n\t                case /*TransitionActionType.Color*/ 6:\r\n\t                    (item.target).color = value.s;\r\n\t                    break;\r\n\t                case /*TransitionActionType.Animation*/ 7:\r\n\t                    if (!value.b1)\r\n\t                        value.i = (item.target).frame;\r\n\t                    (item.target).frame = value.i;\r\n\t                    (item.target).playing = value.b;\r\n\t                    break;\r\n\t                case /*TransitionActionType.Visible*/ 8:\r\n\t                    item.target.visible = value.b;\r\n\t                    break;\r\n\t                case /*TransitionActionType.Transition*/ 10:\r\n\t                    ;\r\n\t                    var trans = (item.target).getTransition(value.s);\r\n\t                    if (trans != null) {\r\n\t                        if (value.i == 0)\r\n\t                            trans.stop(false, true);\r\n\t                        else if (trans.playing)\r\n\t                            trans._totalTimes = value.i;\r\n\t                        else {\r\n\t                            item.completed = false;\r\n\t                            this._totalTasks++;\r\n\t                            if (this._reversed)\r\n\t                                trans.playReverse(Handler.create(this, this.__playTransComplete, [item]), item.value.i);\r\n\t                            else\r\n\t                                trans.play(Handler.create(this, this.__playTransComplete, [item]), item.value.i);\r\n\t                        }\r\n\t                    }\r\n\t                    break;\r\n\t                case /*TransitionActionType.Sound*/ 9:\r\n\t                    ;\r\n\t                    var pi = UIPackage.getItemByURL(value.s);\r\n\t                    if (pi)\r\n\t                        GRoot.inst.playOneShotSound(pi.owner.getItemAssetURL(pi));\r\n\t                    else\r\n\t                        GRoot.inst.playOneShotSound(value.s);\r\n\t                    break;\r\n\t                case /*TransitionActionType.Shake*/ 11:\r\n\t                    item.startValue.f1 = 0;\r\n\t                    item.startValue.f2 = 0;\r\n\t                    item.startValue.f3 = item.value.f2;\r\n\t                    item.startValue.i = Laya.timer.currTimer;\r\n\t                    Laya.timer.frameLoop(1, item, item.__shake, [this]);\r\n\t                    this._totalTasks++;\r\n\t                    item.completed = false;\r\n\t                    break;\r\n\t                case /*TransitionActionType.ColorFilter*/ 12:\r\n\t                    ;\r\n\t                    var arr = item.target.filters;\r\n\t                    if (!arr || !(((arr[0]) instanceof laya.filters.ColorFilter)))\r\n\t                        item.filterCreated = true;\r\n\t                    var cm = new ColorMatrix();\r\n\t                    cm.adjustBrightness(value.f1);\r\n\t                    cm.adjustContrast(value.f2);\r\n\t                    cm.adjustSaturation(value.f3);\r\n\t                    cm.adjustHue(value.f4);\r\n\t                    arr = [new ColorFilter(cm)];\r\n\t                    item.target.filters = arr;\r\n\t                    break;\r\n\t            }\r\n\t            item.target._gearLocked = false;\r\n\t        }\r\n\t\r\n\t        __proto.__shakeItem = function(item) {\r\n\t            var r = Math.ceil(item.value.f1 * item.startValue.f3 / item.value.f2);\r\n\t            var rx = (Math.random() * 2 - 1) * r;\r\n\t            var ry = (Math.random() * 2 - 1) * r;\r\n\t            rx = rx > 0 ? Math.ceil(rx) : Math.floor(rx);\r\n\t            ry = ry > 0 ? Math.ceil(ry) : Math.floor(ry);\r\n\t            item.target._gearLocked = true;\r\n\t            item.target.setXY(item.target.x - item.startValue.f1 + rx, item.target.y - item.startValue.f2 + ry);\r\n\t            item.target._gearLocked = false;\r\n\t            item.startValue.f1 = rx;\r\n\t            item.startValue.f2 = ry;\r\n\t            var t = Laya.timer.currTimer;\r\n\t            item.startValue.f3 -= (t - item.startValue.i) / 1000;\r\n\t            item.startValue.i = t;\r\n\t            if (item.startValue.f3 <= 0) {\r\n\t                item.target._gearLocked = true;\r\n\t                item.target.setXY(item.target.x - item.startValue.f1, item.target.y - item.startValue.f2);\r\n\t                item.target._gearLocked = false;\r\n\t                item.completed = true;\r\n\t                this._totalTasks--;\r\n\t                Laya.timer.clear(item, item.__shake);\r\n\t                this.checkAllComplete();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setup = function(xml) {\r\n\t            this.name = xml.getAttribute(\"name\");\r\n\t            var str = xml.getAttribute(\"options\");\r\n\t            if (str)\r\n\t                this._options = parseInt(str);\r\n\t            str = xml.getAttribute(\"autoPlay\");\r\n\t            if (str)\r\n\t                this._autoPlay = str == \"true\";\r\n\t            if (this._autoPlay) {\r\n\t                str = xml.getAttribute(\"autoPlayRepeat\");\r\n\t                if (str)\r\n\t                    this.autoPlayRepeat = parseInt(str);\r\n\t                str = xml.getAttribute(\"autoPlayDelay\");\r\n\t                if (str)\r\n\t                    this.autoPlayDelay = parseFloat(str);\r\n\t            };\r\n\t            var col = xml.childNodes;\r\n\t            var length1 = col.length;\r\n\t            for (var i1 = 0; i1 < length1; i1++) {\r\n\t                var cxml = col[i1];\r\n\t                if (cxml.nodeName != \"item\")\r\n\t                    continue;\r\n\t                var item = new TransitionItem();\r\n\t                this._items.push(item);\r\n\t                item.time = parseInt(cxml.getAttribute(\"time\")) / this.FRAME_RATE;\r\n\t                item.targetId = cxml.getAttribute(\"target\");\r\n\t                str = cxml.getAttribute(\"type\");\r\n\t                switch (str) {\r\n\t                    case \"XY\":\r\n\t                        item.type = /*TransitionActionType.XY*/ 0;\r\n\t                        break;\r\n\t                    case \"Size\":\r\n\t                        item.type = /*TransitionActionType.Size*/ 1;\r\n\t                        break;\r\n\t                    case \"Scale\":\r\n\t                        item.type = /*TransitionActionType.Scale*/ 2;\r\n\t                        break;\r\n\t                    case \"Pivot\":\r\n\t                        item.type = /*TransitionActionType.Pivot*/ 3;\r\n\t                        break;\r\n\t                    case \"Alpha\":\r\n\t                        item.type = /*TransitionActionType.Alpha*/ 4;\r\n\t                        break;\r\n\t                    case \"Rotation\":\r\n\t                        item.type = /*TransitionActionType.Rotation*/ 5;\r\n\t                        break;\r\n\t                    case \"Color\":\r\n\t                        item.type = /*TransitionActionType.Color*/ 6;\r\n\t                        break;\r\n\t                    case \"Animation\":\r\n\t                        item.type = /*TransitionActionType.Animation*/ 7;\r\n\t                        break;\r\n\t                    case \"Visible\":\r\n\t                        item.type = /*TransitionActionType.Visible*/ 8;\r\n\t                        break;\r\n\t                    case \"Sound\":\r\n\t                        item.type = /*TransitionActionType.Sound*/ 9;\r\n\t                        break;\r\n\t                    case \"Transition\":\r\n\t                        item.type = /*TransitionActionType.Transition*/ 10;\r\n\t                        break;\r\n\t                    case \"Shake\":\r\n\t                        item.type = /*TransitionActionType.Shake*/ 11;\r\n\t                        break;\r\n\t                    case \"ColorFilter\":\r\n\t                        item.type = /*TransitionActionType.ColorFilter*/ 12;\r\n\t                        break;\r\n\t                    case \"Skew\":\r\n\t                        item.type = /*TransitionActionType.Skew*/ 13;\r\n\t                        break;\r\n\t                    default:\r\n\t                        item.type = /*TransitionActionType.Unknown*/ 14;\r\n\t                        break;\r\n\t                }\r\n\t                item.tween = cxml.getAttribute(\"tween\") == \"true\";\r\n\t                item.label = cxml.getAttribute(\"label\");\r\n\t                if (item.tween) {\r\n\t                    item.duration = parseInt(cxml.getAttribute(\"duration\")) / this.FRAME_RATE;\r\n\t                    if (item.time + item.duration > this._maxTime)\r\n\t                        this._maxTime = item.time + item.duration;\r\n\t                    str = cxml.getAttribute(\"ease\");\r\n\t                    if (str)\r\n\t                        item.easeType = ToolSet.parseEaseType(str);\r\n\t                    str = cxml.getAttribute(\"repeat\");\r\n\t                    if (str)\r\n\t                        item.repeat = parseInt(str);\r\n\t                    item.yoyo = cxml.getAttribute(\"yoyo\") == \"true\";\r\n\t                    item.label2 = cxml.getAttribute(\"label2\");\r\n\t                    var v = cxml.getAttribute(\"endValue\");\r\n\t                    if (v) {\r\n\t                        this.decodeValue(item.type, cxml.getAttribute(\"startValue\"), item.startValue);\r\n\t                        this.decodeValue(item.type, v, item.endValue);\r\n\t                    } else {\r\n\t                        item.tween = false;\r\n\t                        this.decodeValue(item.type, cxml.getAttribute(\"startValue\"), item.value);\r\n\t                    }\r\n\t                } else {\r\n\t                    if (item.time > this._maxTime)\r\n\t                        this._maxTime = item.time;\r\n\t                    this.decodeValue(item.type, cxml.getAttribute(\"value\"), item.value);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.decodeValue = function(type, str, value) {\r\n\t            var arr;\r\n\t            switch (type) {\r\n\t                case /*TransitionActionType.XY*/ 0:\r\n\t                case /*TransitionActionType.Size*/ 1:\r\n\t                case /*TransitionActionType.Pivot*/ 3:\r\n\t                case /*TransitionActionType.Skew*/ 13:\r\n\t                    arr = str.split(\",\");\r\n\t                    if (arr[0] == \"-\") {\r\n\t                        value.b1 = false;\r\n\t                    } else {\r\n\t                        value.f1 = parseFloat(arr[0]);\r\n\t                        value.b1 = true;\r\n\t                    }\r\n\t                    if (arr[1] == \"-\") {\r\n\t                        value.b2 = false;\r\n\t                    } else {\r\n\t                        value.f2 = parseFloat(arr[1]);\r\n\t                        value.b2 = true;\r\n\t                    }\r\n\t                    break;\r\n\t                case /*TransitionActionType.Alpha*/ 4:\r\n\t                    value.f1 = parseFloat(str);\r\n\t                    break;\r\n\t                case /*TransitionActionType.Rotation*/ 5:\r\n\t                    value.i = parseInt(str);\r\n\t                    break;\r\n\t                case /*TransitionActionType.Scale*/ 2:\r\n\t                    arr = str.split(\",\");\r\n\t                    value.f1 = parseFloat(arr[0]);\r\n\t                    value.f2 = parseFloat(arr[1]);\r\n\t                    break;\r\n\t                case /*TransitionActionType.Color*/ 6:\r\n\t                    value.s = str;\r\n\t                    break;\r\n\t                case /*TransitionActionType.Animation*/ 7:\r\n\t                    arr = str.split(\",\");\r\n\t                    if (arr[0] == \"-\") {\r\n\t                        value.b1 = false;\r\n\t                    } else {\r\n\t                        value.i = parseInt(arr[0]);\r\n\t                        value.b1 = true;\r\n\t                    }\r\n\t                    value.b = arr[1] == \"p\";\r\n\t                    break;\r\n\t                case /*TransitionActionType.Visible*/ 8:\r\n\t                    value.b = str == \"true\";\r\n\t                    break;\r\n\t                case /*TransitionActionType.Sound*/ 9:\r\n\t                    arr = str.split(\",\");\r\n\t                    value.s = arr[0];\r\n\t                    if (arr.length > 1) {\r\n\t                        var intv = parseInt(arr[1]);\r\n\t                        if (intv == 0 || intv == 100)\r\n\t                            value.f1 = 1;\r\n\t                        else\r\n\t                            value.f1 = intv / 100;\r\n\t                    } else\r\n\t                        value.f1 = 1;\r\n\t                    break;\r\n\t                case /*TransitionActionType.Transition*/ 10:\r\n\t                    arr = str.split(\",\");\r\n\t                    value.s = arr[0];\r\n\t                    if (arr.length > 1)\r\n\t                        value.i = parseInt(arr[1]);\r\n\t                    else\r\n\t                        value.i = 1;\r\n\t                    break;\r\n\t                case /*TransitionActionType.Shake*/ 11:\r\n\t                    arr = str.split(\",\");\r\n\t                    value.f1 = parseFloat(arr[0]);\r\n\t                    value.f2 = parseFloat(arr[1]);\r\n\t                    break;\r\n\t                case /*TransitionActionType.ColorFilter*/ 12:\r\n\t                    arr = str.split(\",\");\r\n\t                    value.f1 = parseFloat(arr[0]);\r\n\t                    value.f2 = parseFloat(arr[1]);\r\n\t                    value.f3 = parseFloat(arr[2]);\r\n\t                    value.f4 = parseFloat(arr[3]);\r\n\t                    break;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'autoPlay', function() {\r\n\t            return this._autoPlay;\r\n\t        }, function(value) {\r\n\t            if (this._autoPlay != value) {\r\n\t                this._autoPlay = value;\r\n\t                if (this._autoPlay) {\r\n\t                    if (this._owner.onStage)\r\n\t                        this.play(null, this.autoPlayRepeat, this.autoPlayDelay);\r\n\t                } else {\r\n\t                    if (!this._owner.onStage)\r\n\t                        this.stop(false, true);\r\n\t                }\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'playing', function() {\r\n\t            return this._playing;\r\n\t        });\r\n\t\r\n\t        Transition.__init$ = function() {\r\n\t            //class TransitionActionType\r\n\t            TransitionActionType = (function() {\r\n\t                    function TransitionActionType() {};\r\n\t                    __class(TransitionActionType, '');\r\n\t                    TransitionActionType.XY = 0;\r\n\t                    TransitionActionType.Size = 1;\r\n\t                    TransitionActionType.Scale = 2;\r\n\t                    TransitionActionType.Pivot = 3;\r\n\t                    TransitionActionType.Alpha = 4;\r\n\t                    TransitionActionType.Rotation = 5;\r\n\t                    TransitionActionType.Color = 6;\r\n\t                    TransitionActionType.Animation = 7;\r\n\t                    TransitionActionType.Visible = 8;\r\n\t                    TransitionActionType.Sound = 9;\r\n\t                    TransitionActionType.Transition = 10;\r\n\t                    TransitionActionType.Shake = 11;\r\n\t                    TransitionActionType.ColorFilter = 12;\r\n\t                    TransitionActionType.Skew = 13;\r\n\t                    TransitionActionType.Unknown = 14;\r\n\t                    return TransitionActionType;\r\n\t                })()\r\n\t                //class TransitionItem\r\n\t            TransitionItem = (function() {\r\n\t                    function TransitionItem() {\r\n\t                        this.time = 0;\r\n\t                        this.targetId = null;\r\n\t                        this.type = 0;\r\n\t                        this.duration = 0;\r\n\t                        this.value = null;\r\n\t                        this.startValue = null;\r\n\t                        this.endValue = null;\r\n\t                        this.easeType = null;\r\n\t                        this.repeat = 0;\r\n\t                        this.yoyo = false;\r\n\t                        this.tween = false;\r\n\t                        this.label = null;\r\n\t                        this.label2 = null;\r\n\t                        this.hook = null;\r\n\t                        this.hook2 = null;\r\n\t                        this.tweenTimes = 0;\r\n\t                        this.tweener = null;\r\n\t                        this.completed = false;\r\n\t                        this.target = null;\r\n\t                        this.filterCreated = false;\r\n\t                        this.displayLockToken = 0;\r\n\t                        this.easeType = Ease.quadOut;\r\n\t                        this.value = new TransitionValue();\r\n\t                        this.startValue = new TransitionValue();\r\n\t                        this.endValue = new TransitionValue();\r\n\t                    }\r\n\t                    __class(TransitionItem, '');\r\n\t                    var __proto = TransitionItem.prototype;\r\n\t                    __proto.__shake = function(trans) {\r\n\t                        trans.__shakeItem(this);\r\n\t                    }\r\n\t                    return TransitionItem;\r\n\t                })()\r\n\t                //class TransitionValue\r\n\t            TransitionValue = (function() {\r\n\t                function TransitionValue() {\r\n\t                    this.f1 = 0;\r\n\t                    this.f2 = 0;\r\n\t                    this.f3 = 0;\r\n\t                    this.f4 = NaN;\r\n\t                    this.i = 0;\r\n\t                    this.b = false;\r\n\t                    this.s = null;\r\n\t                    this.b1 = true;\r\n\t                    this.b2 = true;\r\n\t                }\r\n\t                __class(TransitionValue, '');\r\n\t                return TransitionValue;\r\n\t            })()\r\n\t        }\r\n\t\r\n\t        return Transition;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.tree.TreeNode\r\n\t    var TreeNode = (function() {\r\n\t        function TreeNode(hasChild) {\r\n\t            this._data = null;\r\n\t            this._parent = null;\r\n\t            this._children = null;\r\n\t            this._expanded = false;\r\n\t            this._tree = null;\r\n\t            this._cell = null;\r\n\t            this._level = 0;\r\n\t            if (hasChild)\r\n\t                this._children = [];\r\n\t        }\r\n\t\r\n\t        __class(TreeNode, 'fairygui.tree.TreeNode');\r\n\t        var __proto = TreeNode.prototype;\r\n\t        __proto.setCell = function(value) {\r\n\t            this._cell = value;\r\n\t        }\r\n\t\r\n\t        __proto.setLevel = function(value) {\r\n\t            this._level = value;\r\n\t        }\r\n\t\r\n\t        __proto.addChild = function(child) {\r\n\t            this.addChildAt(child, this._children.length);\r\n\t            return child;\r\n\t        }\r\n\t\r\n\t        __proto.addChildAt = function(child, index) {\r\n\t            if (!child)\r\n\t                throw new Error(\"child is null\");\r\n\t            var numChildren = this._children.length;\r\n\t            if (index >= 0 && index <= numChildren) {\r\n\t                if (child._parent == this) {\r\n\t                    this.setChildIndex(child, index);\r\n\t                } else {\r\n\t                    if (child._parent)\r\n\t                        child._parent.removeChild(child);\r\n\t                    var cnt = this._children.length;\r\n\t                    if (index == cnt)\r\n\t                        this._children.push(child);\r\n\t                    else\r\n\t                        this._children.splice(index, 0, child);\r\n\t                    child._parent = this;\r\n\t                    child._level = this._level + 1;\r\n\t                    child.setTree(this._tree);\r\n\t                    if (this._cell != null && this._cell.parent != null && this._expanded)\r\n\t                        this._tree.afterInserted(child);\r\n\t                }\r\n\t                return child;\r\n\t            } else {\r\n\t                throw new Error(\"Invalid child index\");\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.removeChild = function(child) {\r\n\t            var childIndex = this._children.indexOf(child);\r\n\t            if (childIndex != -1) {\r\n\t                this.removeChildAt(childIndex);\r\n\t            }\r\n\t            return child;\r\n\t        }\r\n\t\r\n\t        __proto.removeChildAt = function(index) {\r\n\t            if (index >= 0 && index < this.numChildren) {\r\n\t                var child = this._children[index];\r\n\t                this._children.splice(index, 1);\r\n\t                child._parent = null;\r\n\t                if (this._tree != null) {\r\n\t                    child.setTree(null);\r\n\t                    this._tree.afterRemoved(child);\r\n\t                }\r\n\t                return child;\r\n\t            } else {\r\n\t                throw new Error(\"Invalid child index\");\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.removeChildren = function(beginIndex, endIndex) {\r\n\t            (beginIndex === void 0) && (beginIndex = 0);\r\n\t            (endIndex === void 0) && (endIndex = -1);\r\n\t            if (endIndex < 0 || endIndex >= this.numChildren)\r\n\t                endIndex = this.numChildren - 1;\r\n\t            for (var i = beginIndex; i <= endIndex; ++i)\r\n\t                this.removeChildAt(beginIndex);\r\n\t        }\r\n\t\r\n\t        __proto.getChildAt = function(index) {\r\n\t            if (index >= 0 && index < this.numChildren)\r\n\t                return this._children[index];\r\n\t            else\r\n\t                throw new Error(\"Invalid child index\");\r\n\t        }\r\n\t\r\n\t        __proto.getChildIndex = function(child) {\r\n\t            return this._children.indexOf(child);\r\n\t        }\r\n\t\r\n\t        __proto.getPrevSibling = function() {\r\n\t            if (this._parent == null)\r\n\t                return null;\r\n\t            var i = this._parent._children.indexOf(this);\r\n\t            if (i <= 0)\r\n\t                return null;\r\n\t            return this._parent._children[i - 1];\r\n\t        }\r\n\t\r\n\t        __proto.getNextSibling = function() {\r\n\t            if (this._parent == null)\r\n\t                return null;\r\n\t            var i = this._parent._children.indexOf(this);\r\n\t            if (i < 0 || i >= this._parent._children.length - 1)\r\n\t                return null;\r\n\t            return this._parent._children[i + 1];\r\n\t        }\r\n\t\r\n\t        __proto.setChildIndex = function(child, index) {\r\n\t            var oldIndex = this._children.indexOf(child);\r\n\t            if (oldIndex == -1)\r\n\t                throw new Error(\"Not a child of this container\");\r\n\t            var cnt = this._children.length;\r\n\t            if (index < 0)\r\n\t                index = 0;\r\n\t            else if (index > cnt)\r\n\t                index = cnt;\r\n\t            if (oldIndex == index)\r\n\t                return;\r\n\t            this._children.splice(oldIndex, 1);\r\n\t            this._children.splice(index, 0, child);\r\n\t            if (this._cell != null && this._cell.parent != null && this._expanded)\r\n\t                this._tree.afterMoved(child);\r\n\t        }\r\n\t\r\n\t        __proto.swapChildren = function(child1, child2) {\r\n\t            var index1 = this._children.indexOf(child1);\r\n\t            var index2 = this._children.indexOf(child2);\r\n\t            if (index1 == -1 || index2 == -1)\r\n\t                throw new Error(\"Not a child of this container\");\r\n\t            this.swapChildrenAt(index1, index2);\r\n\t        }\r\n\t\r\n\t        __proto.swapChildrenAt = function(index1, index2) {\r\n\t            var child1 = this._children[index1];\r\n\t            var child2 = this._children[index2];\r\n\t            this.setChildIndex(child1, index2);\r\n\t            this.setChildIndex(child2, index1);\r\n\t        }\r\n\t\r\n\t        __proto.setTree = function(value) {\r\n\t            this._tree = value;\r\n\t            if (this._tree != null && this._tree.treeNodeWillExpand && this._expanded)\r\n\t                this._tree.treeNodeWillExpand.runWith(this);\r\n\t            if (this._children != null) {\r\n\t                var cnt = this._children.length;\r\n\t                for (var i = 0; i < cnt; i++) {\r\n\t                    var node = this._children[i];\r\n\t                    node._level = this._level + 1;\r\n\t                    node.setTree(value);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'expanded', function() {\r\n\t            return this._expanded;\r\n\t        }, function(value) {\r\n\t            if (this._children == null)\r\n\t                return;\r\n\t            if (this._expanded != value) {\r\n\t                this._expanded = value;\r\n\t                if (this._tree != null) {\r\n\t                    if (this._expanded)\r\n\t                        this._tree.afterExpanded(this);\r\n\t                    else\r\n\t                        this._tree.afterCollapsed(this);\r\n\t                }\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'tree', function() {\r\n\t            return this._tree;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'level', function() {\r\n\t            return this._level;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'cell', function() {\r\n\t            return this._cell;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'data', function() {\r\n\t            return this._data;\r\n\t        }, function(value) {\r\n\t            this._data = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'parent', function() {\r\n\t            return this._parent;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'isFolder', function() {\r\n\t            return this._children != null;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'text', function() {\r\n\t            if (this._cell != null)\r\n\t                return this._cell.text;\r\n\t            else\r\n\t                return null;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'numChildren', function() {\r\n\t            return this._children.length;\r\n\t        });\r\n\t\r\n\t        return TreeNode;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.tree.TreeView\r\n\t    var TreeView = (function() {\r\n\t        function TreeView(list) {\r\n\t            this._list = null;\r\n\t            this._root = null;\r\n\t            this._indent = 0;\r\n\t            this.treeNodeCreateCell = null;\r\n\t            this.treeNodeRender = null;\r\n\t            this.treeNodeWillExpand = null;\r\n\t            this.treeNodeClick = null;\r\n\t            this._list = list;\r\n\t            this._list.removeChildrenToPool();\r\n\t            this._list.on( /*fairygui.Events.CLICK_ITEM*/ \"fui_click_item\", this, this.__clickItem);\r\n\t            this._root = new TreeNode(true);\r\n\t            this._root.setTree(this);\r\n\t            this._root.setCell(this._list);\r\n\t            this._root.expanded = true;\r\n\t            this._indent = 15;\r\n\t        }\r\n\t\r\n\t        __class(TreeView, 'fairygui.tree.TreeView');\r\n\t        var __proto = TreeView.prototype;\r\n\t        __proto.getSelectedNode = function() {\r\n\t            if (this._list.selectedIndex != -1)\r\n\t                return (this._list.getChildAt(this._list.selectedIndex).data);\r\n\t            else\r\n\t                return null;\r\n\t        }\r\n\t\r\n\t        __proto.getSelection = function() {\r\n\t            var sels = this._list.getSelection();\r\n\t            var cnt = sels.length;\r\n\t            var ret = [];\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var node = (this._list.getChildAt(sels[i]).data);\r\n\t                ret.push(node);\r\n\t            }\r\n\t            return ret;\r\n\t        }\r\n\t\r\n\t        __proto.addSelection = function(node, scrollItToView) {\r\n\t            (scrollItToView === void 0) && (scrollItToView = false);\r\n\t            var parentNode = node.parent;\r\n\t            while (parentNode != null && parentNode != this._root) {\r\n\t                parentNode.expanded = true;\r\n\t                parentNode = parentNode.parent;\r\n\t            }\r\n\t            if (!node.cell)\r\n\t                return;\r\n\t            this._list.addSelection(this._list.getChildIndex(node.cell), scrollItToView);\r\n\t        }\r\n\t\r\n\t        __proto.removeSelection = function(node) {\r\n\t            if (!node.cell)\r\n\t                return;\r\n\t            this._list.removeSelection(this._list.getChildIndex(node.cell));\r\n\t        }\r\n\t\r\n\t        __proto.clearSelection = function() {\r\n\t            this._list.clearSelection();\r\n\t        }\r\n\t\r\n\t        __proto.getNodeIndex = function(node) {\r\n\t            return this._list.getChildIndex(node.cell);\r\n\t        }\r\n\t\r\n\t        __proto.updateNode = function(node) {\r\n\t            if (node.cell == null)\r\n\t                return;\r\n\t            if (this.treeNodeRender)\r\n\t                this.treeNodeRender.runWith(node);\r\n\t        }\r\n\t\r\n\t        __proto.updateNodes = function(nodes) {\r\n\t            var cnt = nodes.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var node = nodes[i];\r\n\t                if (node.cell == null)\r\n\t                    return;\r\n\t                if (this.treeNodeRender)\r\n\t                    this.treeNodeRender.runWith(node);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.expandAll = function(folderNode) {\r\n\t            folderNode.expanded = true;\r\n\t            var cnt = folderNode.numChildren;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var node = folderNode.getChildAt(i);\r\n\t                if (node.isFolder)\r\n\t                    this.expandAll(node);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.collapseAll = function(folderNode) {\r\n\t            if (folderNode != this._root)\r\n\t                folderNode.expanded = false;\r\n\t            var cnt = folderNode.numChildren;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var node = folderNode.getChildAt(i);\r\n\t                if (node.isFolder)\r\n\t                    this.collapseAll(node);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.createCell = function(node) {\r\n\t            if (this.treeNodeCreateCell)\r\n\t                node.setCell(this.treeNodeCreateCell.runWith(node));\r\n\t            else\r\n\t                node.setCell((this._list.itemPool.getObject(this._list.defaultItem)));\r\n\t            node.cell.data = node;\r\n\t            var indentObj = node.cell.getChild(\"indent\");\r\n\t            if (indentObj != null)\r\n\t                indentObj.width = (node.level - 1) * this._indent;\r\n\t            var expandButton = (node.cell.getChild(\"expandButton\"));\r\n\t            if (expandButton) {\r\n\t                if (node.isFolder) {\r\n\t                    expandButton.visible = true;\r\n\t                    expandButton.onClick(this, this.__clickExpandButton);\r\n\t                    expandButton.data = node;\r\n\t                    expandButton.selected = node.expanded;\r\n\t                } else\r\n\t                    expandButton.visible = false;\r\n\t            }\r\n\t            if (this.treeNodeRender)\r\n\t                this.treeNodeRender.runWith(node);\r\n\t        }\r\n\t\r\n\t        __proto.afterInserted = function(node) {\r\n\t            this.createCell(node);\r\n\t            var index = this.getInsertIndexForNode(node);\r\n\t            this._list.addChildAt(node.cell, index);\r\n\t            if (this.treeNodeRender)\r\n\t                this.treeNodeRender.runWith(node);\r\n\t            if (node.isFolder && node.expanded)\r\n\t                this.checkChildren(node, index);\r\n\t        }\r\n\t\r\n\t        __proto.getInsertIndexForNode = function(node) {\r\n\t            var prevNode = node.getPrevSibling();\r\n\t            if (prevNode == null)\r\n\t                prevNode = node.parent;\r\n\t            var insertIndex = this._list.getChildIndex(prevNode.cell) + 1;\r\n\t            var myLevel = node.level;\r\n\t            var cnt = this._list.numChildren;\r\n\t            for (var i = insertIndex; i < cnt; i++) {\r\n\t                var testNode = (this._list.getChildAt(i).data);\r\n\t                if (testNode.level <= myLevel)\r\n\t                    break;\r\n\t                insertIndex++;\r\n\t            }\r\n\t            return insertIndex;\r\n\t        }\r\n\t\r\n\t        __proto.afterRemoved = function(node) {\r\n\t            this.removeNode(node);\r\n\t        }\r\n\t\r\n\t        __proto.afterExpanded = function(node) {\r\n\t            if (node != this._root && this.treeNodeWillExpand)\r\n\t                this.treeNodeWillExpand(node);\r\n\t            if (node.cell == null)\r\n\t                return;\r\n\t            if (node != this._root) {\r\n\t                if (this.treeNodeRender)\r\n\t                    this.treeNodeRender.runWith(node);\r\n\t                var expandButton = (node.cell.getChild(\"expandButton\"));\r\n\t                if (expandButton)\r\n\t                    expandButton.selected = true;\r\n\t            }\r\n\t            if (node.cell.parent != null)\r\n\t                this.checkChildren(node, this._list.getChildIndex(node.cell));\r\n\t        }\r\n\t\r\n\t        __proto.afterCollapsed = function(node) {\r\n\t            if (node != this._root && this.treeNodeWillExpand)\r\n\t                this.treeNodeWillExpand(node);\r\n\t            if (node.cell == null)\r\n\t                return;\r\n\t            if (node != this._root) {\r\n\t                if (this.treeNodeRender)\r\n\t                    this.treeNodeRender.runWith(node);\r\n\t                var expandButton = (node.cell.getChild(\"expandButton\"));\r\n\t                if (expandButton)\r\n\t                    expandButton.selected = false;\r\n\t            }\r\n\t            if (node.cell.parent != null)\r\n\t                this.hideFolderNode(node);\r\n\t        }\r\n\t\r\n\t        __proto.afterMoved = function(node) {\r\n\t            if (!node.isFolder)\r\n\t                this._list.removeChild(node.cell);\r\n\t            else\r\n\t                this.hideFolderNode(node);\r\n\t            var index = this.getInsertIndexForNode(node);\r\n\t            this._list.addChildAt(node.cell, index);\r\n\t            if (node.isFolder && node.expanded)\r\n\t                this.checkChildren(node, index);\r\n\t        }\r\n\t\r\n\t        __proto.checkChildren = function(folderNode, index) {\r\n\t            var cnt = folderNode.numChildren;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                index++;\r\n\t                var node = folderNode.getChildAt(i);\r\n\t                if (node.cell == null)\r\n\t                    this.createCell(node);\r\n\t                if (!node.cell.parent)\r\n\t                    this._list.addChildAt(node.cell, index);\r\n\t                if (node.isFolder && node.expanded)\r\n\t                    index = this.checkChildren(node, index);\r\n\t            }\r\n\t            return index;\r\n\t        }\r\n\t\r\n\t        __proto.hideFolderNode = function(folderNode) {\r\n\t            var cnt = folderNode.numChildren;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var node = folderNode.getChildAt(i);\r\n\t                if (node.cell && node.cell.parent != null)\r\n\t                    this._list.removeChild(node.cell);\r\n\t                if (node.isFolder && node.expanded)\r\n\t                    this.hideFolderNode(node);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.removeNode = function(node) {\r\n\t            if (node.cell != null) {\r\n\t                if (node.cell.parent != null)\r\n\t                    this._list.removeChild(node.cell);\r\n\t                this._list.returnToPool(node.cell);\r\n\t                node.cell.data = null;\r\n\t                node.setCell(null);\r\n\t            }\r\n\t            if (node.isFolder) {\r\n\t                var cnt = node.numChildren;\r\n\t                for (var i = 0; i < cnt; i++) {\r\n\t                    var node2 = node.getChildAt(i);\r\n\t                    this.removeNode(node2);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__clickExpandButton = function(evt) {\r\n\t            evt.stopPropagation();\r\n\t            var expandButton = (GObject.cast(evt.currentTarget));\r\n\t            var node = (expandButton.parent.data);\r\n\t            if (this._list.scrollPane != null) {\r\n\t                var posY = this._list.scrollPane.posY;\r\n\t                if (expandButton.selected)\r\n\t                    node.expanded = true;\r\n\t                else\r\n\t                    node.expanded = false;\r\n\t                this._list.scrollPane.posY = posY;\r\n\t                this._list.scrollPane.scrollToView(node.cell);\r\n\t            } else {\r\n\t                if (expandButton.selected)\r\n\t                    node.expanded = true;\r\n\t                else\r\n\t                    node.expanded = false;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__clickItem = function(item, evt) {\r\n\t            if (this._list.scrollPane != null)\r\n\t                var posY = this._list.scrollPane.posY;\r\n\t            var node = (item.data);\r\n\t            if (this.treeNodeClick)\r\n\t                this.treeNodeClick.runWith([node, evt]);\r\n\t            if (this._list.scrollPane != null) {\r\n\t                this._list.scrollPane.posY = posY;\r\n\t                if (node.cell)\r\n\t                    this._list.scrollPane.scrollToView(node.cell);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'list', function() {\r\n\t            return this._list;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'root', function() {\r\n\t            return this._root;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'indent', function() {\r\n\t            return this._indent;\r\n\t        }, function(value) {\r\n\t            this._indent = value;\r\n\t        });\r\n\t\r\n\t        return TreeView;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.UIConfig\r\n\t    var UIConfig1 = (function() {\r\n\t        function UIConfig() {}\r\n\t        __class(UIConfig, 'fairygui.UIConfig', null, 'UIConfig1');\r\n\t        UIConfig.defaultFont = \"\";\r\n\t        UIConfig.windowModalWaiting = null\r\n\t        UIConfig.globalModalWaiting = null\r\n\t        UIConfig.modalLayerColor = \"rgba(33,33,33,0.2)\";\r\n\t        UIConfig.buttonSound = null\r\n\t        UIConfig.buttonSoundVolumeScale = 1;\r\n\t        UIConfig.horizontalScrollBar = null\r\n\t        UIConfig.verticalScrollBar = null\r\n\t        UIConfig.defaultScrollSpeed = 25;\r\n\t        UIConfig.defaultTouchScrollSpeedRatio = 1;\r\n\t        UIConfig.defaultScrollTouchEffect = true;\r\n\t        UIConfig.defaultScrollBounceEffect = true;\r\n\t        UIConfig.popupMenu = null\r\n\t        UIConfig.popupMenu_seperator = null\r\n\t        UIConfig.loaderErrorSign = null\r\n\t        UIConfig.tooltipsWin = null\r\n\t        UIConfig.defaultComboBoxVisibleItemCount = 10;\r\n\t        UIConfig.touchScrollSensitivity = 20;\r\n\t        UIConfig.touchDragSensitivity = 10;\r\n\t        UIConfig.clickDragSensitivity = 2;\r\n\t        UIConfig.bringWindowToFrontOnClick = true;\r\n\t        UIConfig.frameTimeForAsyncUIConstruction = 2;\r\n\t        __static(UIConfig, ['defaultScrollBarDisplay', function() { return this.defaultScrollBarDisplay = /*fairygui.ScrollBarDisplayType.Visible*/ 1; }]);\r\n\t        return UIConfig;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.UIObjectFactory\r\n\t    var UIObjectFactory = (function() {\r\n\t        function UIObjectFactory() {}\r\n\t        __class(UIObjectFactory, 'fairygui.UIObjectFactory');\r\n\t        UIObjectFactory.setPackageItemExtension = function(url, type) {\r\n\t            if (url == null)\r\n\t                throw new Error(\"Invaild url: \" + url);\r\n\t            var pi = UIPackage.getItemByURL(url);\r\n\t            if (pi != null)\r\n\t                pi.extensionType = type;\r\n\t            UIObjectFactory.packageItemExtensions[url] = type;\r\n\t        }\r\n\t\r\n\t        UIObjectFactory.setLoaderExtension = function(type) {\r\n\t            fairygui.UIObjectFactory.loaderType = type;\r\n\t        }\r\n\t\r\n\t        UIObjectFactory.resolvePackageItemExtension = function(pi) {\r\n\t            pi.extensionType = UIObjectFactory.packageItemExtensions[\"ui://\" + pi.owner.id + pi.id];\r\n\t            if (!pi.extensionType)\r\n\t                pi.extensionType = UIObjectFactory.packageItemExtensions[\"ui://\" + pi.owner.name + \"/\" + pi.name];\r\n\t        }\r\n\t\r\n\t        UIObjectFactory.newObject = function(pi) {\r\n\t            switch (pi.type) {\r\n\t                case /*fairygui.PackageItemType.Image*/ 0:\r\n\t                    return new GImage();\r\n\t                case /*fairygui.PackageItemType.MovieClip*/ 2:\r\n\t                    return new GMovieClip();\r\n\t                case /*fairygui.PackageItemType.Component*/ 4:\r\n\t                    {\r\n\t                        var cls = pi.extensionType;\r\n\t                        if (cls)\r\n\t                            return new cls();\r\n\t                        var xml = pi.owner.getItemAsset(pi);\r\n\t                        var extention = xml.getAttribute(\"extention\");\r\n\t                        if (extention != null) {\r\n\t                            switch (extention) {\r\n\t                                case \"Button\":\r\n\t                                    return new GButton();\r\n\t                                case \"Label\":\r\n\t                                    return new GLabel();\r\n\t                                case \"ProgressBar\":\r\n\t                                    return new GProgressBar();\r\n\t                                case \"Slider\":\r\n\t                                    return new GSlider();\r\n\t                                case \"ScrollBar\":\r\n\t                                    return new GScrollBar();\r\n\t                                case \"ComboBox\":\r\n\t                                    return new GComboBox();\r\n\t                                default:\r\n\t                                    return new GComponent();\r\n\t                            }\r\n\t                        } else\r\n\t                            return new GComponent();\r\n\t                    }\r\n\t            }\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        UIObjectFactory.newObject2 = function(type) {\r\n\t            switch (type) {\r\n\t                case \"image\":\r\n\t                    return new GImage();\r\n\t                case \"movieclip\":\r\n\t                    return new GMovieClip();\r\n\t                case \"component\":\r\n\t                    return new GComponent();\r\n\t                case \"text\":\r\n\t                    return new GBasicTextField();\r\n\t                case \"richtext\":\r\n\t                    return new GRichTextField();\r\n\t                case \"inputtext\":\r\n\t                    return new GTextInput();\r\n\t                case \"group\":\r\n\t                    return new GGroup();\r\n\t                case \"list\":\r\n\t                    return new GList();\r\n\t                case \"graph\":\r\n\t                    return new GGraph();\r\n\t                case \"loader\":\r\n\t                    if (fairygui.UIObjectFactory.loaderType != null)\r\n\t                        return new fairygui.UIObjectFactory.loaderType();\r\n\t                    else\r\n\t                        return new GLoader();\r\n\t            }\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        UIObjectFactory.packageItemExtensions = {};\r\n\t        UIObjectFactory.loaderType = null\r\n\t        return UIObjectFactory;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.UIPackage\r\n\t    var UIPackage = (function() {\r\n\t        var AtlasSprite;\r\n\t\r\n\t        function UIPackage() {\r\n\t            this._id = null;\r\n\t            this._name = null;\r\n\t            this._basePath = null;\r\n\t            this._items = null;\r\n\t            this._itemsById = null;\r\n\t            this._itemsByName = null;\r\n\t            this._resKey = null;\r\n\t            this._resData = null;\r\n\t            this._customId = null;\r\n\t            this._sprites = null;\r\n\t            this._hitTestDatas = null;\r\n\t            this._items = [];\r\n\t            this._sprites = {};\r\n\t            this._hitTestDatas = {};\r\n\t        }\r\n\t\r\n\t        __class(UIPackage, 'fairygui.UIPackage');\r\n\t        var __proto = UIPackage.prototype;\r\n\t        __proto.create = function(resKey) {\r\n\t            this._resKey = resKey;\r\n\t            this.loadPackage();\r\n\t        }\r\n\t\r\n\t        __proto.loadPackage = function() {\r\n\t            var str;\r\n\t            var arr;\r\n\t            this.decompressPackage(AssetProxy.inst.getRes(this._resKey + \".fui\"));\r\n\t            str = this.getDesc(\"sprites.bytes\");\r\n\t            arr = str.split( /*CLASS CONST:fairygui.UIPackage.sep1*/ \"\\n\");\r\n\t            var cnt = arr.length;\r\n\t            for (var i = 1; i < cnt; i++) {\r\n\t                str = arr[i];\r\n\t                if (!str)\r\n\t                    continue;\r\n\t                var arr2 = str.split( /*CLASS CONST:fairygui.UIPackage.sep2*/ \" \");\r\n\t                var sprite = new AtlasSprite();\r\n\t                var itemId = arr2[0];\r\n\t                var binIndex = parseInt(arr2[1]);\r\n\t                if (binIndex >= 0)\r\n\t                    sprite.atlas = \"atlas\" + binIndex;\r\n\t                else {\r\n\t                    var pos = itemId.indexOf(\"_\");\r\n\t                    if (pos == -1)\r\n\t                        sprite.atlas = \"atlas_\" + itemId;\r\n\t                    else\r\n\t                        sprite.atlas = \"atlas_\" + itemId.substr(0, pos);\r\n\t                }\r\n\t                sprite.rect.x = parseInt(arr2[2]);\r\n\t                sprite.rect.y = parseInt(arr2[3]);\r\n\t                sprite.rect.width = parseInt(arr2[4]);\r\n\t                sprite.rect.height = parseInt(arr2[5]);\r\n\t                sprite.rotated = arr2[6] == \"1\";\r\n\t                this._sprites[itemId] = sprite;\r\n\t            }\r\n\t            str = this.getDesc(\"hittest.bytes\");\r\n\t            if (str != null) {\r\n\t                var ba = ToolSet.base64Decode(str);\r\n\t                ba.endian = /*laya.utils.Byte.BIG_ENDIAN*/ \"bigEndian\";\r\n\t                while (ba.bytesAvailable) {\r\n\t                    var hitTestData = new PixelHitTestData();\r\n\t                    this._hitTestDatas[ba.readUTFString()] = hitTestData;\r\n\t                    hitTestData.load(ba);\r\n\t                }\r\n\t            }\r\n\t            str = this.getDesc(\"package.xml\");\r\n\t            var xml = Utils.parseXMLFromString(str);\r\n\t            var rootNode = xml.firstChild;\r\n\t            this._id = rootNode.getAttribute(\"id\");\r\n\t            this._name = rootNode.getAttribute(\"name\");\r\n\t            var resources = ToolSet.findChildNode(rootNode, \"resources\").childNodes;\r\n\t            this._itemsById = {};\r\n\t            this._itemsByName = {};\r\n\t            var pi;\r\n\t            var cxml;\r\n\t            var length1 = resources.length;\r\n\t            for (var i1 = 0; i1 < length1; i1++) {\r\n\t                cxml = resources[i1];\r\n\t                if (cxml.nodeType != 1)\r\n\t                    continue;\r\n\t                pi = new PackageItem();\r\n\t                pi.owner = this;\r\n\t                pi.type = PackageItemType.parse(cxml.nodeName);\r\n\t                pi.id = cxml.getAttribute(\"id\");\r\n\t                pi.name = cxml.getAttribute(\"name\");\r\n\t                pi.file = cxml.getAttribute(\"file\");\r\n\t                str = cxml.getAttribute(\"size\");\r\n\t                if (str) {\r\n\t                    arr = str.split( /*CLASS CONST:fairygui.UIPackage.sep0*/ \",\");\r\n\t                    pi.width = parseInt(arr[0]);\r\n\t                    pi.height = parseInt(arr[1]);\r\n\t                }\r\n\t                switch (pi.type) {\r\n\t                    case /*fairygui.PackageItemType.Image*/ 0:\r\n\t                        {\r\n\t                            str = cxml.getAttribute(\"scale\");\r\n\t                            if (str == \"9grid\") {\r\n\t                                pi.scale9Grid = new laya.maths.Rectangle();\r\n\t                                str = cxml.getAttribute(\"scale9grid\");\r\n\t                                if (str) {\r\n\t                                    arr = str.split( /*CLASS CONST:fairygui.UIPackage.sep0*/ \",\");\r\n\t                                    pi.scale9Grid.x = parseInt(arr[0]);\r\n\t                                    pi.scale9Grid.y = parseInt(arr[1]);\r\n\t                                    pi.scale9Grid.width = parseInt(arr[2]);\r\n\t                                    pi.scale9Grid.height = parseInt(arr[3]);\r\n\t                                    str = cxml.getAttribute(\"gridTile\");\r\n\t                                    if (str)\r\n\t                                        pi.tileGridIndice = parseInt(str);\r\n\t                                }\r\n\t                            } else if (str == \"tile\") {\r\n\t                                pi.scaleByTile = true;\r\n\t                            }\r\n\t                            str = cxml.getAttribute(\"smoothing\");\r\n\t                            pi.smoothing = str != \"false\";\r\n\t                            break;\r\n\t                        }\r\n\t                    case /*fairygui.PackageItemType.Component*/ 4:\r\n\t                        UIObjectFactory.resolvePackageItemExtension(pi);\r\n\t                        break;\r\n\t                }\r\n\t                this._items.push(pi);\r\n\t                this._itemsById[pi.id] = pi;\r\n\t                if (pi.name != null)\r\n\t                    this._itemsByName[pi.name] = pi;\r\n\t            }\r\n\t            cnt = this._items.length;\r\n\t            for (i = 0; i < cnt; i++) {\r\n\t                pi = this._items[i];\r\n\t                if (pi.type == /*fairygui.PackageItemType.Font*/ 6) {\r\n\t                    this.loadFont(pi);\r\n\t                    fairygui.UIPackage._bitmapFonts[pi.bitmapFont.id] = pi.bitmapFont;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.decompressPackage = function(buf) {\r\n\t            this._resData = {};\r\n\t            var data;\r\n\t            /*__JS__ */\r\n\t            var inflater = new Zlib.RawInflate(buf);\r\n\t            data = inflater.decompress();;\r\n\t            var source = new Byte(data).readUTFBytes();\r\n\t            var curr = 0;\r\n\t            var fn;\r\n\t            var size = NaN;\r\n\t            while (true) {\r\n\t                var pos = source.indexOf(\"|\", curr);\r\n\t                if (pos == -1)\r\n\t                    break;\r\n\t                fn = source.substring(curr, pos);\r\n\t                curr = pos + 1;\r\n\t                pos = source.indexOf(\"|\", curr);\r\n\t                size = parseInt(source.substring(curr, pos));\r\n\t                curr = pos + 1;\r\n\t                this._resData[fn] = source.substr(curr, size);\r\n\t                curr += size;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.dispose = function() {\r\n\t            var cnt = this._items.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var pi = this._items[i];\r\n\t                if (pi.bitmapFont != null) {\r\n\t                    delete fairygui.UIPackage._bitmapFonts[pi.bitmapFont.id];\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.createObject = function(resName, userClass) {\r\n\t            var pi = this._itemsByName[resName];\r\n\t            if (pi)\r\n\t                return this.internalCreateObject(pi, userClass);\r\n\t            else\r\n\t                return null;\r\n\t        }\r\n\t\r\n\t        __proto.internalCreateObject = function(item, userClass) {\r\n\t            var g;\r\n\t            if (item.type == /*fairygui.PackageItemType.Component*/ 4) {\r\n\t                if (userClass != null)\r\n\t                    g = new userClass();\r\n\t                else\r\n\t                    g = UIObjectFactory.newObject(item);\r\n\t            } else\r\n\t                g = UIObjectFactory.newObject(item);\r\n\t            if (g == null)\r\n\t                return null;\r\n\t            fairygui.UIPackage._constructing++;\r\n\t            g.packageItem = item;\r\n\t            g.constructFromResource();\r\n\t            fairygui.UIPackage._constructing--;\r\n\t            return g;\r\n\t        }\r\n\t\r\n\t        __proto.getItemById = function(itemId) {\r\n\t            return this._itemsById[itemId];\r\n\t        }\r\n\t\r\n\t        __proto.getItemByName = function(resName) {\r\n\t            return this._itemsByName[resName];\r\n\t        }\r\n\t\r\n\t        __proto.getItemAssetByName = function(resName) {\r\n\t            var pi = this._itemsByName[resName];\r\n\t            if (pi == null) {\r\n\t                throw \"Resource not found -\" + resName;\r\n\t            }\r\n\t            return this.getItemAsset(pi);\r\n\t        }\r\n\t\r\n\t        __proto.getItemAssetURL = function(item) {\r\n\t            return this._resKey + \"@\" + item.file;;\r\n\t        }\r\n\t\r\n\t        __proto.getItemAsset = function(item) {\r\n\t            switch (item.type) {\r\n\t                case /*fairygui.PackageItemType.Image*/ 0:\r\n\t                    if (!item.decoded) {\r\n\t                        item.decoded = true;\r\n\t                        var sprite = this._sprites[item.id];\r\n\t                        if (sprite != null)\r\n\t                            item.texture = this.createSpriteTexture(sprite);\r\n\t                    }\r\n\t                    return item.texture;\r\n\t                case /*fairygui.PackageItemType.Atlas*/ 7:\r\n\t                    if (!item.decoded) {\r\n\t                        item.decoded = true;\r\n\t                        var fileName = (item.file != null && item.file.length > 0) ? item.file : (item.id + \".png\");\r\n\t                        item.texture = AssetProxy.inst.getRes(this._resKey + \"@\" + fileName);\r\n\t                    }\r\n\t                    return item.texture;\r\n\t                case /*fairygui.PackageItemType.Sound*/ 3:\r\n\t                    if (!item.decoded) {\r\n\t                        item.decoded = true;\r\n\t                        item.sound = AssetProxy.inst.getRes(this._resKey + \"@\" + item.file);\r\n\t                    }\r\n\t                    return item.sound;\r\n\t                case /*fairygui.PackageItemType.Font*/ 6:\r\n\t                    if (!item.decoded) {\r\n\t                        item.decoded = true;\r\n\t                        this.loadFont(item);\r\n\t                    }\r\n\t                    return item.bitmapFont;\r\n\t                case /*fairygui.PackageItemType.MovieClip*/ 2:\r\n\t                    if (!item.decoded) {\r\n\t                        item.decoded = true;\r\n\t                        this.loadMovieClip(item);\r\n\t                    }\r\n\t                    return item.frames;\r\n\t                case /*fairygui.PackageItemType.Component*/ 4:\r\n\t                    if (!item.decoded) {\r\n\t                        item.decoded = true;\r\n\t                        var str = this.getDesc(item.id + \".xml\");\r\n\t                        var xml = Utils.parseXMLFromString(str);\r\n\t                        item.componentData = xml.firstChild;\r\n\t                        this.loadComponentChildren(item);\r\n\t                        this.translateComponent(item);\r\n\t                    }\r\n\t                    return item.componentData;\r\n\t                default:\r\n\t                    return AssetProxy.inst.getRes(this._resKey + \"@\" + item.id);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.getDesc = function(fn) {\r\n\t            return this._resData[fn];\r\n\t        }\r\n\t\r\n\t        __proto.getPixelHitTestData = function(itemId) {\r\n\t            return this._hitTestDatas[itemId];\r\n\t        }\r\n\t\r\n\t        __proto.loadComponentChildren = function(item) {\r\n\t            var listNode = ToolSet.findChildNode(item.componentData, \"displayList\");\r\n\t            if (listNode != null) {\r\n\t                var col = listNode.childNodes;\r\n\t                var dcnt = col.length;\r\n\t                item.displayList = __newvec(dcnt);\r\n\t                var di;\r\n\t                for (var i = 0; i < dcnt; i++) {\r\n\t                    var cxml = col[i];\r\n\t                    var tagName = cxml.nodeName;\r\n\t                    var src = cxml.getAttribute(\"src\");\r\n\t                    if (src) {\r\n\t                        var pkgId = cxml.getAttribute(\"pkg\");\r\n\t                        var pkg;\r\n\t                        if (pkgId && pkgId != item.owner.id)\r\n\t                            pkg = fairygui.UIPackage.getById(pkgId);\r\n\t                        else\r\n\t                            pkg = item.owner;\r\n\t                        var pi = pkg != null ? pkg.getItemById(src) : null;\r\n\t                        if (pi != null)\r\n\t                            di = new DisplayListItem(pi, null);\r\n\t                        else\r\n\t                            di = new DisplayListItem(null, tagName);\r\n\t                    } else {\r\n\t                        if (tagName == \"text\" && cxml.getAttribute(\"input\") == \"true\")\r\n\t                            di = new DisplayListItem(null, \"inputtext\");\r\n\t                        else\r\n\t                            di = new DisplayListItem(null, tagName);\r\n\t                    }\r\n\t                    di.desc = cxml;\r\n\t                    item.displayList[i] = di;\r\n\t                }\r\n\t            } else\r\n\t                item.displayList = __newvec(0, null);\r\n\t        }\r\n\t\r\n\t        __proto.translateComponent = function(item) {\r\n\t            if (fairygui.UIPackage._stringsSource == null)\r\n\t                return;\r\n\t            var strings = fairygui.UIPackage._stringsSource[this.id + item.id];\r\n\t            if (strings == null)\r\n\t                return;\r\n\t            var length1 = item.displayList.length;\r\n\t            var length2 = NaN;\r\n\t            var value;\r\n\t            var cxml, dxml, exml;\r\n\t            var ename;\r\n\t            var elementId;\r\n\t            var items;\r\n\t            var i1 = NaN,\r\n\t                i2 = NaN,\r\n\t                j = NaN;\r\n\t            var str;\r\n\t            for (i1 = 0; i1 < length1; i1++) {\r\n\t                cxml = item.displayList[i1].desc;\r\n\t                ename = cxml.nodeName;\r\n\t                elementId = cxml.getAttribute(\"id\");\r\n\t                str = cxml.getAttribute(\"tooltips\");\r\n\t                if (str) {\r\n\t                    value = strings[elementId + \"-tips\"];\r\n\t                    if (value != undefined)\r\n\t                        cxml.setAttribute(\"tooltips\", value);\r\n\t                }\r\n\t                dxml = ToolSet.findChildNode(cxml, \"gearText\");\r\n\t                if (dxml) {\r\n\t                    value = strings[elementId + \"-texts\"];\r\n\t                    if (value != undefined)\r\n\t                        dxml.setAttribute(\"values\", value);\r\n\t                    value = strings[elementId + \"-texts_def\"];\r\n\t                    if (value != undefined)\r\n\t                        dxml.setAttribute(\"default\", value);\r\n\t                }\r\n\t                if (ename == \"text\" || ename == \"richtext\") {\r\n\t                    value = strings[elementId];\r\n\t                    if (value != undefined)\r\n\t                        cxml.setAttribute(\"text\", value);\r\n\t                    value = strings[elementId + \"-prompt\"];\r\n\t                    if (value != undefined)\r\n\t                        cxml.setAttribute(\"prompt\", value);\r\n\t                } else if (ename == \"list\") {\r\n\t                    items = cxml.childNodes;\r\n\t                    length2 = items.length;\r\n\t                    j = 0;\r\n\t                    for (i2 = 0; i2 < length2; i2++) {\r\n\t                        exml = items[i2];\r\n\t                        if (exml.nodeName != \"item\")\r\n\t                            continue;\r\n\t                        value = strings[elementId + \"-\" + j];\r\n\t                        if (value != undefined)\r\n\t                            exml.setAttribute(\"title\", value);\r\n\t                        j++;\r\n\t                    }\r\n\t                } else if (ename == \"component\") {\r\n\t                    dxml = ToolSet.findChildNode(cxml, \"Button\");\r\n\t                    if (dxml) {\r\n\t                        value = strings[elementId];\r\n\t                        if (value != undefined)\r\n\t                            dxml.setAttribute(\"title\", value);\r\n\t                        value = strings[elementId + \"-0\"];\r\n\t                        if (value != undefined)\r\n\t                            dxml.setAttribute(\"selectedTitle\", value);\r\n\t                        continue;\r\n\t                    }\r\n\t                    dxml = ToolSet.findChildNode(cxml, \"Label\");\r\n\t                    if (dxml) {\r\n\t                        value = strings[elementId];\r\n\t                        if (value != undefined)\r\n\t                            dxml.setAttribute(\"title\", value);\r\n\t                        value = strings[elementId + \"-prompt\"];\r\n\t                        if (value != undefined)\r\n\t                            dxml.setAttribute(\"prompt\", value);\r\n\t                        continue;\r\n\t                    }\r\n\t                    dxml = ToolSet.findChildNode(cxml, \"ComboBox\");\r\n\t                    if (dxml) {\r\n\t                        value = strings[elementId];\r\n\t                        if (value != undefined)\r\n\t                            dxml.setAttribute(\"title\", value);\r\n\t                        items = dxml.childNodes;\r\n\t                        length2 = items.length;\r\n\t                        j = 0;\r\n\t                        for (i2 = 0; i2 < length2; i2++) {\r\n\t                            exml = items[i2];\r\n\t                            if (exml.nodeName != \"item\")\r\n\t                                continue;\r\n\t                            value = strings[elementId + \"-\" + j];\r\n\t                            if (value != undefined)\r\n\t                                exml.setAttribute(\"title\", value);\r\n\t                            j++;\r\n\t                        }\r\n\t                        continue;\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.createSpriteTexture = function(sprite) {\r\n\t            var atlasItem = this._itemsById[sprite.atlas];\r\n\t            if (atlasItem != null) {\r\n\t                var atlasTexture = (this.getItemAsset(atlasItem));\r\n\t                if (atlasTexture == null)\r\n\t                    return null;\r\n\t                else\r\n\t                    return this.createSubTexture(atlasTexture, sprite.rect);\r\n\t            } else\r\n\t                return null;\r\n\t        }\r\n\t\r\n\t        __proto.createSubTexture = function(atlasTexture, clipRect) {\r\n\t            var texture = Texture.createFromTexture(atlasTexture,\r\n\t                clipRect.x, clipRect.y, clipRect.width, clipRect.height);\r\n\t            return texture;\r\n\t        }\r\n\t\r\n\t        __proto.loadMovieClip = function(item) {\r\n\t            var xml = Utils.parseXMLFromString(this.getDesc(item.id + \".xml\")).firstChild;\r\n\t            var str;\r\n\t            var arr;\r\n\t            str = xml.getAttribute(\"interval\");\r\n\t            if (str)\r\n\t                item.interval = parseInt(str);\r\n\t            str = xml.getAttribute(\"swing\");\r\n\t            if (str)\r\n\t                item.swing = str == \"true\";\r\n\t            str = xml.getAttribute(\"repeatDelay\");\r\n\t            if (str)\r\n\t                item.repeatDelay = parseInt(str);\r\n\t            var frameCount = parseInt(xml.getAttribute(\"frameCount\"));\r\n\t            item.frames = [];\r\n\t            var frameNodes = ToolSet.findChildNode(xml, \"frames\").childNodes;\r\n\t            var i = 0;\r\n\t            var len = frameNodes.length;\r\n\t            for (var k = 0; k < len; k++) {\r\n\t                var frameNode = frameNodes[k];\r\n\t                if (frameNode.nodeName != \"frame\")\r\n\t                    continue;\r\n\t                var frame = new Frame();\r\n\t                str = frameNode.getAttribute(\"rect\");\r\n\t                arr = str.split( /*CLASS CONST:fairygui.UIPackage.sep0*/ \",\");\r\n\t                frame.rect = new Rectangle(parseInt(arr[0]), parseInt(arr[1]), parseInt(arr[2]), parseInt(arr[3]));\r\n\t                str = frameNode.getAttribute(\"addDelay\");\r\n\t                if (str)\r\n\t                    frame.addDelay = parseInt(str);\r\n\t                item.frames[i] = frame;\r\n\t                if (frame.rect.width == 0)\r\n\t                    continue;\r\n\t                str = frameNode.getAttribute(\"sprite\");\r\n\t                if (str)\r\n\t                    str = item.id + \"_\" + str;\r\n\t                else\r\n\t                    str = item.id + \"_\" + i;\r\n\t                var sprite = this._sprites[str];\r\n\t                if (sprite != null)\r\n\t                    frame.texture = this.createSpriteTexture(sprite);\r\n\t                i++;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.loadFont = function(item) {\r\n\t            var font = new BitmapFont1();\r\n\t            font.id = \"ui://\" + this.id + item.id;\r\n\t            var str = this.getDesc(item.id + \".fnt\");\r\n\t            var lines = str.split( /*CLASS CONST:fairygui.UIPackage.sep1*/ \"\\n\");\r\n\t            var lineCount = lines.length;\r\n\t            var i = 0;\r\n\t            var kv = {};\r\n\t            var ttf = false;\r\n\t            var size = 0;\r\n\t            var xadvance = 0;\r\n\t            var resizable = false;\r\n\t            var atlasOffsetX = 0,\r\n\t                atlasOffsetY = 0;\r\n\t            var charImg;\r\n\t            var mainTexture;\r\n\t            var lineHeight = 0;\r\n\t            for (i = 0; i < lineCount; i++) {\r\n\t                str = lines[i];\r\n\t                if (str.length == 0)\r\n\t                    continue;\r\n\t                str = ToolSet.trim(str);\r\n\t                var arr = str.split( /*CLASS CONST:fairygui.UIPackage.sep2*/ \" \");\r\n\t                for (var j = 1; j < arr.length; j++) {\r\n\t                    var arr2 = arr[j].split( /*CLASS CONST:fairygui.UIPackage.sep3*/ \"=\");\r\n\t                    kv[arr2[0]] = arr2[1];\r\n\t                }\r\n\t                str = arr[0];\r\n\t                if (str == \"char\") {\r\n\t                    var bg = new BMGlyph();\r\n\t                    bg.x = isNaN(kv.x) ? 0 : parseInt(kv.x);\r\n\t                    bg.y = isNaN(kv.y) ? 0 : parseInt(kv.y);\r\n\t                    bg.offsetX = isNaN(kv.xoffset) ? 0 : parseInt(kv.xoffset);\r\n\t                    bg.offsetY = isNaN(kv.yoffset) ? 0 : parseInt(kv.yoffset);\r\n\t                    bg.width = isNaN(kv.width) ? 0 : parseInt(kv.width);\r\n\t                    bg.height = isNaN(kv.height) ? 0 : parseInt(kv.height);\r\n\t                    bg.advance = isNaN(kv.xadvance) ? 0 : parseInt(kv.xadvance);\r\n\t                    if (kv.chnl != undefined) {\r\n\t                        bg.channel = parseInt(kv.chnl);\r\n\t                        if (bg.channel == 15)\r\n\t                            bg.channel = 4;\r\n\t                        else if (bg.channel == 1)\r\n\t                            bg.channel = 3;\r\n\t                        else if (bg.channel == 2)\r\n\t                            bg.channel = 2;\r\n\t                        else\r\n\t                            bg.channel = 1;\r\n\t                    }\r\n\t                    if (!ttf) {\r\n\t                        if (kv.img) {\r\n\t                            charImg = this._itemsById[kv.img];\r\n\t                            if (charImg != null) {\r\n\t                                charImg.load();\r\n\t                                bg.width = charImg.width;\r\n\t                                bg.height = charImg.height;\r\n\t                                bg.texture = charImg.texture;\r\n\t                            }\r\n\t                        }\r\n\t                    } else if (mainTexture != null) {\r\n\t                        bg.texture = this.createSubTexture(mainTexture, new Rectangle(bg.x + atlasOffsetX, bg.y + atlasOffsetY, bg.width, bg.height));\r\n\t                    }\r\n\t                    if (ttf)\r\n\t                        bg.lineHeight = lineHeight;\r\n\t                    else {\r\n\t                        if (bg.advance == 0) {\r\n\t                            if (xadvance == 0)\r\n\t                                bg.advance = bg.offsetX + bg.width;\r\n\t                            else\r\n\t                                bg.advance = xadvance;\r\n\t                        }\r\n\t                        bg.lineHeight = bg.offsetY < 0 ? bg.height : (bg.offsetY + bg.height);\r\n\t                        if (size > 0 && bg.lineHeight < size)\r\n\t                            bg.lineHeight = size;\r\n\t                    }\r\n\t                    font.glyphs[String.fromCharCode(kv.id)] = bg;\r\n\t                } else if (str == \"info\") {\r\n\t                    ttf = kv.face != null;\r\n\t                    if (!isNaN(kv.size))\r\n\t                        size = parseInt(kv.size);\r\n\t                    resizable = kv.resizable == \"true\";\r\n\t                    if (ttf) {\r\n\t                        var sprite = this._sprites[item.id];\r\n\t                        if (sprite != null) {\r\n\t                            atlasOffsetX = sprite.rect.x;\r\n\t                            atlasOffsetY = sprite.rect.y;\r\n\t                            var atlasItem = this._itemsById[sprite.atlas];\r\n\t                            if (atlasItem != null)\r\n\t                                mainTexture = (this.getItemAsset(atlasItem));\r\n\t                        }\r\n\t                    }\r\n\t                } else if (str == \"common\") {\r\n\t                    if (!isNaN(kv.lineHeight))\r\n\t                        lineHeight = parseInt(kv.lineHeight);\r\n\t                    if (size == 0)\r\n\t                        size = lineHeight;\r\n\t                    else if (lineHeight == 0)\r\n\t                        lineHeight = size;\r\n\t                    if (!isNaN(kv.xadvance))\r\n\t                        xadvance = parseInt(kv.xadvance);\r\n\t                }\r\n\t            }\r\n\t            if (size == 0 && bg)\r\n\t                size = bg.height;\r\n\t            font.ttf = ttf;\r\n\t            font.size = size;\r\n\t            font.resizable = resizable;\r\n\t            item.bitmapFont = font;\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'id', function() {\r\n\t            return this._id;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'name', function() {\r\n\t            return this._name;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'customId', function() {\r\n\t            return this._customId;\r\n\t        }, function(value) {\r\n\t            if (this._customId != null)\r\n\t                delete fairygui.UIPackage._packageInstById[this._customId];\r\n\t            this._customId = value;\r\n\t            if (this._customId != null)\r\n\t                fairygui.UIPackage._packageInstById[this._customId] = this;\r\n\t        });\r\n\t\r\n\t        UIPackage.getById = function(id) {\r\n\t            return fairygui.UIPackage._packageInstById[id];\r\n\t        }\r\n\t\r\n\t        UIPackage.getByName = function(name) {\r\n\t            return fairygui.UIPackage._packageInstByName[name];\r\n\t        }\r\n\t\r\n\t        UIPackage.addPackage = function(resKey) {\r\n\t            var pkg = new UIPackage();\r\n\t            pkg.create(resKey);\r\n\t            fairygui.UIPackage._packageInstById[pkg.id] = pkg;\r\n\t            fairygui.UIPackage._packageInstByName[pkg.name] = pkg;\r\n\t            pkg.customId = resKey;\r\n\t            return pkg;\r\n\t        }\r\n\t\r\n\t        UIPackage.removePackage = function(packageId) {\r\n\t            var pkg = fairygui.UIPackage._packageInstById[packageId];\r\n\t            pkg.dispose();\r\n\t            delete fairygui.UIPackage._packageInstById[pkg.id];\r\n\t            if (pkg._customId != null)\r\n\t                delete fairygui.UIPackage._packageInstById[pkg._customId];\r\n\t            delete fairygui.UIPackage._packageInstByName[pkg.name];\r\n\t        }\r\n\t\r\n\t        UIPackage.createObject = function(pkgName, resName, userClass) {\r\n\t            var pkg = fairygui.UIPackage.getByName(pkgName);\r\n\t            if (pkg)\r\n\t                return pkg.createObject(resName, userClass);\r\n\t            else\r\n\t                return null;\r\n\t        }\r\n\t\r\n\t        UIPackage.createObjectFromURL = function(url, userClass) {\r\n\t            var pi = fairygui.UIPackage.getItemByURL(url);\r\n\t            if (pi)\r\n\t                return pi.owner.internalCreateObject(pi, userClass);\r\n\t            else\r\n\t                return null;\r\n\t        }\r\n\t\r\n\t        UIPackage.getItemURL = function(pkgName, resName) {\r\n\t            var pkg = fairygui.UIPackage.getByName(pkgName);\r\n\t            if (!pkg)\r\n\t                return null;\r\n\t            var pi = pkg._itemsByName[resName];\r\n\t            if (!pi)\r\n\t                return null;\r\n\t            return \"ui://\" + pkg.id + pi.id;\r\n\t        }\r\n\t\r\n\t        UIPackage.getItemByURL = function(url) {\r\n\t            var pos1 = url.indexOf(\"//\");\r\n\t            if (pos1 == -1)\r\n\t                return null;\r\n\t            var pos2 = url.indexOf(\"/\", pos1 + 2);\r\n\t            if (pos2 == -1) {\r\n\t                if (url.length > 13) {\r\n\t                    var pkgId = url.substr(5, 8);\r\n\t                    var pkg = UIPackage.getById(pkgId);\r\n\t                    if (pkg != null) {\r\n\t                        var srcId = url.substr(13);\r\n\t                        return pkg.getItemById(srcId);\r\n\t                    }\r\n\t                }\r\n\t            } else {\r\n\t                var pkgName = url.substr(pos1 + 2, pos2 - pos1 - 2);\r\n\t                pkg = UIPackage.getByName(pkgName);\r\n\t                if (pkg != null) {\r\n\t                    var srcName = url.substr(pos2 + 1);\r\n\t                    return pkg.getItemByName(srcName);\r\n\t                }\r\n\t            }\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        UIPackage.normalizeURL = function(url) {\r\n\t            if (url == null)\r\n\t                return null;\r\n\t            var pos1 = url.indexOf(\"//\");\r\n\t            if (pos1 == -1)\r\n\t                return null;\r\n\t            var pos2 = url.indexOf(\"/\", pos1 + 2);\r\n\t            if (pos2 == -1)\r\n\t                return url;\r\n\t            var pkgName = url.substr(pos1 + 2, pos2 - pos1 - 2);\r\n\t            var srcName = url.substr(pos2 + 1);\r\n\t            return UIPackage.getItemURL(pkgName, srcName);\r\n\t        }\r\n\t\r\n\t        UIPackage.getBitmapFontByURL = function(url) {\r\n\t            return fairygui.UIPackage._bitmapFonts[url];\r\n\t        }\r\n\t\r\n\t        UIPackage.setStringsSource = function(source) {\r\n\t            fairygui.UIPackage._stringsSource = {};\r\n\t            var xml = Utils.parseXMLFromString(source);\r\n\t            var resNode = ToolSet.findChildNode(xml, \"resources\");\r\n\t            var nodes = resNode.childNodes;\r\n\t            var length1 = nodes.length;\r\n\t            for (var i1 = 0; i1 < length1; i1++) {\r\n\t                var cxml = nodes[i1];\r\n\t                if (cxml.nodeName == \"string\") {\r\n\t                    var key = cxml.getAttribute(\"name\");\r\n\t                    var text = cxml.textContent;\r\n\t                    var i = key.indexOf(\"-\");\r\n\t                    if (i == -1)\r\n\t                        continue;\r\n\t                    var key2 = key.substr(0, i);\r\n\t                    var key3 = key.substr(i + 1);\r\n\t                    var col = fairygui.UIPackage._stringsSource[key2];\r\n\t                    if (!col) {\r\n\t                        col = {};\r\n\t                        fairygui.UIPackage._stringsSource[key2] = col;\r\n\t                    }\r\n\t                    col[key3] = text;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        UIPackage._constructing = 0;\r\n\t        UIPackage._packageInstById = {};\r\n\t        UIPackage._packageInstByName = {};\r\n\t        UIPackage._bitmapFonts = {};\r\n\t        UIPackage._stringsSource = null;\r\n\t        UIPackage.sep0 = \",\";\r\n\t        UIPackage.sep1 = \"\\n\";\r\n\t        UIPackage.sep2 = \" \";\r\n\t        UIPackage.sep3 = \"=\";\r\n\t        UIPackage.__init$ = function() {\r\n\t            //class AtlasSprite\r\n\t            AtlasSprite = (function() {\r\n\t                function AtlasSprite() {\r\n\t                    this.atlas = null;\r\n\t                    this.rect = null;\r\n\t                    this.rotated = false;\r\n\t                    this.rect = new Rectangle();\r\n\t                }\r\n\t                __class(AtlasSprite, '');\r\n\t                return AtlasSprite;\r\n\t            })()\r\n\t        }\r\n\t\r\n\t        return UIPackage;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.utils.PixelHitTestData\r\n\t    var PixelHitTestData = (function() {\r\n\t        function PixelHitTestData() {\r\n\t            this.pixelWidth = 0;\r\n\t            this.scale = NaN;\r\n\t            this.pixels = null;\r\n\t        }\r\n\t\r\n\t        __class(PixelHitTestData, 'fairygui.utils.PixelHitTestData');\r\n\t        var __proto = PixelHitTestData.prototype;\r\n\t        __proto.load = function(ba) {\r\n\t            ba.getInt32();\r\n\t            this.pixelWidth = ba.getInt32();\r\n\t            this.scale = 1 / ba.readByte();\r\n\t            var len = ba.getInt32();\r\n\t            this.pixels = __newvec(len);\r\n\t            for (var i = 0; i < len; i++) {\r\n\t                var j = ba.readByte();\r\n\t                if (j < 0)\r\n\t                    j += 256;\r\n\t                this.pixels[i] = j;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        return PixelHitTestData;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.utils.ToolSet\r\n\t    var ToolSet = (function() {\r\n\t        function ToolSet() {}\r\n\t        __class(ToolSet, 'fairygui.utils.ToolSet');\r\n\t        ToolSet.getFileName = function(source) {\r\n\t            var i = source.lastIndexOf(\"/\");\r\n\t            if (i != -1)\r\n\t                source = source.substr(i + 1);\r\n\t            i = source.lastIndexOf(\"\\\\\");\r\n\t            if (i != -1)\r\n\t                source = source.substr(i + 1);\r\n\t            i = source.lastIndexOf(\".\");\r\n\t            if (i != -1)\r\n\t                return source.substring(0, i);\r\n\t            else\r\n\t                return source;\r\n\t        }\r\n\t\r\n\t        ToolSet.startsWith = function(source, str, ignoreCase) {\r\n\t            (ignoreCase === void 0) && (ignoreCase = false);\r\n\t            if (!source)\r\n\t                return false;\r\n\t            else if (source.length < str.length)\r\n\t                return false;\r\n\t            else {\r\n\t                source = source.substring(0, str.length);\r\n\t                if (!ignoreCase)\r\n\t                    return source == str;\r\n\t                else\r\n\t                    return source.toLowerCase() == str.toLowerCase();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        ToolSet.endsWith = function(source, str, ignoreCase) {\r\n\t            (ignoreCase === void 0) && (ignoreCase = false);\r\n\t            if (!source)\r\n\t                return false;\r\n\t            else if (source.length < str.length)\r\n\t                return false;\r\n\t            else {\r\n\t                source = source.substring(source.length - str.length);\r\n\t                if (!ignoreCase)\r\n\t                    return source == str;\r\n\t                else\r\n\t                    return source.toLowerCase() == str.toLowerCase();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        ToolSet.trim = function(targetString) {\r\n\t            return fairygui.utils.ToolSet.trimLeft(fairygui.utils.ToolSet.trimRight(targetString));\r\n\t        }\r\n\t\r\n\t        ToolSet.trimLeft = function(targetString) {\r\n\t            var tempChar = \"\";\r\n\t            for (var i = 0; i < targetString.length; i++) {\r\n\t                tempChar = targetString.charAt(i);\r\n\t                if (tempChar != \" \" && tempChar != \"\\n\" && tempChar != \"\\r\") {\r\n\t                    break;\r\n\t                }\r\n\t            }\r\n\t            return targetString.substr(i);\r\n\t        }\r\n\t\r\n\t        ToolSet.trimRight = function(targetString) {\r\n\t            var tempChar = \"\";\r\n\t            for (var i = targetString.length - 1; i >= 0; i--) {\r\n\t                tempChar = targetString.charAt(i);\r\n\t                if (tempChar != \" \" && tempChar != \"\\n\" && tempChar != \"\\r\") {\r\n\t                    break;\r\n\t                }\r\n\t            }\r\n\t            return targetString.substring(0, i + 1);\r\n\t        }\r\n\t\r\n\t        ToolSet.convertToHtmlColor = function(argb, hasAlpha) {\r\n\t            (hasAlpha === void 0) && (hasAlpha = false);\r\n\t            var alpha;\r\n\t            if (hasAlpha)\r\n\t                alpha = (argb >> 24 & 0xFF).toString(16);\r\n\t            else\r\n\t                alpha = \"\";\r\n\t            var red = (argb >> 16 & 0xFF).toString(16);\r\n\t            var green = (argb >> 8 & 0xFF).toString(16);\r\n\t            var blue = (argb & 0xFF).toString(16);\r\n\t            if (alpha.length == 1)\r\n\t                alpha = \"0\" + alpha;\r\n\t            if (red.length == 1)\r\n\t                red = \"0\" + red;\r\n\t            if (green.length == 1)\r\n\t                green = \"0\" + green;\r\n\t            if (blue.length == 1)\r\n\t                blue = \"0\" + blue;\r\n\t            return \"#\" + alpha + red + green + blue;\r\n\t        }\r\n\t\r\n\t        ToolSet.convertFromHtmlColor = function(str, hasAlpha) {\r\n\t            (hasAlpha === void 0) && (hasAlpha = false);\r\n\t            if (str.length < 1)\r\n\t                return 0;\r\n\t            if (str.charAt(0) == \"#\")\r\n\t                str = str.substr(1);\r\n\t            if (str.length == 8)\r\n\t                return (parseInt(str.substr(0, 2), 16) << 24) + parseInt(str.substr(2), 16);\r\n\t            else if (hasAlpha)\r\n\t                return 0xFF000000 + parseInt(str, 16);\r\n\t            else\r\n\t                return parseInt(str, 16);\r\n\t        }\r\n\t\r\n\t        ToolSet.displayObjectToGObject = function(obj) {\r\n\t            while (obj != null && !((obj instanceof laya.display.Stage))) {\r\n\t                if (obj[\"$owner\"])\r\n\t                    return obj[\"$owner\"];\r\n\t                obj = obj.parent;\r\n\t            }\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        ToolSet.findChildNode = function(xml, name) {\r\n\t            var col = xml.childNodes;\r\n\t            var length1 = col.length;\r\n\t            if (length1 > 0) {\r\n\t                for (var i1 = 0; i1 < length1; i1++) {\r\n\t                    var cxml = col[i1];\r\n\t                    if (cxml.nodeName == name) {\r\n\t                        return cxml;\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        ToolSet.encodeHTML = function(str) {\r\n\t            if (!str)\r\n\t                return \"\";\r\n\t            else\r\n\t                return str.replace(\"&\", \"&amp;\").replace(\"<\", \"&lt;\").replace(\">\", \"&gt;\").replace(\"'\", \"&apos;\");\r\n\t        }\r\n\t\r\n\t        ToolSet.parseUBB = function(text) {\r\n\t            return fairygui.utils.ToolSet.defaultUBBParser.parse(text);\r\n\t        }\r\n\t\r\n\t        ToolSet.removeUBB = function(text) {\r\n\t            return fairygui.utils.ToolSet.defaultUBBParser.parse(text, true);\r\n\t        }\r\n\t\r\n\t        ToolSet.parseEaseType = function(value) {\r\n\t            var ret = ToolSet.EaseMap[value];\r\n\t            if (!ret)\r\n\t                ret = Ease.quartOut;\r\n\t            return ret;\r\n\t        }\r\n\t\r\n\t        ToolSet.clamp = function(value, min, max) {\r\n\t            if (value < min)\r\n\t                value = min;\r\n\t            else if (value > max)\r\n\t                value = max;\r\n\t            return value;\r\n\t        }\r\n\t\r\n\t        ToolSet.clamp01 = function(value) {\r\n\t            if (value > 1)\r\n\t                value = 1;\r\n\t            else if (value < 0)\r\n\t                value = 0;\r\n\t            return value;\r\n\t        }\r\n\t\r\n\t        ToolSet.base64Decode = function(bstr) {\r\n\t            var ba = new Byte();\r\n\t            var code = 0;\r\n\t            var len = bstr.length;\r\n\t            for (var i = 0; i < len; i += 4) {\r\n\t                code = (ToolSet.BASE64_CHARS.indexOf(bstr.charAt(i)) & 0x3F) << 18;\r\n\t                code += (ToolSet.BASE64_CHARS.indexOf(bstr.charAt(i + 1)) & 0x3F) << 12;\r\n\t                code += (ToolSet.BASE64_CHARS.indexOf(bstr.charAt(i + 2)) & 0x3F) << 6;\r\n\t                code += (ToolSet.BASE64_CHARS.indexOf(bstr.charAt(i + 3)) & 0x3F);\r\n\t                ba.writeByte(code >> 16 & 0xFF);\r\n\t                ba.writeByte(code >> 8 & 0xFF);\r\n\t                ba.writeByte(code & 0xFF);\r\n\t            }\r\n\t            if ((code & 0x3F) == 0)\r\n\t                ba.length -= 1;\r\n\t            if (((code >> 8) & 0x3F) == 0)\r\n\t                ba.length -= 1;\r\n\t            ba.pos = 0;\r\n\t            return ba;\r\n\t        }\r\n\t\r\n\t        ToolSet.BASE64_CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n\t        __static(ToolSet, ['defaultUBBParser', function() { return this.defaultUBBParser = new UBBParser(); }, 'EaseMap', function() {\r\n\t                return this.EaseMap = {\r\n\t                    \"Linear\": Ease.linearNone,\r\n\t                    \"Elastic.In\": Ease.elasticIn,\r\n\t                    \"Elastic.Out\": Ease.elasticOut,\r\n\t                    \"Elastic.InOut\": Ease.elasticInOut,\r\n\t                    \"Quad.In\": Ease.quadIn,\r\n\t                    \"Quad.Out\": Ease.quadOut,\r\n\t                    \"Quad.InOut\": Ease.quadInOut,\r\n\t                    \"Cube.In\": Ease.cubicIn,\r\n\t                    \"Cube.Out\": Ease.cubicOut,\r\n\t                    \"Cube.InOut\": Ease.cubicInOut,\r\n\t                    \"Quart.In\": Ease.quartIn,\r\n\t                    \"Quart.Out\": Ease.quartOut,\r\n\t                    \"Quart.InOut\": Ease.quartInOut,\r\n\t                    \"Quint.In\": Ease.quintIn,\r\n\t                    \"Quint.Out\": Ease.quintOut,\r\n\t                    \"Quint.InOut\": Ease.quintInOut,\r\n\t                    \"Sine.In\": Ease.sineIn,\r\n\t                    \"Sine.Out\": Ease.sineOut,\r\n\t                    \"Sine.InOut\": Ease.sineInOut,\r\n\t                    \"Bounce.In\": Ease.bounceIn,\r\n\t                    \"Bounce.Out\": Ease.bounceOut,\r\n\t                    \"Bounce.InOut\": Ease.bounceInOut,\r\n\t                    \"Circ.In\": Ease.circIn,\r\n\t                    \"Circ.Out\": Ease.circOut,\r\n\t                    \"Circ.InOut\": Ease.circInOut,\r\n\t                    \"Expo.In\": Ease.quartIn,\r\n\t                    \"Expo.Out\": Ease.quartOut,\r\n\t                    \"Expo.InOut\": Ease.quartInOut,\r\n\t                    \"Back.In\": Ease.backIn,\r\n\t                    \"Back.Out\": Ease.backOut,\r\n\t                    \"Back.InOut\": Ease.backInOut\r\n\t                };\r\n\t            }\r\n\t\r\n\t        ]);\r\n\t        return ToolSet;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.utils.UBBParser\r\n\t    var UBBParser = (function() {\r\n\t        function UBBParser() {\r\n\t            this._text = null;\r\n\t            this._readPos = 0;\r\n\t            this._handlers = null;\r\n\t            this.smallFontSize = 12;\r\n\t            this.normalFontSize = 14;\r\n\t            this.largeFontSize = 16;\r\n\t            this.defaultImgWidth = 0;\r\n\t            this.defaultImgHeight = 0;\r\n\t            this._handlers = {};\r\n\t            this._handlers[\"url\"] = this.onTag_URL;\r\n\t            this._handlers[\"img\"] = this.onTag_IMG;\r\n\t            this._handlers[\"b\"] = this.onTag_Simple;\r\n\t            this._handlers[\"i\"] = this.onTag_Simple;\r\n\t            this._handlers[\"u\"] = this.onTag_Simple;\r\n\t            this._handlers[\"sup\"] = this.onTag_Simple;\r\n\t            this._handlers[\"sub\"] = this.onTag_Simple;\r\n\t            this._handlers[\"color\"] = this.onTag_COLOR;\r\n\t            this._handlers[\"font\"] = this.onTag_FONT;\r\n\t            this._handlers[\"size\"] = this.onTag_SIZE;\r\n\t        }\r\n\t\r\n\t        __class(UBBParser, 'fairygui.utils.UBBParser');\r\n\t        var __proto = UBBParser.prototype;\r\n\t        __proto.onTag_URL = function(tagName, end, attr) {\r\n\t            if (!end) {\r\n\t                if (attr != null)\r\n\t                    return \"<a href=\\\"\" + attr + \"\\\" target=\\\"_blank\\\">\";\r\n\t                else {\r\n\t                    var href = this.getTagText();\r\n\t                    return \"<a href=\\\"\" + href + \"\\\" target=\\\"_blank\\\">\";\r\n\t                }\r\n\t            } else\r\n\t                return \"</a>\";\r\n\t        }\r\n\t\r\n\t        __proto.onTag_IMG = function(tagName, end, attr) {\r\n\t            if (!end) {\r\n\t                var src = this.getTagText(true);\r\n\t                if (!src)\r\n\t                    return null;\r\n\t                if (this.defaultImgWidth)\r\n\t                    return \"<img src=\\\"\" + src + \"\\\" width=\\\"\" + this.defaultImgWidth + \"\\\" height=\\\"\" + this.defaultImgHeight + \"\\\"/>\";\r\n\t                else\r\n\t                    return \"<img src=\\\"\" + src + \"\\\"/>\";\r\n\t            } else\r\n\t                return null;\r\n\t        }\r\n\t\r\n\t        __proto.onTag_Simple = function(tagName, end, attr) {\r\n\t            return end ? (\"</\" + tagName + \">\") : (\"<\" + tagName + \">\");\r\n\t        }\r\n\t\r\n\t        __proto.onTag_COLOR = function(tagName, end, attr) {\r\n\t            if (!end)\r\n\t                return \"<font color=\\\"\" + attr + \"\\\">\";\r\n\t            else\r\n\t                return \"</font>\";\r\n\t        }\r\n\t\r\n\t        __proto.onTag_FONT = function(tagName, end, attr) {\r\n\t            if (!end)\r\n\t                return \"<font face=\\\"\" + attr + \"\\\">\";\r\n\t            else\r\n\t                return \"</font>\";\r\n\t        }\r\n\t\r\n\t        __proto.onTag_SIZE = function(tagName, end, attr) {\r\n\t            if (!end) {\r\n\t                if (attr == \"normal\")\r\n\t                    attr = \"\" + this.normalFontSize;\r\n\t                else if (attr == \"small\")\r\n\t                    attr = \"\" + this.smallFontSize;\r\n\t                else if (attr == \"large\")\r\n\t                    attr = \"\" + this.largeFontSize;\r\n\t                else if (attr.length && attr.charAt(0) == \"+\")\r\n\t                    attr = \"\" + (this.smallFontSize + parseInt(attr.substr(1)));\r\n\t                else if (attr.length && attr.charAt(0) == \"-\")\r\n\t                    attr = \"\" + (this.smallFontSize - parseInt(attr.substr(1)));\r\n\t                return \"<font size=\\\"\" + attr + \"\\\">\";\r\n\t            } else\r\n\t                return \"</font>\";\r\n\t        }\r\n\t\r\n\t        __proto.getTagText = function(remove) {\r\n\t            (remove === void 0) && (remove = false);\r\n\t            var pos = this._text.indexOf(\"[\", this._readPos);\r\n\t            if (pos == -1)\r\n\t                return null;\r\n\t            var ret = this._text.substring(this._readPos, pos);\r\n\t            if (remove)\r\n\t                this._readPos = pos;\r\n\t            return ret;\r\n\t        }\r\n\t\r\n\t        __proto.parse = function(text, remove) {\r\n\t            (remove === void 0) && (remove = false);\r\n\t            this._text = text;\r\n\t            var pos1 = 0,\r\n\t                pos2 = NaN,\r\n\t                pos3 = 0;\r\n\t            var end = false;\r\n\t            var tag, attr;\r\n\t            var repl;\r\n\t            var func;\r\n\t            while ((pos2 = this._text.indexOf(\"[\", pos1)) != -1) {\r\n\t                pos1 = pos2;\r\n\t                pos2 = this._text.indexOf(\"]\", pos1);\r\n\t                if (pos2 == -1)\r\n\t                    break;\r\n\t                end = this._text.charAt(pos1 + 1) == '/';\r\n\t                tag = this._text.substring(end ? pos1 + 2 : pos1 + 1, pos2);\r\n\t                pos2++;\r\n\t                this._readPos = pos2;\r\n\t                attr = null;\r\n\t                repl = null;\r\n\t                pos3 = tag.indexOf(\"=\");\r\n\t                if (pos3 != -1) {\r\n\t                    attr = tag.substring(pos3 + 1);\r\n\t                    tag = tag.substring(0, pos3);\r\n\t                }\r\n\t                tag = tag.toLowerCase();\r\n\t                func = this._handlers[tag];\r\n\t                if (func != null) {\r\n\t                    if (!remove) {\r\n\t                        repl = func.call(this, tag, end, attr);\r\n\t                        if (repl == null)\r\n\t                            repl = \"\";\r\n\t                    } else\r\n\t                        repl = \"\";\r\n\t                } else {\r\n\t                    pos1 = pos2;\r\n\t                    continue;\r\n\t                }\r\n\t                this._text = this._text.substring(0, pos1) + repl + this._text.substring(this._readPos);\r\n\t            }\r\n\t            return this._text;\r\n\t        }\r\n\t\r\n\t        __static(UBBParser, ['inst', function() { return this.inst = new UBBParser(); }]);\r\n\t        return UBBParser;\r\n\t    })()\r\n\t\r\n\t\r\n\t    //class fairygui.utils.ColorMatrix extends Array\r\n\t    var ColorMatrix = (function(_super) {\r\n\t        // initialization:\r\n\t        function ColorMatrix() {\r\n\t            ColorMatrix.__super.call(this);\r\n\t            this.reset();\r\n\t        }\r\n\t\r\n\t        __class(ColorMatrix, 'fairygui.utils.ColorMatrix', Array);\r\n\t        var __proto = ColorMatrix.prototype;\r\n\t        // public methods:\r\n\t        __proto.reset = function() {\r\n\t            for (var i = 0; i < ColorMatrix.LENGTH; i++) {\r\n\t                this[i] = ColorMatrix.IDENTITY_MATRIX[i];\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.invert = function() {\r\n\t            this.multiplyMatrix([-1, 0, 0, 0, 255,\r\n\t                0, -1, 0, 0, 255,\r\n\t                0, 0, -1, 0, 255,\r\n\t                0, 0, 0, 1, 0\r\n\t            ]);\r\n\t        }\r\n\t\r\n\t        __proto.adjustColor = function(p_brightness, p_contrast, p_saturation, p_hue) {\r\n\t            this.adjustHue(p_hue);\r\n\t            this.adjustContrast(p_contrast);\r\n\t            this.adjustBrightness(p_brightness);\r\n\t            this.adjustSaturation(p_saturation);\r\n\t        }\r\n\t\r\n\t        __proto.adjustBrightness = function(p_val) {\r\n\t            p_val = this.cleanValue(p_val, 1) * 255;\r\n\t            this.multiplyMatrix([\r\n\t                1, 0, 0, 0, p_val,\r\n\t                0, 1, 0, 0, p_val,\r\n\t                0, 0, 1, 0, p_val,\r\n\t                0, 0, 0, 1, 0\r\n\t            ]);\r\n\t        }\r\n\t\r\n\t        __proto.adjustContrast = function(p_val) {\r\n\t            p_val = this.cleanValue(p_val, 1);\r\n\t            var s = p_val + 1;\r\n\t            var o = 128 * (1 - s);\r\n\t            this.multiplyMatrix([\r\n\t                s, 0, 0, 0, o,\r\n\t                0, s, 0, 0, o,\r\n\t                0, 0, s, 0, o,\r\n\t                0, 0, 0, 1, 0\r\n\t            ]);\r\n\t        }\r\n\t\r\n\t        __proto.adjustSaturation = function(p_val) {\r\n\t            p_val = this.cleanValue(p_val, 1);\r\n\t            p_val += 1;\r\n\t            var invSat = 1 - p_val;\r\n\t            var invLumR = invSat * 0.299;\r\n\t            var invLumG = invSat * 0.587;\r\n\t            var invLumB = invSat * 0.114;\r\n\t            this.multiplyMatrix([\r\n\t                (invLumR + p_val), invLumG, invLumB, 0, 0,\r\n\t                invLumR, (invLumG + p_val), invLumB, 0, 0,\r\n\t                invLumR, invLumG, (invLumB + p_val), 0, 0,\r\n\t                0, 0, 0, 1, 0\r\n\t            ]);\r\n\t        }\r\n\t\r\n\t        __proto.adjustHue = function(p_val) {\r\n\t            p_val = this.cleanValue(p_val, 1);\r\n\t            p_val *= Math.PI;\r\n\t            var cos = Math.cos(p_val);\r\n\t            var sin = Math.sin(p_val);\r\n\t            this.multiplyMatrix([\r\n\t                ((0.299 + (cos * (1 - 0.299))) + (sin * -(0.299))), ((0.587 + (cos * -(0.587))) + (sin * -(0.587))), ((0.114 + (cos * -(0.114))) + (sin * (1 - 0.114))), 0, 0,\r\n\t                ((0.299 + (cos * -(0.299))) + (sin * 0.143)), ((0.587 + (cos * (1 - 0.587))) + (sin * 0.14)), ((0.114 + (cos * -(0.114))) + (sin * -0.283)), 0, 0,\r\n\t                ((0.299 + (cos * -(0.299))) + (sin * -((1 - 0.299)))), ((0.587 + (cos * -(0.587))) + (sin * 0.587)), ((0.114 + (cos * (1 - 0.114))) + (sin * 0.114)), 0, 0,\r\n\t                0, 0, 0, 1, 0\r\n\t            ]);\r\n\t        }\r\n\t\r\n\t        __proto.concat = function(p_matrix) {\r\n\t            if (p_matrix.length != ColorMatrix.LENGTH) { return; }\r\n\t            this.multiplyMatrix(p_matrix);\r\n\t        }\r\n\t\r\n\t        __proto.clone = function() {\r\n\t            var result = new ColorMatrix();\r\n\t            result.copyMatrix(this);\r\n\t            return result;\r\n\t        }\r\n\t\r\n\t        __proto.copyMatrix = function(p_matrix) {\r\n\t            var l = ColorMatrix.LENGTH;\r\n\t            for (var i = 0; i < l; i++) {\r\n\t                this[i] = p_matrix[i];\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.multiplyMatrix = function(p_matrix) {\r\n\t            var col = [];\r\n\t            var i = 0;\r\n\t            for (var y = 0; y < 4; ++y) {\r\n\t                for (var x = 0; x < 5; ++x) {\r\n\t                    col[i + x] = p_matrix[i] * this[x] +\r\n\t                        p_matrix[i + 1] * this[x + 5] +\r\n\t                        p_matrix[i + 2] * this[x + 10] +\r\n\t                        p_matrix[i + 3] * this[x + 15] +\r\n\t                        (x == 4 ? p_matrix[i + 4] : 0);\r\n\t                }\r\n\t                i += 5;\r\n\t            }\r\n\t            this.copyMatrix(col);\r\n\t        }\r\n\t\r\n\t        __proto.cleanValue = function(p_val, p_limit) {\r\n\t            return Math.min(p_limit, Math.max(-p_limit, p_val));\r\n\t        }\r\n\t\r\n\t        ColorMatrix.create = function(p_brightness, p_contrast, p_saturation, p_hue) {\r\n\t            var ret = new ColorMatrix();\r\n\t            ret.adjustColor(p_brightness, p_contrast, p_saturation, p_hue);\r\n\t            return ret;\r\n\t        }\r\n\t\r\n\t        ColorMatrix.LUMA_R = 0.299;\r\n\t        ColorMatrix.LUMA_G = 0.587;\r\n\t        ColorMatrix.LUMA_B = 0.114;\r\n\t        __static(ColorMatrix, ['IDENTITY_MATRIX', function() {\r\n\t            return this.IDENTITY_MATRIX = [\r\n\t                1, 0, 0, 0, 0,\r\n\t                0, 1, 0, 0, 0,\r\n\t                0, 0, 1, 0, 0,\r\n\t                0, 0, 0, 1, 0\r\n\t            ];\r\n\t        }, 'LENGTH', function() { return this.LENGTH = ColorMatrix.IDENTITY_MATRIX.length; }]);\r\n\t        return ColorMatrix;\r\n\t    })(Array)\r\n\t\r\n\t\r\n\t    //class fairygui.Controller extends laya.events.EventDispatcher\r\n\t    var Controller = (function(_super) {\r\n\t        function Controller() {\r\n\t            this._name = null;\r\n\t            this._selectedIndex = 0;\r\n\t            this._previousIndex = 0;\r\n\t            this._pageIds = null;\r\n\t            this._pageNames = null;\r\n\t            this._actions = null;\r\n\t            this._parent = null;\r\n\t            this._autoRadioGroupDepth = false;\r\n\t            this.changing = false;\r\n\t            Controller.__super.call(this);\r\n\t            this._pageIds = [];\r\n\t            this._pageNames = [];\r\n\t            this._selectedIndex = -1;\r\n\t            this._previousIndex = -1;\r\n\t        }\r\n\t\r\n\t        __class(Controller, 'fairygui.Controller', _super);\r\n\t        var __proto = Controller.prototype;\r\n\t        //selectedIndex\r\n\t        __proto.setSelectedIndex = function(value) {\r\n\t            (value === void 0) && (value = 0);\r\n\t            if (this._selectedIndex != value) {\r\n\t                if (value > this._pageIds.length - 1)\r\n\t                    throw \"index out of bounds: \" + value;\r\n\t                this.changing = true;\r\n\t                this._previousIndex = this._selectedIndex;\r\n\t                this._selectedIndex = value;\r\n\t                this._parent.applyController(this);\r\n\t                this.changing = false;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        //selectedPage\r\n\t        __proto.setSelectedPage = function(value) {\r\n\t            var i = this._pageNames.indexOf(value);\r\n\t            if (i == -1)\r\n\t                i = 0;\r\n\t            this.setSelectedIndex(i);\r\n\t        }\r\n\t\r\n\t        __proto.getPageName = function(index) {\r\n\t            (index === void 0) && (index = 0);\r\n\t            return this._pageNames[index];\r\n\t        }\r\n\t\r\n\t        __proto.addPage = function(name) {\r\n\t            (name === void 0) && (name = \"\");\r\n\t            this.addPageAt(name, this._pageIds.length);\r\n\t        }\r\n\t\r\n\t        __proto.addPageAt = function(name, index) {\r\n\t            (index === void 0) && (index = 0);\r\n\t            var nid = \"\" + (fairygui.Controller._nextPageId++);\r\n\t            if (index == this._pageIds.length) {\r\n\t                this._pageIds.push(nid);\r\n\t                this._pageNames.push(name);\r\n\t            } else {\r\n\t                this._pageIds.splice(index, 0, nid);\r\n\t                this._pageNames.splice(index, 0, name);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.removePage = function(name) {\r\n\t            var i = this._pageNames.indexOf(name);\r\n\t            if (i != -1) {\r\n\t                this._pageIds.splice(i, 1);\r\n\t                this._pageNames.splice(i, 1);\r\n\t                if (this._selectedIndex >= this._pageIds.length)\r\n\t                    this.selectedIndex = this._selectedIndex - 1;\r\n\t                else\r\n\t                    this._parent.applyController(this);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.removePageAt = function(index) {\r\n\t            (index === void 0) && (index = 0);\r\n\t            this._pageIds.splice(index, 1);\r\n\t            this._pageNames.splice(index, 1);\r\n\t            if (this._selectedIndex >= this._pageIds.length)\r\n\t                this.selectedIndex = this._selectedIndex - 1;\r\n\t            else\r\n\t                this._parent.applyController(this);\r\n\t        }\r\n\t\r\n\t        __proto.clearPages = function() {\r\n\t            this._pageIds.length = 0;\r\n\t            this._pageNames.length = 0;\r\n\t            if (this._selectedIndex != -1)\r\n\t                this.selectedIndex = -1;\r\n\t            else\r\n\t                this._parent.applyController(this);\r\n\t        }\r\n\t\r\n\t        __proto.hasPage = function(aName) {\r\n\t            return this._pageNames.indexOf(aName) != -1;\r\n\t        }\r\n\t\r\n\t        __proto.getPageIndexById = function(aId) {\r\n\t            return this._pageIds.indexOf(aId);\r\n\t        }\r\n\t\r\n\t        __proto.getPageIdByName = function(aName) {\r\n\t            var i = this._pageNames.indexOf(aName);\r\n\t            if (i != -1)\r\n\t                return this._pageIds[i];\r\n\t            else\r\n\t                return null;\r\n\t        }\r\n\t\r\n\t        __proto.getPageNameById = function(aId) {\r\n\t            var i = this._pageIds.indexOf(aId);\r\n\t            if (i != -1)\r\n\t                return this._pageNames[i];\r\n\t            else\r\n\t                return null;\r\n\t        }\r\n\t\r\n\t        __proto.getPageId = function(index) {\r\n\t            (index === void 0) && (index = 0);\r\n\t            return this._pageIds[index];\r\n\t        }\r\n\t\r\n\t        __proto.runActions = function() {\r\n\t            if (this._actions) {\r\n\t                var cnt = this._actions.length;\r\n\t                for (var i = 0; i < cnt; i++) {\r\n\t                    this._actions[i].run(this, this.previousPageId, this.selectedPageId);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setup = function(xml) {\r\n\t            this._name = xml.getAttribute(\"name\");\r\n\t            this._autoRadioGroupDepth = xml.getAttribute(\"autoRadioGroupDepth\") == \"true\";\r\n\t            var i = 0;\r\n\t            var k = 0;\r\n\t            var str = xml.getAttribute(\"pages\");\r\n\t            if (str) {\r\n\t                var arr = str.split(\",\");\r\n\t                var cnt = arr.length;\r\n\t                for (i = 0; i < cnt; i += 2) {\r\n\t                    this._pageIds.push(arr[i]);\r\n\t                    this._pageNames.push(arr[i + 1]);\r\n\t                }\r\n\t            };\r\n\t            var col = xml.childNodes;\r\n\t            var length1 = col.length;\r\n\t            if (length1 > 0) {\r\n\t                if (!this._actions)\r\n\t                    this._actions = [];\r\n\t                for (var i1 = 0; i1 < length1; i1++) {\r\n\t                    var cxml = col[i1];\r\n\t                    var action = ControllerAction.createAction(cxml.getAttribute('type'));\r\n\t                    action.setup(cxml);\r\n\t                    this._actions.push(action);\r\n\t                }\r\n\t            }\r\n\t            str = xml.getAttribute(\"transitions\");\r\n\t            if (str) {\r\n\t                if (!this._actions)\r\n\t                    this._actions = [];\r\n\t                arr = str.split(\",\");\r\n\t                cnt = arr.length;\r\n\t                var ii = 0;\r\n\t                for (i = 0; i < cnt; i++) {\r\n\t                    str = arr[i];\r\n\t                    if (!str)\r\n\t                        continue;\r\n\t                    var taction = new PlayTransitionAction();\r\n\t                    k = str.indexOf(\"=\");\r\n\t                    taction.transitionName = str.substr(k + 1);\r\n\t                    str = str.substring(0, k);\r\n\t                    k = str.indexOf(\"-\");\r\n\t                    ii = parseInt(str.substring(k + 1));\r\n\t                    if (ii < this._pageIds.length)\r\n\t                        taction.toPage = [this._pageIds[ii]];\r\n\t                    str = str.substring(0, k);\r\n\t                    if (str != \"*\") {\r\n\t                        ii = parseInt(str);\r\n\t                        if (ii < this._pageIds.length)\r\n\t                            taction.fromPage = [this._pageIds[ii]];\r\n\t                    }\r\n\t                    taction.stopOnExit = true;\r\n\t                    this._actions.push(taction);\r\n\t                }\r\n\t            }\r\n\t            if (this._parent && this._pageIds.length > 0)\r\n\t                this._selectedIndex = 0;\r\n\t            else\r\n\t                this._selectedIndex = -1;\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'oppositePageId', null, function(val) {\r\n\t            var i = this._pageIds.indexOf(val);\r\n\t            if (i > 0)\r\n\t                this.selectedIndex = 0;\r\n\t            else if (this._pageIds.length > 1)\r\n\t                this.selectedIndex = 1;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'name', function() {\r\n\t            return this._name;\r\n\t        }, function(value) {\r\n\t            this._name = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'pageCount', function() {\r\n\t            return this._pageIds.length;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'parent', function() {\r\n\t            return this._parent;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'selectedIndex', function() {\r\n\t            return this._selectedIndex;\r\n\t        }, function(value) {\r\n\t            if (this._selectedIndex != value) {\r\n\t                if (value > this._pageIds.length - 1)\r\n\t                    throw \"index out of bounds: \" + value;\r\n\t                this.changing = true;\r\n\t                this._previousIndex = this._selectedIndex;\r\n\t                this._selectedIndex = value;\r\n\t                this._parent.applyController(this);\r\n\t                this.event( /*fairygui.Events.STATE_CHANGED*/ \"fui_state_changed\");\r\n\t                this.changing = false;\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'selectedPage', function() {\r\n\t            if (this._selectedIndex == -1)\r\n\t                return null;\r\n\t            else\r\n\t                return this._pageNames[this._selectedIndex];\r\n\t        }, function(val) {\r\n\t            var i = this._pageNames.indexOf(val);\r\n\t            if (i == -1)\r\n\t                i = 0;\r\n\t            this.selectedIndex = i;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'previsousIndex', function() {\r\n\t            return this._previousIndex;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'previousPage', function() {\r\n\t            if (this._previousIndex == -1)\r\n\t                return null;\r\n\t            else\r\n\t                return this._pageNames[this._previousIndex];\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'selectedPageId', function() {\r\n\t            if (this._selectedIndex == -1)\r\n\t                return null;\r\n\t            else\r\n\t                return this._pageIds[this._selectedIndex];\r\n\t        }, function(val) {\r\n\t            var i = this._pageIds.indexOf(val);\r\n\t            this.selectedIndex = i;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'previousPageId', function() {\r\n\t            if (this._previousIndex == -1)\r\n\t                return null;\r\n\t            else\r\n\t                return this._pageIds[this._previousIndex];\r\n\t        });\r\n\t\r\n\t        Controller._nextPageId = 0;\r\n\t        return Controller;\r\n\t    })(EventDispatcher)\r\n\t\r\n\t\r\n\t    //class fairygui.utils.PixelHitTest extends laya.utils.HitArea\r\n\t    var PixelHitTest = (function(_super) {\r\n\t        function PixelHitTest(data, offsetX, offsetY) {\r\n\t            this._data = null;\r\n\t            this.offsetX = 0;\r\n\t            this.offsetY = 0;\r\n\t            this.scaleX = NaN;\r\n\t            this.scaleY = NaN;\r\n\t            PixelHitTest.__super.call(this);\r\n\t            (offsetX === void 0) && (offsetX = 0);\r\n\t            (offsetY === void 0) && (offsetY = 0);\r\n\t            this._data = data;\r\n\t            this.offsetX = offsetX;\r\n\t            this.offsetY = offsetY;\r\n\t            this.scaleX = 1;\r\n\t            this.scaleY = 1;\r\n\t        }\r\n\t\r\n\t        __class(PixelHitTest, 'fairygui.utils.PixelHitTest', _super);\r\n\t        var __proto = PixelHitTest.prototype;\r\n\t        __proto.isHit = function(x, y) {\r\n\t            x = Math.floor((x / this.scaleX - this.offsetX) * this._data.scale);\r\n\t            y = Math.floor((y / this.scaleY - this.offsetY) * this._data.scale);\r\n\t            if (x < 0 || y < 0 || x >= this._data.pixelWidth)\r\n\t                return false;\r\n\t            var pos = y * this._data.pixelWidth + x;\r\n\t            var pos2 = Math.floor(pos / 8);\r\n\t            var pos3 = pos % 8;\r\n\t            if (pos2 >= 0 && pos2 < this._data.pixels.length)\r\n\t                return ((this._data.pixels[pos2] >> pos3) & 0x1) == 1;\r\n\t            else\r\n\t                return false;\r\n\t        }\r\n\t\r\n\t        return PixelHitTest;\r\n\t    })(HitArea)\r\n\t\r\n\t\r\n\t    //class fairygui.action.ChangePageAction extends fairygui.action.ControllerAction\r\n\t    var ChangePageAction = (function(_super) {\r\n\t        function ChangePageAction() {\r\n\t            this.objectId = null;\r\n\t            this.controllerName = null;\r\n\t            this.targetPage = null;\r\n\t            ChangePageAction.__super.call(this);\r\n\t        }\r\n\t\r\n\t        __class(ChangePageAction, 'fairygui.action.ChangePageAction', _super);\r\n\t        var __proto = ChangePageAction.prototype;\r\n\t        __proto.enter = function(controller) {\r\n\t            if (!this.controllerName)\r\n\t                return;\r\n\t            var gcom;\r\n\t            if (this.objectId)\r\n\t                gcom = controller.parent.getChildById(this.objectId);\r\n\t            else\r\n\t                gcom = controller.parent;\r\n\t            if (gcom) {\r\n\t                var cc = gcom.getController(this.controllerName);\r\n\t                if (cc && cc != controller && !cc.changing)\r\n\t                    cc.selectedPageId = this.targetPage;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setup = function(xml) {\r\n\t            _super.prototype.setup.call(this, xml);\r\n\t            this.objectId = xml.getAttribute(\"objectId\");\r\n\t            this.controllerName = xml.getAttribute(\"controller\");\r\n\t            this.targetPage = xml.getAttribute(\"targetPage\");\r\n\t        }\r\n\t\r\n\t        return ChangePageAction;\r\n\t    })(ControllerAction)\r\n\t\r\n\t\r\n\t    //class fairygui.action.PlayTransitionAction extends fairygui.action.ControllerAction\r\n\t    var PlayTransitionAction = (function(_super) {\r\n\t        function PlayTransitionAction() {\r\n\t            this.transitionName = null;\r\n\t            this.repeat = 1;\r\n\t            this.delay = 0;\r\n\t            this.stopOnExit = false;\r\n\t            this._currentTransition = null;\r\n\t            PlayTransitionAction.__super.call(this);\r\n\t        }\r\n\t\r\n\t        __class(PlayTransitionAction, 'fairygui.action.PlayTransitionAction', _super);\r\n\t        var __proto = PlayTransitionAction.prototype;\r\n\t        __proto.enter = function(controller) {\r\n\t            var trans = controller.parent.getTransition(this.transitionName);\r\n\t            if (trans) {\r\n\t                if (this._currentTransition && this._currentTransition.playing)\r\n\t                    trans.changeRepeat(this.repeat);\r\n\t                else\r\n\t                    trans.play(null, this.repeat, this.delay);\r\n\t                this._currentTransition = trans;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.leave = function(controller) {\r\n\t            if (this.stopOnExit && this._currentTransition) {\r\n\t                this._currentTransition.stop();\r\n\t                this._currentTransition = null;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setup = function(xml) {\r\n\t            _super.prototype.setup.call(this, xml);\r\n\t            this.transitionName = xml.getAttribute(\"transition\");\r\n\t            var str;\r\n\t            str = xml.getAttribute(\"repeat\");\r\n\t            if (str)\r\n\t                this.repeat = parseInt(str);\r\n\t            str = xml.getAttribute(\"delay\");\r\n\t            if (str)\r\n\t                this.delay = parseFloat(str);\r\n\t            this.stopOnExit = xml.getAttribute(\"stopOnExit\") == \"true\";\r\n\t        }\r\n\t\r\n\t        return PlayTransitionAction;\r\n\t    })(ControllerAction)\r\n\t\r\n\t\r\n\t    //class fairygui.GTextField extends fairygui.GObject\r\n\t    var GTextField = (function(_super) {\r\n\t        function GTextField() {\r\n\t            this._gearColor = null;\r\n\t            GTextField.__super.call(this);\r\n\t            this._gearColor = new GearColor(this);\r\n\t        }\r\n\t\r\n\t        __class(GTextField, 'fairygui.GTextField', _super);\r\n\t        var __proto = GTextField.prototype;\r\n\t        Laya.imps(__proto, { \"fairygui.IColorGear\": true })\r\n\t        __proto.handleControllerChanged = function(c) {\r\n\t            _super.prototype.handleControllerChanged.call(this, c);\r\n\t            if (this._gearColor.controller == c)\r\n\t                this._gearColor.apply();\r\n\t        }\r\n\t\r\n\t        __proto.setup_beforeAdd = function(xml) {\r\n\t            _super.prototype.setup_beforeAdd.call(this, xml);\r\n\t            var str;\r\n\t            str = xml.getAttribute(\"font\");\r\n\t            if (str)\r\n\t                this.font = str;\r\n\t            str = xml.getAttribute(\"fontSize\");\r\n\t            if (str)\r\n\t                this.fontSize = parseInt(str);\r\n\t            str = xml.getAttribute(\"color\");\r\n\t            if (str)\r\n\t                this.color = str;\r\n\t            str = xml.getAttribute(\"align\");\r\n\t            if (str)\r\n\t                this.align = str;\r\n\t            str = xml.getAttribute(\"vAlign\");\r\n\t            if (str)\r\n\t                this.valign = str;\r\n\t            str = xml.getAttribute(\"leading\");\r\n\t            if (str)\r\n\t                this.leading = parseInt(str);\r\n\t            else\r\n\t                this.leading = 3;\r\n\t            str = xml.getAttribute(\"letterSpacing\");\r\n\t            if (str)\r\n\t                this.letterSpacing = parseInt(str);\r\n\t            this.ubbEnabled = xml.getAttribute(\"ubb\") == \"true\";\r\n\t            this.italic = xml.getAttribute(\"italic\") == \"true\";\r\n\t            this.bold = xml.getAttribute(\"bold\") == \"true\";\r\n\t            this.underline = xml.getAttribute(\"underline\") == \"true\";\r\n\t            this.singleLine = xml.getAttribute(\"singleLine\") == \"true\";\r\n\t            str = xml.getAttribute(\"strokeColor\");\r\n\t            if (str) {\r\n\t                this.strokeColor = str;\r\n\t                str = xml.getAttribute(\"strokeSize\");\r\n\t                if (str)\r\n\t                    this.stroke = parseInt(str) + 1;\r\n\t                else\r\n\t                    this.stroke = 2;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setup_afterAdd = function(xml) {\r\n\t            _super.prototype.setup_afterAdd.call(this, xml);\r\n\t            var str = xml.getAttribute(\"text\");\r\n\t            if (str != null && str.length > 0)\r\n\t                this.text = str;\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'color', function() {\r\n\t            return null;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'font', function() {\r\n\t            return null;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'leading', function() {\r\n\t            return 0;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'fontSize', function() {\r\n\t            return 0;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'bold', function() {\r\n\t            return false;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'letterSpacing', function() {\r\n\t            return 0;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'align', function() {\r\n\t            return null;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'valign', function() {\r\n\t            return null;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'italic', function() {\r\n\t            return false;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'underline', function() {\r\n\t            return false;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'singleLine', function() {\r\n\t            return false;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'stroke', function() {\r\n\t            return 0;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'strokeColor', function() {\r\n\t            return null;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'ubbEnabled', function() {\r\n\t            return false;\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'textWidth', function() {\r\n\t            return 0;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'gearColor', function() {\r\n\t            return this._gearColor;\r\n\t        });\r\n\t\r\n\t        return GTextField;\r\n\t    })(GObject)\r\n\t\r\n\t\r\n\t    //class fairygui.GComponent extends fairygui.GObject\r\n\t    var GComponent = (function(_super) {\r\n\t        function GComponent() {\r\n\t            this._sortingChildCount = 0;\r\n\t            this._opaque = false;\r\n\t            this._applyingController = null;\r\n\t            this._margin = null;\r\n\t            this._trackBounds = false;\r\n\t            this._boundsChanged = false;\r\n\t            this._childrenRenderOrder = 0;\r\n\t            this._apexIndex = 0;\r\n\t            this._buildingDisplayList = false;\r\n\t            this._children = null;\r\n\t            this._controllers = null;\r\n\t            this._transitions = null;\r\n\t            this._container = null;\r\n\t            this._scrollPane = null;\r\n\t            this._alignOffset = null;\r\n\t            GComponent.__super.call(this);\r\n\t            this._children = [];\r\n\t            this._controllers = [];\r\n\t            this._transitions = [];\r\n\t            this._margin = new Margin();\r\n\t            this._alignOffset = new Point();\r\n\t        }\r\n\t\r\n\t        __class(GComponent, 'fairygui.GComponent', _super);\r\n\t        var __proto = GComponent.prototype;\r\n\t        __proto.createDisplayObject = function() {\r\n\t            _super.prototype.createDisplayObject.call(this);\r\n\t            this._displayObject.mouseEnabled = true;\r\n\t            this._displayObject.mouseThrough = true;\r\n\t            this._container = this._displayObject;\r\n\t        }\r\n\t\r\n\t        __proto.dispose = function() {\r\n\t            var i = 0;\r\n\t            var transCnt = this._transitions.length;\r\n\t            for (i = 0; i < transCnt; ++i) {\r\n\t                var trans = this._transitions[i];\r\n\t                trans.dispose();\r\n\t            };\r\n\t            var numChildren = this._children.length;\r\n\t            for (i = numChildren - 1; i >= 0; --i) {\r\n\t                var obj = this._children[i];\r\n\t                obj.parent = null;\r\n\t                obj.dispose();\r\n\t            }\r\n\t            this._boundsChanged = false;\r\n\t            _super.prototype.dispose.call(this);\r\n\t        }\r\n\t\r\n\t        __proto.addChild = function(child) {\r\n\t            this.addChildAt(child, this._children.length);\r\n\t            return child;\r\n\t        }\r\n\t\r\n\t        __proto.addChildAt = function(child, index) {\r\n\t            (index === void 0) && (index = 0);\r\n\t            if (!child)\r\n\t                throw \"child is null\";\r\n\t            var numChildren = this._children.length;\r\n\t            if (index >= 0 && index <= numChildren) {\r\n\t                if (child.parent == this) {\r\n\t                    this.setChildIndex(child, index);\r\n\t                } else {\r\n\t                    child.removeFromParent();\r\n\t                    child.parent = this;\r\n\t                    var cnt = this._children.length;\r\n\t                    if (child.sortingOrder != 0) {\r\n\t                        this._sortingChildCount++;\r\n\t                        index = this.getInsertPosForSortingChild(child);\r\n\t                    } else if (this._sortingChildCount > 0) {\r\n\t                        if (index > (cnt - this._sortingChildCount))\r\n\t                            index = cnt - this._sortingChildCount;\r\n\t                    }\r\n\t                    if (index == cnt)\r\n\t                        this._children.push(child);\r\n\t                    else\r\n\t                        this._children.splice(index, 0, child);\r\n\t                    this.childStateChanged(child);\r\n\t                    this.setBoundsChangedFlag();\r\n\t                }\r\n\t                return child;\r\n\t            } else {\r\n\t                throw \"Invalid child index\";\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.getInsertPosForSortingChild = function(target) {\r\n\t            var cnt = this._children.length;\r\n\t            var i = 0;\r\n\t            for (i = 0; i < cnt; i++) {\r\n\t                var child = this._children[i];\r\n\t                if (child == target)\r\n\t                    continue;\r\n\t                if (target.sortingOrder < child.sortingOrder)\r\n\t                    break;\r\n\t            }\r\n\t            return i;\r\n\t        }\r\n\t\r\n\t        __proto.removeChild = function(child, dispose) {\r\n\t            (dispose === void 0) && (dispose = false);\r\n\t            var childIndex = this._children.indexOf(child);\r\n\t            if (childIndex != -1) {\r\n\t                this.removeChildAt(childIndex, dispose);\r\n\t            }\r\n\t            return child;\r\n\t        }\r\n\t\r\n\t        __proto.removeChildAt = function(index, dispose) {\r\n\t            (dispose === void 0) && (dispose = false);\r\n\t            if (index >= 0 && index < this.numChildren) {\r\n\t                var child = this._children[index];\r\n\t                child.parent = null;\r\n\t                if (child.sortingOrder != 0)\r\n\t                    this._sortingChildCount--;\r\n\t                this._children.splice(index, 1);\r\n\t                child.group = null;\r\n\t                if (child.inContainer) {\r\n\t                    this._container.removeChild(child.displayObject);\r\n\t                    if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Arch*/ 2)\r\n\t                        Laya.timer.callLater(this, this.buildNativeDisplayList);\r\n\t                }\r\n\t                if (dispose)\r\n\t                    child.dispose();\r\n\t                this.setBoundsChangedFlag();\r\n\t                return child;\r\n\t            } else {\r\n\t                throw \"Invalid child index\";\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.removeChildren = function(beginIndex, endIndex, dispose) {\r\n\t            (beginIndex === void 0) && (beginIndex = 0);\r\n\t            (endIndex === void 0) && (endIndex = -1);\r\n\t            (dispose === void 0) && (dispose = false);\r\n\t            if (endIndex < 0 || endIndex >= this.numChildren)\r\n\t                endIndex = this.numChildren - 1;\r\n\t            for (var i = beginIndex; i <= endIndex; ++i)\r\n\t                this.removeChildAt(beginIndex, dispose);\r\n\t        }\r\n\t\r\n\t        __proto.getChildAt = function(index) {\r\n\t            (index === void 0) && (index = 0);\r\n\t            if (index >= 0 && index < this.numChildren)\r\n\t                return this._children[index];\r\n\t            else\r\n\t                throw \"Invalid child index\";\r\n\t        }\r\n\t\r\n\t        __proto.getChild = function(name) {\r\n\t            var cnt = this._children.length;\r\n\t            for (var i = 0; i < cnt; ++i) {\r\n\t                if (this._children[i].name == name)\r\n\t                    return this._children[i];\r\n\t            }\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        __proto.getVisibleChild = function(name) {\r\n\t            var cnt = this._children.length;\r\n\t            for (var i = 0; i < cnt; ++i) {\r\n\t                var child = this._children[i];\r\n\t                if (child.finalVisible && child.name == name)\r\n\t                    return child;\r\n\t            }\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        __proto.getChildInGroup = function(name, group) {\r\n\t            var cnt = this._children.length;\r\n\t            for (var i = 0; i < cnt; ++i) {\r\n\t                var child = this._children[i];\r\n\t                if (child.group == group && child.name == name)\r\n\t                    return child;\r\n\t            }\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        __proto.getChildById = function(id) {\r\n\t            var cnt = this._children.length;\r\n\t            for (var i = 0; i < cnt; ++i) {\r\n\t                if (this._children[i]._id == id)\r\n\t                    return this._children[i];\r\n\t            }\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        __proto.getChildIndex = function(child) {\r\n\t            return this._children.indexOf(child);\r\n\t        }\r\n\t\r\n\t        __proto.setChildIndex = function(child, index) {\r\n\t            (index === void 0) && (index = 0);\r\n\t            var oldIndex = this._children.indexOf(child);\r\n\t            if (oldIndex == -1)\r\n\t                throw \"Not a child of this container\";\r\n\t            if (child.sortingOrder != 0)\r\n\t                return;\r\n\t            var cnt = this._children.length;\r\n\t            if (this._sortingChildCount > 0) {\r\n\t                if (index > (cnt - this._sortingChildCount - 1))\r\n\t                    index = cnt - this._sortingChildCount - 1;\r\n\t            }\r\n\t            this._setChildIndex(child, oldIndex, index);\r\n\t        }\r\n\t\r\n\t        __proto.setChildIndexBefore = function(child, index) {\r\n\t            var oldIndex = this._children.indexOf(child);\r\n\t            if (oldIndex == -1)\r\n\t                throw \"Not a child of this container\";\r\n\t            if (child.sortingOrder != 0)\r\n\t                return oldIndex;\r\n\t            var cnt = this._children.length;\r\n\t            if (this._sortingChildCount > 0) {\r\n\t                if (index > (cnt - this._sortingChildCount - 1))\r\n\t                    index = cnt - this._sortingChildCount - 1;\r\n\t            }\r\n\t            if (oldIndex < index)\r\n\t                return this._setChildIndex(child, oldIndex, index - 1);\r\n\t            else\r\n\t                return this._setChildIndex(child, oldIndex, index);\r\n\t        }\r\n\t\r\n\t        __proto._setChildIndex = function(child, oldIndex, index) {\r\n\t            var cnt = this._children.length;\r\n\t            if (index > cnt)\r\n\t                index = cnt;\r\n\t            if (oldIndex == index)\r\n\t                return oldIndex;\r\n\t            this._children.splice(oldIndex, 1);\r\n\t            this._children.splice(index, 0, child);\r\n\t            if (child.inContainer) {\r\n\t                var displayIndex = 0;\r\n\t                var g;\r\n\t                var i = 0;\r\n\t                if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Ascent*/ 0) {\r\n\t                    for (i = 0; i < index; i++) {\r\n\t                        g = this._children[i];\r\n\t                        if (g.inContainer)\r\n\t                            displayIndex++;\r\n\t                    }\r\n\t                    if (displayIndex == this._container.numChildren)\r\n\t                        displayIndex--;\r\n\t                    this._container.setChildIndex(child.displayObject, displayIndex);\r\n\t                } else if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Descent*/ 1) {\r\n\t                    for (i = cnt - 1; i > index; i--) {\r\n\t                        g = this._children[i];\r\n\t                        if (g.inContainer)\r\n\t                            displayIndex++;\r\n\t                    }\r\n\t                    if (displayIndex == this._container.numChildren)\r\n\t                        displayIndex--;\r\n\t                    this._container.setChildIndex(child.displayObject, displayIndex);\r\n\t                } else {\r\n\t                    Laya.timer.callLater(this, this.buildNativeDisplayList);\r\n\t                }\r\n\t                this.setBoundsChangedFlag();\r\n\t            }\r\n\t            return index;\r\n\t        }\r\n\t\r\n\t        __proto.swapChildren = function(child1, child2) {\r\n\t            var index1 = this._children.indexOf(child1);\r\n\t            var index2 = this._children.indexOf(child2);\r\n\t            if (index1 == -1 || index2 == -1)\r\n\t                throw \"Not a child of this container\";\r\n\t            this.swapChildrenAt(index1, index2);\r\n\t        }\r\n\t\r\n\t        __proto.swapChildrenAt = function(index1, index2) {\r\n\t            (index2 === void 0) && (index2 = 0);\r\n\t            var child1 = this._children[index1];\r\n\t            var child2 = this._children[index2];\r\n\t            this.setChildIndex(child1, index2);\r\n\t            this.setChildIndex(child2, index1);\r\n\t        }\r\n\t\r\n\t        __proto.isAncestorOf = function(child) {\r\n\t            if (child == null)\r\n\t                return false;\r\n\t            var p = child.parent;\r\n\t            while (p) {\r\n\t                if (p == this)\r\n\t                    return true;\r\n\t                p = p.parent;\r\n\t            }\r\n\t            return false;\r\n\t        }\r\n\t\r\n\t        __proto.addController = function(controller) {\r\n\t            this._controllers.push(controller);\r\n\t            controller._parent = this;\r\n\t            this.applyController(controller);\r\n\t        }\r\n\t\r\n\t        __proto.getControllerAt = function(index) {\r\n\t            return this._controllers[index];\r\n\t        }\r\n\t\r\n\t        __proto.getController = function(name) {\r\n\t            var cnt = this._controllers.length;\r\n\t            for (var i = 0; i < cnt; ++i) {\r\n\t                var c = this._controllers[i];\r\n\t                if (c.name == name)\r\n\t                    return c;\r\n\t            }\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        __proto.removeController = function(c) {\r\n\t            var index = this._controllers.indexOf(c);\r\n\t            if (index == -1)\r\n\t                throw new Error(\"controller not exists\");\r\n\t            c._parent = null;\r\n\t            this._controllers.splice(index, 1);\r\n\t            var length = this._children.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var child = this._children[i];\r\n\t                child.handleControllerChanged(c);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.childStateChanged = function(child) {\r\n\t            if (this._buildingDisplayList)\r\n\t                return;\r\n\t            var cnt = this._children.length;\r\n\t            if ((child instanceof fairygui.GGroup)) {\r\n\t                for (var i = 0; i < cnt; i++) {\r\n\t                    var g = this._children[i];\r\n\t                    if (g.group == child)\r\n\t                        this.childStateChanged(g);\r\n\t                }\r\n\t                return;\r\n\t            }\r\n\t            if (!child.displayObject)\r\n\t                return;\r\n\t            if (child.finalVisible && child.displayObject != this._displayObject.mask) {\r\n\t                if (!child.displayObject.parent) {\r\n\t                    var index = 0\r\n\t                    if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Ascent*/ 0) {\r\n\t                        for (i = 0; i < cnt; i++) {\r\n\t                            g = this._children[i];\r\n\t                            if (g == child)\r\n\t                                break;\r\n\t                            if (g.displayObject != null && g.displayObject.parent != null)\r\n\t                                index++;\r\n\t                        }\r\n\t                        this._container.addChildAt(child.displayObject, index);\r\n\t                    } else if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Descent*/ 1) {\r\n\t                        for (i = cnt - 1; i >= 0; i--) {\r\n\t                            g = this._children[i];\r\n\t                            if (g == child)\r\n\t                                break;\r\n\t                            if (g.displayObject != null && g.displayObject.parent != null)\r\n\t                                index++;\r\n\t                        }\r\n\t                        this._container.addChildAt(child.displayObject, index);\r\n\t                    } else {\r\n\t                        this._container.addChild(child.displayObject);\r\n\t                        Laya.timer.callLater(this, this.buildNativeDisplayList);\r\n\t                    }\r\n\t                }\r\n\t            } else {\r\n\t                if (child.displayObject.parent) {\r\n\t                    this._container.removeChild(child.displayObject);\r\n\t                    if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Arch*/ 2)\r\n\t                        Laya.timer.callLater(this, this.buildNativeDisplayList);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.buildNativeDisplayList = function() {\r\n\t            var cnt = this._children.length;\r\n\t            if (cnt == 0)\r\n\t                return;\r\n\t            var i = 0;\r\n\t            var child;\r\n\t            switch (this._childrenRenderOrder) {\r\n\t                case /*fairygui.ChildrenRenderOrder.Ascent*/ 0:\r\n\t                    {\r\n\t                        for (i = 0; i < cnt; i++) {\r\n\t                            child = this._children[i];\r\n\t                            if (child.displayObject != null && child.finalVisible)\r\n\t                                this._container.addChild(child.displayObject);\r\n\t                        }\r\n\t                    }\r\n\t                    break;\r\n\t                case /*fairygui.ChildrenRenderOrder.Descent*/ 1:\r\n\t                    {\r\n\t                        for (i = cnt - 1; i >= 0; i--) {\r\n\t                            child = this._children[i];\r\n\t                            if (child.displayObject != null && child.finalVisible)\r\n\t                                this._container.addChild(child.displayObject);\r\n\t                        }\r\n\t                    }\r\n\t                    break;\r\n\t                case /*fairygui.ChildrenRenderOrder.Arch*/ 2:\r\n\t                    {\r\n\t                        for (i = 0; i < this._apexIndex; i++) {\r\n\t                            child = this._children[i];\r\n\t                            if (child.displayObject != null && child.finalVisible)\r\n\t                                this._container.addChild(child.displayObject);\r\n\t                        }\r\n\t                        for (i = cnt - 1; i >= this._apexIndex; i--) {\r\n\t                            child = this._children[i];\r\n\t                            if (child.displayObject != null && child.finalVisible)\r\n\t                                this._container.addChild(child.displayObject);\r\n\t                        }\r\n\t                    }\r\n\t                    break;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.applyController = function(c) {\r\n\t            this._applyingController = c;\r\n\t            var child;\r\n\t            var length = this._children.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                child = this._children[i];\r\n\t                child.handleControllerChanged(c);\r\n\t            }\r\n\t            this._applyingController = null;\r\n\t            c.runActions();\r\n\t        }\r\n\t\r\n\t        __proto.applyAllControllers = function() {\r\n\t            var cnt = this._controllers.length;\r\n\t            for (var i = 0; i < cnt; ++i) {\r\n\t                this.applyController(this._controllers[i]);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.adjustRadioGroupDepth = function(obj, c) {\r\n\t            var cnt = this._children.length;\r\n\t            var i = NaN;\r\n\t            var child;\r\n\t            var myIndex = -1,\r\n\t                maxIndex = -1;\r\n\t            for (i = 0; i < cnt; i++) {\r\n\t                child = this._children[i];\r\n\t                if (child == obj) {\r\n\t                    myIndex = i;\r\n\t                } else if (((child instanceof fairygui.GButton)) &&\r\n\t                    (child).relatedController == c) {\r\n\t                    if (i > maxIndex)\r\n\t                        maxIndex = i;\r\n\t                }\r\n\t            }\r\n\t            if (myIndex < maxIndex) {\r\n\t                if (this._applyingController != null)\r\n\t                    this._children[maxIndex].handleControllerChanged(this._applyingController);\r\n\t                this.swapChildrenAt(myIndex, maxIndex);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.getTransitionAt = function(index) {\r\n\t            return this._transitions[index];\r\n\t        }\r\n\t\r\n\t        __proto.getTransition = function(transName) {\r\n\t            var cnt = this._transitions.length;\r\n\t            for (var i = 0; i < cnt; ++i) {\r\n\t                var trans = this._transitions[i];\r\n\t                if (trans.name == transName)\r\n\t                    return trans;\r\n\t            }\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        __proto.isChildInView = function(child) {\r\n\t            if (this._displayObject.scrollRect != null) {\r\n\t                return child.x + child.width >= 0 && child.x <= this.width &&\r\n\t                    child.y + child.height >= 0 && child.y <= this.height;\r\n\t            } else if (this._scrollPane != null) {\r\n\t                return this._scrollPane.isChildInView(child);\r\n\t            } else\r\n\t                return true;\r\n\t        }\r\n\t\r\n\t        __proto.getFirstChildInView = function() {\r\n\t            var cnt = this._children.length;\r\n\t            for (var i = 0; i < cnt; ++i) {\r\n\t                var child = this._children[i];\r\n\t                if (this.isChildInView(child))\r\n\t                    return i;\r\n\t            }\r\n\t            return -1;\r\n\t        }\r\n\t\r\n\t        __proto.updateHitArea = function() {\r\n\t            if ((this._displayObject.hitArea instanceof fairygui.utils.PixelHitTest)) {\r\n\t                var hitTest = (this._displayObject.hitArea);\r\n\t                if (this.sourceWidth != 0)\r\n\t                    hitTest.scaleX = this.width / this.sourceWidth;\r\n\t                if (this.sourceHeight != 0)\r\n\t                    hitTest.scaleY = this.height / this.sourceHeight;\r\n\t            } else {\r\n\t                if (this._displayObject.hitArea == null)\r\n\t                    this._displayObject.hitArea = new Rectangle();\r\n\t                this._displayObject.hitArea.setTo(0, 0, this.width, this.height);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.updateMask = function() {\r\n\t            var rect = this._displayObject.scrollRect;\r\n\t            if (rect == null)\r\n\t                rect = new Rectangle();\r\n\t            rect.x = this._margin.left;\r\n\t            rect.y = this._margin.top;\r\n\t            rect.width = this.width - this._margin.right;\r\n\t            rect.height = this.height - this._margin.bottom;\r\n\t            this._displayObject.scrollRect = rect;\r\n\t        }\r\n\t\r\n\t        __proto.setupScroll = function(scrollBarMargin, scroll, scrollBarDisplay, flags, vtScrollBarRes, hzScrollBarRes) {\r\n\t            if (this._displayObject == this._container) {\r\n\t                this._container = new Sprite();\r\n\t                this._displayObject.addChild(this._container);\r\n\t            }\r\n\t            this._scrollPane = new ScrollPane(this, scroll, scrollBarMargin, scrollBarDisplay, flags, vtScrollBarRes, hzScrollBarRes);\r\n\t        }\r\n\t\r\n\t        __proto.setupOverflow = function(overflow) {\r\n\t            if (overflow == /*fairygui.OverflowType.Hidden*/ 1) {\r\n\t                if (this._displayObject == this._container) {\r\n\t                    this._container = new Sprite();\r\n\t                    this._displayObject.addChild(this._container);\r\n\t                }\r\n\t                this.updateMask();\r\n\t                this._container.pos(this._margin.left, this._margin.top);\r\n\t            } else if (this._margin.left != 0 || this._margin.top != 0) {\r\n\t                if (this._displayObject == this._container) {\r\n\t                    this._container = new Sprite();\r\n\t                    this._displayObject.addChild(this._container);\r\n\t                }\r\n\t                this._container.pos(this._margin.left, this._margin.top);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.handleSizeChanged = function() {\r\n\t            _super.prototype.handleSizeChanged.call(this);\r\n\t            if (this._scrollPane)\r\n\t                this._scrollPane.onOwnerSizeChanged();\r\n\t            else if (this._displayObject.scrollRect != null)\r\n\t                this.updateMask();\r\n\t            if (this._displayObject.hitArea != null)\r\n\t                this.updateHitArea();\r\n\t        }\r\n\t\r\n\t        __proto.handleGrayedChanged = function() {\r\n\t            var c = this.getController(\"grayed\");\r\n\t            if (c != null) {\r\n\t                c.selectedIndex = this.grayed ? 1 : 0;\r\n\t                return;\r\n\t            };\r\n\t            var v = this.grayed;\r\n\t            var cnt = this._children.length;\r\n\t            for (var i = 0; i < cnt; ++i) {\r\n\t                this._children[i].grayed = v;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.handleControllerChanged = function(c) {\r\n\t            _super.prototype.handleControllerChanged.call(this, c);\r\n\t            if (this._scrollPane != null)\r\n\t                this._scrollPane.handleControllerChanged(c);\r\n\t        }\r\n\t\r\n\t        __proto.setBoundsChangedFlag = function() {\r\n\t            if (!this._scrollPane && !this._trackBounds)\r\n\t                return;\r\n\t            if (!this._boundsChanged) {\r\n\t                this._boundsChanged = true;\r\n\t                Laya.timer.callLater(this, this.__render);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__render = function() {\r\n\t            if (this._boundsChanged) {\r\n\t                var i1 = 0;\r\n\t                var len = this._children.length;\r\n\t                var child\r\n\t                for (i1 = 0; i1 < len; i1++) {\r\n\t                    child = this._children[i1];\r\n\t                    child.ensureSizeCorrect();\r\n\t                }\r\n\t                this.updateBounds();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.ensureBoundsCorrect = function() {\r\n\t            var i1 = 0;\r\n\t            var len = this._children.length;\r\n\t            var child\r\n\t            for (i1 = 0; i1 < len; i1++) {\r\n\t                child = this._children[i1];\r\n\t                child.ensureSizeCorrect();\r\n\t            }\r\n\t            if (this._boundsChanged)\r\n\t                this.updateBounds();\r\n\t        }\r\n\t\r\n\t        __proto.updateBounds = function() {\r\n\t            var ax = 0,\r\n\t                ay = 0,\r\n\t                aw = 0,\r\n\t                ah = 0;\r\n\t            var len = this._children.length;\r\n\t            if (len > 0) {\r\n\t                ax = Number.POSITIVE_INFINITY, ay = Number.POSITIVE_INFINITY;\r\n\t                var ar = Number.NEGATIVE_INFINITY,\r\n\t                    ab = Number.NEGATIVE_INFINITY;\r\n\t                var tmp = 0;\r\n\t                var i1 = 0;\r\n\t                for (i1 = 0; i1 < len; i1++) {\r\n\t                    var child = this._children[i1];\r\n\t                    tmp = child.x;\r\n\t                    if (tmp < ax)\r\n\t                        ax = tmp;\r\n\t                    tmp = child.y;\r\n\t                    if (tmp < ay)\r\n\t                        ay = tmp;\r\n\t                    tmp = child.x + child.actualWidth;\r\n\t                    if (tmp > ar)\r\n\t                        ar = tmp;\r\n\t                    tmp = child.y + child.actualHeight;\r\n\t                    if (tmp > ab)\r\n\t                        ab = tmp;\r\n\t                }\r\n\t                aw = ar - ax;\r\n\t                ah = ab - ay;\r\n\t            }\r\n\t            this.setBounds(ax, ay, aw, ah);\r\n\t        }\r\n\t\r\n\t        __proto.setBounds = function(ax, ay, aw, ah) {\r\n\t            this._boundsChanged = false;\r\n\t            if (this._scrollPane)\r\n\t                this._scrollPane.setContentSize(Math.round(ax + aw), Math.round(ay + ah));\r\n\t        }\r\n\t\r\n\t        __proto.getSnappingPosition = function(xValue, yValue, resultPoint) {\r\n\t            if (!resultPoint)\r\n\t                resultPoint = new Point();\r\n\t            var cnt = this._children.length;\r\n\t            if (cnt == 0) {\r\n\t                resultPoint.x = 0;\r\n\t                resultPoint.y = 0;\r\n\t                return resultPoint;\r\n\t            }\r\n\t            this.ensureBoundsCorrect();\r\n\t            var obj = null;\r\n\t            var prev = null;\r\n\t            var i = 0;\r\n\t            if (yValue != 0) {\r\n\t                for (; i < cnt; i++) {\r\n\t                    obj = this._children[i];\r\n\t                    if (yValue < obj.y) {\r\n\t                        if (i == 0) {\r\n\t                            yValue = 0;\r\n\t                            break;\r\n\t                        } else {\r\n\t                            prev = this._children[i - 1];\r\n\t                            if (yValue < prev.y + prev.actualHeight / 2)\r\n\t                                yValue = prev.y;\r\n\t                            else\r\n\t                                yValue = obj.y;\r\n\t                            break;\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t                if (i == cnt)\r\n\t                    yValue = obj.y;\r\n\t            }\r\n\t            if (xValue != 0) {\r\n\t                if (i > 0)\r\n\t                    i--;\r\n\t                for (; i < cnt; i++) {\r\n\t                    obj = this._children[i];\r\n\t                    if (xValue < obj.x) {\r\n\t                        if (i == 0) {\r\n\t                            xValue = 0;\r\n\t                            break;\r\n\t                        } else {\r\n\t                            prev = this._children[i - 1];\r\n\t                            if (xValue < prev.x + prev.actualWidth / 2)\r\n\t                                xValue = prev.x;\r\n\t                            else\r\n\t                                xValue = obj.x;\r\n\t                            break;\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t                if (i == cnt)\r\n\t                    xValue = obj.x;\r\n\t            }\r\n\t            resultPoint.x = xValue;\r\n\t            resultPoint.y = yValue;\r\n\t            return resultPoint;\r\n\t        }\r\n\t\r\n\t        __proto.childSortingOrderChanged = function(child, oldValue, newValue) {\r\n\t            (newValue === void 0) && (newValue = 0);\r\n\t            if (newValue == 0) {\r\n\t                this._sortingChildCount--;\r\n\t                this.setChildIndex(child, this._children.length);\r\n\t            } else {\r\n\t                if (oldValue == 0)\r\n\t                    this._sortingChildCount++;\r\n\t                var oldIndex = this._children.indexOf(child);\r\n\t                var index = this.getInsertPosForSortingChild(child);\r\n\t                if (oldIndex < index)\r\n\t                    this._setChildIndex(child, oldIndex, index - 1);\r\n\t                else\r\n\t                    this._setChildIndex(child, oldIndex, index);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.constructFromResource = function() {\r\n\t            this.constructFromResource2(null, 0);\r\n\t        }\r\n\t\r\n\t        __proto.constructFromResource2 = function(objectPool, poolIndex) {\r\n\t            var xml = this.packageItem.owner.getItemAsset(this.packageItem);\r\n\t            this._underConstruct = true;\r\n\t            var str;\r\n\t            var arr;\r\n\t            str = xml.getAttribute(\"size\");\r\n\t            arr = str.split(\",\");\r\n\t            this.sourceWidth = parseInt(arr[0]);\r\n\t            this.sourceHeight = parseInt(arr[1]);\r\n\t            this.initWidth = this.sourceWidth;\r\n\t            this.initHeight = this.sourceHeight;\r\n\t            this.setSize(this.sourceWidth, this.sourceHeight);\r\n\t            str = xml.getAttribute(\"restrictSize\");\r\n\t            if (str) {\r\n\t                arr = str.split(\",\");\r\n\t                this.minWidth = parseInt(arr[0]);\r\n\t                this.maxWidth = parseInt(arr[1]);\r\n\t                this.minHeight = parseInt(arr[2]);\r\n\t                this.maxHeight = parseInt(arr[3]);\r\n\t            }\r\n\t            str = xml.getAttribute(\"pivot\");\r\n\t            if (str) {\r\n\t                arr = str.split(\",\");\r\n\t                str = xml.getAttribute(\"anchor\");\r\n\t                this.internalSetPivot(parseFloat(arr[0]), parseFloat(arr[1]), str == \"true\");\r\n\t            }\r\n\t            str = xml.getAttribute(\"opaque\");\r\n\t            this.opaque = str != \"false\";\r\n\t            str = xml.getAttribute(\"hitTest\");\r\n\t            if (str) {\r\n\t                arr = str.split(\",\");\r\n\t                var hitTestData = this.packageItem.owner.getPixelHitTestData(arr[0]);\r\n\t                if (hitTestData != null) {\r\n\t                    this._displayObject.hitArea = new PixelHitTest(hitTestData, parseInt(arr[1]), parseInt(arr[2]));\r\n\t                    this._displayObject.mouseThrough = false;\r\n\t                    this._displayObject.hitTestPrior = true;\r\n\t                }\r\n\t            };\r\n\t            var overflow = 0;\r\n\t            str = xml.getAttribute(\"overflow\");\r\n\t            if (str)\r\n\t                overflow = OverflowType.parse(str);\r\n\t            else\r\n\t                overflow = /*fairygui.OverflowType.Visible*/ 0;\r\n\t            str = xml.getAttribute(\"margin\");\r\n\t            if (str)\r\n\t                this._margin.parse(str);\r\n\t            if (overflow == /*fairygui.OverflowType.Scroll*/ 2) {\r\n\t                var scroll = 0;\r\n\t                str = xml.getAttribute(\"scroll\");\r\n\t                if (str)\r\n\t                    scroll = ScrollType.parse(str);\r\n\t                else\r\n\t                    scroll = /*fairygui.ScrollType.Vertical*/ 1;\r\n\t                var scrollBarDisplay = 0;\r\n\t                str = xml.getAttribute(\"scrollBar\");\r\n\t                if (str)\r\n\t                    scrollBarDisplay = ScrollBarDisplayType.parse(str);\r\n\t                else\r\n\t                    scrollBarDisplay = /*fairygui.ScrollBarDisplayType.Default*/ 0;\r\n\t                var scrollBarFlags = NaN;\r\n\t                str = xml.getAttribute(\"scrollBarFlags\");\r\n\t                if (str)\r\n\t                    scrollBarFlags = parseInt(str);\r\n\t                else\r\n\t                    scrollBarFlags = 0;\r\n\t                var scrollBarMargin = new Margin();\r\n\t                str = xml.getAttribute(\"scrollBarMargin\");\r\n\t                if (str)\r\n\t                    scrollBarMargin.parse(str);\r\n\t                var vtScrollBarRes;\r\n\t                var hzScrollBarRes;\r\n\t                str = xml.getAttribute(\"scrollBarRes\");\r\n\t                if (str) {\r\n\t                    arr = str.split(\",\");\r\n\t                    vtScrollBarRes = arr[0];\r\n\t                    hzScrollBarRes = arr[1];\r\n\t                }\r\n\t                this.setupScroll(scrollBarMargin, scroll, scrollBarDisplay, scrollBarFlags, vtScrollBarRes, hzScrollBarRes);\r\n\t            } else\r\n\t                this.setupOverflow(overflow);\r\n\t            this._buildingDisplayList = true;\r\n\t            var col = xml.childNodes;\r\n\t            var length1 = 0;\r\n\t            if (col)\r\n\t                length1 = col.length;\r\n\t            var i = 0;\r\n\t            var controller;\r\n\t            for (i = 0; i < length1; i++) {\r\n\t                var cxml = col[i];\r\n\t                if (cxml.nodeName == \"controller\") {\r\n\t                    controller = new Controller();\r\n\t                    this._controllers.push(controller);\r\n\t                    controller._parent = this;\r\n\t                    controller.setup(cxml);\r\n\t                }\r\n\t            };\r\n\t            var child;\r\n\t            var displayList = this.packageItem.displayList;\r\n\t            var childCount = displayList.length;\r\n\t            for (i = 0; i < childCount; i++) {\r\n\t                var di = displayList[i];\r\n\t                if (objectPool != null) {\r\n\t                    child = objectPool[poolIndex + i];\r\n\t                } else if (di.packageItem) {\r\n\t                    child = UIObjectFactory.newObject(di.packageItem);\r\n\t                    child.packageItem = di.packageItem;\r\n\t                    child.constructFromResource();\r\n\t                } else\r\n\t                    child = UIObjectFactory.newObject2(di.type);\r\n\t                child._underConstruct = true;\r\n\t                child.setup_beforeAdd(di.desc);\r\n\t                child.parent = this;\r\n\t                this._children.push(child);\r\n\t            }\r\n\t            this.relations.setup(xml);\r\n\t            for (i = 0; i < childCount; i++)\r\n\t                this._children[i].relations.setup(displayList[i].desc);\r\n\t            for (i = 0; i < childCount; i++) {\r\n\t                child = this._children[i];\r\n\t                child.setup_afterAdd(displayList[i].desc);\r\n\t                child._underConstruct = false;\r\n\t            }\r\n\t            str = xml.getAttribute(\"mask\");\r\n\t            if (str)\r\n\t                this.mask = this.getChildById(str).displayObject;\r\n\t            var trans;\r\n\t            for (i = 0; i < length1; i++) {\r\n\t                cxml = col[i];\r\n\t                if (cxml.nodeName == \"transition\") {\r\n\t                    trans = new Transition(this);\r\n\t                    this._transitions.push(trans);\r\n\t                    trans.setup(cxml);\r\n\t                }\r\n\t            }\r\n\t            if (this._transitions.length > 0) {\r\n\t                this.displayObject.on( /*laya.events.Event.DISPLAY*/ \"display\", this, this.___added);\r\n\t                this.displayObject.on( /*laya.events.Event.UNDISPLAY*/ \"undisplay\", this, this.___removed);\r\n\t            }\r\n\t            this.applyAllControllers();\r\n\t            this._buildingDisplayList = false;\r\n\t            this._underConstruct = false;\r\n\t            this.buildNativeDisplayList();\r\n\t            this.setBoundsChangedFlag();\r\n\t            this.constructFromXML(xml);\r\n\t        }\r\n\t\r\n\t        __proto.constructFromXML = function(xml) {}\r\n\t        __proto.setup_afterAdd = function(xml) {\r\n\t            _super.prototype.setup_afterAdd.call(this, xml);\r\n\t            var str;\r\n\t            if (this.scrollPane) {\r\n\t                str = xml.getAttribute(\"pageController\");\r\n\t                if (str)\r\n\t                    this.scrollPane.pageController = this.parent.getController(str);\r\n\t            }\r\n\t            str = xml.getAttribute(\"controller\");\r\n\t            if (str) {\r\n\t                var arr = str.split(\",\");\r\n\t                for (var i = 0; i < arr.length; i += 2) {\r\n\t                    var cc = this.getController(arr[i]);\r\n\t                    if (cc)\r\n\t                        cc.selectedPageId = arr[i + 1];\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.___added = function() {\r\n\t            var cnt = this._transitions.length;\r\n\t            for (var i = 0; i < cnt; ++i) {\r\n\t                var trans = this._transitions[i];\r\n\t                if (trans.autoPlay)\r\n\t                    trans.play(null, trans.autoPlayRepeat, trans.autoPlayDelay);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.___removed = function() {\r\n\t            var cnt = this._transitions.length;\r\n\t            for (var i = 0; i < cnt; ++i) {\r\n\t                this._transitions[i].OnOwnerRemovedFromStage();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'numChildren', function() {\r\n\t            return this._children.length;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'displayListContainer', function() {\r\n\t            return this._container;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'childrenRenderOrder', function() {\r\n\t            return this._childrenRenderOrder;\r\n\t        }, function(value) {\r\n\t            if (this._childrenRenderOrder != value) {\r\n\t                this._childrenRenderOrder = value;\r\n\t                this.buildNativeDisplayList();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'opaque', function() {\r\n\t            return this._displayObject.hitArea != null;\r\n\t        }, function(value) {\r\n\t            if (value) {\r\n\t                this.updateHitArea();\r\n\t                this._displayObject.mouseThrough = false;\r\n\t            } else {\r\n\t                this._displayObject.hitArea = null;\r\n\t                this._displayObject.mouseThrough = true;\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'controllers', function() {\r\n\t            return this._controllers;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'scrollPane', function() {\r\n\t            return this._scrollPane;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'margin', function() {\r\n\t            return this._margin;\r\n\t        }, function(value) {\r\n\t            this._margin.copy(value);\r\n\t            if (this._displayObject.scrollRect != null) {\r\n\t                this._container.pos(this._margin.left + this._alignOffset.x, this._margin.top + this._alignOffset.y);\r\n\t            }\r\n\t            this.handleSizeChanged();\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'apexIndex', function() {\r\n\t            return this._apexIndex;\r\n\t        }, function(value) {\r\n\t            if (this._apexIndex != value) {\r\n\t                this._apexIndex = value;\r\n\t                if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Arch*/ 2)\r\n\t                    this.buildNativeDisplayList();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'mask', function() {\r\n\t            return this._displayObject.mask;\r\n\t        }, function(value) {\r\n\t            this._displayObject.mask = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'viewWidth', function() {\r\n\t            if (this._scrollPane != null)\r\n\t                return this._scrollPane.viewWidth;\r\n\t            else\r\n\t                return this.width - this._margin.left - this._margin.right;\r\n\t        }, function(value) {\r\n\t            if (this._scrollPane != null)\r\n\t                this._scrollPane.viewWidth = value;\r\n\t            else\r\n\t                this.width = value + this._margin.left + this._margin.right;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'viewHeight', function() {\r\n\t            if (this._scrollPane != null)\r\n\t                return this._scrollPane.viewHeight;\r\n\t            else\r\n\t                return this.height - this._margin.top - this._margin.bottom;\r\n\t        }, function(value) {\r\n\t            if (this._scrollPane != null)\r\n\t                this._scrollPane.viewHeight = value;\r\n\t            else\r\n\t                this.height = value + this._margin.top + this._margin.bottom;\r\n\t        });\r\n\t\r\n\t        return GComponent;\r\n\t    })(GObject)\r\n\t\r\n\t\r\n\t    //class fairygui.GearAnimation extends fairygui.GearBase\r\n\t    var GearAnimation = (function(_super) {\r\n\t        var GearAnimationValue;\r\n\t\r\n\t        function GearAnimation(owner) {\r\n\t            this._storage = null;\r\n\t            this._default = null;\r\n\t            GearAnimation.__super.call(this, owner);\r\n\t        }\r\n\t\r\n\t        __class(GearAnimation, 'fairygui.GearAnimation', _super);\r\n\t        var __proto = GearAnimation.prototype;\r\n\t        __proto.init = function() {\r\n\t            this._default = new GearAnimationValue((this._owner).playing,\r\n\t                (this._owner).frame);\r\n\t            this._storage = {};\r\n\t        }\r\n\t\r\n\t        __proto.addStatus = function(pageId, value) {\r\n\t            if (value == \"-\")\r\n\t                return;\r\n\t            var gv;\r\n\t            if (pageId == null)\r\n\t                gv = this._default;\r\n\t            else {\r\n\t                gv = new GearAnimationValue();\r\n\t                this._storage[pageId] = gv;\r\n\t            };\r\n\t            var arr = value.split(\",\");\r\n\t            gv.frame = parseInt(arr[0]);\r\n\t            gv.playing = arr[1] == \"p\";\r\n\t        }\r\n\t\r\n\t        __proto.apply = function() {\r\n\t            this._owner._gearLocked = true;\r\n\t            var gv = this._storage[this._controller.selectedPageId];\r\n\t            if (!gv)\r\n\t                gv = this._default;\r\n\t            (this._owner).frame = gv.frame;\r\n\t            (this._owner).playing = gv.playing;\r\n\t            this._owner._gearLocked = false;\r\n\t        }\r\n\t\r\n\t        __proto.updateState = function() {\r\n\t            var mc = (this._owner);\r\n\t            var gv = this._storage[this._controller.selectedPageId];\r\n\t            if (!gv) {\r\n\t                gv = new GearAnimationValue();\r\n\t                this._storage[this._controller.selectedPageId] = gv;\r\n\t            }\r\n\t            gv.frame = mc.frame;\r\n\t            gv.playing = mc.playing;\r\n\t        }\r\n\t\r\n\t        GearAnimation.__init$ = function() {\r\n\t            //class GearAnimationValue\r\n\t            GearAnimationValue = (function() {\r\n\t                function GearAnimationValue(playing, frame) {\r\n\t                    this.playing = false;\r\n\t                    this.frame = NaN;\r\n\t                    (playing === void 0) && (playing = true);\r\n\t                    (frame === void 0) && (frame = 0);\r\n\t                    this.playing = playing;\r\n\t                    this.frame = frame;\r\n\t                }\r\n\t                __class(GearAnimationValue, '');\r\n\t                return GearAnimationValue;\r\n\t            })()\r\n\t        }\r\n\t\r\n\t        return GearAnimation;\r\n\t    })(GearBase)\r\n\t\r\n\t\r\n\t    //class fairygui.GearColor extends fairygui.GearBase\r\n\t    var GearColor = (function(_super) {\r\n\t        var GearColorValue;\r\n\t\r\n\t        function GearColor(owner) {\r\n\t            this._storage = null;\r\n\t            this._default = null;\r\n\t            GearColor.__super.call(this, owner);\r\n\t        }\r\n\t\r\n\t        __class(GearColor, 'fairygui.GearColor', _super);\r\n\t        var __proto = GearColor.prototype;\r\n\t        __proto.init = function() {\r\n\t            if (this._owner[\"strokeColor\"] != undefined)\r\n\t                this._default = new GearColorValue(this._owner[\"color\"], this._owner[\"strokeColor\"]);\r\n\t            else\r\n\t                this._default = new GearColorValue(this._owner[\"color\"], null);\r\n\t            this._storage = {};\r\n\t        }\r\n\t\r\n\t        __proto.addStatus = function(pageId, value) {\r\n\t            if (value == \"-\")\r\n\t                return;\r\n\t            var pos = value.indexOf(\",\");\r\n\t            var col1;\r\n\t            var col2;\r\n\t            if (pos == -1) {\r\n\t                col1 = value;\r\n\t                col2 = null;\r\n\t            } else {\r\n\t                col1 = value.substr(0, pos);\r\n\t                col2 = value.substr(pos + 1);\r\n\t            }\r\n\t            if (pageId == null) {\r\n\t                this._default.color = col1;\r\n\t                this._default.strokeColor = col2;\r\n\t            } else\r\n\t                this._storage[pageId] = new GearColorValue(col1, col2);\r\n\t        }\r\n\t\r\n\t        __proto.apply = function() {\r\n\t            this._owner._gearLocked = true;\r\n\t            var gv = this._storage[this._controller.selectedPageId];\r\n\t            if (!gv)\r\n\t                gv = this._default;\r\n\t            (this._owner).color = gv.color;\r\n\t            if (this._owner[\"strokeColor\"] != undefined && gv.strokeColor != null)\r\n\t                this._owner[\"strokeColor\"] = gv.strokeColor;\r\n\t            this._owner._gearLocked = false;\r\n\t        }\r\n\t\r\n\t        __proto.updateState = function() {\r\n\t            var gv = this._storage[this._controller.selectedPageId];\r\n\t            if (!gv) {\r\n\t                gv = new GearColorValue(null, null);\r\n\t                this._storage[this._controller.selectedPageId] = gv;\r\n\t            }\r\n\t            gv.color = (this._owner).color;\r\n\t            if (this._owner[\"strokeColor\"] != undefined)\r\n\t                gv.strokeColor = this._owner[\"strokeColor\"];\r\n\t        }\r\n\t\r\n\t        GearColor.__init$ = function() {\r\n\t            //class GearColorValue\r\n\t            GearColorValue = (function() {\r\n\t                function GearColorValue(color, strokeColor) {\r\n\t                    this.color = null;\r\n\t                    this.strokeColor = null;\r\n\t                    this.color = color;\r\n\t                    this.strokeColor = strokeColor;\r\n\t                }\r\n\t                __class(GearColorValue, '');\r\n\t                return GearColorValue;\r\n\t            })()\r\n\t        }\r\n\t\r\n\t        return GearColor;\r\n\t    })(GearBase)\r\n\t\r\n\t\r\n\t    //class fairygui.GearDisplay extends fairygui.GearBase\r\n\t    var GearDisplay = (function(_super) {\r\n\t        function GearDisplay(owner) {\r\n\t            this.pages = null;\r\n\t            this._visible = 0;\r\n\t            GearDisplay.__super.call(this, owner);\r\n\t            this._displayLockToken = 1;\r\n\t        }\r\n\t\r\n\t        __class(GearDisplay, 'fairygui.GearDisplay', _super);\r\n\t        var __proto = GearDisplay.prototype;\r\n\t        __proto.init = function() {\r\n\t            this.pages = null;\r\n\t        }\r\n\t\r\n\t        __proto.addLock = function() {\r\n\t            this._visible++;\r\n\t            return this._displayLockToken;\r\n\t        }\r\n\t\r\n\t        __proto.releaseLock = function(token) {\r\n\t            if (token == this._displayLockToken)\r\n\t                this._visible--;\r\n\t        }\r\n\t\r\n\t        __proto.apply = function() {\r\n\t            this._displayLockToken++;\r\n\t            if (this._displayLockToken <= 0)\r\n\t                this._displayLockToken = 1;\r\n\t            if (this.pages == null || this.pages.length == 0 ||\r\n\t                this.pages.indexOf(this._controller.selectedPageId) != -1)\r\n\t                this._visible = 1;\r\n\t            else\r\n\t                this._visible = 0;\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'connected', function() {\r\n\t            return this._controller == null || this._visible > 0;\r\n\t        });\r\n\t\r\n\t        return GearDisplay;\r\n\t    })(GearBase)\r\n\t\r\n\t\r\n\t    //class fairygui.GearIcon extends fairygui.GearBase\r\n\t    var GearIcon = (function(_super) {\r\n\t        function GearIcon(owner) {\r\n\t            this._storage = null;\r\n\t            this._default = null;\r\n\t            GearIcon.__super.call(this, owner);\r\n\t        }\r\n\t\r\n\t        __class(GearIcon, 'fairygui.GearIcon', _super);\r\n\t        var __proto = GearIcon.prototype;\r\n\t        __proto.init = function() {\r\n\t            this._default = this._owner.icon;\r\n\t            this._storage = {};\r\n\t        }\r\n\t\r\n\t        __proto.addStatus = function(pageId, value) {\r\n\t            if (pageId == null)\r\n\t                this._default = value;\r\n\t            else\r\n\t                this._storage[pageId] = value;\r\n\t        }\r\n\t\r\n\t        __proto.apply = function() {\r\n\t            this._owner._gearLocked = true;\r\n\t            var data = this._storage[this._controller.selectedPageId];\r\n\t            if (data != undefined)\r\n\t                this._owner.icon = String(data);\r\n\t            else\r\n\t                this._owner.icon = this._default;\r\n\t            this._owner._gearLocked = false;\r\n\t        }\r\n\t\r\n\t        __proto.updateState = function() {\r\n\t            this._storage[this._controller.selectedPageId] = this._owner.icon;\r\n\t        }\r\n\t\r\n\t        return GearIcon;\r\n\t    })(GearBase)\r\n\t\r\n\t\r\n\t    //class fairygui.GearLook extends fairygui.GearBase\r\n\t    var GearLook = (function(_super) {\r\n\t        var GearLookValue;\r\n\t\r\n\t        function GearLook(owner) {\r\n\t            this.tweener = null;\r\n\t            this._storage = null;\r\n\t            this._default = null;\r\n\t            this._tweenValue = null;\r\n\t            this._tweenTarget = null;\r\n\t            GearLook.__super.call(this, owner);\r\n\t        }\r\n\t\r\n\t        __class(GearLook, 'fairygui.GearLook', _super);\r\n\t        var __proto = GearLook.prototype;\r\n\t        __proto.init = function() {\r\n\t            this._default = new GearLookValue(this._owner.alpha, this._owner.rotation, this._owner.grayed, this._owner.touchable);\r\n\t            this._storage = {};\r\n\t        }\r\n\t\r\n\t        __proto.addStatus = function(pageId, value) {\r\n\t            if (value == \"-\")\r\n\t                return;\r\n\t            var arr = value.split(\",\");\r\n\t            var gv;\r\n\t            if (pageId == null)\r\n\t                gv = this._default;\r\n\t            else {\r\n\t                gv = new GearLookValue();\r\n\t                this._storage[pageId] = gv;\r\n\t            }\r\n\t            gv.alpha = parseFloat(arr[0]);\r\n\t            gv.rotation = parseInt(arr[1]);\r\n\t            gv.grayed = arr[2] == \"1\" ? true : false;\r\n\t            if (arr.length < 4)\r\n\t                gv.touchable = this._owner.touchable;\r\n\t            else\r\n\t                gv.touchable = arr[3] == \"1\" ? true : false;\r\n\t        }\r\n\t\r\n\t        __proto.apply = function() {\r\n\t            var gv = this._storage[this._controller.selectedPageId];\r\n\t            if (!gv)\r\n\t                gv = this._default;\r\n\t            if (this._tween && !UIPackage._constructing && !GearBase.disableAllTweenEffect) {\r\n\t                this._owner._gearLocked = true;\r\n\t                this._owner.grayed = gv.grayed;\r\n\t                this._owner.touchable = gv.touchable;\r\n\t                this._owner._gearLocked = false;\r\n\t                if (this.tweener != null) {\r\n\t                    if (this._tweenTarget.alpha != gv.alpha || this._tweenTarget.rotation != gv.rotation) {\r\n\t                        this.tweener.complete();\r\n\t                        this.tweener = null;\r\n\t                    } else\r\n\t                        return;\r\n\t                };\r\n\t                var a = gv.alpha != this._owner.alpha;\r\n\t                var b = gv.rotation != this._owner.rotation;\r\n\t                if (a || b) {\r\n\t                    if (this._owner.checkGearController(0, this._controller))\r\n\t                        this._displayLockToken = this._owner.addDisplayLock();\r\n\t                    this._tweenTarget = gv;\r\n\t                    if (this._tweenValue == null)\r\n\t                        this._tweenValue = new Point();\r\n\t                    this._tweenValue.x = this._owner.alpha;\r\n\t                    this._tweenValue.y = this._owner.rotation;\r\n\t                    this.tweener = Tween.to(this._tweenValue, { x: gv.alpha, y: gv.rotation },\r\n\t                        this._tweenTime * 1000,\r\n\t                        this._easeType,\r\n\t                        Handler.create(this, this.__tweenComplete),\r\n\t                        this._delay * 1000);\r\n\t                    this.tweener.update = Handler.create(this, this.__tweenUpdate, [a, b], false);\r\n\t                }\r\n\t            } else {\r\n\t                this._owner._gearLocked = true;\r\n\t                this._owner.grayed = gv.grayed;\r\n\t                this._owner.alpha = gv.alpha;\r\n\t                this._owner.rotation = gv.rotation;\r\n\t                this._owner.touchable = gv.touchable;\r\n\t                this._owner._gearLocked = false;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__tweenUpdate = function(a, b) {\r\n\t            this._owner._gearLocked = true;\r\n\t            if (a)\r\n\t                this._owner.alpha = this._tweenValue.x;\r\n\t            if (b)\r\n\t                this._owner.rotation = this._tweenValue.y;\r\n\t            this._owner._gearLocked = false;\r\n\t        }\r\n\t\r\n\t        __proto.__tweenComplete = function() {\r\n\t            if (this._displayLockToken != 0) {\r\n\t                this._owner.releaseDisplayLock(this._displayLockToken);\r\n\t                this._displayLockToken = 0;\r\n\t            }\r\n\t            this.tweener = null;\r\n\t            this._owner.displayObject.event( /*fairygui.Events.GEAR_STOP*/ \"fui_gear_stop\");\r\n\t        }\r\n\t\r\n\t        __proto.updateState = function() {\r\n\t            var gv = this._storage[this._controller.selectedPageId];\r\n\t            if (!gv) {\r\n\t                gv = new GearLookValue();\r\n\t                this._storage[this._controller.selectedPageId] = gv;\r\n\t            }\r\n\t            gv.alpha = this._owner.alpha;\r\n\t            gv.rotation = this._owner.rotation;\r\n\t            gv.grayed = this._owner.grayed;\r\n\t            gv.touchable = this._owner.touchable;\r\n\t        }\r\n\t\r\n\t        GearLook.__init$ = function() {\r\n\t            //class GearLookValue\r\n\t            GearLookValue = (function() {\r\n\t                function GearLookValue(alpha, rotation, grayed, touchable) {\r\n\t                    this.alpha = NaN;\r\n\t                    this.rotation = NaN;\r\n\t                    this.grayed = false;\r\n\t                    this.touchable = false;\r\n\t                    (alpha === void 0) && (alpha = 0);\r\n\t                    (rotation === void 0) && (rotation = 0);\r\n\t                    (grayed === void 0) && (grayed = false);\r\n\t                    (touchable === void 0) && (touchable = true);\r\n\t                    this.alpha = alpha;\r\n\t                    this.rotation = rotation;\r\n\t                    this.grayed = grayed;\r\n\t                    this.touchable = touchable;\r\n\t                }\r\n\t                __class(GearLookValue, '');\r\n\t                return GearLookValue;\r\n\t            })()\r\n\t        }\r\n\t\r\n\t        return GearLook;\r\n\t    })(GearBase)\r\n\t\r\n\t\r\n\t    //class fairygui.GGraph extends fairygui.GObject\r\n\t    var GGraph = (function(_super) {\r\n\t        function GGraph() {\r\n\t            this._type = NaN;\r\n\t            this._lineSize = NaN;\r\n\t            this._lineColor = null;\r\n\t            this._fillColor = null;\r\n\t            GGraph.__super.call(this);\r\n\t            this._type = 0;\r\n\t            this._lineSize = 1;\r\n\t            this._lineColor = \"#000000\"\r\n\t            this._fillColor = \"#FFFFFF\";\r\n\t        }\r\n\t\r\n\t        __class(GGraph, 'fairygui.GGraph', _super);\r\n\t        var __proto = GGraph.prototype;\r\n\t        Laya.imps(__proto, { \"fairygui.IColorGear\": true })\r\n\t        __proto.drawRect = function(lineSize, lineColor, fillColor) {\r\n\t            this._type = 1;\r\n\t            this._lineSize = lineSize;\r\n\t            this._lineColor = lineColor;\r\n\t            this._fillColor = fillColor;\r\n\t            this.drawCommon();\r\n\t        }\r\n\t\r\n\t        __proto.drawEllipse = function(lineSize, lineColor, fillColor) {\r\n\t            this._type = 2;\r\n\t            this._lineSize = lineSize;\r\n\t            this._lineColor = lineColor;\r\n\t            this._fillColor = fillColor;\r\n\t            this.drawCommon();\r\n\t        }\r\n\t\r\n\t        __proto.drawCommon = function() {\r\n\t            this._displayObject.mouseEnabled = this.touchable;\r\n\t            var gr = this._displayObject.graphics;\r\n\t            gr.clear();\r\n\t            var w = this.width;\r\n\t            var h = this.height;\r\n\t            if (w == 0 || h == 0)\r\n\t                return;\r\n\t            var fillColor = this._fillColor;\r\n\t            var lineColor = this._lineColor;\r\n\t            if (Render.isWebGL && ToolSet.startsWith(fillColor, \"rgba\")) {\r\n\t                var arr = fillColor.substring(5, fillColor.lastIndexOf(\")\")).split(\",\");\r\n\t                var a = parseFloat(arr[3]);\r\n\t                if (a == 0)\r\n\t                    fillColor = null;\r\n\t                else {\r\n\t                    fillColor = Utils.toHexColor((parseInt(arr[0]) << 16) + (parseInt(arr[1]) << 8) + parseInt(arr[2]));\r\n\t                    this.alpha = a;\r\n\t                }\r\n\t            }\r\n\t            if (this._type == 1)\r\n\t                gr.drawRect(0, 0, w, h, fillColor, this._lineSize > 0 ? lineColor : null, this._lineSize);\r\n\t            else\r\n\t                gr.drawCircle(w / 2, h / 2, w / 2, fillColor, this._lineSize > 0 ? lineColor : null, this._lineSize);\r\n\t            this._displayObject.repaint();\r\n\t        }\r\n\t\r\n\t        __proto.replaceMe = function(target) {\r\n\t            if (!this._parent)\r\n\t                throw \"parent not set\";\r\n\t            target.name = this.name;\r\n\t            target.alpha = this.alpha;\r\n\t            target.rotation = this.rotation;\r\n\t            target.visible = this.visible;\r\n\t            target.touchable = this.touchable;\r\n\t            target.grayed = this.grayed;\r\n\t            target.setXY(this.x, this.y);\r\n\t            target.setSize(this.width, this.height);\r\n\t            var index = this._parent.getChildIndex(this);\r\n\t            this._parent.addChildAt(target, index);\r\n\t            target.relations.copyFrom(this.relations);\r\n\t            this._parent.removeChild(this, true);\r\n\t        }\r\n\t\r\n\t        __proto.addBeforeMe = function(target) {\r\n\t            if (this._parent == null)\r\n\t                throw \"parent not set\";\r\n\t            var index = this._parent.getChildIndex(this);\r\n\t            this._parent.addChildAt(target, index);\r\n\t        }\r\n\t\r\n\t        __proto.addAfterMe = function(target) {\r\n\t            if (this._parent == null)\r\n\t                throw \"parent not set\";\r\n\t            var index = this._parent.getChildIndex(this);\r\n\t            index++;\r\n\t            this._parent.addChildAt(target, index);\r\n\t        }\r\n\t\r\n\t        __proto.setNativeObject = function(obj) {\r\n\t            this._type = 0;\r\n\t            this._displayObject.mouseEnabled = this.touchable;\r\n\t            this._displayObject.graphics.clear();\r\n\t            this._displayObject.addChild(obj);\r\n\t        }\r\n\t\r\n\t        __proto.createDisplayObject = function() {\r\n\t            _super.prototype.createDisplayObject.call(this);\r\n\t            this._displayObject.mouseEnabled = false;\r\n\t        }\r\n\t\r\n\t        __proto.handleSizeChanged = function() {\r\n\t            _super.prototype.handleSizeChanged.call(this);\r\n\t            if (this._type != 0)\r\n\t                this.drawCommon();\r\n\t        }\r\n\t\r\n\t        __proto.setup_beforeAdd = function(xml) {\r\n\t            _super.prototype.setup_beforeAdd.call(this, xml);\r\n\t            var type = xml.getAttribute(\"type\");\r\n\t            if (type && type != \"empty\") {\r\n\t                var str;\r\n\t                str = xml.getAttribute(\"lineSize\");\r\n\t                if (str)\r\n\t                    this._lineSize = parseInt(str);\r\n\t                str = xml.getAttribute(\"lineColor\");\r\n\t                if (str) {\r\n\t                    var c = ToolSet.convertFromHtmlColor(str, true);\r\n\t                    var a = ((c >> 24) & 0xFF) / 0xFF;\r\n\t                    if (a != 1)\r\n\t                        this._lineColor = \"rgba(\" + ((c >> 16) & 0xFF) + \",\" + ((c >> 8) & 0xFF) + \",\" + (c & 0xFF) + \",\" + a + \")\";\r\n\t                    else\r\n\t                        this._lineColor = Utils.toHexColor(c & 0xFFFFFF);\r\n\t                }\r\n\t                str = xml.getAttribute(\"fillColor\");\r\n\t                if (str) {\r\n\t                    c = ToolSet.convertFromHtmlColor(str, true);\r\n\t                    a = ((c >> 24) & 0xFF) / 0xFF;\r\n\t                    if (a != 1)\r\n\t                        this._fillColor = \"rgba(\" + ((c >> 16) & 0xFF) + \",\" + ((c >> 8) & 0xFF) + \",\" + (c & 0xFF) + \",\" + a + \")\";\r\n\t                    else\r\n\t                        this._fillColor = Utils.toHexColor(c & 0xFFFFFF);\r\n\t                }\r\n\t                if (type == \"rect\")\r\n\t                    this._type = 1;\r\n\t                else\r\n\t                    this._type = 2;\r\n\t                this.drawCommon();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'color', function() {\r\n\t            return this._fillColor;\r\n\t        }, function(value) {\r\n\t            this._fillColor = value;\r\n\t            if (this._type != 0)\r\n\t                this.drawCommon();\r\n\t        });\r\n\t\r\n\t        return GGraph;\r\n\t    })(GObject)\r\n\t\r\n\t\r\n\t    //class fairygui.GGroup extends fairygui.GObject\r\n\t    var GGroup = (function(_super) {\r\n\t        function GGroup() {\r\n\t            this._layout = 0;\r\n\t            this._lineGap = 0;\r\n\t            this._columnGap = 0;\r\n\t            this._percentReady = false;\r\n\t            this._boundsChanged = false;\r\n\t            this._updating = 0;\r\n\t            GGroup.__super.call(this);\r\n\t        }\r\n\t\r\n\t        __class(GGroup, 'fairygui.GGroup', _super);\r\n\t        var __proto = GGroup.prototype;\r\n\t        __proto.setBoundsChangedFlag = function(childSizeChanged) {\r\n\t            (childSizeChanged === void 0) && (childSizeChanged = false);\r\n\t            if (this._updating == 0 && this.parent != null) {\r\n\t                if (childSizeChanged)\r\n\t                    this._percentReady = false;\r\n\t                if (!this._boundsChanged) {\r\n\t                    this._boundsChanged = true;\r\n\t                    if (this._layout != /*fairygui.GroupLayoutType.None*/ 0)\r\n\t                        Laya.timer.callLater(this, this.ensureBoundsCorrect);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.ensureBoundsCorrect = function() {\r\n\t            if (this._boundsChanged)\r\n\t                this.updateBounds();\r\n\t        }\r\n\t\r\n\t        __proto.updateBounds = function() {\r\n\t            Laya.timer.clear(this, this.ensureBoundsCorrect);\r\n\t            this._boundsChanged = false;\r\n\t            if (this.parent == null)\r\n\t                return;\r\n\t            this.handleLayout();\r\n\t            var cnt = this._parent.numChildren;\r\n\t            var i = 0;\r\n\t            var child;\r\n\t            var ax = Number.MAX_VALUE,\r\n\t                ay = Number.MAX_VALUE;\r\n\t            var ar = Number.MIN_VALUE,\r\n\t                ab = Number.MIN_VALUE;\r\n\t            var tmp = 0;\r\n\t            var empty = true;\r\n\t            for (i = 0; i < cnt; i++) {\r\n\t                child = this._parent.getChildAt(i);\r\n\t                if (child.group == this) {\r\n\t                    tmp = child.x;\r\n\t                    if (tmp < ax)\r\n\t                        ax = tmp;\r\n\t                    tmp = child.y;\r\n\t                    if (tmp < ay)\r\n\t                        ay = tmp;\r\n\t                    tmp = child.x + child.width;\r\n\t                    if (tmp > ar)\r\n\t                        ar = tmp;\r\n\t                    tmp = child.y + child.height;\r\n\t                    if (tmp > ab)\r\n\t                        ab = tmp;\r\n\t                    empty = false;\r\n\t                }\r\n\t            }\r\n\t            if (!empty) {\r\n\t                this._updating = 1;\r\n\t                this.setXY(ax, ay);\r\n\t                this._updating = 2;\r\n\t                this.setSize(ar - ax, ab - ay);\r\n\t            } else {\r\n\t                this._updating = 2;\r\n\t                this.setSize(0, 0);\r\n\t            }\r\n\t            this._updating = 0;\r\n\t        }\r\n\t\r\n\t        __proto.handleLayout = function() {\r\n\t            this._updating |= 1;\r\n\t            var child;\r\n\t            var i = 0;\r\n\t            var cnt = 0;\r\n\t            if (this._layout == /*fairygui.GroupLayoutType.Horizontal*/ 1) {\r\n\t                var curX = NaN;\r\n\t                cnt = this.parent.numChildren;\r\n\t                for (i = 0; i < cnt; i++) {\r\n\t                    child = this.parent.getChildAt(i);\r\n\t                    if (child.group != this)\r\n\t                        continue;\r\n\t                    if (isNaN(curX))\r\n\t                        curX = Math.floor(child.x);\r\n\t                    else\r\n\t                        child.x = curX;\r\n\t                    if (child.width != 0)\r\n\t                        curX += Math.floor(child.width + this._columnGap);\r\n\t                }\r\n\t                if (!this._percentReady)\r\n\t                    this.updatePercent();\r\n\t            } else if (this._layout == /*fairygui.GroupLayoutType.Vertical*/ 2) {\r\n\t                var curY = NaN;\r\n\t                cnt = this.parent.numChildren;\r\n\t                for (i = 0; i < cnt; i++) {\r\n\t                    child = this.parent.getChildAt(i);\r\n\t                    if (child.group != this)\r\n\t                        continue;\r\n\t                    if (isNaN(curY))\r\n\t                        curY = Math.floor(child.y);\r\n\t                    else\r\n\t                        child.y = curY;\r\n\t                    if (child.height != 0)\r\n\t                        curY += Math.floor(child.height + this._lineGap);\r\n\t                }\r\n\t                if (!this._percentReady)\r\n\t                    this.updatePercent();\r\n\t            }\r\n\t            this._updating &= 2;\r\n\t        }\r\n\t\r\n\t        __proto.updatePercent = function() {\r\n\t            this._percentReady = true;\r\n\t            var cnt = this.parent.numChildren;\r\n\t            var i = 0;\r\n\t            var child;\r\n\t            var size = 0;\r\n\t            if (this._layout == /*fairygui.GroupLayoutType.Horizontal*/ 1) {\r\n\t                for (i = 0; i < cnt; i++) {\r\n\t                    child = this.parent.getChildAt(i);\r\n\t                    if (child.group != this)\r\n\t                        continue;\r\n\t                    size += child.width;\r\n\t                }\r\n\t                for (i = 0; i < cnt; i++) {\r\n\t                    child = this.parent.getChildAt(i);\r\n\t                    if (child.group != this)\r\n\t                        continue;\r\n\t                    if (size > 0)\r\n\t                        child._sizePercentInGroup = child.width / size;\r\n\t                    else\r\n\t                        child._sizePercentInGroup = 0;\r\n\t                }\r\n\t            } else {\r\n\t                for (i = 0; i < cnt; i++) {\r\n\t                    child = this.parent.getChildAt(i);\r\n\t                    if (child.group != this)\r\n\t                        continue;\r\n\t                    size += child.height;\r\n\t                }\r\n\t                for (i = 0; i < cnt; i++) {\r\n\t                    child = this.parent.getChildAt(i);\r\n\t                    if (child.group != this)\r\n\t                        continue;\r\n\t                    if (size > 0)\r\n\t                        child._sizePercentInGroup = child.height / size;\r\n\t                    else\r\n\t                        child._sizePercentInGroup = 0;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.moveChildren = function(dx, dy) {\r\n\t            if ((this._updating & 1) != 0 || this.parent == null)\r\n\t                return;\r\n\t            this._updating |= 1;\r\n\t            var cnt = this.parent.numChildren;\r\n\t            var i = 0;\r\n\t            var child;\r\n\t            for (i = 0; i < cnt; i++) {\r\n\t                child = this.parent.getChildAt(i);\r\n\t                if (child.group == this) {\r\n\t                    child.setXY(child.x + dx, child.y + dy);\r\n\t                }\r\n\t            }\r\n\t            this._updating &= 2;\r\n\t        }\r\n\t\r\n\t        __proto.resizeChildren = function(dw, dh) {\r\n\t            if (this._layout == /*fairygui.GroupLayoutType.None*/ 0 || (this._updating & 2) != 0 || this.parent == null)\r\n\t                return;\r\n\t            this._updating |= 2;\r\n\t            if (!this._percentReady)\r\n\t                this.updatePercent();\r\n\t            var cnt = this.parent.numChildren;\r\n\t            var i = 0;\r\n\t            var j = 0;\r\n\t            var child;\r\n\t            var last = -1;\r\n\t            var numChildren = 0;\r\n\t            var lineSize = 0;\r\n\t            var remainSize = 0;\r\n\t            var found = false;\r\n\t            for (i = 0; i < cnt; i++) {\r\n\t                child = this.parent.getChildAt(i);\r\n\t                if (child.group != this)\r\n\t                    continue;\r\n\t                last = i;\r\n\t                numChildren++;\r\n\t            }\r\n\t            if (this._layout == /*fairygui.GroupLayoutType.Horizontal*/ 1) {\r\n\t                remainSize = lineSize = this.width - (numChildren - 1) * this._columnGap;\r\n\t                var curX = NaN;\r\n\t                var nw = NaN;\r\n\t                for (i = 0; i < cnt; i++) {\r\n\t                    child = this.parent.getChildAt(i);\r\n\t                    if (child.group != this)\r\n\t                        continue;\r\n\t                    if (isNaN(curX))\r\n\t                        curX = Math.floor(child.x);\r\n\t                    else\r\n\t                        child.x = curX;\r\n\t                    if (last == i)\r\n\t                        nw = remainSize;\r\n\t                    else\r\n\t                        nw = Math.round(child._sizePercentInGroup * lineSize);\r\n\t                    child.setSize(nw, child._rawHeight + dh, true);\r\n\t                    remainSize -= child.width;\r\n\t                    if (last == i) {\r\n\t                        if (remainSize >= 1) {\r\n\t                            for (j = 0; j <= i; j++) {\r\n\t                                child = this.parent.getChildAt(j);\r\n\t                                if (child.group != this)\r\n\t                                    continue;\r\n\t                                if (!found) {\r\n\t                                    nw = child.width + remainSize;\r\n\t                                    if ((child.maxWidth == 0 || nw < child.maxWidth) &&\r\n\t                                        (child.minWidth == 0 || nw > child.minWidth)) {\r\n\t                                        child.setSize(nw, child.height, true);\r\n\t                                        found = true;\r\n\t                                    }\r\n\t                                } else\r\n\t                                    child.x += remainSize;\r\n\t                            }\r\n\t                        }\r\n\t                    } else\r\n\t                        curX += (child.width + this._columnGap);\r\n\t                }\r\n\t            } else if (this._layout == /*fairygui.GroupLayoutType.Vertical*/ 2) {\r\n\t                remainSize = lineSize = this.height - (numChildren - 1) * this._lineGap;\r\n\t                var curY = NaN;\r\n\t                var nh = NaN;\r\n\t                for (i = 0; i < cnt; i++) {\r\n\t                    child = this.parent.getChildAt(i);\r\n\t                    if (child.group != this)\r\n\t                        continue;\r\n\t                    if (isNaN(curY))\r\n\t                        curY = Math.floor(child.y);\r\n\t                    else\r\n\t                        child.y = curY;\r\n\t                    if (last == i)\r\n\t                        nh = remainSize;\r\n\t                    else\r\n\t                        nh = Math.round(child._sizePercentInGroup * lineSize);\r\n\t                    child.setSize(child._rawWidth + dw, nh, true);\r\n\t                    remainSize -= child.height;\r\n\t                    if (last == i) {\r\n\t                        if (remainSize >= 1) {\r\n\t                            for (j = 0; j <= i; j++) {\r\n\t                                child = this.parent.getChildAt(j);\r\n\t                                if (child.group != this)\r\n\t                                    continue;\r\n\t                                if (!found) {\r\n\t                                    nh = child.height + remainSize;\r\n\t                                    if ((child.maxHeight == 0 || nh < child.maxHeight) &&\r\n\t                                        (child.minHeight == 0 || nh > child.minHeight)) {\r\n\t                                        child.setSize(child.width, nh, true);\r\n\t                                        found = true;\r\n\t                                    }\r\n\t                                } else\r\n\t                                    child.y += remainSize;\r\n\t                            }\r\n\t                        }\r\n\t                    } else\r\n\t                        curY += (child.height + this._lineGap);\r\n\t                }\r\n\t            }\r\n\t            this._updating &= 1;\r\n\t        }\r\n\t\r\n\t        __proto.updateAlpha = function() {\r\n\t            _super.prototype.updateAlpha.call(this);\r\n\t            if (this._underConstruct)\r\n\t                return;\r\n\t            var cnt = this._parent.numChildren;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var child = this._parent.getChildAt(i);\r\n\t                if (child.group == this)\r\n\t                    child.alpha = this.alpha;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setup_beforeAdd = function(xml) {\r\n\t            _super.prototype.setup_beforeAdd.call(this, xml);\r\n\t            var str;\r\n\t            str = xml.getAttribute(\"layout\");\r\n\t            if (str != null) {\r\n\t                this._layout = GroupLayoutType.parse(str);\r\n\t                str = xml.getAttribute(\"lineGap\");\r\n\t                if (str)\r\n\t                    this._lineGap = parseInt(str);\r\n\t                str = xml.getAttribute(\"colGap\");\r\n\t                if (str)\r\n\t                    this._columnGap = parseInt(str);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'layout', function() {\r\n\t            return this._layout;\r\n\t        }, function(value) {\r\n\t            if (this._layout != value) {\r\n\t                this._layout = value;\r\n\t                this.setBoundsChangedFlag(true);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'columnGap', function() {\r\n\t            return this._columnGap;\r\n\t        }, function(value) {\r\n\t            if (this._columnGap != value) {\r\n\t                this._columnGap = value;\r\n\t                this.setBoundsChangedFlag();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'lineGap', function() {\r\n\t            return this._lineGap;\r\n\t        }, function(value) {\r\n\t            if (this._lineGap != value) {\r\n\t                this._lineGap = value;\r\n\t                this.setBoundsChangedFlag();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        return GGroup;\r\n\t    })(GObject)\r\n\t\r\n\t\r\n\t    //class fairygui.GearSize extends fairygui.GearBase\r\n\t    var GearSize = (function(_super) {\r\n\t        var GearSizeValue;\r\n\t\r\n\t        function GearSize(owner) {\r\n\t            this.tweener = null;\r\n\t            this._storage = null;\r\n\t            this._default = null;\r\n\t            this._tweenValue = null;\r\n\t            this._tweenTarget = null;\r\n\t            GearSize.__super.call(this, owner);\r\n\t        }\r\n\t\r\n\t        __class(GearSize, 'fairygui.GearSize', _super);\r\n\t        var __proto = GearSize.prototype;\r\n\t        __proto.init = function() {\r\n\t            this._default = new GearSizeValue(this._owner.width, this._owner.height,\r\n\t                this._owner.scaleX, this._owner.scaleY);\r\n\t            this._storage = {};\r\n\t        }\r\n\t\r\n\t        __proto.addStatus = function(pageId, value) {\r\n\t            if (value == \"-\")\r\n\t                return;\r\n\t            var arr = value.split(\",\");\r\n\t            var gv;\r\n\t            if (pageId == null)\r\n\t                gv = this._default;\r\n\t            else {\r\n\t                gv = new GearSizeValue();\r\n\t                this._storage[pageId] = gv;\r\n\t            }\r\n\t            gv.width = parseInt(arr[0]);\r\n\t            gv.height = parseInt(arr[1]);\r\n\t            if (arr.length > 2) {\r\n\t                gv.scaleX = parseFloat(arr[2]);\r\n\t                gv.scaleY = parseFloat(arr[3]);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.apply = function() {\r\n\t            var gv = this._storage[this._controller.selectedPageId];\r\n\t            if (!gv)\r\n\t                gv = this._default;\r\n\t            if (this._tween && !UIPackage._constructing && !GearBase.disableAllTweenEffect) {\r\n\t                if (this.tweener != null) {\r\n\t                    if (this._tweenTarget.width != gv.width || this._tweenTarget.height != gv.height ||\r\n\t                        this._tweenTarget.scaleX != gv.scaleX || this._tweenTarget.scaleY != gv.scaleY) {\r\n\t                        this.tweener.complete();\r\n\t                        this.tweener = null;\r\n\t                    } else\r\n\t                        return;\r\n\t                };\r\n\t                var a = gv.width != this._owner.width || gv.height != this._owner.height;\r\n\t                var b = gv.scaleX != this._owner.scaleX || gv.scaleY != this._owner.scaleY;\r\n\t                if (a || b) {\r\n\t                    if (this._owner.checkGearController(0, this._controller))\r\n\t                        this._displayLockToken = this._owner.addDisplayLock();\r\n\t                    this._tweenTarget = gv;\r\n\t                    if (this._tweenValue == null)\r\n\t                        this._tweenValue = new GearSizeValue();\r\n\t                    this._tweenValue.width = this._owner.width;\r\n\t                    this._tweenValue.height = this._owner.height;\r\n\t                    this._tweenValue.scaleX = this._owner.scaleX;\r\n\t                    this._tweenValue.scaleY = this._owner.scaleY;\r\n\t                    this.tweener = Tween.to(this._tweenValue, { width: gv.width, height: gv.height, scaleX: gv.scaleX, scaleY: gv.scaleY },\r\n\t                        this._tweenTime * 1000,\r\n\t                        this._easeType,\r\n\t                        Handler.create(this, this.__tweenComplete),\r\n\t                        this._delay * 1000);\r\n\t                    this.tweener.update = Handler.create(this, this.__tweenUpdate, [a, b], false);\r\n\t                }\r\n\t            } else {\r\n\t                this._owner._gearLocked = true;\r\n\t                this._owner.setSize(gv.width, gv.height, this._owner.checkGearController(1, this._controller));\r\n\t                this._owner.setScale(gv.scaleX, gv.scaleY);\r\n\t                this._owner._gearLocked = false;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__tweenUpdate = function(a, b) {\r\n\t            this._owner._gearLocked = true;\r\n\t            if (a)\r\n\t                this._owner.setSize(this._tweenValue.width, this._tweenValue.height, this._owner.checkGearController(1, this._controller));\r\n\t            if (b)\r\n\t                this._owner.setScale(this._tweenValue.scaleX, this._tweenValue.scaleY);\r\n\t            this._owner._gearLocked = false;\r\n\t        }\r\n\t\r\n\t        __proto.__tweenComplete = function() {\r\n\t            if (this._displayLockToken != 0) {\r\n\t                this._owner.releaseDisplayLock(this._displayLockToken);\r\n\t                this._displayLockToken = 0;\r\n\t            }\r\n\t            this.tweener = null;\r\n\t            this._owner.displayObject.event( /*fairygui.Events.GEAR_STOP*/ \"fui_gear_stop\");\r\n\t        }\r\n\t\r\n\t        __proto.updateState = function() {\r\n\t            var gv = this._storage[this._controller.selectedPageId];\r\n\t            if (!gv) {\r\n\t                gv = new GearSizeValue();\r\n\t                this._storage[this._controller.selectedPageId] = gv;\r\n\t            }\r\n\t            gv.width = this._owner.width;\r\n\t            gv.height = this._owner.height;\r\n\t            gv.scaleX = this._owner.scaleX;\r\n\t            gv.scaleY = this._owner.scaleY;\r\n\t        }\r\n\t\r\n\t        __proto.updateFromRelations = function(dx, dy) {\r\n\t            if (this._controller == null || this._storage == null)\r\n\t                return;\r\n\t            for (var key in this._storage) {\r\n\t                var gv = this._storage[key];\r\n\t                gv.width += dx;\r\n\t                gv.height += dy;\r\n\t            }\r\n\t            this._default.width += dx;\r\n\t            this._default.height += dy;\r\n\t            this.updateState();\r\n\t        }\r\n\t\r\n\t        GearSize.__init$ = function() {\r\n\t            //class GearSizeValue\r\n\t            GearSizeValue = (function() {\r\n\t                function GearSizeValue(width, height, scaleX, scaleY) {\r\n\t                    this.width = NaN;\r\n\t                    this.height = NaN;\r\n\t                    this.scaleX = NaN;\r\n\t                    this.scaleY = NaN;\r\n\t                    (width === void 0) && (width = 0);\r\n\t                    (height === void 0) && (height = 0);\r\n\t                    (scaleX === void 0) && (scaleX = 0);\r\n\t                    (scaleY === void 0) && (scaleY = 0);\r\n\t                    this.width = width;\r\n\t                    this.height = height;\r\n\t                    this.scaleX = scaleX;\r\n\t                    this.scaleY = scaleY;\r\n\t                }\r\n\t                __class(GearSizeValue, '');\r\n\t                return GearSizeValue;\r\n\t            })()\r\n\t        }\r\n\t\r\n\t        return GearSize;\r\n\t    })(GearBase)\r\n\t\r\n\t\r\n\t    //class fairygui.GImage extends fairygui.GObject\r\n\t    var GImage = (function(_super) {\r\n\t        function GImage() {\r\n\t            this.image = null;\r\n\t            this._color = null;\r\n\t            this._flip = 0;\r\n\t            GImage.__super.call(this);\r\n\t            this._color = \"#FFFFFF\";\r\n\t        }\r\n\t\r\n\t        __class(GImage, 'fairygui.GImage', _super);\r\n\t        var __proto = GImage.prototype;\r\n\t        Laya.imps(__proto, { \"fairygui.IColorGear\": true })\r\n\t        __proto.applyColor = function() {}\r\n\t        __proto.createDisplayObject = function() {\r\n\t            this._displayObject = this.image = new Image1();\r\n\t            this.image.mouseEnabled = false;\r\n\t            this._displayObject[\"$owner\"] = this;\r\n\t        }\r\n\t\r\n\t        __proto.constructFromResource = function() {\r\n\t            this.packageItem.load();\r\n\t            this.sourceWidth = this.packageItem.width;\r\n\t            this.sourceHeight = this.packageItem.height;\r\n\t            this.initWidth = this.sourceWidth;\r\n\t            this.initHeight = this.sourceHeight;\r\n\t            this.image.scale9Grid = this.packageItem.scale9Grid;\r\n\t            this.image.scaleByTile = this.packageItem.scaleByTile;\r\n\t            this.image.tileGridIndice = this.packageItem.tileGridIndice;\r\n\t            this.image.tex = this.packageItem.texture;\r\n\t            this.setSize(this.sourceWidth, this.sourceHeight);\r\n\t        }\r\n\t\r\n\t        __proto.handleXYChanged = function() {\r\n\t            _super.prototype.handleXYChanged.call(this);\r\n\t            if (this._flip != /*fairygui.FlipType.None*/ 0) {\r\n\t                if (this.scaleX == -1)\r\n\t                    this.image.x += this.width;\r\n\t                if (this.scaleY == -1)\r\n\t                    this.image.y += this.height;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.handleSizeChanged = function() {\r\n\t            if (this.image.tex != null) {\r\n\t                this.image.scaleTexture(this.width / this.sourceWidth, this.height / this.sourceHeight);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setup_beforeAdd = function(xml) {\r\n\t            _super.prototype.setup_beforeAdd.call(this, xml);\r\n\t            var str;\r\n\t            str = xml.getAttribute(\"color\");\r\n\t            if (str)\r\n\t                this.color = str;\r\n\t            str = xml.getAttribute(\"flip\");\r\n\t            if (str)\r\n\t                this.flip = FlipType.parse(str);\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'color', function() {\r\n\t            return this._color;\r\n\t        }, function(value) {\r\n\t            if (this._color != value) {\r\n\t                this._color = value;\r\n\t                this.updateGear(4);\r\n\t                this.applyColor();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        //not supported yet\r\n\t        __getset(0, __proto, 'flip', function() {\r\n\t            return this._flip;\r\n\t        }, function(value) {\r\n\t            if (this._flip != value) {\r\n\t                this._flip = value;\r\n\t                var sx = 1,\r\n\t                    sy = 1;\r\n\t                if (this._flip == /*fairygui.FlipType.Horizontal*/ 1 || this._flip == /*fairygui.FlipType.Both*/ 3)\r\n\t                    sx = -1;\r\n\t                if (this._flip == /*fairygui.FlipType.Vertical*/ 2 || this._flip == /*fairygui.FlipType.Both*/ 3)\r\n\t                    sy = -1;\r\n\t                this.setScale(sx, sy);\r\n\t                this.handleXYChanged();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        return GImage;\r\n\t    })(GObject)\r\n\t\r\n\t\r\n\t    //class fairygui.GearText extends fairygui.GearBase\r\n\t    var GearText = (function(_super) {\r\n\t        function GearText(owner) {\r\n\t            this._storage = null;\r\n\t            this._default = null;\r\n\t            GearText.__super.call(this, owner);\r\n\t        }\r\n\t\r\n\t        __class(GearText, 'fairygui.GearText', _super);\r\n\t        var __proto = GearText.prototype;\r\n\t        __proto.init = function() {\r\n\t            this._default = this._owner.text;\r\n\t            this._storage = {};\r\n\t        }\r\n\t\r\n\t        __proto.addStatus = function(pageId, value) {\r\n\t            if (pageId == null)\r\n\t                this._default = value;\r\n\t            else\r\n\t                this._storage[pageId] = value;\r\n\t        }\r\n\t\r\n\t        __proto.apply = function() {\r\n\t            this._owner._gearLocked = true;\r\n\t            var data = this._storage[this._controller.selectedPageId];\r\n\t            if (data != undefined)\r\n\t                this._owner.text = String(data);\r\n\t            else\r\n\t                this._owner.text = this._default;\r\n\t            this._owner._gearLocked = false;\r\n\t        }\r\n\t\r\n\t        __proto.updateState = function() {\r\n\t            this._storage[this._controller.selectedPageId] = this._owner.text;\r\n\t        }\r\n\t\r\n\t        return GearText;\r\n\t    })(GearBase)\r\n\t\r\n\t\r\n\t    //class fairygui.GearXY extends fairygui.GearBase\r\n\t    var GearXY = (function(_super) {\r\n\t        function GearXY(owner) {\r\n\t            this.tweener = null;\r\n\t            this._storage = null;\r\n\t            this._default = null;\r\n\t            this._tweenValue = null;\r\n\t            this._tweenTarget = null;\r\n\t            GearXY.__super.call(this, owner);\r\n\t        }\r\n\t\r\n\t        __class(GearXY, 'fairygui.GearXY', _super);\r\n\t        var __proto = GearXY.prototype;\r\n\t        __proto.init = function() {\r\n\t            this._default = new Point(this._owner.x, this._owner.y);\r\n\t            this._storage = {};\r\n\t        }\r\n\t\r\n\t        __proto.addStatus = function(pageId, value) {\r\n\t            if (value == \"-\")\r\n\t                return;\r\n\t            var arr = value.split(\",\");\r\n\t            var pt;\r\n\t            if (pageId == null)\r\n\t                pt = this._default;\r\n\t            else {\r\n\t                pt = new Point();\r\n\t                this._storage[pageId] = pt;\r\n\t            }\r\n\t            pt.x = parseInt(arr[0]);\r\n\t            pt.y = parseInt(arr[1]);\r\n\t        }\r\n\t\r\n\t        __proto.apply = function() {\r\n\t            var pt = this._storage[this._controller.selectedPageId];\r\n\t            if (!pt)\r\n\t                pt = this._default;\r\n\t            if (this._tween && !UIPackage._constructing && !GearBase.disableAllTweenEffect) {\r\n\t                if (this.tweener) {\r\n\t                    if (this._tweenTarget.x != pt.x || this._tweenTarget.y != pt.y) {\r\n\t                        this.tweener.complete();\r\n\t                        this.tweener = null;\r\n\t                    } else\r\n\t                        return;\r\n\t                }\r\n\t                if (this._owner.x != pt.x || this._owner.y != pt.y) {\r\n\t                    if (this._owner.checkGearController(0, this._controller))\r\n\t                        this._displayLockToken = this._owner.addDisplayLock();\r\n\t                    this._tweenTarget = pt;\r\n\t                    if (this._tweenValue == null)\r\n\t                        this._tweenValue = new Point();\r\n\t                    this._tweenValue.x = this._owner.x;\r\n\t                    this._tweenValue.y = this._owner.y;\r\n\t                    this.tweener = Tween.to(this._tweenValue, { x: pt.x, y: pt.y },\r\n\t                        this._tweenTime * 1000,\r\n\t                        this._easeType,\r\n\t                        Handler.create(this, this.__tweenComplete),\r\n\t                        this._delay * 1000);\r\n\t                    this.tweener.update = Handler.create(this, this.__tweenUpdate, null, false);\r\n\t                }\r\n\t            } else {\r\n\t                this._owner._gearLocked = true;\r\n\t                this._owner.setXY(pt.x, pt.y);\r\n\t                this._owner._gearLocked = false;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__tweenUpdate = function() {\r\n\t            this._owner._gearLocked = true;\r\n\t            this._owner.setXY(this._tweenValue.x, this._tweenValue.y);\r\n\t            this._owner._gearLocked = false;\r\n\t        }\r\n\t\r\n\t        __proto.__tweenComplete = function() {\r\n\t            if (this._displayLockToken != 0) {\r\n\t                this._owner.releaseDisplayLock(this._displayLockToken);\r\n\t                this._displayLockToken = 0;\r\n\t            }\r\n\t            this.tweener = null;\r\n\t            this._owner.displayObject.event( /*fairygui.Events.GEAR_STOP*/ \"fui_gear_stop\");\r\n\t        }\r\n\t\r\n\t        __proto.updateState = function() {\r\n\t            var pt = this._storage[this._controller.selectedPageId];\r\n\t            if (!pt) {\r\n\t                pt = new Point();\r\n\t                this._storage[this._controller.selectedPageId] = pt;\r\n\t            }\r\n\t            pt.x = this._owner.x;\r\n\t            pt.y = this._owner.y;\r\n\t        }\r\n\t\r\n\t        __proto.updateFromRelations = function(dx, dy) {\r\n\t            if (this._controller == null || this._storage == null)\r\n\t                return;\r\n\t            for (var key in this._storage) {\r\n\t                var pt = this._storage[key];\r\n\t                pt.x += dx;\r\n\t                pt.y += dy;\r\n\t            }\r\n\t            this._default.x += dx;\r\n\t            this._default.y += dy;\r\n\t            this.updateState();\r\n\t        }\r\n\t\r\n\t        return GearXY;\r\n\t    })(GearBase)\r\n\t\r\n\t\r\n\t    //class fairygui.GLoader extends fairygui.GObject\r\n\t    var GLoader = (function(_super) {\r\n\t        function GLoader() {\r\n\t            this._url = null;\r\n\t            this._align = null;\r\n\t            this._valign = null;\r\n\t            this._autoSize = false;\r\n\t            this._fill = 0;\r\n\t            this._showErrorSign = false;\r\n\t            this._playing = false;\r\n\t            this._frame = 0;\r\n\t            this._color = null;\r\n\t            this._contentItem = null;\r\n\t            this._contentSourceWidth = 0;\r\n\t            this._contentSourceHeight = 0;\r\n\t            this._contentWidth = 0;\r\n\t            this._contentHeight = 0;\r\n\t            this._content = null;\r\n\t            this._errorSign = null;\r\n\t            this._updatingLayout = false;\r\n\t            GLoader.__super.call(this);\r\n\t            this._playing = true;\r\n\t            this._url = \"\";\r\n\t            this._fill = /*fairygui.LoaderFillType.None*/ 0;\r\n\t            this._align = \"left\";\r\n\t            this._valign = \"top\";\r\n\t            this._showErrorSign = true;\r\n\t            this._color = \"#FFFFFF\";\r\n\t        }\r\n\t\r\n\t        __class(GLoader, 'fairygui.GLoader', _super);\r\n\t        var __proto = GLoader.prototype;\r\n\t        Laya.imps(__proto, { \"fairygui.IAnimationGear\": true, \"fairygui.IColorGear\": true })\r\n\t        __proto.createDisplayObject = function() {\r\n\t            _super.prototype.createDisplayObject.call(this);\r\n\t            this._displayObject.mouseEnabled = true;\r\n\t        }\r\n\t\r\n\t        __proto.dispose = function() {\r\n\t            if (this._contentItem == null && ((this._content instanceof fairygui.display.Image))) {\r\n\t                var texture = (this._content).tex;\r\n\t                if (texture != null)\r\n\t                    this.freeExternal(texture);\r\n\t            }\r\n\t            _super.prototype.dispose.call(this);\r\n\t        }\r\n\t\r\n\t        __proto.applyColor = function() {}\r\n\t        __proto.loadContent = function() {\r\n\t            this.clearContent();\r\n\t            if (!this._url)\r\n\t                return;\r\n\t            if (ToolSet.startsWith(this._url, \"ui://\"))\r\n\t                this.loadFromPackage(this._url);\r\n\t            else\r\n\t                this.loadExternal();\r\n\t        }\r\n\t\r\n\t        __proto.loadFromPackage = function(itemURL) {\r\n\t            this._contentItem = UIPackage.getItemByURL(itemURL);\r\n\t            if (this._contentItem != null) {\r\n\t                this._contentItem.load();\r\n\t                if (this._autoSize)\r\n\t                    this.setSize(this._contentItem.width, this._contentItem.height);\r\n\t                if (this._contentItem.type == /*fairygui.PackageItemType.Image*/ 0) {\r\n\t                    if (this._contentItem.texture == null) {\r\n\t                        this.setErrorState();\r\n\t                    } else {\r\n\t                        if (!((this._content instanceof fairygui.display.Image))) {\r\n\t                            this._content = new Image1();\r\n\t                            this._displayObject.addChild(this._content);\r\n\t                        } else\r\n\t                            this._displayObject.addChild(this._content);\r\n\t                        (this._content).tex = this._contentItem.texture;\r\n\t                        (this._content).scale9Grid = this._contentItem.scale9Grid;\r\n\t                        (this._content).scaleByTile = this._contentItem.scaleByTile;\r\n\t                        (this._content).tileGridIndice = this._contentItem.tileGridIndice;\r\n\t                        this._contentSourceWidth = this._contentItem.width;\r\n\t                        this._contentSourceHeight = this._contentItem.height;\r\n\t                        this.updateLayout();\r\n\t                    }\r\n\t                } else if (this._contentItem.type == /*fairygui.PackageItemType.MovieClip*/ 2) {\r\n\t                    if (!((this._content instanceof fairygui.display.MovieClip))) {\r\n\t                        this._content = new MovieClip1();\r\n\t                        this._displayObject.addChild(this._content);\r\n\t                    } else\r\n\t                        this._displayObject.addChild(this._content);\r\n\t                    this._contentSourceWidth = this._contentItem.width;\r\n\t                    this._contentSourceHeight = this._contentItem.height;\r\n\t                    (this._content).interval = this._contentItem.interval;\r\n\t                    (this._content).swing = this._contentItem.swing;\r\n\t                    (this._content).repeatDelay = this._contentItem.repeatDelay;\r\n\t                    (this._content).frames = this._contentItem.frames;\r\n\t                    (this._content).boundsRect = new Rectangle(0, 0, this._contentSourceWidth, this._contentSourceHeight);\r\n\t                    this.updateLayout();\r\n\t                } else\r\n\t                    this.setErrorState();\r\n\t            } else\r\n\t                this.setErrorState();\r\n\t        }\r\n\t\r\n\t        __proto.loadExternal = function() {\r\n\t            AssetProxy.inst.load(this._url, Handler.create(this, this.__getResCompleted));\r\n\t        }\r\n\t\r\n\t        __proto.freeExternal = function(texture) {}\r\n\t        __proto.onExternalLoadSuccess = function(texture) {\r\n\t            if (!((this._content instanceof fairygui.display.Image))) {\r\n\t                this._content = new Image1();\r\n\t                this._displayObject.addChild(this._content);\r\n\t            } else\r\n\t                this._displayObject.addChild(this._content);\r\n\t            (this._content).tex = texture;\r\n\t            (this._content).scale9Grid = null;\r\n\t            (this._content).scaleByTile = false;\r\n\t            this._contentSourceWidth = texture.width;\r\n\t            this._contentSourceHeight = texture.height;\r\n\t            this.updateLayout();\r\n\t        }\r\n\t\r\n\t        __proto.onExternalLoadFailed = function() {\r\n\t            this.setErrorState();\r\n\t        }\r\n\t\r\n\t        __proto.__getResCompleted = function(tex) {\r\n\t            if (tex != null)\r\n\t                this.onExternalLoadSuccess(tex);\r\n\t            else\r\n\t                this.onExternalLoadFailed();\r\n\t        }\r\n\t\r\n\t        __proto.setErrorState = function() {\r\n\t            if (!this._showErrorSign)\r\n\t                return;\r\n\t            if (this._errorSign == null) {\r\n\t                if (UIConfig1.loaderErrorSign != null) {\r\n\t                    this._errorSign = fairygui.GLoader._errorSignPool.getObject(UIConfig1.loaderErrorSign);\r\n\t                }\r\n\t            }\r\n\t            if (this._errorSign != null) {\r\n\t                this._errorSign.setSize(this.width, this.height);\r\n\t                this._displayObject.addChild(this._errorSign.displayObject);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.clearErrorState = function() {\r\n\t            if (this._errorSign != null) {\r\n\t                this._displayObject.removeChild(this._errorSign.displayObject);\r\n\t                fairygui.GLoader._errorSignPool.returnObject(this._errorSign);\r\n\t                this._errorSign = null;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.updateLayout = function() {\r\n\t            if (this._content == null) {\r\n\t                if (this._autoSize) {\r\n\t                    this._updatingLayout = true;\r\n\t                    this.setSize(50, 30);\r\n\t                    this._updatingLayout = false;\r\n\t                }\r\n\t                return;\r\n\t            }\r\n\t            this._content.x = 0;\r\n\t            this._content.y = 0;\r\n\t            this._content.scaleX = 1;\r\n\t            this._content.scaleY = 1;\r\n\t            this._contentWidth = this._contentSourceWidth;\r\n\t            this._contentHeight = this._contentSourceHeight;\r\n\t            if (this._autoSize) {\r\n\t                this._updatingLayout = true;\r\n\t                if (this._contentWidth == 0)\r\n\t                    this._contentWidth = 50;\r\n\t                if (this._contentHeight == 0)\r\n\t                    this._contentHeight = 30;\r\n\t                this.setSize(this._contentWidth, this._contentHeight);\r\n\t                this._updatingLayout = false;\r\n\t                if (this._contentWidth == this._width && this._contentHeight == this._height)\r\n\t                    return;\r\n\t            };\r\n\t            var sx = 1,\r\n\t                sy = 1;\r\n\t            if (this._fill != /*fairygui.LoaderFillType.None*/ 0) {\r\n\t                sx = this.width / this._contentSourceWidth;\r\n\t                sy = this.height / this._contentSourceHeight;\r\n\t                if (sx != 1 || sy != 1) {\r\n\t                    if (this._fill == /*fairygui.LoaderFillType.ScaleMatchHeight*/ 2)\r\n\t                        sx = sy;\r\n\t                    else if (this._fill == /*fairygui.LoaderFillType.ScaleMatchWidth*/ 3)\r\n\t                        sy = sx;\r\n\t                    else if (this._fill == /*fairygui.LoaderFillType.Scale*/ 1) {\r\n\t                        if (sx > sy)\r\n\t                            sx = sy;\r\n\t                        else\r\n\t                            sy = sx;\r\n\t                    }\r\n\t                    this._contentWidth = this._contentSourceWidth * sx;\r\n\t                    this._contentHeight = this._contentSourceHeight * sy;\r\n\t                }\r\n\t            }\r\n\t            if ((this._content instanceof fairygui.display.Image))\r\n\t                (this._content).scaleTexture(sx, sy);\r\n\t            else\r\n\t                this._content.scale(sx, sy);\r\n\t            if (this._align == \"center\")\r\n\t                this._content.x = Math.floor((this.width - this._contentWidth) / 2);\r\n\t            else if (this._align == \"right\")\r\n\t                this._content.x = this.width - this._contentWidth;\r\n\t            if (this._valign == \"middle\")\r\n\t                this._content.y = Math.floor((this.height - this._contentHeight) / 2);\r\n\t            else if (this._valign == \"bottom\")\r\n\t                this._content.y = this.height - this._contentHeight;\r\n\t        }\r\n\t\r\n\t        __proto.clearContent = function() {\r\n\t            this.clearErrorState();\r\n\t            if (this._content != null && this._content.parent != null)\r\n\t                this._displayObject.removeChild(this._content);\r\n\t            if (this._contentItem == null && ((this._content instanceof fairygui.display.Image))) {\r\n\t                var texture = (this._content).tex;\r\n\t                if (texture != null)\r\n\t                    this.freeExternal(texture);\r\n\t            }\r\n\t            this._contentItem = null;\r\n\t        }\r\n\t\r\n\t        __proto.handleSizeChanged = function() {\r\n\t            _super.prototype.handleSizeChanged.call(this);\r\n\t            if (!this._updatingLayout)\r\n\t                this.updateLayout();\r\n\t        }\r\n\t\r\n\t        __proto.setup_beforeAdd = function(xml) {\r\n\t            _super.prototype.setup_beforeAdd.call(this, xml);\r\n\t            var str;\r\n\t            str = xml.getAttribute(\"url\");\r\n\t            if (str)\r\n\t                this._url = str;\r\n\t            str = xml.getAttribute(\"align\");\r\n\t            if (str)\r\n\t                this._align = str;\r\n\t            str = xml.getAttribute(\"vAlign\");\r\n\t            if (str)\r\n\t                this._valign = str;\r\n\t            str = xml.getAttribute(\"fill\");\r\n\t            if (str)\r\n\t                this._fill = LoaderFillType.parse(str);\r\n\t            this._autoSize = xml.getAttribute(\"autoSize\") == \"true\";\r\n\t            str = xml.getAttribute(\"errorSign\");\r\n\t            if (str)\r\n\t                this._showErrorSign = str == \"true\";\r\n\t            this._playing = xml.getAttribute(\"playing\") != \"false\";\r\n\t            str = xml.getAttribute(\"color\");\r\n\t            if (str)\r\n\t                this.color = str;\r\n\t            if (this._url)\r\n\t                this.loadContent();\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'frame', function() {\r\n\t            return this._frame;\r\n\t        }, function(value) {\r\n\t            if (this._frame != value) {\r\n\t                this._frame = value;\r\n\t                if ((this._content instanceof fairygui.display.MovieClip))\r\n\t                    (this._content).currentFrame = value;\r\n\t                this.updateGear(5);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'url', function() {\r\n\t            return this._url;\r\n\t        }, function(value) {\r\n\t            if (this._url == value)\r\n\t                return;\r\n\t            this._url = value;\r\n\t            this.loadContent();\r\n\t            this.updateGear(7);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'align', function() {\r\n\t            return this._align;\r\n\t        }, function(value) {\r\n\t            if (this._align != value) {\r\n\t                this._align = value;\r\n\t                this.updateLayout();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'color', function() {\r\n\t            return this._color;\r\n\t        }, function(value) {\r\n\t            if (this._color != value) {\r\n\t                this._color = value;\r\n\t                this.updateGear(4);\r\n\t                this.applyColor();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'fill', function() {\r\n\t            return this._fill;\r\n\t        }, function(value) {\r\n\t            if (this._fill != value) {\r\n\t                this._fill = value;\r\n\t                this.updateLayout();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'verticalAlign', function() {\r\n\t            return this._valign;\r\n\t        }, function(value) {\r\n\t            if (this._valign != value) {\r\n\t                this._valign = value;\r\n\t                this.updateLayout();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'icon', function() {\r\n\t            return this._url;\r\n\t        }, function(value) {\r\n\t            this.url = value;\r\n\t        });\r\n\t\r\n\t        //todo:\r\n\t        __getset(0, __proto, 'showErrorSign', function() {\r\n\t            return this._showErrorSign;\r\n\t        }, function(value) {\r\n\t            this._showErrorSign = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'autoSize', function() {\r\n\t            return this._autoSize;\r\n\t        }, function(value) {\r\n\t            if (this._autoSize != value) {\r\n\t                this._autoSize = value;\r\n\t                this.updateLayout();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'playing', function() {\r\n\t            return this._playing;\r\n\t        }, function(value) {\r\n\t            if (this._playing != value) {\r\n\t                this._playing = value;\r\n\t                if ((this._content instanceof fairygui.display.MovieClip))\r\n\t                    (this._content).playing = value;\r\n\t                this.updateGear(5);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'content', function() {\r\n\t            return this._content;\r\n\t        });\r\n\t\r\n\t        __static(GLoader, ['_errorSignPool', function() { return this._errorSignPool = new GObjectPool(); }]);\r\n\t        return GLoader;\r\n\t    })(GObject)\r\n\t\r\n\t\r\n\t    //class fairygui.GMovieClip extends fairygui.GObject\r\n\t    var GMovieClip = (function(_super) {\r\n\t        function GMovieClip() {\r\n\t            this.movieClip = null;\r\n\t            GMovieClip.__super.call(this);\r\n\t            this._sizeImplType = 1;\r\n\t        }\r\n\t\r\n\t        __class(GMovieClip, 'fairygui.GMovieClip', _super);\r\n\t        var __proto = GMovieClip.prototype;\r\n\t        Laya.imps(__proto, { \"fairygui.IAnimationGear\": true, \"fairygui.IColorGear\": true })\r\n\t        __proto.createDisplayObject = function() {\r\n\t            this._displayObject = this.movieClip = new MovieClip1();\r\n\t            this.movieClip.mouseEnabled = false;\r\n\t            this._displayObject[\"$owner\"] = this;\r\n\t        }\r\n\t\r\n\t        //startend-1times0endAt-1end\r\n\t        __proto.setPlaySettings = function(start, end, times, endAt, endHandler) {\r\n\t            (start === void 0) && (start = 0);\r\n\t            (end === void 0) && (end = -1);\r\n\t            (times === void 0) && (times = 0);\r\n\t            (endAt === void 0) && (endAt = -1);\r\n\t            this.movieClip.setPlaySettings(start, end, times, endAt, endHandler);\r\n\t        }\r\n\t\r\n\t        __proto.constructFromResource = function() {\r\n\t            this.sourceWidth = this.packageItem.width;\r\n\t            this.sourceHeight = this.packageItem.height;\r\n\t            this.initWidth = this.sourceWidth;\r\n\t            this.initHeight = this.sourceHeight;\r\n\t            this.setSize(this.sourceWidth, this.sourceHeight);\r\n\t            this.packageItem.load();\r\n\t            this.movieClip.interval = this.packageItem.interval;\r\n\t            this.movieClip.swing = this.packageItem.swing;\r\n\t            this.movieClip.repeatDelay = this.packageItem.repeatDelay;\r\n\t            this.movieClip.frames = this.packageItem.frames;\r\n\t            this.movieClip.boundsRect = new Rectangle(0, 0, this.sourceWidth, this.sourceHeight);\r\n\t        }\r\n\t\r\n\t        __proto.setup_beforeAdd = function(xml) {\r\n\t            _super.prototype.setup_beforeAdd.call(this, xml);\r\n\t            var str;\r\n\t            str = xml.getAttribute(\"frame\");\r\n\t            if (str)\r\n\t                this.movieClip.currentFrame = parseInt(str);\r\n\t            str = xml.getAttribute(\"playing\");\r\n\t            this.movieClip.playing = str != \"false\";\r\n\t            str = xml.getAttribute(\"color\");\r\n\t            if (str)\r\n\t                this.color = str;\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'color', function() {\r\n\t            return \"#FFFFFF\";\r\n\t        }, function(value) {});\r\n\t\r\n\t        __getset(0, __proto, 'playing', function() {\r\n\t            return this.movieClip.playing;\r\n\t        }, function(value) {\r\n\t            if (this.movieClip.playing != value) {\r\n\t                this.movieClip.playing = value;\r\n\t                this.updateGear(5);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'frame', function() {\r\n\t            return this.movieClip.currentFrame;\r\n\t        }, function(value) {\r\n\t            if (this.movieClip.currentFrame != value) {\r\n\t                this.movieClip.currentFrame = value;\r\n\t                this.updateGear(5);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        return GMovieClip;\r\n\t    })(GObject)\r\n\t\r\n\t\r\n\t    //class fairygui.GBasicTextField extends fairygui.GTextField\r\n\t    var GBasicTextField = (function(_super) {\r\n\t        var LineInfo, TextExt;\r\n\t\r\n\t        function GBasicTextField() {\r\n\t            this.textField = null;\r\n\t            this._font = null;\r\n\t            this._color = null;\r\n\t            this._text = null;\r\n\t            this._ubbEnabled = false;\r\n\t            this._singleLine = false;\r\n\t            this._letterSpacing = 0;\r\n\t            this._autoSize = 0;\r\n\t            this._widthAutoSize = false;\r\n\t            this._heightAutoSize = false;\r\n\t            this._updatingSize = false;\r\n\t            this._textWidth = 0;\r\n\t            this._textHeight = 0;\r\n\t            this._bitmapFont = null;\r\n\t            this._lines = null;\r\n\t            GBasicTextField.__super.call(this);\r\n\t            this._text = \"\";\r\n\t            this._color = \"#000000\";\r\n\t            this.textField.align = \"left\";\r\n\t            this.textField.font = UIConfig1.defaultFont;\r\n\t            this._autoSize = /*fairygui.AutoSizeType.Both*/ 1;\r\n\t            this._widthAutoSize = this._heightAutoSize = true;\r\n\t            this.textField[\"_sizeDirty\"] = false;\r\n\t        }\r\n\t\r\n\t        __class(GBasicTextField, 'fairygui.GBasicTextField', _super);\r\n\t        var __proto = GBasicTextField.prototype;\r\n\t        __proto.createDisplayObject = function() {\r\n\t            this._displayObject = this.textField = new TextExt(this);\r\n\t            this._displayObject[\"$owner\"] = this;\r\n\t            this._displayObject.mouseEnabled = false;\r\n\t        }\r\n\t\r\n\t        __proto.setAutoSize = function(value) {\r\n\t            this._autoSize = value;\r\n\t            this._widthAutoSize = value == /*fairygui.AutoSizeType.Both*/ 1;\r\n\t            this._heightAutoSize = value == /*fairygui.AutoSizeType.Both*/ 1 || value == /*fairygui.AutoSizeType.Height*/ 2;\r\n\t            this.textField.wordWrap = !this._widthAutoSize;\r\n\t            if (!this._underConstruct) {\r\n\t                if (!this._heightAutoSize)\r\n\t                    this.textField.size(this.width, this.height);\r\n\t                else if (!this._widthAutoSize)\r\n\t                    this.textField.width = this.width;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.ensureSizeCorrect = function() {\r\n\t            if (!this._underConstruct && this.textField[\"_isChanged\"])\r\n\t                this.textField.typeset();\r\n\t        }\r\n\t\r\n\t        __proto.typeset = function() {\r\n\t            if (this._bitmapFont != null)\r\n\t                this.renderWithBitmapFont();\r\n\t            else if (this._widthAutoSize || this._heightAutoSize)\r\n\t                this.updateSize();\r\n\t        }\r\n\t\r\n\t        __proto.updateSize = function() {\r\n\t            this._textWidth = Math.ceil(this.textField.textWidth);\r\n\t            this._textHeight = Math.ceil(this.textField.textHeight);\r\n\t            var w = NaN,\r\n\t                h = 0;\r\n\t            if (this._widthAutoSize) {\r\n\t                w = this._textWidth;\r\n\t                if (this.textField.width != w) {\r\n\t                    this.textField.width = w;\r\n\t                    if (this.textField.align != \"left\")\r\n\t                        this.textField[\"baseTypeset\"]();\r\n\t                }\r\n\t            } else\r\n\t                w = this.width;\r\n\t            if (this._heightAutoSize) {\r\n\t                h = this._textHeight;\r\n\t                if (!this._widthAutoSize) {\r\n\t                    if (this.textField.height != this._textHeight)\r\n\t                        this.textField.height = this._textHeight;\r\n\t                }\r\n\t            } else {\r\n\t                h = this.height;\r\n\t                if (this._textHeight > h)\r\n\t                    this._textHeight = h;\r\n\t                if (this.textField.height != this._textHeight)\r\n\t                    this.textField.height = this._textHeight;\r\n\t            }\r\n\t            this._updatingSize = true;\r\n\t            this.setSize(w, h);\r\n\t            this._updatingSize = false;\r\n\t        }\r\n\t\r\n\t        __proto.renderWithBitmapFont = function() {\r\n\t            var gr = this._displayObject.graphics;\r\n\t            gr.clear();\r\n\t            if (!this._lines)\r\n\t                this._lines = [];\r\n\t            else\r\n\t                LineInfo.returnList(this._lines);\r\n\t            var letterSpacing = this.letterSpacing;\r\n\t            var lineSpacing = this.leading - 1;\r\n\t            var rectWidth = this.width - /*CLASS CONST:fairygui.GBasicTextField.GUTTER_X*/ 2 * 2;\r\n\t            var lineWidth = 0,\r\n\t                lineHeight = 0,\r\n\t                lineTextHeight = 0;\r\n\t            var glyphWidth = 0,\r\n\t                glyphHeight = 0;\r\n\t            var wordChars = 0,\r\n\t                wordStart = 0,\r\n\t                wordEnd = 0;\r\n\t            var lastLineHeight = 0;\r\n\t            var lineBuffer = \"\";\r\n\t            var lineY = /*CLASS CONST:fairygui.GBasicTextField.GUTTER_Y*/ 2;\r\n\t            var line;\r\n\t            var wordWrap = !this._widthAutoSize && !this._singleLine;\r\n\t            var fontSize = this.fontSize;\r\n\t            var fontScale = this._bitmapFont.resizable ? fontSize / this._bitmapFont.size : 1;\r\n\t            this._textWidth = 0;\r\n\t            this._textHeight = 0;\r\n\t            var textLength = this._text.length;\r\n\t            for (var offset = 0; offset < textLength; ++offset) {\r\n\t                var ch = this._text.charAt(offset);\r\n\t                var cc = ch.charCodeAt(0);\r\n\t                if (cc == 10) {\r\n\t                    lineBuffer += ch;\r\n\t                    line = LineInfo.borrow();\r\n\t                    line.width = lineWidth;\r\n\t                    if (lineTextHeight == 0) {\r\n\t                        if (lastLineHeight == 0)\r\n\t                            lastLineHeight = fontSize;\r\n\t                        if (lineHeight == 0)\r\n\t                            lineHeight = lastLineHeight;\r\n\t                        lineTextHeight = lineHeight;\r\n\t                    }\r\n\t                    line.height = lineHeight;\r\n\t                    lastLineHeight = lineHeight;\r\n\t                    line.textHeight = lineTextHeight;\r\n\t                    line.text = lineBuffer;\r\n\t                    line.y = lineY;\r\n\t                    lineY += (line.height + lineSpacing);\r\n\t                    if (line.width > this._textWidth)\r\n\t                        this._textWidth = line.width;\r\n\t                    this._lines.push(line);\r\n\t                    lineBuffer = \"\";\r\n\t                    lineWidth = 0;\r\n\t                    lineHeight = 0;\r\n\t                    lineTextHeight = 0;\r\n\t                    wordChars = 0;\r\n\t                    wordStart = 0;\r\n\t                    wordEnd = 0;\r\n\t                    continue;\r\n\t                }\r\n\t                if (cc >= 65 && cc <= 90 || cc >= 97 && cc <= 122) {\r\n\t                    if (wordChars == 0)\r\n\t                        wordStart = lineWidth;\r\n\t                    wordChars++;\r\n\t                } else {\r\n\t                    if (wordChars > 0)\r\n\t                        wordEnd = lineWidth;\r\n\t                    wordChars = 0;\r\n\t                }\r\n\t                if (cc == 32) {\r\n\t                    glyphWidth = Math.ceil(fontSize / 2);\r\n\t                    glyphHeight = fontSize;\r\n\t                } else {\r\n\t                    var glyph = this._bitmapFont.glyphs[ch];\r\n\t                    if (glyph) {\r\n\t                        glyphWidth = Math.ceil(glyph.advance * fontScale);\r\n\t                        glyphHeight = Math.ceil(glyph.lineHeight * fontScale);\r\n\t                    } else {\r\n\t                        glyphWidth = 0;\r\n\t                        glyphHeight = 0;\r\n\t                    }\r\n\t                }\r\n\t                if (glyphHeight > lineTextHeight)\r\n\t                    lineTextHeight = glyphHeight;\r\n\t                if (glyphHeight > lineHeight)\r\n\t                    lineHeight = glyphHeight;\r\n\t                if (lineWidth != 0)\r\n\t                    lineWidth += letterSpacing;\r\n\t                lineWidth += glyphWidth;\r\n\t                if (!wordWrap || lineWidth <= rectWidth) {\r\n\t                    lineBuffer += ch;\r\n\t                } else {\r\n\t                    line = LineInfo.borrow();\r\n\t                    line.height = lineHeight;\r\n\t                    line.textHeight = lineTextHeight;\r\n\t                    if (lineBuffer.length == 0) {\r\n\t                        line.text = ch;\r\n\t                    } else if (wordChars > 0 && wordEnd > 0) {\r\n\t                        lineBuffer += ch;\r\n\t                        var len = lineBuffer.length - wordChars;\r\n\t                        line.text = ToolSet.trimRight(lineBuffer.substr(0, len));\r\n\t                        line.width = wordEnd;\r\n\t                        lineBuffer = lineBuffer.substr(len);\r\n\t                        lineWidth -= wordStart;\r\n\t                    } else {\r\n\t                        line.text = lineBuffer;\r\n\t                        line.width = lineWidth - (glyphWidth + letterSpacing);\r\n\t                        lineBuffer = ch;\r\n\t                        lineWidth = glyphWidth;\r\n\t                        lineHeight = glyphHeight;\r\n\t                        lineTextHeight = glyphHeight;\r\n\t                    }\r\n\t                    line.y = lineY;\r\n\t                    lineY += (line.height + lineSpacing);\r\n\t                    if (line.width > this._textWidth)\r\n\t                        this._textWidth = line.width;\r\n\t                    wordChars = 0;\r\n\t                    wordStart = 0;\r\n\t                    wordEnd = 0;\r\n\t                    this._lines.push(line);\r\n\t                }\r\n\t            }\r\n\t            if (lineBuffer.length > 0) {\r\n\t                line = LineInfo.borrow();\r\n\t                line.width = lineWidth;\r\n\t                if (lineHeight == 0)\r\n\t                    lineHeight = lastLineHeight;\r\n\t                if (lineTextHeight == 0)\r\n\t                    lineTextHeight = lineHeight;\r\n\t                line.height = lineHeight;\r\n\t                line.textHeight = lineTextHeight;\r\n\t                line.text = lineBuffer;\r\n\t                line.y = lineY;\r\n\t                if (line.width > this._textWidth)\r\n\t                    this._textWidth = line.width;\r\n\t                this._lines.push(line);\r\n\t            }\r\n\t            if (this._textWidth > 0)\r\n\t                this._textWidth += /*CLASS CONST:fairygui.GBasicTextField.GUTTER_X*/ 2 * 2;\r\n\t            var count = this._lines.length;\r\n\t            if (count == 0) {\r\n\t                this._textHeight = 0;\r\n\t            } else {\r\n\t                line = this._lines[this._lines.length - 1];\r\n\t                this._textHeight = line.y + line.height + /*CLASS CONST:fairygui.GBasicTextField.GUTTER_Y*/ 2;\r\n\t            };\r\n\t            var w = NaN,\r\n\t                h = 0;\r\n\t            if (this._widthAutoSize) {\r\n\t                if (this._textWidth == 0)\r\n\t                    w = 0;\r\n\t                else\r\n\t                    w = this._textWidth;\r\n\t            } else\r\n\t                w = this.width;\r\n\t            if (this._heightAutoSize) {\r\n\t                if (this._textHeight == 0)\r\n\t                    h = 0;\r\n\t                else\r\n\t                    h = this._textHeight;\r\n\t            } else\r\n\t                h = this.height;\r\n\t            this._updatingSize = true;\r\n\t            this.setSize(w, h);\r\n\t            this._updatingSize = false;\r\n\t            this.doAlign();\r\n\t            if (w == 0 || h == 0)\r\n\t                return;\r\n\t            var charX = /*CLASS CONST:fairygui.GBasicTextField.GUTTER_X*/ 2;\r\n\t            var lineIndent = 0;\r\n\t            var charIndent = 0;\r\n\t            rectWidth = this.width - /*CLASS CONST:fairygui.GBasicTextField.GUTTER_X*/ 2 * 2;\r\n\t            var lineCount = this._lines.length;\r\n\t            for (var i = 0; i < lineCount; i++) {\r\n\t                line = this._lines[i];\r\n\t                charX = /*CLASS CONST:fairygui.GBasicTextField.GUTTER_X*/ 2;\r\n\t                if (this.align == \"center\")\r\n\t                    lineIndent = (rectWidth - line.width) / 2;\r\n\t                else if (this.align == \"right\")\r\n\t                    lineIndent = rectWidth - line.width;\r\n\t                else\r\n\t                    lineIndent = 0;\r\n\t                textLength = line.text.length;\r\n\t                for (var j = 0; j < textLength; j++) {\r\n\t                    ch = line.text.charAt(j);\r\n\t                    cc = ch.charCodeAt(0);\r\n\t                    if (cc == 10)\r\n\t                        continue;\r\n\t                    if (cc == 32) {\r\n\t                        charX += this._letterSpacing + Math.ceil(fontSize / 2);\r\n\t                        continue;\r\n\t                    }\r\n\t                    glyph = this._bitmapFont.glyphs[ch];\r\n\t                    if (glyph != null) {\r\n\t                        charIndent = (line.height + line.textHeight) / 2 - Math.ceil(glyph.lineHeight * fontScale);\r\n\t                        gr.drawTexture(glyph.texture,\r\n\t                            charX + lineIndent + Math.ceil(glyph.offsetX * fontScale),\r\n\t                            line.y + charIndent + Math.ceil(glyph.offsetY * fontScale),\r\n\t                            glyph.texture.width * fontScale,\r\n\t                            glyph.texture.height * fontScale);\r\n\t                        charX += letterSpacing + Math.ceil(glyph.advance * fontScale);\r\n\t                    } else {\r\n\t                        charX += letterSpacing;\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        //line loop\r\n\t        __proto.handleSizeChanged = function() {\r\n\t            if (this._updatingSize)\r\n\t                return;\r\n\t            if (this._underConstruct)\r\n\t                this.textField.size(this.width, this.height);\r\n\t            else {\r\n\t                if (this._bitmapFont != null) {\r\n\t                    if (!this._widthAutoSize)\r\n\t                        this.textField[\"setChanged\"]();\r\n\t                    else\r\n\t                        this.doAlign();\r\n\t                } else {\r\n\t                    if (!this._widthAutoSize) {\r\n\t                        if (!this._heightAutoSize)\r\n\t                            this.textField.size(this.width, this.height);\r\n\t                        else\r\n\t                            this.textField.width = this.width;\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.handleGrayedChanged = function() {\r\n\t            fairygui.GObject.prototype.handleGrayedChanged.call(this);\r\n\t            if (this.grayed)\r\n\t                this.textField.color = \"#AAAAAA\";\r\n\t            else\r\n\t                this.textField.color = this._color;\r\n\t        }\r\n\t\r\n\t        __proto.doAlign = function() {\r\n\t            if (this.valign == \"top\" || this._textHeight == 0)\r\n\t                this._yOffset = /*CLASS CONST:fairygui.GBasicTextField.GUTTER_Y*/ 2;\r\n\t            else {\r\n\t                var dh = this.height - this._textHeight;\r\n\t                if (dh < 0)\r\n\t                    dh = 0;\r\n\t                if (this.valign == \"middle\")\r\n\t                    this._yOffset = Math.floor(dh / 2);\r\n\t                else\r\n\t                    this._yOffset = Math.floor(dh);\r\n\t            }\r\n\t            this.handleXYChanged();\r\n\t        }\r\n\t\r\n\t        __proto.setup_beforeAdd = function(xml) {\r\n\t            _super.prototype.setup_beforeAdd.call(this, xml);\r\n\t            var str;\r\n\t            str = xml.getAttribute(\"autoSize\");\r\n\t            if (str)\r\n\t                this.setAutoSize(AutoSizeType.parse(str));\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'bold', function() {\r\n\t            return this.textField.bold;\r\n\t        }, function(value) {\r\n\t            this.textField.bold = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'letterSpacing', function() {\r\n\t            return this._letterSpacing;\r\n\t        }, function(value) {\r\n\t            this._letterSpacing = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'align', function() {\r\n\t            return this.textField.align;\r\n\t        }, function(value) {\r\n\t            this.textField.align = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'text', function() {\r\n\t            return this._text;\r\n\t        }, function(value) {\r\n\t            this._text = value;\r\n\t            if (this._text == null)\r\n\t                this._text = \"\";\r\n\t            if (this._bitmapFont == null) {\r\n\t                if (this._widthAutoSize)\r\n\t                    this.textField.width = 10000;\r\n\t                if (this._ubbEnabled)\r\n\t                    this.textField.text = ToolSet.removeUBB(ToolSet.encodeHTML(this._text));\r\n\t                else\r\n\t                    this.textField.text = this._text;\r\n\t            } else {\r\n\t                this.textField.text = \"\";\r\n\t                this.textField[\"setChanged\"]();\r\n\t            }\r\n\t            if (this.parent && this.parent._underConstruct)\r\n\t                this.textField.typeset();\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'color', function() {\r\n\t            return this._color;\r\n\t        }, function(value) {\r\n\t            if (this._color != value) {\r\n\t                this._color = value;\r\n\t                if (this._gearColor.controller)\r\n\t                    this._gearColor.updateState();\r\n\t                if (this.grayed)\r\n\t                    this.textField.color = \"#AAAAAA\";\r\n\t                else\r\n\t                    this.textField.color = this._color;\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'font', function() {\r\n\t            return this.textField.font;\r\n\t        }, function(value) {\r\n\t            this._font = value;\r\n\t            if (ToolSet.startsWith(this._font, \"ui://\")) {\r\n\t                this._bitmapFont = UIPackage.getBitmapFontByURL(this._font);\r\n\t                this.textField[\"setChanged\"]();\r\n\t            } else {\r\n\t                this._bitmapFont = null;\r\n\t                if (this._font)\r\n\t                    this.textField.font = this._font;\r\n\t                else\r\n\t                    this.textField.font = UIConfig1.defaultFont;\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'leading', function() {\r\n\t            return this.textField.leading;\r\n\t        }, function(value) {\r\n\t            this.textField.leading = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'fontSize', function() {\r\n\t            return this.textField.fontSize;\r\n\t        }, function(value) {\r\n\t            this.textField.fontSize = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'valign', function() {\r\n\t            return this.textField.valign;\r\n\t        }, function(value) {\r\n\t            this.textField.valign = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'italic', function() {\r\n\t            return this.textField.italic;\r\n\t        }, function(value) {\r\n\t            this.textField.italic = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'underline', function() {\r\n\t            return this.textField.underline;\r\n\t        }, function(value) {\r\n\t            this.textField.underline = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'singleLine', function() {\r\n\t            return this._singleLine;\r\n\t        }, function(value) {\r\n\t            this._singleLine = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'stroke', function() {\r\n\t            return this.textField.stroke;\r\n\t        }, function(value) {\r\n\t            this.textField.stroke = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'strokeColor', function() {\r\n\t            return this.textField.strokeColor;\r\n\t        }, function(value) {\r\n\t            this.textField.strokeColor = value;\r\n\t            this.updateGear(4);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'ubbEnabled', function() {\r\n\t            return this._ubbEnabled;\r\n\t        }, function(value) {\r\n\t            this._ubbEnabled = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'autoSize', function() {\r\n\t            return this._autoSize;\r\n\t        }, function(value) {\r\n\t            if (this._autoSize != value) {\r\n\t                this.setAutoSize(value);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'textWidth', function() {\r\n\t            if (this.textField[\"_isChanged\"])\r\n\t                this.textField.typeset();\r\n\t            return this._textWidth;\r\n\t        });\r\n\t\r\n\t        GBasicTextField.GUTTER_X = 2;\r\n\t        GBasicTextField.GUTTER_Y = 2;\r\n\t        GBasicTextField.__init$ = function() {\r\n\t            //class LineInfo\r\n\t            LineInfo = (function() {\r\n\t                    function LineInfo() {\r\n\t                        this.width = 0;\r\n\t                        this.height = 0;\r\n\t                        this.textHeight = 0;\r\n\t                        this.text = null;\r\n\t                        this.y = 0;\r\n\t                    }\r\n\t                    __class(LineInfo, '');\r\n\t                    LineInfo.borrow = function() {\r\n\t                        if (LineInfo.pool.length) {\r\n\t                            var ret = LineInfo.pool.pop();\r\n\t                            ret.width = 0;\r\n\t                            ret.height = 0;\r\n\t                            ret.textHeight = 0;\r\n\t                            ret.text = null;\r\n\t                            ret.y = 0;\r\n\t                            return ret;\r\n\t                        } else\r\n\t                            return new LineInfo();\r\n\t                    }\r\n\t                    LineInfo.returns = function(value) {\r\n\t                        LineInfo.pool.push(value);\r\n\t                    }\r\n\t                    LineInfo.returnList = function(value) {\r\n\t                        var length = value.length;\r\n\t                        for (var i = 0; i < length; i++) {\r\n\t                            var li = value[i];\r\n\t                            LineInfo.pool.push(li);\r\n\t                        }\r\n\t                        value.length = 0;\r\n\t                    }\r\n\t                    LineInfo.pool = [];\r\n\t                    return LineInfo;\r\n\t                })()\r\n\t                //class TextExt extends laya.display.Text\r\n\t            TextExt = (function(_super) {\r\n\t                function TextExt(owner) {\r\n\t                    this._owner = null;\r\n\t                    this._lock = false;\r\n\t                    this._sizeDirty = false;\r\n\t                    TextExt.__super.call(this);\r\n\t                    this._owner = owner;\r\n\t                }\r\n\t                __class(TextExt, '', _super);\r\n\t                var __proto = TextExt.prototype;\r\n\t                __proto.baseTypeset = function() {\r\n\t                    this._lock = true;\r\n\t                    this.typeset();\r\n\t                    this._lock = false;\r\n\t                }\r\n\t                __proto.typeset = function() {\r\n\t                    this._sizeDirty = true;\r\n\t                    _super.prototype.typeset.call(this);\r\n\t                    if (!this._lock)\r\n\t                        this._owner.typeset();\r\n\t                    if (this._isChanged) {\r\n\t                        Laya.timer.clear(this, this.typeset);\r\n\t                        this._isChanged = false;\r\n\t                    }\r\n\t                    this._sizeDirty = false;\r\n\t                }\r\n\t                __proto.setChanged = function() {\r\n\t                    this.isChanged = true;\r\n\t                }\r\n\t                __getset(0, __proto, 'isChanged', null, function(value) {\r\n\t                    if (value && !this._sizeDirty) {\r\n\t                        if (this._owner.autoSize != /*fairygui.AutoSizeType.None*/ 0 && this._owner.parent) {\r\n\t                            this._sizeDirty = true;\r\n\t                            this.event( /*fairygui.Events.SIZE_DELAY_CHANGE*/ \"fui_size_delay_change\");\r\n\t                        }\r\n\t                    }\r\n\t                    _super.prototype._$set_isChanged.call(this, value);\r\n\t                });\r\n\t                return TextExt;\r\n\t            })(Text)\r\n\t        }\r\n\t\r\n\t        return GBasicTextField;\r\n\t    })(GTextField)\r\n\t\r\n\t\r\n\t    //class fairygui.GButton extends fairygui.GComponent\r\n\t    var GButton = (function(_super) {\r\n\t        function GButton() {\r\n\t            this._titleObject = null;\r\n\t            this._iconObject = null;\r\n\t            this._relatedController = null;\r\n\t            this._mode = 0;\r\n\t            this._selected = false;\r\n\t            this._title = null;\r\n\t            this._selectedTitle = null;\r\n\t            this._icon = null;\r\n\t            this._selectedIcon = null;\r\n\t            this._sound = null;\r\n\t            this._soundVolumeScale = 0;\r\n\t            this._pageOption = null;\r\n\t            this._buttonController = null;\r\n\t            this._changeStateOnClick = false;\r\n\t            this._linkedPopup = null;\r\n\t            this._downEffect = 0;\r\n\t            this._downEffectValue = 0;\r\n\t            this._downScaled = false;\r\n\t            this._down = false;\r\n\t            this._over = false;\r\n\t            GButton.__super.call(this);\r\n\t            this._mode = /*fairygui.ButtonMode.Common*/ 0;\r\n\t            this._title = \"\";\r\n\t            this._icon = \"\";\r\n\t            this._sound = UIConfig1.buttonSound;\r\n\t            this._soundVolumeScale = UIConfig1.buttonSoundVolumeScale;\r\n\t            this._pageOption = new PageOption();\r\n\t            this._changeStateOnClick = true;\r\n\t            this._downEffectValue = 0.8;\r\n\t        }\r\n\t\r\n\t        __class(GButton, 'fairygui.GButton', _super);\r\n\t        var __proto = GButton.prototype;\r\n\t        __proto.fireClick = function(downEffect) {\r\n\t            (downEffect === void 0) && (downEffect = true);\r\n\t            if (downEffect && this._mode == /*fairygui.ButtonMode.Common*/ 0) {\r\n\t                this.setState( /*CLASS CONST:fairygui.GButton.OVER*/ \"over\");\r\n\t                Laya.timer.once(100, this, this.setState, [ /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\"]);\r\n\t                Laya.timer.once(200, this, this.setState, [ /*CLASS CONST:fairygui.GButton.UP*/ \"up\"]);\r\n\t            }\r\n\t            this.__click(Events.createEvent( /*laya.events.Event.CLICK*/ \"click\", this.displayObject));\r\n\t        }\r\n\t\r\n\t        __proto.setState = function(val) {\r\n\t            if (this._buttonController)\r\n\t                this._buttonController.selectedPage = val;\r\n\t            if (this._downEffect == 1) {\r\n\t                var cnt = this.numChildren;\r\n\t                if (val == /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\" || val == /*CLASS CONST:fairygui.GButton.SELECTED_OVER*/ \"selectedOver\" || val == /*CLASS CONST:fairygui.GButton.SELECTED_DISABLED*/ \"selectedDisabled\") {\r\n\t                    var r = this._downEffectValue * 255;\r\n\t                    var color = Utils.toHexColor((r << 16) + (r << 8) + r);\r\n\t                    for (var i = 0; i < cnt; i++) {\r\n\t                        var obj = this.getChildAt(i);\r\n\t                        if (((obj instanceof fairygui.GImage)) || ((obj instanceof fairygui.GLoader)) ||\r\n\t                            ((obj instanceof fairygui.GMovieClip)))\r\n\t                            (obj).color = color;\r\n\t                    }\r\n\t                } else {\r\n\t                    for (i = 0; i < cnt; i++) {\r\n\t                        obj = this.getChildAt(i);\r\n\t                        if (((obj instanceof fairygui.GImage)) || ((obj instanceof fairygui.GLoader)) ||\r\n\t                            ((obj instanceof fairygui.GMovieClip)))\r\n\t                            (obj).color = \"#FFFFFF\";\r\n\t                    }\r\n\t                }\r\n\t            } else if (this._downEffect == 2) {\r\n\t                if (val == /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\" || val == /*CLASS CONST:fairygui.GButton.SELECTED_OVER*/ \"selectedOver\" || val == /*CLASS CONST:fairygui.GButton.SELECTED_DISABLED*/ \"selectedDisabled\") {\r\n\t                    if (!this._downScaled) {\r\n\t                        this.setScale(this.scaleX * this._downEffectValue, this.scaleY * this._downEffectValue);\r\n\t                        this._downScaled = true;\r\n\t                    }\r\n\t                } else {\r\n\t                    if (this._downScaled) {\r\n\t                        this.setScale(this.scaleX / this._downEffectValue, this.scaleY / this._downEffectValue);\r\n\t                        this._downScaled = false;\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.handleControllerChanged = function(c) {\r\n\t            _super.prototype.handleControllerChanged.call(this, c);\r\n\t            if (this._relatedController == c)\r\n\t                this.selected = this._pageOption.id == c.selectedPageId;\r\n\t        }\r\n\t\r\n\t        __proto.handleGrayedChanged = function() {\r\n\t            if (this._buttonController && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\")) {\r\n\t                if (this.grayed) {\r\n\t                    if (this._selected && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.SELECTED_DISABLED*/ \"selectedDisabled\"))\r\n\t                        this.setState( /*CLASS CONST:fairygui.GButton.SELECTED_DISABLED*/ \"selectedDisabled\");\r\n\t                    else\r\n\t                        this.setState( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\");\r\n\t                } else if (this._selected)\r\n\t                    this.setState( /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\");\r\n\t                else\r\n\t                    this.setState( /*CLASS CONST:fairygui.GButton.UP*/ \"up\");\r\n\t            } else\r\n\t                _super.prototype.handleGrayedChanged.call(this);\r\n\t        }\r\n\t\r\n\t        __proto.constructFromXML = function(xml) {\r\n\t            _super.prototype.constructFromXML.call(this, xml);\r\n\t            xml = ToolSet.findChildNode(xml, \"Button\");\r\n\t            var str;\r\n\t            str = xml.getAttribute(\"mode\");\r\n\t            if (str)\r\n\t                this._mode = ButtonMode.parse(str);\r\n\t            str = xml.getAttribute(\"sound\");\r\n\t            if (str)\r\n\t                this._sound = str;\r\n\t            str = xml.getAttribute(\"volume\");\r\n\t            if (str)\r\n\t                this._soundVolumeScale = parseInt(str) / 100;\r\n\t            str = xml.getAttribute(\"downEffect\");\r\n\t            if (str) {\r\n\t                this._downEffect = str == \"dark\" ? 1 : (str == \"scale\" ? 2 : 0);\r\n\t                str = xml.getAttribute(\"downEffectValue\");\r\n\t                this._downEffectValue = parseFloat(str);\r\n\t                if (this._downEffect == 2)\r\n\t                    this.setPivot(0.5, 0.5);\r\n\t            }\r\n\t            this._buttonController = this.getController(\"button\");\r\n\t            this._titleObject = this.getChild(\"title\");\r\n\t            this._iconObject = this.getChild(\"icon\");\r\n\t            if (this._titleObject != null)\r\n\t                this._title = this._titleObject.text;\r\n\t            if (this._iconObject != null)\r\n\t                this._icon = this._iconObject.icon;\r\n\t            if (this._mode == /*fairygui.ButtonMode.Common*/ 0)\r\n\t                this.setState( /*CLASS CONST:fairygui.GButton.UP*/ \"up\");\r\n\t            this.on( /*laya.events.Event.ROLL_OVER*/ \"mouseover\", this, this.__rollover);\r\n\t            this.on( /*laya.events.Event.ROLL_OUT*/ \"mouseout\", this, this.__rollout);\r\n\t            this.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__mousedown);\r\n\t            this.on( /*laya.events.Event.CLICK*/ \"click\", this, this.__click);\r\n\t        }\r\n\t\r\n\t        __proto.setup_afterAdd = function(xml) {\r\n\t            _super.prototype.setup_afterAdd.call(this, xml);\r\n\t            xml = ToolSet.findChildNode(xml, \"Button\");\r\n\t            if (xml) {\r\n\t                var str;\r\n\t                str = xml.getAttribute(\"title\");\r\n\t                if (str)\r\n\t                    this.title = str;\r\n\t                str = xml.getAttribute(\"icon\");\r\n\t                if (str)\r\n\t                    this.icon = str;\r\n\t                str = xml.getAttribute(\"selectedTitle\");\r\n\t                if (str)\r\n\t                    this.selectedTitle = str;\r\n\t                str = xml.getAttribute(\"selectedIcon\");\r\n\t                if (str)\r\n\t                    this.selectedIcon = str;\r\n\t                str = xml.getAttribute(\"titleColor\");\r\n\t                if (str)\r\n\t                    this.titleColor = str;\r\n\t                str = xml.getAttribute(\"titleFontSize\");\r\n\t                if (str)\r\n\t                    this.titleFontSize = parseInt(str);\r\n\t                str = xml.getAttribute(\"sound\");\r\n\t                if (str != null)\r\n\t                    this._sound = str;\r\n\t                str = xml.getAttribute(\"volume\");\r\n\t                if (str)\r\n\t                    this._soundVolumeScale = parseInt(str) / 100;\r\n\t                str = xml.getAttribute(\"controller\");\r\n\t                if (str)\r\n\t                    this._relatedController = this._parent.getController(str);\r\n\t                else\r\n\t                    this._relatedController = null;\r\n\t                this._pageOption.id = xml.getAttribute(\"page\");\r\n\t                this.selected = xml.getAttribute(\"checked\") == \"true\";\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__rollover = function() {\r\n\t            if (!this._buttonController || !this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.OVER*/ \"over\"))\r\n\t                return;\r\n\t            this._over = true;\r\n\t            if (this._down)\r\n\t                return;\r\n\t            if (this.grayed && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\"))\r\n\t                return;\r\n\t            this.setState(this._selected ? /*CLASS CONST:fairygui.GButton.SELECTED_OVER*/ \"selectedOver\" : /*CLASS CONST:fairygui.GButton.OVER*/ \"over\");\r\n\t        }\r\n\t\r\n\t        __proto.__rollout = function() {\r\n\t            if (!this._buttonController || !this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.OVER*/ \"over\"))\r\n\t                return;\r\n\t            this._over = false;\r\n\t            if (this._down)\r\n\t                return;\r\n\t            if (this.grayed && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\"))\r\n\t                return;\r\n\t            this.setState(this._selected ? /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\" : /*CLASS CONST:fairygui.GButton.UP*/ \"up\");\r\n\t        }\r\n\t\r\n\t        __proto.__mousedown = function(evt) {\r\n\t            this._down = true;\r\n\t            GRoot.inst.checkPopups(evt.target);\r\n\t            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseup);\r\n\t            if (this._mode == /*fairygui.ButtonMode.Common*/ 0) {\r\n\t                if (this.grayed && this._buttonController && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\"))\r\n\t                    this.setState( /*CLASS CONST:fairygui.GButton.SELECTED_DISABLED*/ \"selectedDisabled\");\r\n\t                else\r\n\t                    this.setState( /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\");\r\n\t            }\r\n\t            if (this._linkedPopup != null) {\r\n\t                if ((this._linkedPopup instanceof fairygui.Window))\r\n\t                    (this._linkedPopup).toggleStatus();\r\n\t                else\r\n\t                    this.root.togglePopup(this._linkedPopup, this);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__mouseup = function() {\r\n\t            if (this._down) {\r\n\t                Laya.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseup);\r\n\t                this._down = false;\r\n\t                if (this._mode == /*fairygui.ButtonMode.Common*/ 0) {\r\n\t                    if (this.grayed && this._buttonController && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\"))\r\n\t                        this.setState( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\");\r\n\t                    else if (this._over)\r\n\t                        this.setState( /*CLASS CONST:fairygui.GButton.OVER*/ \"over\");\r\n\t                    else\r\n\t                        this.setState( /*CLASS CONST:fairygui.GButton.UP*/ \"up\");\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__click = function(evt) {\r\n\t            if (this._sound) {\r\n\t                var pi = UIPackage.getItemByURL(this._sound);\r\n\t                if (pi)\r\n\t                    GRoot.inst.playOneShotSound(pi.owner.getItemAssetURL(pi));\r\n\t                else\r\n\t                    GRoot.inst.playOneShotSound(this._sound);\r\n\t            }\r\n\t            if (this._mode == /*fairygui.ButtonMode.Check*/ 1) {\r\n\t                if (this._changeStateOnClick) {\r\n\t                    this.selected = !this._selected;\r\n\t                    Events.dispatch( /*fairygui.Events.STATE_CHANGED*/ \"fui_state_changed\", this.displayObject, evt);\r\n\t                }\r\n\t            } else if (this._mode == /*fairygui.ButtonMode.Radio*/ 2) {\r\n\t                if (this._changeStateOnClick && !this._selected) {\r\n\t                    this.selected = true;\r\n\t                    Events.dispatch( /*fairygui.Events.STATE_CHANGED*/ \"fui_state_changed\", this.displayObject, evt);\r\n\t                }\r\n\t            } else {\r\n\t                if (this._relatedController)\r\n\t                    this._relatedController.selectedPageId = this._pageOption.id;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'relatedController', function() {\r\n\t            return this._relatedController;\r\n\t        }, function(val) {\r\n\t            if (val != this._relatedController) {\r\n\t                this._relatedController = val;\r\n\t                this._pageOption.controller = val;\r\n\t                this._pageOption.clear();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'icon', function() {\r\n\t            return this._icon;\r\n\t        }, function(value) {\r\n\t            this._icon = value;\r\n\t            value = (this._selected && this._selectedIcon) ? this._selectedIcon : this._icon;\r\n\t            if (this._iconObject != null)\r\n\t                this._iconObject.icon = value;\r\n\t            this.updateGear(7);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'titleFontSize', function() {\r\n\t            if ((this._titleObject instanceof fairygui.GTextField))\r\n\t                return (this._titleObject).fontSize;\r\n\t            else if ((this._titleObject instanceof fairygui.GLabel))\r\n\t                return (this._titleObject).titleFontSize;\r\n\t            else if ((this._titleObject instanceof fairygui.GButton))\r\n\t                return (this._titleObject).titleFontSize;\r\n\t            else\r\n\t                return 0;\r\n\t        }, function(value) {\r\n\t            if ((this._titleObject instanceof fairygui.GTextField))\r\n\t                (this._titleObject).fontSize = value;\r\n\t            else if ((this._titleObject instanceof fairygui.GLabel))\r\n\t                (this._titleObject).titleFontSize = value;\r\n\t            else if ((this._titleObject instanceof fairygui.GButton))\r\n\t                (this._titleObject).titleFontSize = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'selectedIcon', function() {\r\n\t            return this._selectedIcon;\r\n\t        }, function(value) {\r\n\t            this._selectedIcon = value;\r\n\t            value = (this._selected && this._selectedIcon) ? this._selectedIcon : this._icon;\r\n\t            if (this._iconObject != null)\r\n\t                this._iconObject.icon = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'title', function() {\r\n\t            return this._title;\r\n\t        }, function(value) {\r\n\t            this._title = value;\r\n\t            if (this._titleObject)\r\n\t                this._titleObject.text = (this._selected && this._selectedTitle) ? this._selectedTitle : this._title;\r\n\t            this.updateGear(6);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'text', function() {\r\n\t            return this.title;\r\n\t        }, function(value) {\r\n\t            this.title = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'selectedTitle', function() {\r\n\t            return this._selectedTitle;\r\n\t        }, function(value) {\r\n\t            this._selectedTitle = value;\r\n\t            if (this._titleObject)\r\n\t                this._titleObject.text = (this._selected && this._selectedTitle) ? this._selectedTitle : this._title;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'soundVolumeScale', function() {\r\n\t            return this._soundVolumeScale;\r\n\t        }, function(value) {\r\n\t            this._soundVolumeScale = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'sound', function() {\r\n\t            return this._sound;\r\n\t        }, function(val) {\r\n\t            this._sound = val;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'titleColor', function() {\r\n\t            if ((this._titleObject instanceof fairygui.GTextField))\r\n\t                return (this._titleObject).color;\r\n\t            else if ((this._titleObject instanceof fairygui.GLabel))\r\n\t                return (this._titleObject).titleColor;\r\n\t            else if ((this._titleObject instanceof fairygui.GButton))\r\n\t                return (this._titleObject).titleColor;\r\n\t            else\r\n\t                return \"#000000\";\r\n\t        }, function(value) {\r\n\t            if ((this._titleObject instanceof fairygui.GTextField))\r\n\t                (this._titleObject).color = value;\r\n\t            else if ((this._titleObject instanceof fairygui.GLabel))\r\n\t                (this._titleObject).titleColor = value;\r\n\t            else if ((this._titleObject instanceof fairygui.GButton))\r\n\t                (this._titleObject).titleColor = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'selected', function() {\r\n\t            return this._selected;\r\n\t        }, function(val) {\r\n\t            if (this._mode == /*fairygui.ButtonMode.Common*/ 0)\r\n\t                return;\r\n\t            if (this._selected != val) {\r\n\t                this._selected = val;\r\n\t                if (this.grayed && this._buttonController && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\")) {\r\n\t                    if (this._selected)\r\n\t                        this.setState( /*CLASS CONST:fairygui.GButton.SELECTED_DISABLED*/ \"selectedDisabled\");\r\n\t                    else\r\n\t                        this.setState( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\");\r\n\t                } else {\r\n\t                    if (this._selected)\r\n\t                        this.setState(this._over ? /*CLASS CONST:fairygui.GButton.SELECTED_OVER*/ \"selectedOver\" : /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\");\r\n\t                    else\r\n\t                        this.setState(this._over ? /*CLASS CONST:fairygui.GButton.OVER*/ \"over\" : /*CLASS CONST:fairygui.GButton.UP*/ \"up\");\r\n\t                }\r\n\t                if (this._selectedTitle && this._titleObject)\r\n\t                    this._titleObject.text = this._selected ? this._selectedTitle : this._title;\r\n\t                if (this._selectedIcon) {\r\n\t                    var str = this._selected ? this._selectedIcon : this._icon;\r\n\t                    if (this._iconObject != null)\r\n\t                        this._iconObject.icon = str;\r\n\t                }\r\n\t                if (this._relatedController &&\r\n\t                    this._parent &&\r\n\t                    !this._parent._buildingDisplayList) {\r\n\t                    if (this._selected) {\r\n\t                        this._relatedController.selectedPageId = this._pageOption.id;\r\n\t                        if (this._relatedController._autoRadioGroupDepth)\r\n\t                            this._parent.adjustRadioGroupDepth(this, this._relatedController);\r\n\t                    } else if (this._mode == /*fairygui.ButtonMode.Check*/ 1 && this._relatedController.selectedPageId == this._pageOption.id)\r\n\t                        this._relatedController.oppositePageId = this._pageOption.id;\r\n\t                }\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'mode', function() {\r\n\t            return this._mode;\r\n\t        }, function(value) {\r\n\t            if (this._mode != value) {\r\n\t                if (value == /*fairygui.ButtonMode.Common*/ 0)\r\n\t                    this.selected = false;\r\n\t                this._mode = value;\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'pageOption', function() {\r\n\t            return this._pageOption;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'changeStateOnClick', function() {\r\n\t            return this._changeStateOnClick;\r\n\t        }, function(value) {\r\n\t            this._changeStateOnClick = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'linkedPopup', function() {\r\n\t            return this._linkedPopup;\r\n\t        }, function(value) {\r\n\t            this._linkedPopup = value;\r\n\t        });\r\n\t\r\n\t        GButton.UP = \"up\";\r\n\t        GButton.DOWN = \"down\";\r\n\t        GButton.OVER = \"over\";\r\n\t        GButton.SELECTED_OVER = \"selectedOver\";\r\n\t        GButton.DISABLED = \"disabled\";\r\n\t        GButton.SELECTED_DISABLED = \"selectedDisabled\";\r\n\t        return GButton;\r\n\t    })(GComponent)\r\n\t\r\n\t\r\n\t    //class fairygui.GComboBox extends fairygui.GComponent\r\n\t    var GComboBox = (function(_super) {\r\n\t        function GComboBox() {\r\n\t            this.dropdown = null;\r\n\t            this._titleObject = null;\r\n\t            this._iconObject = null;\r\n\t            this._list = null;\r\n\t            this._items = null;\r\n\t            this._icons = null;\r\n\t            this._values = null;\r\n\t            this._popupDownward = null;\r\n\t            this._visibleItemCount = 0;\r\n\t            this._itemsUpdated = false;\r\n\t            this._selectedIndex = 0;\r\n\t            this._buttonController = null;\r\n\t            this._selectionController = null;\r\n\t            this._down = false;\r\n\t            this._over = false;\r\n\t            GComboBox.__super.call(this);\r\n\t            this._visibleItemCount = UIConfig1.defaultComboBoxVisibleItemCount;\r\n\t            this._itemsUpdated = true;\r\n\t            this._selectedIndex = -1;\r\n\t            this._items = [];\r\n\t            this._values = [];\r\n\t        }\r\n\t\r\n\t        __class(GComboBox, 'fairygui.GComboBox', _super);\r\n\t        var __proto = GComboBox.prototype;\r\n\t        __proto.setState = function(val) {\r\n\t            if (this._buttonController)\r\n\t                this._buttonController.selectedPage = val;\r\n\t        }\r\n\t\r\n\t        __proto.handleControllerChanged = function(c) {\r\n\t            _super.prototype.handleControllerChanged.call(this, c);\r\n\t            if (this._selectionController == c)\r\n\t                this.selectedIndex = c.selectedIndex;\r\n\t        }\r\n\t\r\n\t        __proto.updateSelectionController = function() {\r\n\t            if (this._selectionController != null && !this._selectionController.changing &&\r\n\t                this._selectedIndex < this._selectionController.pageCount) {\r\n\t                var c = this._selectionController;\r\n\t                this._selectionController = null;\r\n\t                c.selectedIndex = this._selectedIndex;\r\n\t                this._selectionController = c;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.dispose = function() {\r\n\t            if (this.dropdown) {\r\n\t                this.dropdown.dispose();\r\n\t                this.dropdown = null;\r\n\t            }\r\n\t            this._selectionController = null;\r\n\t            _super.prototype.dispose.call(this);\r\n\t        }\r\n\t\r\n\t        __proto.constructFromXML = function(xml) {\r\n\t            _super.prototype.constructFromXML.call(this, xml);\r\n\t            xml = ToolSet.findChildNode(xml, \"ComboBox\");\r\n\t            var str;\r\n\t            this._buttonController = this.getController(\"button\");\r\n\t            this._titleObject = this.getChild(\"title\");\r\n\t            this._iconObject = this.getChild(\"icon\");\r\n\t            str = xml.getAttribute(\"dropdown\");\r\n\t            if (str) {\r\n\t                this.dropdown = (UIPackage.createObjectFromURL(str));\r\n\t                if (!this.dropdown) {\r\n\t                    Log.print(\"\");\r\n\t                    return;\r\n\t                }\r\n\t                this.dropdown.name = \"this._dropdownObject\";\r\n\t                this._list = this.dropdown.getChild(\"list\").asList;\r\n\t                if (this._list == null) {\r\n\t                    Log.print(this.resourceURL + \": list\");\r\n\t                    return;\r\n\t                }\r\n\t                this._list.on( /*fairygui.Events.CLICK_ITEM*/ \"fui_click_item\", this, this.__clickItem);\r\n\t                this._list.addRelation(this.dropdown, /*fairygui.RelationType.Width*/ 14);\r\n\t                this._list.removeRelation(this.dropdown, /*fairygui.RelationType.Height*/ 15);\r\n\t                this.dropdown.addRelation(this._list, /*fairygui.RelationType.Height*/ 15);\r\n\t                this.dropdown.removeRelation(this._list, /*fairygui.RelationType.Width*/ 14);\r\n\t                this.dropdown.displayObject.on( /*laya.events.Event.UNDISPLAY*/ \"undisplay\", this, this.__popupWinClosed);\r\n\t            }\r\n\t            this.on( /*laya.events.Event.ROLL_OVER*/ \"mouseover\", this, this.__rollover);\r\n\t            this.on( /*laya.events.Event.ROLL_OUT*/ \"mouseout\", this, this.__rollout);\r\n\t            this.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__mousedown);\r\n\t        }\r\n\t\r\n\t        __proto.setup_afterAdd = function(xml) {\r\n\t            _super.prototype.setup_afterAdd.call(this, xml);\r\n\t            xml = ToolSet.findChildNode(xml, \"ComboBox\");\r\n\t            if (xml) {\r\n\t                var str;\r\n\t                str = xml.getAttribute(\"titleColor\");\r\n\t                if (str)\r\n\t                    this.titleColor = str;\r\n\t                str = xml.getAttribute(\"visibleItemCount\");\r\n\t                if (str)\r\n\t                    this._visibleItemCount = parseInt(str);\r\n\t                var col = xml.childNodes;\r\n\t                var length = col.length;\r\n\t                for (var i = 0; i < length; i++) {\r\n\t                    var cxml = col[i];\r\n\t                    if (cxml.nodeName == \"item\") {\r\n\t                        this._items.push(cxml.getAttribute(\"title\"));\r\n\t                        this._values.push(cxml.getAttribute(\"value\"));\r\n\t                        str = cxml.getAttribute(\"icon\");\r\n\t                        if (str) {\r\n\t                            if (!this._icons)\r\n\t                                this._icons = new Array(length);\r\n\t                            this._icons[i] = str;\r\n\t                        }\r\n\t                    }\r\n\t                }\r\n\t                str = xml.getAttribute(\"title\");\r\n\t                if (str) {\r\n\t                    this.text = str;\r\n\t                    this._selectedIndex = this._items.indexOf(str);\r\n\t                } else if (this._items.length > 0) {\r\n\t                    this._selectedIndex = 0;\r\n\t                    this.text = this._items[0];\r\n\t                } else\r\n\t                    this._selectedIndex = -1;\r\n\t                str = xml.getAttribute(\"icon\");\r\n\t                if (str)\r\n\t                    this.icon = str;\r\n\t                str = xml.getAttribute(\"direction\");\r\n\t                if (str) {\r\n\t                    if (str == \"up\")\r\n\t                        this._popupDownward = false;\r\n\t                    else if (str == \"auto\")\r\n\t                        this._popupDownward = null;\r\n\t                }\r\n\t                str = xml.getAttribute(\"selectionController\");\r\n\t                if (str)\r\n\t                    this._selectionController = this.parent.getController(str);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.showDropdown = function() {\r\n\t            if (this._itemsUpdated) {\r\n\t                this._itemsUpdated = false;\r\n\t                this._list.removeChildrenToPool();\r\n\t                var cnt = this._items.length;\r\n\t                for (var i = 0; i < cnt; i++) {\r\n\t                    var item = this._list.addItemFromPool();\r\n\t                    item.name = i < this._values.length ? this._values[i] : \"\";\r\n\t                    item.text = this._items[i];\r\n\t                    item.icon = (this._icons != null && i < this._icons.length) ? this._icons[i] : null;\r\n\t                }\r\n\t                this._list.resizeToFit(this._visibleItemCount);\r\n\t            }\r\n\t            this._list.selectedIndex = -1;\r\n\t            this.dropdown.width = this.width;\r\n\t            this.root.togglePopup(this.dropdown, this, this._popupDownward);\r\n\t            if (this.dropdown.parent)\r\n\t                this.setState( /*fairygui.GButton.DOWN*/ \"down\");\r\n\t        }\r\n\t\r\n\t        __proto.__popupWinClosed = function() {\r\n\t            if (this._over)\r\n\t                this.setState( /*fairygui.GButton.OVER*/ \"over\");\r\n\t            else\r\n\t                this.setState( /*fairygui.GButton.UP*/ \"up\");\r\n\t        }\r\n\t\r\n\t        __proto.__clickItem = function(itemObject, evt) {\r\n\t            Laya.timer.callLater(this, this.__clickItem2, [this._list.getChildIndex(itemObject), evt])\r\n\t        }\r\n\t\r\n\t        __proto.__clickItem2 = function(index, evt) {\r\n\t            if ((this.dropdown.parent instanceof fairygui.GRoot))\r\n\t                (this.dropdown.parent).hidePopup();\r\n\t            this._selectedIndex = -1;\r\n\t            this.selectedIndex = index;\r\n\t            Events.dispatch( /*fairygui.Events.STATE_CHANGED*/ \"fui_state_changed\", this.displayObject, evt);\r\n\t        }\r\n\t\r\n\t        __proto.__rollover = function() {\r\n\t            this._over = true;\r\n\t            if (this._down || this.dropdown && this.dropdown.parent)\r\n\t                return;\r\n\t            this.setState( /*fairygui.GButton.OVER*/ \"over\");\r\n\t        }\r\n\t\r\n\t        __proto.__rollout = function() {\r\n\t            this._over = false;\r\n\t            if (this._down || this.dropdown && this.dropdown.parent)\r\n\t                return;\r\n\t            this.setState( /*fairygui.GButton.UP*/ \"up\");\r\n\t        }\r\n\t\r\n\t        __proto.__mousedown = function(evt) {\r\n\t            if ((evt.target instanceof laya.display.Input))\r\n\t                return;\r\n\t            this._down = true;\r\n\t            GRoot.inst.checkPopups(evt.target);\r\n\t            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseup);\r\n\t            if (this.dropdown)\r\n\t                this.showDropdown();\r\n\t        }\r\n\t\r\n\t        __proto.__mouseup = function() {\r\n\t            if (this._down) {\r\n\t                this._down = false;\r\n\t                Laya.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseup);\r\n\t                if (this.dropdown && !this.dropdown.parent) {\r\n\t                    if (this._over)\r\n\t                        this.setState( /*fairygui.GButton.OVER*/ \"over\");\r\n\t                    else\r\n\t                        this.setState( /*fairygui.GButton.UP*/ \"up\");\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'text', function() {\r\n\t            if (this._titleObject)\r\n\t                return this._titleObject.text;\r\n\t            else\r\n\t                return null;\r\n\t        }, function(value) {\r\n\t            if (this._titleObject)\r\n\t                this._titleObject.text = value;\r\n\t            this.updateGear(6);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'titleColor', function() {\r\n\t            if ((this._titleObject instanceof fairygui.GTextField))\r\n\t                return (this._titleObject).color;\r\n\t            else if ((this._titleObject instanceof fairygui.GLabel))\r\n\t                return (this._titleObject).titleColor;\r\n\t            else if ((this._titleObject instanceof fairygui.GButton))\r\n\t                return (this._titleObject).titleColor;\r\n\t            else\r\n\t                return \"#000000\";\r\n\t        }, function(value) {\r\n\t            if ((this._titleObject instanceof fairygui.GTextField))\r\n\t                (this._titleObject).color = value;\r\n\t            else if ((this._titleObject instanceof fairygui.GLabel))\r\n\t                (this._titleObject).titleColor = value;\r\n\t            else if ((this._titleObject instanceof fairygui.GButton))\r\n\t                (this._titleObject).titleColor = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'selectedIndex', function() {\r\n\t            return this._selectedIndex;\r\n\t        }, function(val) {\r\n\t            if (this._selectedIndex == val)\r\n\t                return;\r\n\t            this._selectedIndex = val;\r\n\t            if (this._selectedIndex >= 0 && this._selectedIndex < this._items.length) {\r\n\t                this.text = this._items[this._selectedIndex];\r\n\t                if (this._icons != null && this._selectedIndex < this._icons.length)\r\n\t                    this.icon = this._icons[this._selectedIndex];\r\n\t            } else {\r\n\t                this.text = \"\";\r\n\t                if (this._icons != null)\r\n\t                    this.icon = null;\r\n\t            }\r\n\t            this.updateSelectionController();\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'icon', function() {\r\n\t            if (this._iconObject)\r\n\t                return this._iconObject.icon;\r\n\t            else\r\n\t                return null;\r\n\t        }, function(value) {\r\n\t            if (this._iconObject)\r\n\t                this._iconObject.icon = value;\r\n\t            this.updateGear(7);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'icons', function() {\r\n\t            return this._icons;\r\n\t        }, function(value) {\r\n\t            this._icons = value;\r\n\t            if (this._icons != null && this._selectedIndex != -1 && this._selectedIndex < this._icons.length)\r\n\t                this.icon = this._icons[this._selectedIndex];\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'selectionController', function() {\r\n\t            return this._selectionController;\r\n\t        }, function(value) {\r\n\t            this._selectionController = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'visibleItemCount', function() {\r\n\t            return this._visibleItemCount;\r\n\t        }, function(value) {\r\n\t            this._visibleItemCount = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'popupDownward', function() {\r\n\t            return this._popupDownward;\r\n\t        }, function(value) {\r\n\t            this._popupDownward = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'values', function() {\r\n\t            return this._values;\r\n\t        }, function(value) {\r\n\t            if (!value)\r\n\t                this._values.length = 0;\r\n\t            else\r\n\t                this._values = value.concat();\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'items', function() {\r\n\t            return this._items;\r\n\t        }, function(value) {\r\n\t            if (!value)\r\n\t                this._items.length = 0;\r\n\t            else\r\n\t                this._items = value.concat();\r\n\t            if (this._items.length > 0) {\r\n\t                if (this._selectedIndex >= this._items.length)\r\n\t                    this._selectedIndex = this._items.length - 1;\r\n\t                else if (this._selectedIndex == -1)\r\n\t                    this._selectedIndex = 0;\r\n\t                this.text = this._items[this._selectedIndex];\r\n\t                if (this._icons != null && this._selectedIndex < this._icons.length)\r\n\t                    this.icon = this._icons[this._selectedIndex];\r\n\t            } else {\r\n\t                this.text = \"\";\r\n\t                if (this._icons != null)\r\n\t                    this.icon = null;\r\n\t                this._selectedIndex = -1;\r\n\t            }\r\n\t            this._itemsUpdated = true;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'value', function() {\r\n\t            return this._values[this._selectedIndex];\r\n\t        }, function(val) {\r\n\t            this.selectedIndex = this._values.indexOf(val);\r\n\t        });\r\n\t\r\n\t        return GComboBox;\r\n\t    })(GComponent)\r\n\t\r\n\t\r\n\t    //class fairygui.GLabel extends fairygui.GComponent\r\n\t    var GLabel = (function(_super) {\r\n\t        function GLabel() {\r\n\t            this._titleObject = null;\r\n\t            this._iconObject = null;\r\n\t            GLabel.__super.call(this);\r\n\t        }\r\n\t\r\n\t        __class(GLabel, 'fairygui.GLabel', _super);\r\n\t        var __proto = GLabel.prototype;\r\n\t        Laya.imps(__proto, { \"fairygui.IColorGear\": true })\r\n\t        __proto.constructFromXML = function(xml) {\r\n\t            _super.prototype.constructFromXML.call(this, xml);\r\n\t            this._titleObject = this.getChild(\"title\");\r\n\t            this._iconObject = this.getChild(\"icon\");\r\n\t        }\r\n\t\r\n\t        __proto.setup_afterAdd = function(xml) {\r\n\t            _super.prototype.setup_afterAdd.call(this, xml);\r\n\t            xml = ToolSet.findChildNode(xml, \"Label\");\r\n\t            if (xml) {\r\n\t                var str;\r\n\t                str = xml.getAttribute(\"title\");\r\n\t                if (str)\r\n\t                    this.text = str;\r\n\t                str = xml.getAttribute(\"icon\");\r\n\t                if (str)\r\n\t                    this.icon = str;\r\n\t                str = xml.getAttribute(\"titleColor\");\r\n\t                if (str)\r\n\t                    this.titleColor = str;\r\n\t                str = xml.getAttribute(\"titleFontSize\");\r\n\t                if (str)\r\n\t                    this.titleFontSize = parseInt(str);\r\n\t                if ((this._titleObject instanceof fairygui.GTextInput)) {\r\n\t                    str = xml.getAttribute(\"prompt\");\r\n\t                    if (str)\r\n\t                        (this._titleObject).promptText = str;\r\n\t                    str = xml.getAttribute(\"maxLength\");\r\n\t                    if (str)\r\n\t                        (this._titleObject).maxLength = parseInt(str);\r\n\t                    str = xml.getAttribute(\"restrict\");\r\n\t                    if (str)\r\n\t                        (this._titleObject).restrict = str;\r\n\t                    str = xml.getAttribute(\"password\");\r\n\t                    if (str)\r\n\t                        (this._titleObject).password = str == \"true\";\r\n\t                    str = xml.getAttribute(\"keyboardType\");\r\n\t                    if (str == \"4\")\r\n\t                        (this._titleObject).keyboardType = /*laya.display.Input.TYPE_NUMBER*/ \"number\";\r\n\t                    else if (str == \"3\")\r\n\t                        (this._titleObject).keyboardType = /*laya.display.Input.TYPE_URL*/ \"url\";\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'color', function() {\r\n\t            return this.titleColor;\r\n\t        }, function(value) {\r\n\t            this.titleColor = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'icon', function() {\r\n\t            if (this._iconObject != null)\r\n\t                return this._iconObject.icon;\r\n\t            else\r\n\t                return null;\r\n\t        }, function(value) {\r\n\t            if (this._iconObject != null)\r\n\t                this._iconObject.icon = value;\r\n\t            this.updateGear(7);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'editable', function() {\r\n\t            if (this._titleObject && ((this._titleObject instanceof fairygui.GTextInput)))\r\n\t                return this._titleObject.asTextInput.editable;\r\n\t            else\r\n\t                return false;\r\n\t        }, function(val) {\r\n\t            if (this._titleObject)\r\n\t                this._titleObject.asTextInput.editable = val;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'title', function() {\r\n\t            if (this._titleObject)\r\n\t                return this._titleObject.text;\r\n\t            else\r\n\t                return null;\r\n\t        }, function(value) {\r\n\t            if (this._titleObject)\r\n\t                this._titleObject.text = value;\r\n\t            this.updateGear(6);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'text', function() {\r\n\t            return this.title;\r\n\t        }, function(value) {\r\n\t            this.title = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'titleColor', function() {\r\n\t            if ((this._titleObject instanceof fairygui.GTextField))\r\n\t                return (this._titleObject).color;\r\n\t            else if ((this._titleObject instanceof fairygui.GLabel))\r\n\t                return (this._titleObject).titleColor;\r\n\t            else if ((this._titleObject instanceof fairygui.GButton))\r\n\t                return (this._titleObject).titleColor;\r\n\t            else\r\n\t                return \"#000000\";\r\n\t        }, function(value) {\r\n\t            if ((this._titleObject instanceof fairygui.GTextField))\r\n\t                (this._titleObject).color = value;\r\n\t            else if ((this._titleObject instanceof fairygui.GLabel))\r\n\t                (this._titleObject).titleColor = value;\r\n\t            else if ((this._titleObject instanceof fairygui.GButton))\r\n\t                (this._titleObject).titleColor = value;\r\n\t            this.updateGear(4);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'titleFontSize', function() {\r\n\t            if ((this._titleObject instanceof fairygui.GTextField))\r\n\t                return (this._titleObject).fontSize;\r\n\t            else if ((this._titleObject instanceof fairygui.GLabel))\r\n\t                return (this._titleObject).titleFontSize;\r\n\t            else if ((this._titleObject instanceof fairygui.GButton))\r\n\t                return (this._titleObject).titleFontSize;\r\n\t            else\r\n\t                return 0;\r\n\t        }, function(value) {\r\n\t            if ((this._titleObject instanceof fairygui.GTextField))\r\n\t                (this._titleObject).fontSize = value;\r\n\t            else if ((this._titleObject instanceof fairygui.GLabel))\r\n\t                (this._titleObject).titleFontSize = value;\r\n\t            else if ((this._titleObject instanceof fairygui.GButton))\r\n\t                (this._titleObject).titleFontSize = value;\r\n\t        });\r\n\t\r\n\t        return GLabel;\r\n\t    })(GComponent)\r\n\t\r\n\t\r\n\t    //class fairygui.GList extends fairygui.GComponent\r\n\t    var GList = (function(_super) {\r\n\t        var ItemInfo;\r\n\t\r\n\t        function GList() {\r\n\t            this.itemRenderer = null;\r\n\t            this.itemProvider = null;\r\n\t            this.scrollItemToViewOnClick = false;\r\n\t            this.foldInvisibleItems = false;\r\n\t            this._layout = 0;\r\n\t            this._lineCount = 0;\r\n\t            this._columnCount = 0;\r\n\t            this._lineGap = 0;\r\n\t            this._columnGap = 0;\r\n\t            this._defaultItem = null;\r\n\t            this._autoResizeItem = false;\r\n\t            this._selectionMode = 0;\r\n\t            this._align = null;\r\n\t            this._verticalAlign = null;\r\n\t            this._selectionController = null;\r\n\t            this._lastSelectedIndex = 0;\r\n\t            this._pool = null;\r\n\t            this._virtual = false;\r\n\t            this._loop = false;\r\n\t            this._numItems = 0;\r\n\t            this._realNumItems = 0;\r\n\t            this._firstIndex = 0;\r\n\t            this._curLineItemCount = 0;\r\n\t            this._curLineItemCount2 = 0;\r\n\t            this._itemSize = null;\r\n\t            this._virtualListChanged = 0;\r\n\t            this._virtualItems = null;\r\n\t            this._eventLocked = false;\r\n\t            GList.__super.call(this);\r\n\t            this._trackBounds = true;\r\n\t            this._pool = new GObjectPool();\r\n\t            this._layout = /*fairygui.ListLayoutType.SingleColumn*/ 0;\r\n\t            this._autoResizeItem = true;\r\n\t            this._lastSelectedIndex = -1;\r\n\t            this._selectionMode = /*fairygui.ListSelectionMode.Single*/ 0;\r\n\t            this.opaque = true;\r\n\t            this.scrollItemToViewOnClick = true;\r\n\t            this._align = \"left\";\r\n\t            this._verticalAlign = \"top\";\r\n\t            this._container = new Sprite();\r\n\t            this._displayObject.addChild(this._container);\r\n\t        }\r\n\t\r\n\t        __class(GList, 'fairygui.GList', _super);\r\n\t        var __proto = GList.prototype;\r\n\t        __proto.dispose = function() {\r\n\t            this._pool.clear();\r\n\t            _super.prototype.dispose.call(this);\r\n\t        }\r\n\t\r\n\t        __proto.getFromPool = function(url) {\r\n\t            if (!url)\r\n\t                url = this._defaultItem;\r\n\t            var obj = this._pool.getObject(url);\r\n\t            if (obj != null)\r\n\t                obj.visible = true;\r\n\t            return obj;\r\n\t        }\r\n\t\r\n\t        __proto.returnToPool = function(obj) {\r\n\t            obj.displayObject.cacheAsBitmap = false;\r\n\t            this._pool.returnObject(obj);\r\n\t        }\r\n\t\r\n\t        __proto.addChildAt = function(child, index) {\r\n\t            (index === void 0) && (index = 0);\r\n\t            _super.prototype.addChildAt.call(this, child, index);\r\n\t            if ((child instanceof fairygui.GButton)) {\r\n\t                var button = (child);\r\n\t                button.selected = false;\r\n\t                button.changeStateOnClick = false;\r\n\t            }\r\n\t            child.on( /*laya.events.Event.CLICK*/ \"click\", this, this.__clickItem);\r\n\t            return child;\r\n\t        }\r\n\t\r\n\t        __proto.addItem = function(url) {\r\n\t            if (!url)\r\n\t                url = this._defaultItem;\r\n\t            return this.addChild(UIPackage.createObjectFromURL(url));\r\n\t        }\r\n\t\r\n\t        __proto.addItemFromPool = function(url) {\r\n\t            return this.addChild(this.getFromPool(url));\r\n\t        }\r\n\t\r\n\t        __proto.removeChildAt = function(index, dispose) {\r\n\t            (dispose === void 0) && (dispose = false);\r\n\t            var child = _super.prototype.removeChildAt.call(this, index, dispose);\r\n\t            child.off( /*laya.events.Event.CLICK*/ \"click\", this, this.__clickItem);\r\n\t            return child;\r\n\t        }\r\n\t\r\n\t        __proto.removeChildToPoolAt = function(index) {\r\n\t            (index === void 0) && (index = 0);\r\n\t            var child = _super.prototype.removeChildAt.call(this, index);\r\n\t            this.returnToPool(child);\r\n\t        }\r\n\t\r\n\t        __proto.removeChildToPool = function(child) {\r\n\t            this.removeChild(child);\r\n\t            this.returnToPool(child);\r\n\t        }\r\n\t\r\n\t        __proto.removeChildrenToPool = function(beginIndex, endIndex) {\r\n\t            (beginIndex === void 0) && (beginIndex = 0);\r\n\t            (endIndex === void 0) && (endIndex = -1);\r\n\t            if (endIndex < 0 || endIndex >= this._children.length)\r\n\t                endIndex = this._children.length - 1;\r\n\t            for (var i = beginIndex; i <= endIndex; ++i)\r\n\t                this.removeChildToPoolAt(beginIndex);\r\n\t        }\r\n\t\r\n\t        __proto.getSelection = function() {\r\n\t            var ret = [];\r\n\t            var cnt = this._children.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var obj = this._children[i];\r\n\t                if (((obj instanceof fairygui.GButton)) && (obj).selected)\r\n\t                    ret.push(this.childIndexToItemIndex(i));\r\n\t            }\r\n\t            return ret;\r\n\t        }\r\n\t\r\n\t        __proto.addSelection = function(index, scrollItToView) {\r\n\t            (scrollItToView === void 0) && (scrollItToView = false);\r\n\t            if (this._selectionMode == /*fairygui.ListSelectionMode.None*/ 3)\r\n\t                return;\r\n\t            this.checkVirtualList();\r\n\t            if (this._selectionMode == /*fairygui.ListSelectionMode.Single*/ 0)\r\n\t                this.clearSelection();\r\n\t            if (scrollItToView)\r\n\t                this.scrollToView(index);\r\n\t            index = this.itemIndexToChildIndex(index);\r\n\t            if (index < 0 || index >= this._children.length)\r\n\t                return;\r\n\t            var obj = this.getChildAt(index);\r\n\t            if (((obj instanceof fairygui.GButton)) && !(obj).selected) {\r\n\t                (obj).selected = true;\r\n\t                this.updateSelectionController(index);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.removeSelection = function(index) {\r\n\t            (index === void 0) && (index = 0);\r\n\t            if (this._selectionMode == /*fairygui.ListSelectionMode.None*/ 3)\r\n\t                return;\r\n\t            index = this.itemIndexToChildIndex(index);\r\n\t            if (index >= this._children.length)\r\n\t                return;\r\n\t            var obj = this.getChildAt(index);\r\n\t            if (((obj instanceof fairygui.GButton)) && (obj).selected)\r\n\t                (obj).selected = false;\r\n\t        }\r\n\t\r\n\t        __proto.clearSelection = function() {\r\n\t            var cnt = this._children.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var obj = this._children[i];\r\n\t                if ((obj instanceof fairygui.GButton))\r\n\t                    (obj).selected = false;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.selectAll = function() {\r\n\t            this.checkVirtualList();\r\n\t            var cnt = this._children.length;\r\n\t            var last = -1;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var obj = this._children[i];\r\n\t                if ((obj instanceof fairygui.GButton)) {\r\n\t                    (obj).selected = true;\r\n\t                    last = i;\r\n\t                }\r\n\t            }\r\n\t            if (last != -1)\r\n\t                this.updateSelectionController(last);\r\n\t        }\r\n\t\r\n\t        __proto.selectNone = function() {\r\n\t            this.checkVirtualList();\r\n\t            var cnt = this._children.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var obj = this._children[i];\r\n\t                if ((obj instanceof fairygui.GButton))\r\n\t                    (obj).selected = false;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.selectReverse = function() {\r\n\t            var cnt = this._children.length;\r\n\t            var last = -1;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var obj = this._children[i];\r\n\t                if ((obj instanceof fairygui.GButton)) {\r\n\t                    (obj).selected = !(obj).selected;\r\n\t                    if ((obj).selected)\r\n\t                        last = i;\r\n\t                }\r\n\t            }\r\n\t            if (last != -1)\r\n\t                this.updateSelectionController(last);\r\n\t        }\r\n\t\r\n\t        __proto.handleArrowKey = function(dir) {\r\n\t            (dir === void 0) && (dir = 0);\r\n\t            var index = this.selectedIndex;\r\n\t            if (index == -1)\r\n\t                return;\r\n\t            switch (dir) {\r\n\t                case 1:\r\n\t                    if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n\t                        index--;\r\n\t                        if (index >= 0) {\r\n\t                            this.clearSelection();\r\n\t                            this.addSelection(index, true);\r\n\t                        }\r\n\t                    } else if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n\t                        var current = this._children[index];\r\n\t                        var k = 0;\r\n\t                        for (var i = index - 1; i >= 0; i--) {\r\n\t                            var obj = this._children[i];\r\n\t                            if (obj.y != current.y) {\r\n\t                                current = obj;\r\n\t                                break;\r\n\t                            }\r\n\t                            k++;\r\n\t                        }\r\n\t                        for (; i >= 0; i--) {\r\n\t                            obj = this._children[i];\r\n\t                            if (obj.y != current.y) {\r\n\t                                this.clearSelection();\r\n\t                                this.addSelection(i + k + 1, true);\r\n\t                                break;\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                    break;\r\n\t                case 3:\r\n\t                    if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n\t                        index++;\r\n\t                        if (index < this._children.length) {\r\n\t                            this.clearSelection();\r\n\t                            this.addSelection(index, true);\r\n\t                        }\r\n\t                    } else if (this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n\t                        current = this._children[index];\r\n\t                        k = 0;\r\n\t                        var cnt = this._children.length;\r\n\t                        for (i = index + 1; i < cnt; i++) {\r\n\t                            obj = this._children[i];\r\n\t                            if (obj.x != current.x) {\r\n\t                                current = obj;\r\n\t                                break;\r\n\t                            }\r\n\t                            k++;\r\n\t                        }\r\n\t                        for (; i < cnt; i++) {\r\n\t                            obj = this._children[i];\r\n\t                            if (obj.x != current.x) {\r\n\t                                this.clearSelection();\r\n\t                                this.addSelection(i - k - 1, true);\r\n\t                                break;\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                    break;\r\n\t                case 5:\r\n\t                    if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n\t                        index++;\r\n\t                        if (index < this._children.length) {\r\n\t                            this.clearSelection();\r\n\t                            this.addSelection(index, true);\r\n\t                        }\r\n\t                    } else if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n\t                        current = this._children[index];\r\n\t                        k = 0;\r\n\t                        cnt = this._children.length;\r\n\t                        for (i = index + 1; i < cnt; i++) {\r\n\t                            obj = this._children[i];\r\n\t                            if (obj.y != current.y) {\r\n\t                                current = obj;\r\n\t                                break;\r\n\t                            }\r\n\t                            k++;\r\n\t                        }\r\n\t                        for (; i < cnt; i++) {\r\n\t                            obj = this._children[i];\r\n\t                            if (obj.y != current.y) {\r\n\t                                this.clearSelection();\r\n\t                                this.addSelection(i - k - 1, true);\r\n\t                                break;\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                    break;\r\n\t                case 7:\r\n\t                    if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n\t                        index--;\r\n\t                        if (index >= 0) {\r\n\t                            this.clearSelection();\r\n\t                            this.addSelection(index, true);\r\n\t                        }\r\n\t                    } else if (this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n\t                        current = this._children[index];\r\n\t                        k = 0;\r\n\t                        for (i = index - 1; i >= 0; i--) {\r\n\t                            obj = this._children[i];\r\n\t                            if (obj.x != current.x) {\r\n\t                                current = obj;\r\n\t                                break;\r\n\t                            }\r\n\t                            k++;\r\n\t                        }\r\n\t                        for (; i >= 0; i--) {\r\n\t                            obj = this._children[i];\r\n\t                            if (obj.x != current.x) {\r\n\t                                this.clearSelection();\r\n\t                                this.addSelection(i + k + 1, true);\r\n\t                                break;\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                    break;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__clickItem = function(evt) {\r\n\t            if (this._scrollPane != null && this._scrollPane.isDragged)\r\n\t                return;\r\n\t            var item = GObject.cast(evt.currentTarget);\r\n\t            this.setSelectionOnEvent(item, evt);\r\n\t            if (this._scrollPane && this.scrollItemToViewOnClick)\r\n\t                this._scrollPane.scrollToView(item, true);\r\n\t            this.displayObject.event( /*fairygui.Events.CLICK_ITEM*/ \"fui_click_item\", [item, Events.createEvent( /*fairygui.Events.CLICK_ITEM*/ \"fui_click_item\", this.displayObject, evt)]);\r\n\t        }\r\n\t\r\n\t        __proto.setSelectionOnEvent = function(item, evt) {\r\n\t            if (!((item instanceof fairygui.GButton)) || this._selectionMode == /*fairygui.ListSelectionMode.None*/ 3)\r\n\t                return;\r\n\t            var dontChangeLastIndex = false;\r\n\t            var button = (item);\r\n\t            var index = this.getChildIndex(item);\r\n\t            if (this._selectionMode == /*fairygui.ListSelectionMode.Single*/ 0) {\r\n\t                if (!button.selected) {\r\n\t                    this.clearSelectionExcept(button);\r\n\t                    button.selected = true;\r\n\t                }\r\n\t            } else {\r\n\t                if (evt.shiftKey) {\r\n\t                    if (!button.selected) {\r\n\t                        if (this._lastSelectedIndex != -1) {\r\n\t                            var min = Math.min(this._lastSelectedIndex, index);\r\n\t                            var max = Math.max(this._lastSelectedIndex, index);\r\n\t                            max = Math.min(max, this._children.length - 1);\r\n\t                            for (var i = min; i <= max; i++) {\r\n\t                                var obj = this.getChildAt(i);\r\n\t                                if (((obj instanceof fairygui.GButton)) && !(obj).selected)\r\n\t                                    (obj).selected = true;\r\n\t                            }\r\n\t                            dontChangeLastIndex = true;\r\n\t                        } else {\r\n\t                            button.selected = true;\r\n\t                        }\r\n\t                    }\r\n\t                } else if (evt.ctrlKey || this._selectionMode == /*fairygui.ListSelectionMode.Multiple_SingleClick*/ 2) {\r\n\t                    button.selected = !button.selected;\r\n\t                } else {\r\n\t                    if (!button.selected) {\r\n\t                        this.clearSelectionExcept(button);\r\n\t                        button.selected = true;\r\n\t                    } else\r\n\t                        this.clearSelectionExcept(button);\r\n\t                }\r\n\t            }\r\n\t            if (!dontChangeLastIndex)\r\n\t                this._lastSelectedIndex = index;\r\n\t            if (button.selected)\r\n\t                this.updateSelectionController(index);\r\n\t        }\r\n\t\r\n\t        __proto.clearSelectionExcept = function(obj) {\r\n\t            var cnt = this._children.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var button = this._children[i];\r\n\t                if (((button instanceof fairygui.GButton)) && button != obj && (button).selected)\r\n\t                    (button).selected = false;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.resizeToFit = function(itemCount, minSize) {\r\n\t            (itemCount === void 0) && (itemCount = 1000000);\r\n\t            (minSize === void 0) && (minSize = 0);\r\n\t            this.ensureBoundsCorrect();\r\n\t            var curCount = this.numItems;\r\n\t            if (itemCount > curCount)\r\n\t                itemCount = curCount;\r\n\t            if (this._virtual) {\r\n\t                var lineCount = Math.ceil(itemCount / this._curLineItemCount);\r\n\t                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2)\r\n\t                    this.viewHeight = lineCount * this._itemSize.y + Math.max(0, lineCount - 1) * this._lineGap;\r\n\t                else\r\n\t                    this.viewWidth = lineCount * this._itemSize.x + Math.max(0, lineCount - 1) * this._columnGap;\r\n\t            } else if (itemCount == 0) {\r\n\t                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2)\r\n\t                    this.viewHeight = minSize;\r\n\t                else\r\n\t                    this.viewWidth = minSize;\r\n\t            } else {\r\n\t                var i = itemCount - 1;\r\n\t                var obj = null;\r\n\t                while (i >= 0) {\r\n\t                    obj = this.getChildAt(i);\r\n\t                    if (!this.foldInvisibleItems || obj.visible)\r\n\t                        break;\r\n\t                    i--;\r\n\t                }\r\n\t                if (i < 0) {\r\n\t                    if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2)\r\n\t                        this.viewHeight = minSize;\r\n\t                    else\r\n\t                        this.viewWidth = minSize;\r\n\t                } else {\r\n\t                    var size = 0;\r\n\t                    if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n\t                        size = obj.y + obj.height;\r\n\t                        if (size < minSize)\r\n\t                            size = minSize;\r\n\t                        this.viewHeight = size;\r\n\t                    } else {\r\n\t                        size = obj.x + obj.width;\r\n\t                        if (size < minSize)\r\n\t                            size = minSize;\r\n\t                        this.viewWidth = size;\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.getMaxItemWidth = function() {\r\n\t            var cnt = this._children.length;\r\n\t            var max = 0;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var child = this.getChildAt(i);\r\n\t                if (child.width > max)\r\n\t                    max = child.width;\r\n\t            }\r\n\t            return max;\r\n\t        }\r\n\t\r\n\t        __proto.handleSizeChanged = function() {\r\n\t            _super.prototype.handleSizeChanged.call(this);\r\n\t            this.setBoundsChangedFlag();\r\n\t            if (this._virtual)\r\n\t                this.setVirtualListChangedFlag(true);\r\n\t        }\r\n\t\r\n\t        __proto.handleControllerChanged = function(c) {\r\n\t            _super.prototype.handleControllerChanged.call(this, c);\r\n\t            if (this._selectionController == c)\r\n\t                this.selectedIndex = c.selectedIndex;\r\n\t        }\r\n\t\r\n\t        __proto.updateSelectionController = function(index) {\r\n\t            if (this._selectionController != null && !this._selectionController.changing &&\r\n\t                index < this._selectionController.pageCount) {\r\n\t                var c = this._selectionController;\r\n\t                this._selectionController = null;\r\n\t                c.selectedIndex = index;\r\n\t                this._selectionController = c;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.getSnappingPosition = function(xValue, yValue, resultPoint) {\r\n\t            if (this._virtual) {\r\n\t                if (!resultPoint)\r\n\t                    resultPoint = new Point();\r\n\t                var saved = NaN;\r\n\t                var index = 0;\r\n\t                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n\t                    saved = yValue;\r\n\t                    fairygui.GList.pos_param = yValue;\r\n\t                    index = this.getIndexOnPos1(false);\r\n\t                    yValue = fairygui.GList.pos_param;\r\n\t                    if (index < this._virtualItems.length && saved - yValue > this._virtualItems[index].height / 2 && index < this._realNumItems)\r\n\t                        yValue += this._virtualItems[index].height + this._lineGap;\r\n\t                } else if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n\t                    saved = xValue;\r\n\t                    fairygui.GList.pos_param = xValue;\r\n\t                    index = this.getIndexOnPos2(false);\r\n\t                    xValue = fairygui.GList.pos_param;\r\n\t                    if (index < this._virtualItems.length && saved - xValue > this._virtualItems[index].width / 2 && index < this._realNumItems)\r\n\t                        xValue += this._virtualItems[index].width + this._columnGap;\r\n\t                } else {\r\n\t                    saved = xValue;\r\n\t                    fairygui.GList.pos_param = xValue;\r\n\t                    index = this.getIndexOnPos3(false);\r\n\t                    xValue = fairygui.GList.pos_param;\r\n\t                    if (index < this._virtualItems.length && saved - xValue > this._virtualItems[index].width / 2 && index < this._realNumItems)\r\n\t                        xValue += this._virtualItems[index].width + this._columnGap;\r\n\t                }\r\n\t                resultPoint.x = xValue;\r\n\t                resultPoint.y = yValue;\r\n\t                return resultPoint;\r\n\t            } else\r\n\t                return _super.prototype.getSnappingPosition.call(this, xValue, yValue, resultPoint);\r\n\t        }\r\n\t\r\n\t        __proto.scrollToView = function(index, ani, setFirst) {\r\n\t            (ani === void 0) && (ani = false);\r\n\t            (setFirst === void 0) && (setFirst = false);\r\n\t            if (this._virtual) {\r\n\t                if (this._numItems == 0)\r\n\t                    return;\r\n\t                this.checkVirtualList();\r\n\t                if (index >= this._virtualItems.length)\r\n\t                    throw new Error(\"Invalid child index: \" + index + \">\" + this._virtualItems.length);\r\n\t                if (this._loop)\r\n\t                    index = Math.floor(this._firstIndex / this._numItems) * this._numItems + index;\r\n\t                var rect;\r\n\t                var ii = this._virtualItems[index];\r\n\t                var pos = 0;\r\n\t                var i = 0;\r\n\t                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n\t                    for (i = 0; i < index; i += this._curLineItemCount)\r\n\t                        pos += this._virtualItems[i].height + this._lineGap;\r\n\t                    rect = new Rectangle(0, pos, this._itemSize.x, ii.height);\r\n\t                } else if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n\t                    for (i = 0; i < index; i += this._curLineItemCount)\r\n\t                        pos += this._virtualItems[i].width + this._columnGap;\r\n\t                    rect = new Rectangle(pos, 0, ii.width, this._itemSize.y);\r\n\t                } else {\r\n\t                    var page = index / (this._curLineItemCount * this._curLineItemCount2);\r\n\t                    rect = new Rectangle(page * this.viewWidth + (index % this._curLineItemCount) * (ii.width + this._columnGap),\r\n\t                        (index / this._curLineItemCount) % this._curLineItemCount2 * (ii.height + this._lineGap),\r\n\t                        ii.width, ii.height);\r\n\t                }\r\n\t                setFirst = true;\r\n\t                if (this._scrollPane != null)\r\n\t                    this.scrollPane.scrollToView(rect, ani, setFirst);\r\n\t            } else {\r\n\t                var obj = this.getChildAt(index);\r\n\t                if (this._scrollPane != null)\r\n\t                    this.scrollPane.scrollToView(obj, ani, setFirst);\r\n\t                else if (this.parent != null && this.parent.scrollPane != null)\r\n\t                    this.parent.scrollPane.scrollToView(obj, ani, setFirst);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.getFirstChildInView = function() {\r\n\t            return this.childIndexToItemIndex(_super.prototype.getFirstChildInView.call(this));\r\n\t        }\r\n\t\r\n\t        __proto.childIndexToItemIndex = function(index) {\r\n\t            if (!this._virtual)\r\n\t                return index;\r\n\t            if (this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n\t                for (var i = this._firstIndex; i < this._realNumItems; i++) {\r\n\t                    if (this._virtualItems[i].obj != null) {\r\n\t                        index--;\r\n\t                        if (index < 0)\r\n\t                            return i;\r\n\t                    }\r\n\t                }\r\n\t                return index;\r\n\t            } else {\r\n\t                index += this._firstIndex;\r\n\t                if (this._loop && this._numItems > 0)\r\n\t                    index = index % this._numItems;\r\n\t                return index;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.itemIndexToChildIndex = function(index) {\r\n\t            if (!this._virtual)\r\n\t                return index;\r\n\t            if (this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n\t                return this.getChildIndex(this._virtualItems[index].obj);\r\n\t            } else {\r\n\t                if (this._loop && this._numItems > 0) {\r\n\t                    var j = this._firstIndex % this._numItems;\r\n\t                    if (index >= j)\r\n\t                        index = this._firstIndex + (index - j);\r\n\t                    else\r\n\t                        index = this._firstIndex + this._numItems + (j - index);\r\n\t                } else\r\n\t                    index -= this._firstIndex;\r\n\t                return index;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setVirtual = function() {\r\n\t            this._setVirtual(false);\r\n\t        }\r\n\t\r\n\t        /// </summary>\r\n\t        __proto.setVirtualAndLoop = function() {\r\n\t            this._setVirtual(true);\r\n\t        }\r\n\t\r\n\t        /// </summary>\r\n\t        __proto._setVirtual = function(loop) {\r\n\t            if (!this._virtual) {\r\n\t                if (this._scrollPane == null)\r\n\t                    throw new Error(\"Virtual list must be scrollable!\");\r\n\t                if (loop) {\r\n\t                    if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3)\r\n\t                        throw new Error(\"Loop list is not supported for FlowHorizontal or FlowVertical layout!\");\r\n\t                    this._scrollPane.bouncebackEffect = false;\r\n\t                }\r\n\t                this._virtual = true;\r\n\t                this._loop = loop;\r\n\t                this._virtualItems = [];\r\n\t                this.removeChildrenToPool();\r\n\t                if (this._itemSize == null) {\r\n\t                    this._itemSize = new Point();\r\n\t                    var obj = this.getFromPool(null);\r\n\t                    if (obj == null) {\r\n\t                        throw new Error(\"Virtual List must have a default list item resource.\");\r\n\t                    } else {\r\n\t                        this._itemSize.x = obj.width;\r\n\t                        this._itemSize.y = obj.height;\r\n\t                    }\r\n\t                    this.returnToPool(obj);\r\n\t                }\r\n\t                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2)\r\n\t                    this._scrollPane.scrollSpeed = this._itemSize.y;\r\n\t                else\r\n\t                    this._scrollPane.scrollSpeed = this._itemSize.x;\r\n\t                this.on( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this, this.__scrolled);\r\n\t                this.setVirtualListChangedFlag(true);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.refreshVirtualList = function() {\r\n\t            this.setVirtualListChangedFlag(false);\r\n\t        }\r\n\t\r\n\t        __proto.checkVirtualList = function() {\r\n\t            if (this._virtualListChanged != 0) {\r\n\t                this._refreshVirtualList();\r\n\t                Laya.timer.clear(this, this._refreshVirtualList);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setVirtualListChangedFlag = function(layoutChanged) {\r\n\t            (layoutChanged === void 0) && (layoutChanged = false);\r\n\t            if (layoutChanged)\r\n\t                this._virtualListChanged = 2;\r\n\t            else if (this._virtualListChanged == 0)\r\n\t                this._virtualListChanged = 1;\r\n\t            Laya.timer.callLater(this, this._refreshVirtualList);\r\n\t        }\r\n\t\r\n\t        __proto._refreshVirtualList = function() {\r\n\t            var layoutChanged = this._virtualListChanged == 2;\r\n\t            this._virtualListChanged = 0;\r\n\t            this._eventLocked = true;\r\n\t            if (layoutChanged) {\r\n\t                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1)\r\n\t                    this._curLineItemCount = 1;\r\n\t                else if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n\t                    if (this._columnCount > 0)\r\n\t                        this._curLineItemCount = this._columnCount;\r\n\t                    else {\r\n\t                        this._curLineItemCount = Math.floor((this._scrollPane.viewWidth + this._columnGap) / (this._itemSize.x + this._columnGap));\r\n\t                        if (this._curLineItemCount <= 0)\r\n\t                            this._curLineItemCount = 1;\r\n\t                    }\r\n\t                } else if (this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n\t                    if (this._lineCount > 0)\r\n\t                        this._curLineItemCount = this._lineCount;\r\n\t                    else {\r\n\t                        this._curLineItemCount = Math.floor((this._scrollPane.viewHeight + this._lineGap) / (this._itemSize.y + this._lineGap));\r\n\t                        if (this._curLineItemCount <= 0)\r\n\t                            this._curLineItemCount = 1;\r\n\t                    }\r\n\t                } else {\r\n\t                    if (this._columnCount > 0)\r\n\t                        this._curLineItemCount = this._columnCount;\r\n\t                    else {\r\n\t                        this._curLineItemCount = Math.floor((this._scrollPane.viewWidth + this._columnGap) / (this._itemSize.x + this._columnGap));\r\n\t                        if (this._curLineItemCount <= 0)\r\n\t                            this._curLineItemCount = 1;\r\n\t                    }\r\n\t                    if (this._lineCount > 0)\r\n\t                        this._curLineItemCount2 = this._lineCount;\r\n\t                    else {\r\n\t                        this._curLineItemCount2 = Math.floor((this._scrollPane.viewHeight + this._lineGap) / (this._itemSize.y + this._lineGap));\r\n\t                        if (this._curLineItemCount2 <= 0)\r\n\t                            this._curLineItemCount2 = 1;\r\n\t                    }\r\n\t                }\r\n\t            };\r\n\t            var ch = 0,\r\n\t                cw = 0;\r\n\t            if (this._realNumItems > 0) {\r\n\t                var i = 0;\r\n\t                var len = Math.ceil(this._realNumItems / this._curLineItemCount) * this._curLineItemCount;\r\n\t                var len2 = Math.min(this._curLineItemCount, this._realNumItems);\r\n\t                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n\t                    for (i = 0; i < len; i += this._curLineItemCount)\r\n\t                        ch += this._virtualItems[i].height + this._lineGap;\r\n\t                    if (ch > 0)\r\n\t                        ch -= this._lineGap;\r\n\t                    if (this._autoResizeItem)\r\n\t                        cw = this.scrollPane.viewWidth;\r\n\t                    else {\r\n\t                        for (i = 0; i < len2; i++)\r\n\t                            cw += this._virtualItems[i].width + this._columnGap;\r\n\t                        if (cw > 0)\r\n\t                            cw -= this._columnGap;\r\n\t                    }\r\n\t                } else if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n\t                    for (i = 0; i < len; i += this._curLineItemCount)\r\n\t                        cw += this._virtualItems[i].width + this._columnGap;\r\n\t                    if (cw > 0)\r\n\t                        cw -= this._columnGap;\r\n\t                    if (this._autoResizeItem)\r\n\t                        ch = this.scrollPane.viewHeight;\r\n\t                    else {\r\n\t                        for (i = 0; i < len2; i++)\r\n\t                            ch += this._virtualItems[i].height + this._lineGap;\r\n\t                        if (ch > 0)\r\n\t                            ch -= this._lineGap;\r\n\t                    }\r\n\t                } else {\r\n\t                    var pageCount = Math.ceil(len / (this._curLineItemCount * this._curLineItemCount2));\r\n\t                    cw = pageCount * this.viewWidth;\r\n\t                    ch = this.viewHeight;\r\n\t                }\r\n\t            }\r\n\t            this.handleAlign(cw, ch);\r\n\t            this._scrollPane.setContentSize(cw, ch);\r\n\t            this._eventLocked = false;\r\n\t            this.handleScroll(true);\r\n\t        }\r\n\t\r\n\t        __proto.__scrolled = function(evt) {\r\n\t            this.handleScroll(false);\r\n\t        }\r\n\t\r\n\t        __proto.getIndexOnPos1 = function(forceUpdate) {\r\n\t            if (this._realNumItems < this._curLineItemCount) {\r\n\t                GList.pos_param = 0;\r\n\t                return 0;\r\n\t            };\r\n\t            var i = 0;\r\n\t            var pos2 = NaN;\r\n\t            var pos3 = NaN;\r\n\t            if (this.numChildren > 0 && !forceUpdate) {\r\n\t                pos2 = this.getChildAt(0).y;\r\n\t                if (pos2 > GList.pos_param) {\r\n\t                    for (i = this._firstIndex - this._curLineItemCount; i >= 0; i -= this._curLineItemCount) {\r\n\t                        pos2 -= (this._virtualItems[i].height + this._lineGap);\r\n\t                        if (pos2 <= GList.pos_param) {\r\n\t                            GList.pos_param = pos2;\r\n\t                            return i;\r\n\t                        }\r\n\t                    }\r\n\t                    GList.pos_param = 0;\r\n\t                    return 0;\r\n\t                } else {\r\n\t                    for (i = this._firstIndex; i < this._realNumItems; i += this._curLineItemCount) {\r\n\t                        pos3 = pos2 + this._virtualItems[i].height + this._lineGap;\r\n\t                        if (pos3 > GList.pos_param) {\r\n\t                            GList.pos_param = pos2;\r\n\t                            return i;\r\n\t                        }\r\n\t                        pos2 = pos3;\r\n\t                    }\r\n\t                    GList.pos_param = pos2;\r\n\t                    return this._realNumItems - this._curLineItemCount;\r\n\t                }\r\n\t            } else {\r\n\t                pos2 = 0;\r\n\t                for (i = 0; i < this._realNumItems; i += this._curLineItemCount) {\r\n\t                    pos3 = pos2 + this._virtualItems[i].height + this._lineGap;\r\n\t                    if (pos3 > GList.pos_param) {\r\n\t                        GList.pos_param = pos2;\r\n\t                        return i;\r\n\t                    }\r\n\t                    pos2 = pos3;\r\n\t                }\r\n\t                GList.pos_param = pos2;\r\n\t                return this._realNumItems - this._curLineItemCount;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.getIndexOnPos2 = function(forceUpdate) {\r\n\t            if (this._realNumItems < this._curLineItemCount) {\r\n\t                GList.pos_param = 0;\r\n\t                return 0;\r\n\t            };\r\n\t            var i = 0;\r\n\t            var pos2 = NaN;\r\n\t            var pos3 = NaN;\r\n\t            if (this.numChildren > 0 && !forceUpdate) {\r\n\t                pos2 = this.getChildAt(0).x;\r\n\t                if (pos2 > GList.pos_param) {\r\n\t                    for (i = this._firstIndex - this._curLineItemCount; i >= 0; i -= this._curLineItemCount) {\r\n\t                        pos2 -= (this._virtualItems[i].width + this._columnGap);\r\n\t                        if (pos2 <= GList.pos_param) {\r\n\t                            GList.pos_param = pos2;\r\n\t                            return i;\r\n\t                        }\r\n\t                    }\r\n\t                    GList.pos_param = 0;\r\n\t                    return 0;\r\n\t                } else {\r\n\t                    for (i = this._firstIndex; i < this._realNumItems; i += this._curLineItemCount) {\r\n\t                        pos3 = pos2 + this._virtualItems[i].width + this._columnGap;\r\n\t                        if (pos3 > GList.pos_param) {\r\n\t                            GList.pos_param = pos2;\r\n\t                            return i;\r\n\t                        }\r\n\t                        pos2 = pos3;\r\n\t                    }\r\n\t                    GList.pos_param = pos2;\r\n\t                    return this._realNumItems - this._curLineItemCount;\r\n\t                }\r\n\t            } else {\r\n\t                pos2 = 0;\r\n\t                for (i = 0; i < this._realNumItems; i += this._curLineItemCount) {\r\n\t                    pos3 = pos2 + this._virtualItems[i].width + this._columnGap;\r\n\t                    if (pos3 > GList.pos_param) {\r\n\t                        GList.pos_param = pos2;\r\n\t                        return i;\r\n\t                    }\r\n\t                    pos2 = pos3;\r\n\t                }\r\n\t                GList.pos_param = pos2;\r\n\t                return this._realNumItems - this._curLineItemCount;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.getIndexOnPos3 = function(forceUpdate) {\r\n\t            if (this._realNumItems < this._curLineItemCount) {\r\n\t                GList.pos_param = 0;\r\n\t                return 0;\r\n\t            };\r\n\t            var viewWidth = this.viewWidth;\r\n\t            var page = Math.floor(GList.pos_param / viewWidth);\r\n\t            var startIndex = page * (this._curLineItemCount * this._curLineItemCount2);\r\n\t            var pos2 = page * viewWidth;\r\n\t            var i = 0;\r\n\t            var pos3 = NaN;\r\n\t            for (i = 0; i < this._curLineItemCount; i++) {\r\n\t                pos3 = pos2 + this._virtualItems[startIndex + i].width + this._columnGap;\r\n\t                if (pos3 > GList.pos_param) {\r\n\t                    GList.pos_param = pos2;\r\n\t                    return startIndex + i;\r\n\t                }\r\n\t                pos2 = pos3;\r\n\t            }\r\n\t            GList.pos_param = pos2;\r\n\t            return startIndex + this._curLineItemCount - 1;\r\n\t        }\r\n\t\r\n\t        __proto.handleScroll = function(forceUpdate) {\r\n\t            if (this._eventLocked)\r\n\t                return;\r\n\t            var pos = NaN;\r\n\t            var roundSize = 0;\r\n\t            if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n\t                if (this._loop) {\r\n\t                    pos = this.scrollPane.scrollingPosY;\r\n\t                    roundSize = this._numItems * (this._itemSize.y + this._lineGap);\r\n\t                    if (pos == 0)\r\n\t                        this.scrollPane.posY = roundSize;\r\n\t                    else if (pos == this.scrollPane.contentHeight - this.scrollPane.viewHeight)\r\n\t                        this.scrollPane.posY = this.scrollPane.contentHeight - roundSize - this.viewHeight;\r\n\t                }\r\n\t                this.handleScroll1(forceUpdate);\r\n\t            } else if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n\t                if (this._loop) {\r\n\t                    pos = this.scrollPane.scrollingPosX;\r\n\t                    roundSize = this._numItems * (this._itemSize.x + this._columnGap);\r\n\t                    if (pos == 0)\r\n\t                        this.scrollPane.posX = roundSize;\r\n\t                    else if (pos == this.scrollPane.contentWidth - this.scrollPane.viewWidth)\r\n\t                        this.scrollPane.posX = this.scrollPane.contentWidth - roundSize - this.viewWidth;\r\n\t                }\r\n\t                this.handleScroll2(forceUpdate);\r\n\t            } else {\r\n\t                if (this._loop) {\r\n\t                    pos = this.scrollPane.scrollingPosX;\r\n\t                    roundSize = Math.floor(this._numItems / (this._curLineItemCount * this._curLineItemCount2)) * this.viewWidth;\r\n\t                    if (pos == 0)\r\n\t                        this.scrollPane.posX = roundSize;\r\n\t                    else if (pos == this.scrollPane.contentWidth - this.scrollPane.viewWidth)\r\n\t                        this.scrollPane.posX = this.scrollPane.contentWidth - roundSize - this.viewWidth;\r\n\t                }\r\n\t                this.handleScroll3(forceUpdate);\r\n\t            }\r\n\t            this._boundsChanged = false;\r\n\t        }\r\n\t\r\n\t        __proto.handleScroll1 = function(forceUpdate) {\r\n\t            GList.enterCounter++;\r\n\t            if (GList.enterCounter > 3)\r\n\t                return;\r\n\t            var pos = this.scrollPane.scrollingPosY;\r\n\t            var max = pos + this.scrollPane.viewHeight;\r\n\t            var end = max == this.scrollPane.contentHeight;\r\n\t            fairygui.GList.pos_param = pos;\r\n\t            var newFirstIndex = this.getIndexOnPos1(forceUpdate);\r\n\t            pos = fairygui.GList.pos_param;\r\n\t            if (newFirstIndex == this._firstIndex && !forceUpdate) {\r\n\t                GList.enterCounter--;\r\n\t                return;\r\n\t            };\r\n\t            var oldFirstIndex = this._firstIndex;\r\n\t            this._firstIndex = newFirstIndex;\r\n\t            var curIndex = newFirstIndex;\r\n\t            var forward = oldFirstIndex > newFirstIndex;\r\n\t            var oldCount = this.numChildren;\r\n\t            var lastIndex = oldFirstIndex + oldCount - 1;\r\n\t            var reuseIndex = forward ? lastIndex : oldFirstIndex;\r\n\t            var curX = 0,\r\n\t                curY = pos;\r\n\t            var needRender = false;\r\n\t            var deltaSize = 0;\r\n\t            var firstItemDeltaSize = 0;\r\n\t            var url = this.defaultItem;\r\n\t            var ii, ii2;\r\n\t            var i = 0,\r\n\t                j = 0;\r\n\t            var partSize = (this.scrollPane.viewWidth - this._columnGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\r\n\t            GList.itemInfoVer++;\r\n\t            while (curIndex < this._realNumItems && (end || curY < max)) {\r\n\t                ii = this._virtualItems[curIndex];\r\n\t                if (ii.obj == null || forceUpdate) {\r\n\t                    if (this.itemProvider != null) {\r\n\t                        url = this.itemProvider.runWith(curIndex % this._numItems);\r\n\t                        if (url == null)\r\n\t                            url = this._defaultItem;\r\n\t                        url = UIPackage.normalizeURL(url);\r\n\t                    }\r\n\t                    if (ii.obj != null && ii.obj.resourceURL != url) {\r\n\t                        this.removeChildToPool(ii.obj);\r\n\t                        ii.obj = null;\r\n\t                    }\r\n\t                }\r\n\t                if (ii.obj == null) {\r\n\t                    if (forward) {\r\n\t                        for (j = reuseIndex; j >= oldFirstIndex; j--) {\r\n\t                            ii2 = this._virtualItems[j];\r\n\t                            if (ii2.obj != null && ii2.updateFlag != GList.itemInfoVer && ii2.obj.resourceURL == url) {\r\n\t                                ii.obj = ii2.obj;\r\n\t                                ii2.obj = null;\r\n\t                                if (j == reuseIndex)\r\n\t                                    reuseIndex--;\r\n\t                                break;\r\n\t                            }\r\n\t                        }\r\n\t                    } else {\r\n\t                        for (j = reuseIndex; j <= lastIndex; j++) {\r\n\t                            ii2 = this._virtualItems[j];\r\n\t                            if (ii2.obj != null && ii2.updateFlag != GList.itemInfoVer && ii2.obj.resourceURL == url) {\r\n\t                                ii.obj = ii2.obj;\r\n\t                                ii2.obj = null;\r\n\t                                if (j == reuseIndex)\r\n\t                                    reuseIndex++;\r\n\t                                break;\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                    if (ii.obj != null) {\r\n\t                        this.setChildIndex(ii.obj, forward ? curIndex - newFirstIndex : this.numChildren);\r\n\t                    } else {\r\n\t                        ii.obj = this._pool.getObject(url);\r\n\t                        if (forward)\r\n\t                            this.addChildAt(ii.obj, curIndex - newFirstIndex);\r\n\t                        else\r\n\t                            this.addChild(ii.obj);\r\n\t                    }\r\n\t                    if ((ii.obj instanceof fairygui.GButton))\r\n\t                        (ii.obj).selected = false;\r\n\t                    needRender = true;\r\n\t                } else\r\n\t                    needRender = forceUpdate;\r\n\t                if (needRender) {\r\n\t                    if (this._autoResizeItem && (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._columnCount > 0))\r\n\t                        ii.obj.setSize(partSize, ii.obj.height, true);\r\n\t                    this.itemRenderer.runWith([curIndex % this._numItems, ii.obj]);\r\n\t                    if (curIndex % this._curLineItemCount == 0) {\r\n\t                        deltaSize += Math.ceil(ii.obj.height) - ii.height;\r\n\t                        if (curIndex == newFirstIndex && oldFirstIndex > newFirstIndex) {\r\n\t                            firstItemDeltaSize = Math.ceil(ii.obj.height) - ii.height;\r\n\t                        }\r\n\t                    }\r\n\t                    ii.width = Math.ceil(ii.obj.width);\r\n\t                    ii.height = Math.ceil(ii.obj.height);\r\n\t                }\r\n\t                ii.updateFlag = GList.itemInfoVer;\r\n\t                ii.obj.setXY(curX, curY);\r\n\t                if (curIndex == newFirstIndex)\r\n\t                    max += ii.height;\r\n\t                curX += ii.width + this._columnGap;\r\n\t                if (curIndex % this._curLineItemCount == this._curLineItemCount - 1) {\r\n\t                    curX = 0;\r\n\t                    curY += ii.height + this._lineGap;\r\n\t                }\r\n\t                curIndex++;\r\n\t            }\r\n\t            for (i = 0; i < oldCount; i++) {\r\n\t                ii = this._virtualItems[oldFirstIndex + i];\r\n\t                if (ii.updateFlag != GList.itemInfoVer && ii.obj != null) {\r\n\t                    this.removeChildToPool(ii.obj);\r\n\t                    ii.obj = null;\r\n\t                }\r\n\t            }\r\n\t            if (deltaSize != 0 || firstItemDeltaSize != 0)\r\n\t                this._scrollPane.changeContentSizeOnScrolling(0, deltaSize, 0, firstItemDeltaSize);\r\n\t            if (curIndex > 0 && this.numChildren > 0 && this._container.y < 0 && this.getChildAt(0).y > -this._container.y)\r\n\t                this.handleScroll1(false);\r\n\t            GList.enterCounter--;\r\n\t        }\r\n\t\r\n\t        __proto.handleScroll2 = function(forceUpdate) {\r\n\t            GList.enterCounter++;\r\n\t            if (GList.enterCounter > 3)\r\n\t                return;\r\n\t            var pos = this.scrollPane.scrollingPosX;\r\n\t            var max = pos + this.scrollPane.viewWidth;\r\n\t            var end = pos == this.scrollPane.contentWidth;\r\n\t            fairygui.GList.pos_param = pos;\r\n\t            var newFirstIndex = this.getIndexOnPos2(forceUpdate);\r\n\t            pos = fairygui.GList.pos_param;\r\n\t            if (newFirstIndex == this._firstIndex && !forceUpdate) {\r\n\t                GList.enterCounter--;\r\n\t                return;\r\n\t            };\r\n\t            var oldFirstIndex = this._firstIndex;\r\n\t            this._firstIndex = newFirstIndex;\r\n\t            var curIndex = newFirstIndex;\r\n\t            var forward = oldFirstIndex > newFirstIndex;\r\n\t            var oldCount = this.numChildren;\r\n\t            var lastIndex = oldFirstIndex + oldCount - 1;\r\n\t            var reuseIndex = forward ? lastIndex : oldFirstIndex;\r\n\t            var curX = pos,\r\n\t                curY = 0;\r\n\t            var needRender = false;\r\n\t            var deltaSize = 0;\r\n\t            var firstItemDeltaSize = 0;\r\n\t            var url = this.defaultItem;\r\n\t            var ii, ii2;\r\n\t            var i = 0,\r\n\t                j = 0;\r\n\t            var partSize = (this.scrollPane.viewHeight - this._lineGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\r\n\t            GList.itemInfoVer++;\r\n\t            while (curIndex < this._realNumItems && (end || curX < max)) {\r\n\t                ii = this._virtualItems[curIndex];\r\n\t                if (ii.obj == null || forceUpdate) {\r\n\t                    if (this.itemProvider != null) {\r\n\t                        url = this.itemProvider.runWith(curIndex % this._numItems);\r\n\t                        if (url == null)\r\n\t                            url = this._defaultItem;\r\n\t                        url = UIPackage.normalizeURL(url);\r\n\t                    }\r\n\t                    if (ii.obj != null && ii.obj.resourceURL != url) {\r\n\t                        this.removeChildToPool(ii.obj);\r\n\t                        ii.obj = null;\r\n\t                    }\r\n\t                }\r\n\t                if (ii.obj == null) {\r\n\t                    if (forward) {\r\n\t                        for (j = reuseIndex; j >= oldFirstIndex; j--) {\r\n\t                            ii2 = this._virtualItems[j];\r\n\t                            if (ii2.obj != null && ii2.updateFlag != GList.itemInfoVer && ii2.obj.resourceURL == url) {\r\n\t                                ii.obj = ii2.obj;\r\n\t                                ii2.obj = null;\r\n\t                                if (j == reuseIndex)\r\n\t                                    reuseIndex--;\r\n\t                                break;\r\n\t                            }\r\n\t                        }\r\n\t                    } else {\r\n\t                        for (j = reuseIndex; j <= lastIndex; j++) {\r\n\t                            ii2 = this._virtualItems[j];\r\n\t                            if (ii2.obj != null && ii2.updateFlag != GList.itemInfoVer && ii2.obj.resourceURL == url) {\r\n\t                                ii.obj = ii2.obj;\r\n\t                                ii2.obj = null;\r\n\t                                if (j == reuseIndex)\r\n\t                                    reuseIndex++;\r\n\t                                break;\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                    if (ii.obj != null) {\r\n\t                        this.setChildIndex(ii.obj, forward ? curIndex - newFirstIndex : this.numChildren);\r\n\t                    } else {\r\n\t                        ii.obj = this._pool.getObject(url);\r\n\t                        if (forward)\r\n\t                            this.addChildAt(ii.obj, curIndex - newFirstIndex);\r\n\t                        else\r\n\t                            this.addChild(ii.obj);\r\n\t                    }\r\n\t                    if ((ii.obj instanceof fairygui.GButton))\r\n\t                        (ii.obj).selected = false;\r\n\t                    needRender = true;\r\n\t                } else\r\n\t                    needRender = forceUpdate;\r\n\t                if (needRender) {\r\n\t                    if (this._autoResizeItem && (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._lineCount > 0))\r\n\t                        ii.obj.setSize(ii.obj.width, partSize, true);\r\n\t                    this.itemRenderer.runWith([curIndex % this._numItems, ii.obj]);\r\n\t                    if (curIndex % this._curLineItemCount == 0) {\r\n\t                        deltaSize += Math.ceil(ii.obj.width) - ii.width;\r\n\t                        if (curIndex == newFirstIndex && oldFirstIndex > newFirstIndex) {\r\n\t                            firstItemDeltaSize = Math.ceil(ii.obj.width) - ii.width;\r\n\t                        }\r\n\t                    }\r\n\t                    ii.width = Math.ceil(ii.obj.width);\r\n\t                    ii.height = Math.ceil(ii.obj.height);\r\n\t                }\r\n\t                ii.updateFlag = GList.itemInfoVer;\r\n\t                ii.obj.setXY(curX, curY);\r\n\t                if (curIndex == newFirstIndex)\r\n\t                    max += ii.width;\r\n\t                curY += ii.height + this._lineGap;\r\n\t                if (curIndex % this._curLineItemCount == this._curLineItemCount - 1) {\r\n\t                    curY = 0;\r\n\t                    curX += ii.width + this._columnGap;\r\n\t                }\r\n\t                curIndex++;\r\n\t            }\r\n\t            for (i = 0; i < oldCount; i++) {\r\n\t                ii = this._virtualItems[oldFirstIndex + i];\r\n\t                if (ii.updateFlag != GList.itemInfoVer && ii.obj != null) {\r\n\t                    this.removeChildToPool(ii.obj);\r\n\t                    ii.obj = null;\r\n\t                }\r\n\t            }\r\n\t            if (deltaSize != 0 || firstItemDeltaSize != 0)\r\n\t                this._scrollPane.changeContentSizeOnScrolling(deltaSize, 0, firstItemDeltaSize, 0);\r\n\t            if (curIndex > 0 && this.numChildren > 0 && this._container.x < 0 && this.getChildAt(0).x > -this._container.x)\r\n\t                this.handleScroll2(false);\r\n\t            GList.enterCounter--;\r\n\t        }\r\n\t\r\n\t        __proto.handleScroll3 = function(forceUpdate) {\r\n\t            var pos = this.scrollPane.scrollingPosX;\r\n\t            fairygui.GList.pos_param = pos;\r\n\t            var newFirstIndex = this.getIndexOnPos3(forceUpdate);\r\n\t            pos = fairygui.GList.pos_param;\r\n\t            if (newFirstIndex == this._firstIndex && !forceUpdate)\r\n\t                return;\r\n\t            var oldFirstIndex = this._firstIndex;\r\n\t            this._firstIndex = newFirstIndex;\r\n\t            var reuseIndex = oldFirstIndex;\r\n\t            var virtualItemCount = this._virtualItems.length;\r\n\t            var pageSize = this._curLineItemCount * this._curLineItemCount2;\r\n\t            var startCol = newFirstIndex % this._curLineItemCount;\r\n\t            var viewWidth = this.viewWidth;\r\n\t            var page = Math.floor(newFirstIndex / pageSize);\r\n\t            var startIndex = page * pageSize;\r\n\t            var lastIndex = startIndex + pageSize * 2;\r\n\t            var needRender = false;\r\n\t            var i = 0;\r\n\t            var ii, ii2;\r\n\t            var col = 0;\r\n\t            var url = this._defaultItem;\r\n\t            var partWidth = (this.scrollPane.viewWidth - this._columnGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\r\n\t            var partHeight = (this.scrollPane.viewHeight - this._lineGap * (this._curLineItemCount2 - 1)) / this._curLineItemCount2;\r\n\t            GList.itemInfoVer++;\r\n\t            for (i = startIndex; i < lastIndex; i++) {\r\n\t                if (i >= this._realNumItems)\r\n\t                    continue;\r\n\t                col = i % this._curLineItemCount;\r\n\t                if (i - startIndex < pageSize) {\r\n\t                    if (col < startCol)\r\n\t                        continue;\r\n\t                } else {\r\n\t                    if (col > startCol)\r\n\t                        continue;\r\n\t                }\r\n\t                ii = this._virtualItems[i];\r\n\t                ii.updateFlag = GList.itemInfoVer;\r\n\t            };\r\n\t            var lastObj = null;\r\n\t            var insertIndex = 0;\r\n\t            for (i = startIndex; i < lastIndex; i++) {\r\n\t                if (i >= this._realNumItems)\r\n\t                    continue;\r\n\t                ii = this._virtualItems[i];\r\n\t                if (ii.updateFlag != GList.itemInfoVer)\r\n\t                    continue;\r\n\t                if (ii.obj == null) {\r\n\t                    while (reuseIndex < virtualItemCount) {\r\n\t                        ii2 = this._virtualItems[reuseIndex];\r\n\t                        if (ii2.obj != null && ii2.updateFlag != GList.itemInfoVer) {\r\n\t                            ii.obj = ii2.obj;\r\n\t                            ii2.obj = null;\r\n\t                            break;\r\n\t                        }\r\n\t                        reuseIndex++;\r\n\t                    }\r\n\t                    if (insertIndex == -1)\r\n\t                        insertIndex = this.getChildIndex(lastObj) + 1;\r\n\t                    if (ii.obj == null) {\r\n\t                        if (this.itemProvider != null) {\r\n\t                            url = this.itemProvider.runWith(i % this._numItems);\r\n\t                            if (url == null)\r\n\t                                url = this._defaultItem;\r\n\t                            url = UIPackage.normalizeURL(url);\r\n\t                        }\r\n\t                        ii.obj = this._pool.getObject(url);\r\n\t                        this.addChildAt(ii.obj, insertIndex);\r\n\t                    } else {\r\n\t                        insertIndex = this.setChildIndexBefore(ii.obj, insertIndex);\r\n\t                    }\r\n\t                    insertIndex++;\r\n\t                    if ((ii.obj instanceof fairygui.GButton))\r\n\t                        (ii.obj).selected = false;\r\n\t                    needRender = true;\r\n\t                } else {\r\n\t                    needRender = forceUpdate;\r\n\t                    insertIndex = -1;\r\n\t                    lastObj = ii.obj;\r\n\t                }\r\n\t                if (needRender) {\r\n\t                    if (this._autoResizeItem) {\r\n\t                        if (this._curLineItemCount == this._columnCount && this._curLineItemCount2 == this._lineCount)\r\n\t                            ii.obj.setSize(partWidth, partHeight, true);\r\n\t                        else if (this._curLineItemCount == this._columnCount)\r\n\t                            ii.obj.setSize(partWidth, ii.obj.height, true);\r\n\t                        else if (this._curLineItemCount2 == this._lineCount)\r\n\t                            ii.obj.setSize(ii.obj.width, partHeight, true);\r\n\t                    }\r\n\t                    this.itemRenderer.runWith([i % this._numItems, ii.obj]);\r\n\t                    ii.width = Math.ceil(ii.obj.width);\r\n\t                    ii.height = Math.ceil(ii.obj.height);\r\n\t                }\r\n\t            };\r\n\t            var borderX = (startIndex / pageSize) * viewWidth;\r\n\t            var xx = borderX;\r\n\t            var yy = 0;\r\n\t            var lineHeight = 0;\r\n\t            for (i = startIndex; i < lastIndex; i++) {\r\n\t                if (i >= this._realNumItems)\r\n\t                    continue;\r\n\t                ii = this._virtualItems[i];\r\n\t                if (ii.updateFlag == GList.itemInfoVer)\r\n\t                    ii.obj.setXY(xx, yy);\r\n\t                if (ii.height > lineHeight)\r\n\t                    lineHeight = ii.height;\r\n\t                if (i % this._curLineItemCount == this._curLineItemCount - 1) {\r\n\t                    xx = borderX;\r\n\t                    yy += lineHeight + this._lineGap;\r\n\t                    lineHeight = 0;\r\n\t                    if (i == startIndex + pageSize - 1) {\r\n\t                        borderX += viewWidth;\r\n\t                        xx = borderX;\r\n\t                        yy = 0;\r\n\t                    }\r\n\t                } else\r\n\t                    xx += ii.width + this._columnGap;\r\n\t            }\r\n\t            for (i = reuseIndex; i < virtualItemCount; i++) {\r\n\t                ii = this._virtualItems[i];\r\n\t                if (ii.updateFlag != GList.itemInfoVer && ii.obj != null) {\r\n\t                    this.removeChildToPool(ii.obj);\r\n\t                    ii.obj = null;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.handleAlign = function(contentWidth, contentHeight) {\r\n\t            var newOffsetX = 0;\r\n\t            var newOffsetY = 0;\r\n\t            if (contentHeight < this.viewHeight) {\r\n\t                if (this._verticalAlign == \"middle\")\r\n\t                    newOffsetY = Math.floor((this.viewHeight - contentHeight) / 2);\r\n\t                else if (this._verticalAlign == \"bottom\")\r\n\t                    newOffsetY = this.viewHeight - contentHeight;\r\n\t            }\r\n\t            if (contentWidth < this.viewWidth) {\r\n\t                if (this._align == \"center\")\r\n\t                    newOffsetX = Math.floor((this.viewWidth - contentWidth) / 2);\r\n\t                else if (this._align == \"right\")\r\n\t                    newOffsetX = this.viewWidth - contentWidth;\r\n\t            }\r\n\t            if (newOffsetX != this._alignOffset.x || newOffsetY != this._alignOffset.y) {\r\n\t                this._alignOffset.setTo(newOffsetX, newOffsetY);\r\n\t                if (this.scrollPane != null)\r\n\t                    this.scrollPane.adjustMaskContainer();\r\n\t                else\r\n\t                    this._container.pos(this._margin.left + this._alignOffset.x, this._margin.top + this._alignOffset.y);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.updateBounds = function() {\r\n\t            if (this._virtual)\r\n\t                return;\r\n\t            var i = 0;\r\n\t            var child;\r\n\t            var curX = 0;\r\n\t            var curY = 0;\r\n\t            var maxWidth = 0;\r\n\t            var maxHeight = 0;\r\n\t            var cw = 0,\r\n\t                ch = 0;\r\n\t            var j = 0;\r\n\t            var page = 0;\r\n\t            var k = 0;\r\n\t            var cnt = this._children.length;\r\n\t            var viewWidth = this.viewWidth;\r\n\t            var viewHeight = this.viewHeight;\r\n\t            var lineSize = 0;\r\n\t            var lineStart = 0;\r\n\t            var ratio = NaN;\r\n\t            if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0) {\r\n\t                for (i = 0; i < cnt; i++) {\r\n\t                    child = this.getChildAt(i);\r\n\t                    if (this.foldInvisibleItems && !child.visible)\r\n\t                        continue;\r\n\t                    if (curY != 0)\r\n\t                        curY += this._lineGap;\r\n\t                    child.y = curY;\r\n\t                    if (this._autoResizeItem)\r\n\t                        child.setSize(viewWidth, child.height, true);\r\n\t                    curY += Math.ceil(child.height);\r\n\t                    if (child.width > maxWidth)\r\n\t                        maxWidth = child.width;\r\n\t                }\r\n\t                cw = Math.ceil(maxWidth);\r\n\t                ch = curY;\r\n\t            } else if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1) {\r\n\t                for (i = 0; i < cnt; i++) {\r\n\t                    child = this.getChildAt(i);\r\n\t                    if (this.foldInvisibleItems && !child.visible)\r\n\t                        continue;\r\n\t                    if (curX != 0)\r\n\t                        curX += this._columnGap;\r\n\t                    child.x = curX;\r\n\t                    if (this._autoResizeItem)\r\n\t                        child.setSize(child.width, viewHeight, true);\r\n\t                    curX += Math.ceil(child.width);\r\n\t                    if (child.height > maxHeight)\r\n\t                        maxHeight = child.height;\r\n\t                }\r\n\t                cw = curX;\r\n\t                ch = Math.ceil(maxHeight);\r\n\t            } else if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n\t                if (this._autoResizeItem && this._columnCount > 0) {\r\n\t                    for (i = 0; i < cnt; i++) {\r\n\t                        child = this.getChildAt(i);\r\n\t                        if (this.foldInvisibleItems && !child.visible)\r\n\t                            continue;\r\n\t                        lineSize += child.sourceWidth;\r\n\t                        j++;\r\n\t                        if (j == this._columnCount || i == cnt - 1) {\r\n\t                            ratio = (viewWidth - lineSize - (j - 1) * this._columnGap) / lineSize;\r\n\t                            curX = 0;\r\n\t                            for (j = lineStart; j <= i; j++) {\r\n\t                                child = this.getChildAt(j);\r\n\t                                if (this.foldInvisibleItems && !child.visible)\r\n\t                                    continue;\r\n\t                                child.setXY(curX, curY);\r\n\t                                if (j < i) {\r\n\t                                    child.setSize(child.sourceWidth + Math.round(child.sourceWidth * ratio), child.height, true);\r\n\t                                    curX += Math.ceil(child.width) + this._columnGap;\r\n\t                                } else {\r\n\t                                    child.setSize(viewWidth - curX, child.height, true);\r\n\t                                }\r\n\t                                if (child.height > maxHeight)\r\n\t                                    maxHeight = child.height;\r\n\t                            }\r\n\t                            curY += Math.ceil(maxHeight) + this._lineGap;\r\n\t                            maxHeight = 0;\r\n\t                            j = 0;\r\n\t                            lineStart = i + 1;\r\n\t                            lineSize = 0;\r\n\t                        }\r\n\t                    }\r\n\t                    ch = curY + Math.ceil(maxHeight);\r\n\t                    cw = viewWidth;\r\n\t                } else {\r\n\t                    for (i = 0; i < cnt; i++) {\r\n\t                        child = this.getChildAt(i);\r\n\t                        if (this.foldInvisibleItems && !child.visible)\r\n\t                            continue;\r\n\t                        if (curX != 0)\r\n\t                            curX += this._columnGap;\r\n\t                        if (this._columnCount != 0 && j >= this._columnCount ||\r\n\t                            this._columnCount == 0 && curX + child.width > viewWidth && maxHeight != 0) {\r\n\t                            curX = 0;\r\n\t                            curY += Math.ceil(maxHeight) + this._lineGap;\r\n\t                            maxHeight = 0;\r\n\t                            j = 0;\r\n\t                        }\r\n\t                        child.setXY(curX, curY);\r\n\t                        curX += Math.ceil(child.width);\r\n\t                        if (curX > maxWidth)\r\n\t                            maxWidth = curX;\r\n\t                        if (child.height > maxHeight)\r\n\t                            maxHeight = child.height;\r\n\t                        j++;\r\n\t                    }\r\n\t                    ch = curY + Math.ceil(maxHeight);\r\n\t                    cw = Math.ceil(maxWidth);\r\n\t                }\r\n\t            } else if (this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n\t                if (this._autoResizeItem && this._lineCount > 0) {\r\n\t                    for (i = 0; i < cnt; i++) {\r\n\t                        child = this.getChildAt(i);\r\n\t                        if (this.foldInvisibleItems && !child.visible)\r\n\t                            continue;\r\n\t                        lineSize += child.sourceHeight;\r\n\t                        j++;\r\n\t                        if (j == this._lineCount || i == cnt - 1) {\r\n\t                            ratio = (viewHeight - lineSize - (j - 1) * this._lineGap) / lineSize;\r\n\t                            curY = 0;\r\n\t                            for (j = lineStart; j <= i; j++) {\r\n\t                                child = this.getChildAt(j);\r\n\t                                if (this.foldInvisibleItems && !child.visible)\r\n\t                                    continue;\r\n\t                                child.setXY(curX, curY);\r\n\t                                if (j < i) {\r\n\t                                    child.setSize(child.width, child.sourceHeight + Math.round(child.sourceHeight * ratio), true);\r\n\t                                    curY += Math.ceil(child.height) + this._lineGap;\r\n\t                                } else {\r\n\t                                    child.setSize(child.width, viewHeight - curY, true);\r\n\t                                }\r\n\t                                if (child.width > maxWidth)\r\n\t                                    maxWidth = child.width;\r\n\t                            }\r\n\t                            curX += Math.ceil(maxWidth) + this._columnGap;\r\n\t                            maxWidth = 0;\r\n\t                            j = 0;\r\n\t                            lineStart = i + 1;\r\n\t                            lineSize = 0;\r\n\t                        }\r\n\t                    }\r\n\t                    cw = curX + Math.ceil(maxWidth);\r\n\t                    ch = viewHeight;\r\n\t                } else {\r\n\t                    for (i = 0; i < cnt; i++) {\r\n\t                        child = this.getChildAt(i);\r\n\t                        if (this.foldInvisibleItems && !child.visible)\r\n\t                            continue;\r\n\t                        if (curY != 0)\r\n\t                            curY += this._lineGap;\r\n\t                        if (this._lineCount != 0 && j >= this._lineCount ||\r\n\t                            this._lineCount == 0 && curY + child.height > viewHeight && maxWidth != 0) {\r\n\t                            curY = 0;\r\n\t                            curX += Math.ceil(maxWidth) + this._columnGap;\r\n\t                            maxWidth = 0;\r\n\t                            j = 0;\r\n\t                        }\r\n\t                        child.setXY(curX, curY);\r\n\t                        curY += Math.ceil(child.height);\r\n\t                        if (curY > maxHeight)\r\n\t                            maxHeight = curY;\r\n\t                        if (child.width > maxWidth)\r\n\t                            maxWidth = child.width;\r\n\t                        j++;\r\n\t                    }\r\n\t                    cw = curX + Math.ceil(maxWidth);\r\n\t                    ch = Math.ceil(maxHeight);\r\n\t                }\r\n\t            } else {\r\n\t                var eachHeight = 0;\r\n\t                if (this._autoResizeItem && this._lineCount > 0)\r\n\t                    eachHeight = Math.floor((viewHeight - (this._lineCount - 1) * this._lineGap) / this._lineCount);\r\n\t                if (this._autoResizeItem && this._columnCount > 0) {\r\n\t                    for (i = 0; i < cnt; i++) {\r\n\t                        child = this.getChildAt(i);\r\n\t                        if (this.foldInvisibleItems && !child.visible)\r\n\t                            continue;\r\n\t                        lineSize += child.sourceWidth;\r\n\t                        j++;\r\n\t                        if (j == this._columnCount || i == cnt - 1) {\r\n\t                            ratio = (viewWidth - lineSize - (j - 1) * this._columnGap) / lineSize;\r\n\t                            curX = 0;\r\n\t                            for (j = lineStart; j <= i; j++) {\r\n\t                                child = this.getChildAt(j);\r\n\t                                if (this.foldInvisibleItems && !child.visible)\r\n\t                                    continue;\r\n\t                                child.setXY(page * viewWidth + curX, curY);\r\n\t                                if (j < i) {\r\n\t                                    child.setSize(child.sourceWidth + Math.round(child.sourceWidth * ratio),\r\n\t                                        this._lineCount > 0 ? eachHeight : child.height, true);\r\n\t                                    curX += Math.ceil(child.width) + this._columnGap;\r\n\t                                } else {\r\n\t                                    child.setSize(viewWidth - curX, this._lineCount > 0 ? eachHeight : child.height, true);\r\n\t                                }\r\n\t                                if (child.height > maxHeight)\r\n\t                                    maxHeight = child.height;\r\n\t                            }\r\n\t                            curY += Math.ceil(maxHeight) + this._lineGap;\r\n\t                            maxHeight = 0;\r\n\t                            j = 0;\r\n\t                            lineStart = i + 1;\r\n\t                            lineSize = 0;\r\n\t                            k++;\r\n\t                            if (this._lineCount != 0 && k >= this._lineCount ||\r\n\t                                this._lineCount == 0 && curY + child.height > viewHeight) {\r\n\t                                page++;\r\n\t                                curY = 0;\r\n\t                                k = 0;\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                } else {\r\n\t                    for (i = 0; i < cnt; i++) {\r\n\t                        child = this.getChildAt(i);\r\n\t                        if (this.foldInvisibleItems && !child.visible)\r\n\t                            continue;\r\n\t                        if (curX != 0)\r\n\t                            curX += this._columnGap;\r\n\t                        if (this._autoResizeItem && this._lineCount > 0)\r\n\t                            child.setSize(child.width, eachHeight, true);\r\n\t                        if (this._columnCount != 0 && j >= this._columnCount ||\r\n\t                            this._columnCount == 0 && curX + child.width > viewWidth && maxHeight != 0) {\r\n\t                            curX = 0;\r\n\t                            curY += Math.ceil(maxHeight) + this._lineGap;\r\n\t                            maxHeight = 0;\r\n\t                            j = 0;\r\n\t                            k++;\r\n\t                            if (this._lineCount != 0 && k >= this._lineCount ||\r\n\t                                this._lineCount == 0 && curY + child.height > viewHeight && maxWidth != 0) {\r\n\t                                page++;\r\n\t                                curY = 0;\r\n\t                                k = 0;\r\n\t                            }\r\n\t                        }\r\n\t                        child.setXY(page * viewWidth + curX, curY);\r\n\t                        curX += Math.ceil(child.width);\r\n\t                        if (curX > maxWidth)\r\n\t                            maxWidth = curX;\r\n\t                        if (child.height > maxHeight)\r\n\t                            maxHeight = child.height;\r\n\t                        j++;\r\n\t                    }\r\n\t                }\r\n\t                ch = page > 0 ? viewHeight : curY + Math.ceil(maxHeight);\r\n\t                cw = (page + 1) * viewWidth;\r\n\t            }\r\n\t            this.handleAlign(cw, ch);\r\n\t            this.setBounds(0, 0, cw, ch);\r\n\t        }\r\n\t\r\n\t        __proto.setup_beforeAdd = function(xml) {\r\n\t            fairygui.GObject.prototype.setup_beforeAdd.call(this, xml);\r\n\t            var str;\r\n\t            var arr;\r\n\t            str = xml.getAttribute(\"layout\");\r\n\t            if (str)\r\n\t                this._layout = ListLayoutType.parse(str);\r\n\t            var overflow = 0;\r\n\t            str = xml.getAttribute(\"overflow\");\r\n\t            if (str)\r\n\t                overflow = OverflowType.parse(str);\r\n\t            else\r\n\t                overflow = /*fairygui.OverflowType.Visible*/ 0;\r\n\t            str = xml.getAttribute(\"margin\");\r\n\t            if (str)\r\n\t                this._margin.parse(str);\r\n\t            str = xml.getAttribute(\"align\");\r\n\t            if (str)\r\n\t                this._align = str;\r\n\t            str = xml.getAttribute(\"vAlign\");\r\n\t            if (str)\r\n\t                this._verticalAlign = str;\r\n\t            if (overflow == /*fairygui.OverflowType.Scroll*/ 2) {\r\n\t                var scroll = 0;\r\n\t                str = xml.getAttribute(\"scroll\");\r\n\t                if (str)\r\n\t                    scroll = ScrollType.parse(str);\r\n\t                else\r\n\t                    scroll = /*fairygui.ScrollType.Vertical*/ 1;\r\n\t                var scrollBarDisplay = 0;\r\n\t                str = xml.getAttribute(\"scrollBar\");\r\n\t                if (str)\r\n\t                    scrollBarDisplay = ScrollBarDisplayType.parse(str);\r\n\t                else\r\n\t                    scrollBarDisplay = /*fairygui.ScrollBarDisplayType.Default*/ 0;\r\n\t                var scrollBarFlags = NaN;\r\n\t                str = xml.getAttribute(\"scrollBarFlags\");\r\n\t                if (str)\r\n\t                    scrollBarFlags = parseInt(str);\r\n\t                else\r\n\t                    scrollBarFlags = 0;\r\n\t                var scrollBarMargin = new Margin();\r\n\t                str = xml.getAttribute(\"scrollBarMargin\");\r\n\t                if (str)\r\n\t                    scrollBarMargin.parse(str);\r\n\t                var vtScrollBarRes;\r\n\t                var hzScrollBarRes;\r\n\t                str = xml.getAttribute(\"scrollBarRes\");\r\n\t                if (str) {\r\n\t                    arr = str.split(\",\");\r\n\t                    vtScrollBarRes = arr[0];\r\n\t                    hzScrollBarRes = arr[1];\r\n\t                }\r\n\t                this.setupScroll(scrollBarMargin, scroll, scrollBarDisplay, scrollBarFlags, vtScrollBarRes, hzScrollBarRes);\r\n\t            } else\r\n\t                this.setupOverflow(overflow);\r\n\t            str = xml.getAttribute(\"lineGap\");\r\n\t            if (str)\r\n\t                this._lineGap = parseInt(str);\r\n\t            str = xml.getAttribute(\"colGap\");\r\n\t            if (str)\r\n\t                this._columnGap = parseInt(str);\r\n\t            str = xml.getAttribute(\"lineItemCount\");\r\n\t            if (str) {\r\n\t                if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4)\r\n\t                    this._columnCount = parseInt(str);\r\n\t                else if (this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3)\r\n\t                    this._lineCount = parseInt(str);\r\n\t            }\r\n\t            str = xml.getAttribute(\"lineItemCount2\");\r\n\t            if (str)\r\n\t                this._lineCount = parseInt(str);\r\n\t            str = xml.getAttribute(\"selectionMode\");\r\n\t            if (str)\r\n\t                this._selectionMode = ListSelectionMode.parse(str);\r\n\t            str = xml.getAttribute(\"defaultItem\");\r\n\t            if (str)\r\n\t                this._defaultItem = str;\r\n\t            str = xml.getAttribute(\"autoItemSize\");\r\n\t            if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0)\r\n\t                this._autoResizeItem = str != \"false\";\r\n\t            else\r\n\t                this._autoResizeItem = str == \"true\";\r\n\t            str = xml.getAttribute(\"renderOrder\");\r\n\t            if (str) {\r\n\t                this._childrenRenderOrder = ChildrenRenderOrder.parse(str);\r\n\t                if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Arch*/ 2) {\r\n\t                    str = xml.getAttribute(\"apex\");\r\n\t                    if (str)\r\n\t                        this._apexIndex = parseInt(str);\r\n\t                }\r\n\t            };\r\n\t            var col = xml.childNodes;\r\n\t            var length = col.length;\r\n\t            for (var i = 0; i < length; i++) {\r\n\t                var cxml = col[i];\r\n\t                if (cxml.nodeName != \"item\")\r\n\t                    continue;\r\n\t                var url = cxml.getAttribute(\"url\");\r\n\t                if (!url)\r\n\t                    url = this._defaultItem;\r\n\t                if (!url)\r\n\t                    continue;\r\n\t                var obj = this.getFromPool(url);\r\n\t                if (obj != null) {\r\n\t                    this.addChild(obj);\r\n\t                    str = cxml.getAttribute(\"title\");\r\n\t                    if (str)\r\n\t                        obj.text = str;\r\n\t                    str = cxml.getAttribute(\"icon\");\r\n\t                    if (str)\r\n\t                        obj.icon = str;\r\n\t                    str = cxml.getAttribute(\"name\");\r\n\t                    if (str)\r\n\t                        obj.name = str;\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setup_afterAdd = function(xml) {\r\n\t            _super.prototype.setup_afterAdd.call(this, xml);\r\n\t            var str;\r\n\t            str = xml.getAttribute(\"selectionController\");\r\n\t            if (str)\r\n\t                this._selectionController = this.parent.getController(str);\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'layout', function() {\r\n\t            return this._layout;\r\n\t        }, function(value) {\r\n\t            if (this._layout != value) {\r\n\t                this._layout = value;\r\n\t                this.setBoundsChangedFlag();\r\n\t                if (this._virtual)\r\n\t                    this.setVirtualListChangedFlag(true);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'align', function() {\r\n\t            return this._align;\r\n\t        }, function(value) {\r\n\t            if (this._align != value) {\r\n\t                this._align = value;\r\n\t                this.setBoundsChangedFlag();\r\n\t                if (this._virtual)\r\n\t                    this.setVirtualListChangedFlag(true);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'lineCount', function() {\r\n\t            return this._lineCount;\r\n\t        }, function(value) {\r\n\t            if (this._lineCount != value) {\r\n\t                this._lineCount = value;\r\n\t                if (this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n\t                    this.setBoundsChangedFlag();\r\n\t                    if (this._virtual)\r\n\t                        this.setVirtualListChangedFlag(true);\r\n\t                }\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'columnCount', function() {\r\n\t            return this._columnCount;\r\n\t        }, function(value) {\r\n\t            if (this._columnCount != value) {\r\n\t                this._columnCount = value;\r\n\t                if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n\t                    this.setBoundsChangedFlag();\r\n\t                    if (this._virtual)\r\n\t                        this.setVirtualListChangedFlag(true);\r\n\t                }\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'lineGap', function() {\r\n\t            return this._lineGap;\r\n\t        }, function(value) {\r\n\t            if (this._lineGap != value) {\r\n\t                this._lineGap = value;\r\n\t                this.setBoundsChangedFlag();\r\n\t                if (this._virtual)\r\n\t                    this.setVirtualListChangedFlag(true);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'columnGap', function() {\r\n\t            return this._columnGap;\r\n\t        }, function(value) {\r\n\t            if (this._columnGap != value) {\r\n\t                this._columnGap = value;\r\n\t                this.setBoundsChangedFlag();\r\n\t                if (this._virtual)\r\n\t                    this.setVirtualListChangedFlag(true);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'verticalAlign', function() {\r\n\t            return this._verticalAlign;\r\n\t        }, function(value) {\r\n\t            if (this._verticalAlign != value) {\r\n\t                this._verticalAlign = value;\r\n\t                this.setBoundsChangedFlag();\r\n\t                if (this._virtual)\r\n\t                    this.setVirtualListChangedFlag(true);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'virtualItemSize', function() {\r\n\t            return this._itemSize;\r\n\t        }, function(value) {\r\n\t            if (this._virtual) {\r\n\t                if (this._itemSize == null)\r\n\t                    this._itemSize = new Point();\r\n\t                this._itemSize.setTo(value.x, value.y);\r\n\t                this.setVirtualListChangedFlag(true);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'defaultItem', function() {\r\n\t            return this._defaultItem;\r\n\t        }, function(val) {\r\n\t            this._defaultItem = val;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'autoResizeItem', function() {\r\n\t            return this._autoResizeItem;\r\n\t        }, function(value) {\r\n\t            if (this._autoResizeItem != value) {\r\n\t                this._autoResizeItem = value;\r\n\t                this.setBoundsChangedFlag();\r\n\t                if (this._virtual)\r\n\t                    this.setVirtualListChangedFlag(true);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'selectionMode', function() {\r\n\t            return this._selectionMode;\r\n\t        }, function(value) {\r\n\t            this._selectionMode = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'selectionController', function() {\r\n\t            return this._selectionController;\r\n\t        }, function(value) {\r\n\t            this._selectionController = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'itemPool', function() {\r\n\t            return this._pool;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'selectedIndex', function() {\r\n\t            var cnt = this._children.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var obj = this._children[i];\r\n\t                if (((obj instanceof fairygui.GButton)) && (obj).selected)\r\n\t                    return this.childIndexToItemIndex(i);\r\n\t            }\r\n\t            return -1;\r\n\t        }, function(value) {\r\n\t            this.clearSelection();\r\n\t            if (value >= 0 && value < this.numItems)\r\n\t                this.addSelection(value);\r\n\t        });\r\n\t\r\n\t        /// </summary>\r\n\t        __getset(0, __proto, 'numItems', function() {\r\n\t            if (this._virtual)\r\n\t                return this._numItems;\r\n\t            else\r\n\t                return this._children.length;\r\n\t        }, function(value) {\r\n\t            var i = 0;\r\n\t            if (this._virtual) {\r\n\t                if (this.itemRenderer == null)\r\n\t                    throw new Error(\"Set itemRenderer first!\");\r\n\t                this._numItems = value;\r\n\t                if (this._loop)\r\n\t                    this._realNumItems = this._numItems * 5;\r\n\t                else\r\n\t                    this._realNumItems = this._numItems;\r\n\t                var oldCount = this._virtualItems.length;\r\n\t                if (this._realNumItems > oldCount) {\r\n\t                    for (i = oldCount; i < this._realNumItems; i++) {\r\n\t                        var ii = new ItemInfo();\r\n\t                        ii.width = this._itemSize.x;\r\n\t                        ii.height = this._itemSize.y;\r\n\t                        this._virtualItems.push(ii);\r\n\t                    }\r\n\t                }\r\n\t                if (this._virtualListChanged != 0)\r\n\t                    Laya.timer.clear(this, this._refreshVirtualList);\r\n\t                this._refreshVirtualList();\r\n\t            } else {\r\n\t                var cnt = this._children.length;\r\n\t                if (value > cnt) {\r\n\t                    for (i = cnt; i < value; i++) {\r\n\t                        if (this.itemProvider == null)\r\n\t                            this.addItemFromPool();\r\n\t                        else\r\n\t                            this.addItemFromPool(this.itemProvider.runWith(i));\r\n\t                    }\r\n\t                } else {\r\n\t                    this.removeChildrenToPool(value, cnt);\r\n\t                }\r\n\t                if (this.itemRenderer != null) {\r\n\t                    for (i = 0; i < value; i++)\r\n\t                        this.itemRenderer.runWith([i, this.getChildAt(i)]);\r\n\t                }\r\n\t            }\r\n\t        });\r\n\t\r\n\t        GList.itemInfoVer = 0;\r\n\t        GList.enterCounter = 0;\r\n\t        GList.pos_param = NaN\r\n\t        GList.__init$ = function() {\r\n\t            //class ItemInfo\r\n\t            ItemInfo = (function() {\r\n\t                function ItemInfo() {\r\n\t                    this.width = 0;\r\n\t                    this.height = 0;\r\n\t                    this.obj = null;\r\n\t                    this.updateFlag = 0;\r\n\t                }\r\n\t                __class(ItemInfo, '');\r\n\t                return ItemInfo;\r\n\t            })()\r\n\t        }\r\n\t\r\n\t        return GList;\r\n\t    })(GComponent)\r\n\t\r\n\t\r\n\t    //class fairygui.GRichTextField extends fairygui.GTextField\r\n\t    var GRichTextField = (function(_super) {\r\n\t        function GRichTextField() {\r\n\t            this.div = null;\r\n\t            this._text = null;\r\n\t            this._ubbEnabled = false;\r\n\t            this._color = null;\r\n\t            GRichTextField.__super.call(this);\r\n\t            this._text = \"\";\r\n\t        }\r\n\t\r\n\t        __class(GRichTextField, 'fairygui.GRichTextField', _super);\r\n\t        var __proto = GRichTextField.prototype;\r\n\t        __proto.createDisplayObject = function() {\r\n\t            this._displayObject = this.div = new HTMLDivElement();\r\n\t            this._displayObject.mouseEnabled = true;\r\n\t            this._displayObject[\"$owner\"] = this;\r\n\t        }\r\n\t\r\n\t        __proto.handleSizeChanged = function() {\r\n\t            this.div.size(this.width, this.height);\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'bold', function() {\r\n\t            return this.div.style.bold;\r\n\t        }, function(value) {\r\n\t            this.div.style.bold = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'align', function() {\r\n\t            return this.div.style.align;\r\n\t        }, function(value) {\r\n\t            this.div.style.align = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'text', function() {\r\n\t            return this._text;\r\n\t        }, function(value) {\r\n\t            this._text = value;\r\n\t            if (this._ubbEnabled)\r\n\t                this.div.innerHTML = ToolSet.parseUBB(this._text);\r\n\t            else\r\n\t                this.div.innerHTML = this._text;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'color', function() {\r\n\t            return this._color;\r\n\t        }, function(value) {\r\n\t            if (this._color != value) {\r\n\t                this._color = value;\r\n\t                this.div.color = value;\r\n\t                if (this._gearColor.controller)\r\n\t                    this._gearColor.updateState();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'font', function() {\r\n\t            return this.div.style.font;\r\n\t        }, function(value) {\r\n\t            this.div.style.font = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'leading', function() {\r\n\t            return this.div.style.leading;\r\n\t        }, function(value) {\r\n\t            this.div.style.leading = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'fontSize', function() {\r\n\t            return this.div.style.fontSize;\r\n\t        }, function(value) {\r\n\t            this.div.style.fontSize = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'valign', function() {\r\n\t            return this.div.style.valign;\r\n\t        }, function(value) {\r\n\t            this.div.style.valign = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'italic', function() {\r\n\t            return this.div.style.italic;\r\n\t        }, function(value) {\r\n\t            this.div.style.italic = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'stroke', function() {\r\n\t            return this.div.style.stroke;\r\n\t        }, function(value) {\r\n\t            this.div.style.stroke = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'strokeColor', function() {\r\n\t            return this.div.style.strokeColor;\r\n\t        }, function(value) {\r\n\t            this.div.style.strokeColor = value;\r\n\t            this.updateGear(4);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'ubbEnabled', function() {\r\n\t            return this._ubbEnabled;\r\n\t        }, function(value) {\r\n\t            this._ubbEnabled = value;\r\n\t        });\r\n\t\r\n\t        return GRichTextField;\r\n\t    })(GTextField)\r\n\t\r\n\t\r\n\t    //class fairygui.GProgressBar extends fairygui.GComponent\r\n\t    var GProgressBar = (function(_super) {\r\n\t        function GProgressBar() {\r\n\t            this._max = 0;\r\n\t            this._value = 0;\r\n\t            this._titleType = 0;\r\n\t            this._reverse = false;\r\n\t            this._titleObject = null;\r\n\t            this._aniObject = null;\r\n\t            this._barObjectH = null;\r\n\t            this._barObjectV = null;\r\n\t            this._barMaxWidth = 0;\r\n\t            this._barMaxHeight = 0;\r\n\t            this._barMaxWidthDelta = 0;\r\n\t            this._barMaxHeightDelta = 0;\r\n\t            this._barStartX = 0;\r\n\t            this._barStartY = 0;\r\n\t            this._tweener = null;\r\n\t            this._tweenValue = 0;\r\n\t            GProgressBar.__super.call(this);\r\n\t            this._titleType = /*fairygui.ProgressTitleType.Percent*/ 0;\r\n\t            this._value = 50;\r\n\t            this._max = 100;\r\n\t        }\r\n\t\r\n\t        __class(GProgressBar, 'fairygui.GProgressBar', _super);\r\n\t        var __proto = GProgressBar.prototype;\r\n\t        __proto.tweenValue = function(value, duration) {\r\n\t            if (this._value != value) {\r\n\t                if (this._tweener)\r\n\t                    this._tweener.clear();\r\n\t                this._tweenValue = this._value;\r\n\t                this._value = value;\r\n\t                this._tweener = Tween.to(this, { _tweenValue: value }, duration * 1000, fairygui.GProgressBar.easeLinear,\r\n\t                    Handler.create(this, this.onTweenComplete, null, true));\r\n\t                this._tweener.update = Handler.create(this, this.onUpdateTween, null, false);\r\n\t                return this._tweener;\r\n\t            } else\r\n\t                return null;\r\n\t        }\r\n\t\r\n\t        __proto.onUpdateTween = function() {\r\n\t            this.update(this._tweenValue);\r\n\t        }\r\n\t\r\n\t        __proto.onTweenComplete = function() {\r\n\t            this._tweener = null;\r\n\t        }\r\n\t\r\n\t        __proto.update = function(newValue) {\r\n\t            var percent = Math.min(newValue / this._max, 1);\r\n\t            if (this._titleObject) {\r\n\t                switch (this._titleType) {\r\n\t                    case /*fairygui.ProgressTitleType.Percent*/ 0:\r\n\t                        this._titleObject.text = Math.round(percent * 100) + \"%\";\r\n\t                        break;\r\n\t                    case /*fairygui.ProgressTitleType.ValueAndMax*/ 1:\r\n\t                        this._titleObject.text = Math.round(newValue) + \"/\" + Math.round(this._max);\r\n\t                        break;\r\n\t                    case /*fairygui.ProgressTitleType.Value*/ 2:\r\n\t                        this._titleObject.text = \"\" + Math.round(newValue);\r\n\t                        break;\r\n\t                    case /*fairygui.ProgressTitleType.Max*/ 3:\r\n\t                        this._titleObject.text = \"\" + Math.round(this._max);\r\n\t                        break;\r\n\t                }\r\n\t            };\r\n\t            var fullWidth = this.width - this._barMaxWidthDelta;\r\n\t            var fullHeight = this.height - this._barMaxHeightDelta;\r\n\t            if (!this._reverse) {\r\n\t                if (this._barObjectH)\r\n\t                    this._barObjectH.width = fullWidth * percent;\r\n\t                if (this._barObjectV)\r\n\t                    this._barObjectV.height = fullHeight * percent;\r\n\t            } else {\r\n\t                if (this._barObjectH) {\r\n\t                    this._barObjectH.width = Math.round(fullWidth * percent);\r\n\t                    this._barObjectH.x = this._barStartX + (fullWidth - this._barObjectH.width);\r\n\t                }\r\n\t                if (this._barObjectV) {\r\n\t                    this._barObjectV.height = Math.round(fullHeight * percent);\r\n\t                    this._barObjectV.y = this._barStartY + (fullHeight - this._barObjectV.height);\r\n\t                }\r\n\t            }\r\n\t            if ((this._aniObject instanceof fairygui.GMovieClip))\r\n\t                (this._aniObject).frame = Math.round(percent * 100);\r\n\t        }\r\n\t\r\n\t        __proto.constructFromXML = function(xml) {\r\n\t            _super.prototype.constructFromXML.call(this, xml);\r\n\t            xml = ToolSet.findChildNode(xml, \"ProgressBar\");\r\n\t            var str;\r\n\t            str = xml.getAttribute(\"titleType\");\r\n\t            if (str)\r\n\t                this._titleType = ProgressTitleType.parse(str);\r\n\t            this._reverse = xml.getAttribute(\"reverse\") == \"true\";\r\n\t            this._titleObject = (this.getChild(\"title\"));\r\n\t            this._barObjectH = this.getChild(\"bar\");\r\n\t            this._barObjectV = this.getChild(\"bar_v\");\r\n\t            this._aniObject = this.getChild(\"ani\");\r\n\t            if (this._barObjectH) {\r\n\t                this._barMaxWidth = this._barObjectH.width;\r\n\t                this._barMaxWidthDelta = this.width - this._barMaxWidth;\r\n\t                this._barStartX = this._barObjectH.x;\r\n\t            }\r\n\t            if (this._barObjectV) {\r\n\t                this._barMaxHeight = this._barObjectV.height;\r\n\t                this._barMaxHeightDelta = this.height - this._barMaxHeight;\r\n\t                this._barStartY = this._barObjectV.y;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.handleSizeChanged = function() {\r\n\t            _super.prototype.handleSizeChanged.call(this);\r\n\t            if (this._barObjectH)\r\n\t                this._barMaxWidth = this.width - this._barMaxWidthDelta;\r\n\t            if (this._barObjectV)\r\n\t                this._barMaxHeight = this.height - this._barMaxHeightDelta;\r\n\t            if (!this._underConstruct)\r\n\t                this.update(this._value);\r\n\t        }\r\n\t\r\n\t        __proto.setup_afterAdd = function(xml) {\r\n\t            _super.prototype.setup_afterAdd.call(this, xml);\r\n\t            xml = ToolSet.findChildNode(xml, \"ProgressBar\");\r\n\t            if (xml) {\r\n\t                this._value = parseInt(xml.getAttribute(\"value\"));\r\n\t                this._max = parseInt(xml.getAttribute(\"max\"));\r\n\t            }\r\n\t            this.update(this._value);\r\n\t        }\r\n\t\r\n\t        __proto.dispose = function() {\r\n\t            if (this._tweener)\r\n\t                this._tweener.clear();\r\n\t            _super.prototype.dispose.call(this);\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'max', function() {\r\n\t            return this._max;\r\n\t        }, function(value) {\r\n\t            if (this._max != value) {\r\n\t                this._max = value;\r\n\t                this.update(this._value);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'titleType', function() {\r\n\t            return this._titleType;\r\n\t        }, function(value) {\r\n\t            if (this._titleType != value) {\r\n\t                this._titleType = value;\r\n\t                this.update(this._value);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'value', function() {\r\n\t            return this._value;\r\n\t        }, function(value) {\r\n\t            if (this._tweener != null) {\r\n\t                this._tweener.clear();\r\n\t                this._tweener = null;\r\n\t            }\r\n\t            if (this._value != value) {\r\n\t                this._value = value;\r\n\t                this.update(this._value);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __static(GProgressBar, ['easeLinear', function() { return this.easeLinear = Ease.linearNone; }]);\r\n\t        return GProgressBar;\r\n\t    })(GComponent)\r\n\t\r\n\t\r\n\t    //class fairygui.GRoot extends fairygui.GComponent\r\n\t    var GRoot = (function(_super) {\r\n\t        function GRoot() {\r\n\t            this._modalLayer = null;\r\n\t            this._popupStack = null;\r\n\t            this._justClosedPopups = null;\r\n\t            this._modalWaitPane = null;\r\n\t            this._focusedObject = null;\r\n\t            this._tooltipWin = null;\r\n\t            this._defaultTooltipWin = null;\r\n\t            this._checkPopups = false;\r\n\t            GRoot.__super.call(this);\r\n\t            if (fairygui.GRoot._inst == null)\r\n\t                fairygui.GRoot._inst = this;\r\n\t            this.opaque = false;\r\n\t            this._popupStack = [];\r\n\t            this._justClosedPopups = [];\r\n\t            this.displayObject.once( /*laya.events.Event.DISPLAY*/ \"display\", this, this.__addedToStage);\r\n\t        }\r\n\t\r\n\t        __class(GRoot, 'fairygui.GRoot', _super);\r\n\t        var __proto = GRoot.prototype;\r\n\t        __proto.showWindow = function(win) {\r\n\t            this.addChild(win);\r\n\t            win.requestFocus();\r\n\t            if (win.x > this.width)\r\n\t                win.x = this.width - win.width;\r\n\t            else if (win.x + win.width < 0)\r\n\t                win.x = 0;\r\n\t            if (win.y > this.height)\r\n\t                win.y = this.height - win.height;\r\n\t            else if (win.y + win.height < 0)\r\n\t                win.y = 0;\r\n\t            this.adjustModalLayer();\r\n\t        }\r\n\t\r\n\t        __proto.hideWindow = function(win) {\r\n\t            win.hide();\r\n\t        }\r\n\t\r\n\t        __proto.hideWindowImmediately = function(win) {\r\n\t            if (win.parent == this)\r\n\t                this.removeChild(win);\r\n\t            this.adjustModalLayer();\r\n\t        }\r\n\t\r\n\t        __proto.bringToFront = function(win) {\r\n\t            var cnt = this.numChildren;\r\n\t            var i = NaN;\r\n\t            if (this._modalLayer.parent != null && !win.modal)\r\n\t                i = this.getChildIndex(this._modalLayer) - 1;\r\n\t            else\r\n\t                i = cnt - 1;\r\n\t            for (; i >= 0; i--) {\r\n\t                var g = this.getChildAt(i);\r\n\t                if (g == win)\r\n\t                    return;\r\n\t                if ((g instanceof fairygui.Window))\r\n\t                    break;\r\n\t            }\r\n\t            if (i >= 0)\r\n\t                this.setChildIndex(win, i);\r\n\t        }\r\n\t\r\n\t        __proto.showModalWait = function(msg) {\r\n\t            if (UIConfig1.globalModalWaiting != null) {\r\n\t                if (this._modalWaitPane == null)\r\n\t                    this._modalWaitPane = UIPackage.createObjectFromURL(UIConfig1.globalModalWaiting);\r\n\t                this._modalWaitPane.setSize(this.width, this.height);\r\n\t                this._modalWaitPane.addRelation(this, /*fairygui.RelationType.Size*/ 24);\r\n\t                this.addChild(this._modalWaitPane);\r\n\t                this._modalWaitPane.text = msg;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.closeModalWait = function() {\r\n\t            if (this._modalWaitPane != null && this._modalWaitPane.parent != null)\r\n\t                this.removeChild(this._modalWaitPane);\r\n\t        }\r\n\t\r\n\t        __proto.closeAllExceptModals = function() {\r\n\t            var arr = this._children.slice();\r\n\t            var cnt = arr.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var g = arr[i];\r\n\t                if (((g instanceof fairygui.Window)) && !(g).modal)\r\n\t                    (g).hide();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.closeAllWindows = function() {\r\n\t            var arr = this._children.slice();\r\n\t            var cnt = arr.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var g = arr[i];\r\n\t                if ((g instanceof fairygui.Window))\r\n\t                    (g).hide();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.getTopWindow = function() {\r\n\t            var cnt = this.numChildren;\r\n\t            for (var i = cnt - 1; i >= 0; i--) {\r\n\t                var g = this.getChildAt(i);\r\n\t                if ((g instanceof fairygui.Window)) {\r\n\t                    return (g);\r\n\t                }\r\n\t            }\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        __proto.showPopup = function(popup, target, downward) {\r\n\t            if (this._popupStack.length > 0) {\r\n\t                var k = this._popupStack.indexOf(popup);\r\n\t                if (k != -1) {\r\n\t                    for (var i = this._popupStack.length - 1; i >= k; i--)\r\n\t                        this.removeChild(this._popupStack.pop());\r\n\t                }\r\n\t            }\r\n\t            this._popupStack.push(popup);\r\n\t            this.addChild(popup);\r\n\t            this.adjustModalLayer();\r\n\t            var pos;\r\n\t            var sizeW = 0,\r\n\t                sizeH = 0;\r\n\t            if (target) {\r\n\t                pos = target.localToGlobal();\r\n\t                sizeW = target.width;\r\n\t                sizeH = target.height;\r\n\t            } else {\r\n\t                pos = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY);\r\n\t            };\r\n\t            var xx = NaN,\r\n\t                yy = NaN;\r\n\t            xx = pos.x;\r\n\t            if (xx + popup.width > this.width)\r\n\t                xx = xx + sizeW - popup.width;\r\n\t            yy = pos.y + sizeH;\r\n\t            if ((downward == null && yy + popup.height > this.height) ||\r\n\t                downward == false) {\r\n\t                yy = pos.y - popup.height - 1;\r\n\t                if (yy < 0) {\r\n\t                    yy = 0;\r\n\t                    xx += sizeW / 2;\r\n\t                }\r\n\t            }\r\n\t            popup.x = xx;\r\n\t            popup.y = yy;\r\n\t        }\r\n\t\r\n\t        __proto.togglePopup = function(popup, target, downward) {\r\n\t            if (this._justClosedPopups.indexOf(popup) != -1)\r\n\t                return;\r\n\t            this.showPopup(popup, target, downward);\r\n\t        }\r\n\t\r\n\t        __proto.hidePopup = function(popup) {\r\n\t            if (popup != null) {\r\n\t                var k = this._popupStack.indexOf(popup);\r\n\t                if (k != -1) {\r\n\t                    for (var i = this._popupStack.length - 1; i >= k; i--)\r\n\t                        this.closePopup(this._popupStack.pop());\r\n\t                }\r\n\t            } else {\r\n\t                var cnt = this._popupStack.length;\r\n\t                for (i = cnt - 1; i >= 0; i--)\r\n\t                    this.closePopup(this._popupStack[i]);\r\n\t                this._popupStack.length = 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.closePopup = function(target) {\r\n\t            if (target.parent != null) {\r\n\t                if ((target instanceof fairygui.Window))\r\n\t                    (target).hide();\r\n\t                else\r\n\t                    this.removeChild(target);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.showTooltips = function(msg) {\r\n\t            if (this._defaultTooltipWin == null) {\r\n\t                var resourceURL = UIConfig1.tooltipsWin;\r\n\t                if (!resourceURL) {\r\n\t                    Log.print(\"UIConfig.tooltipsWin not defined\");\r\n\t                    return;\r\n\t                }\r\n\t                this._defaultTooltipWin = UIPackage.createObjectFromURL(resourceURL);\r\n\t            }\r\n\t            this._defaultTooltipWin.text = msg;\r\n\t            this.showTooltipsWin(this._defaultTooltipWin);\r\n\t        }\r\n\t\r\n\t        __proto.showTooltipsWin = function(tooltipWin, position) {\r\n\t            this.hideTooltips();\r\n\t            this._tooltipWin = tooltipWin;\r\n\t            var xx = 0;\r\n\t            var yy = 0;\r\n\t            if (position == null) {\r\n\t                xx = Laya.stage.mouseX + 10;\r\n\t                yy = Laya.stage.mouseY + 20;\r\n\t            } else {\r\n\t                xx = position.x;\r\n\t                yy = position.y;\r\n\t            };\r\n\t            var pt = this.globalToLocal(xx, yy);\r\n\t            xx = pt.x;\r\n\t            yy = pt.y;\r\n\t            if (xx + this._tooltipWin.width > this.width) {\r\n\t                xx = xx - this._tooltipWin.width - 1;\r\n\t                if (xx < 0)\r\n\t                    xx = 10;\r\n\t            }\r\n\t            if (yy + this._tooltipWin.height > this.height) {\r\n\t                yy = yy - this._tooltipWin.height - 1;\r\n\t                if (xx - this._tooltipWin.width - 1 > 0)\r\n\t                    xx = xx - this._tooltipWin.width - 1;\r\n\t                if (yy < 0)\r\n\t                    yy = 10;\r\n\t            }\r\n\t            this._tooltipWin.x = xx;\r\n\t            this._tooltipWin.y = yy;\r\n\t            this.addChild(this._tooltipWin);\r\n\t        }\r\n\t\r\n\t        __proto.hideTooltips = function() {\r\n\t            if (this._tooltipWin != null) {\r\n\t                if (this._tooltipWin.parent)\r\n\t                    this.removeChild(this._tooltipWin);\r\n\t                this._tooltipWin = null;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.getObjectUnderPoint = function(globalX, globalY) {\r\n\t            return null;\r\n\t        }\r\n\t\r\n\t        __proto.setFocus = function(value) {\r\n\t            if (this._focusedObject != value) {\r\n\t                this._focusedObject = value;\r\n\t                this.displayObject.event( /*fairygui.Events.FOCUS_CHANGED*/ \"fui_focus_changed\");\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.playOneShotSound = function(url, volumeScale) {\r\n\t            (volumeScale === void 0) && (volumeScale = 1);\r\n\t            SoundManager.playSound(url);\r\n\t        }\r\n\t\r\n\t        __proto.adjustModalLayer = function() {\r\n\t            var cnt = this.numChildren;\r\n\t            if (this._modalWaitPane != null && this._modalWaitPane.parent != null)\r\n\t                this.setChildIndex(this._modalWaitPane, cnt - 1);\r\n\t            for (var i = cnt - 1; i >= 0; i--) {\r\n\t                var g = this.getChildAt(i);\r\n\t                if (((g instanceof fairygui.Window)) && (g).modal) {\r\n\t                    if (this._modalLayer.parent == null)\r\n\t                        this.addChildAt(this._modalLayer, i);\r\n\t                    else\r\n\t                        this.setChildIndexBefore(this._modalLayer, i);\r\n\t                    return;\r\n\t                }\r\n\t            }\r\n\t            if (this._modalLayer.parent != null)\r\n\t                this.removeChild(this._modalLayer);\r\n\t        }\r\n\t\r\n\t        __proto.__addedToStage = function() {\r\n\t            Laya.stage.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__stageMouseDown);\r\n\t            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__stageMouseUp);\r\n\t            this._modalLayer = new GGraph();\r\n\t            this._modalLayer.setSize(this.width, this.height);\r\n\t            this._modalLayer.drawRect(0, null, UIConfig1.modalLayerColor);\r\n\t            this._modalLayer.addRelation(this, /*fairygui.RelationType.Size*/ 24);\r\n\t            this.displayObject.stage.on( /*laya.events.Event.RESIZE*/ \"resize\", this, this.__winResize);\r\n\t            this.__winResize();\r\n\t        }\r\n\t\r\n\t        __proto.checkPopups = function(clickTarget) {\r\n\t            if (this._checkPopups)\r\n\t                return;\r\n\t            this._checkPopups = true;\r\n\t            this._justClosedPopups.length = 0;\r\n\t            if (this._popupStack.length > 0) {\r\n\t                var mc = clickTarget;\r\n\t                while (mc != this.displayObject.stage && mc != null) {\r\n\t                    if (mc[\"$owner\"]) {\r\n\t                        var pindex = this._popupStack.indexOf(mc[\"$owner\"]);\r\n\t                        if (pindex != -1) {\r\n\t                            for (var i = this._popupStack.length - 1; i > pindex; i--) {\r\n\t                                var popup = this._popupStack.pop();\r\n\t                                this.closePopup(popup);\r\n\t                                this._justClosedPopups.push(popup);\r\n\t                            }\r\n\t                            return;\r\n\t                        }\r\n\t                    }\r\n\t                    mc = mc.parent;\r\n\t                };\r\n\t                var cnt = this._popupStack.length;\r\n\t                for (i = cnt - 1; i >= 0; i--) {\r\n\t                    popup = this._popupStack[i];\r\n\t                    this.closePopup(popup);\r\n\t                    this._justClosedPopups.push(popup);\r\n\t                }\r\n\t                this._popupStack.length = 0;\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__stageMouseDown = function(evt) {\r\n\t            var mc = evt.target;\r\n\t            while (mc != this.displayObject.stage && mc != null) {\r\n\t                if (mc[\"$owner\"]) {\r\n\t                    var gg = mc[\"$owner\"];\r\n\t                    if (gg.touchable && gg.focusable) {\r\n\t                        this.setFocus(gg);\r\n\t                        break;\r\n\t                    }\r\n\t                }\r\n\t                mc = mc.parent;\r\n\t            }\r\n\t            if (this._tooltipWin != null)\r\n\t                this.hideTooltips();\r\n\t            this.checkPopups(evt.target);\r\n\t        }\r\n\t\r\n\t        __proto.__stageMouseUp = function() {\r\n\t            this._checkPopups = false;\r\n\t        }\r\n\t\r\n\t        __proto.__winResize = function() {\r\n\t            this.setSize(Laya.stage.width, Laya.stage.height);\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'focus', function() {\r\n\t            if (this._focusedObject && !this._focusedObject.onStage)\r\n\t                this._focusedObject = null;\r\n\t            return this._focusedObject;\r\n\t        }, function(value) {\r\n\t            if (value && (!value.focusable || !value.onStage))\r\n\t                throw \"invalid focus target\";\r\n\t            this.setFocus(value);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'hasAnyPopup', function() {\r\n\t            return this._popupStack.length != 0;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'modalLayer', function() {\r\n\t            return this._modalLayer;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'hasModalWindow', function() {\r\n\t            return this._modalLayer.parent != null;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'modalWaiting', function() {\r\n\t            return this._modalWaitPane && this._modalWaitPane.inContainer;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'volumeScale', function() {\r\n\t            return SoundManager.soundVolume;\r\n\t        }, function(value) {\r\n\t            SoundManager.soundVolume = value;\r\n\t        });\r\n\t\r\n\t        __getset(1, GRoot, 'inst', function() {\r\n\t            if (fairygui.GRoot._inst == null)\r\n\t                new GRoot();\r\n\t            return fairygui.GRoot._inst;\r\n\t        }, fairygui.GComponent._$SET_inst);\r\n\t\r\n\t        GRoot._inst = null\r\n\t        return GRoot;\r\n\t    })(GComponent)\r\n\t\r\n\t\r\n\t    //class fairygui.GTextInput extends fairygui.GTextField\r\n\t    var GTextInput = (function(_super) {\r\n\t        function GTextInput() {\r\n\t            this.input = null;\r\n\t            GTextInput.__super.call(this);\r\n\t        }\r\n\t\r\n\t        __class(GTextInput, 'fairygui.GTextInput', _super);\r\n\t        var __proto = GTextInput.prototype;\r\n\t        __proto.createDisplayObject = function() {\r\n\t            this._displayObject = this.input = new Input();\r\n\t            this._displayObject.mouseEnabled = true;\r\n\t            this._displayObject[\"$owner\"] = this;\r\n\t        }\r\n\t\r\n\t        __proto.handleSizeChanged = function() {\r\n\t            this.input.size(this.width, this.height);\r\n\t        }\r\n\t\r\n\t        __proto.setup_beforeAdd = function(xml) {\r\n\t            _super.prototype.setup_beforeAdd.call(this, xml);\r\n\t            var str = xml.getAttribute(\"prompt\");\r\n\t            if (str)\r\n\t                this.promptText = str;\r\n\t            str = xml.getAttribute(\"maxLength\");\r\n\t            if (str)\r\n\t                this.input.maxChars = parseInt(str);\r\n\t            str = xml.getAttribute(\"restrict\");\r\n\t            if (str)\r\n\t                this.input.restrict = str;\r\n\t            if (xml.getAttribute(\"password\") == \"true\")\r\n\t                this.password = true;\r\n\t            else {\r\n\t                str = xml.getAttribute(\"keyboardType\");\r\n\t                if (str == \"4\")\r\n\t                    this.keyboardType = /*laya.display.Input.TYPE_NUMBER*/ \"number\";\r\n\t                else if (str == \"3\")\r\n\t                    this.keyboardType = /*laya.display.Input.TYPE_URL*/ \"url\";\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'bold', function() {\r\n\t            return this.input.bold;\r\n\t        }, function(value) {\r\n\t            this.input.bold = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'align', function() {\r\n\t            return this.input.align;\r\n\t        }, function(value) {\r\n\t            this.input.align = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'text', function() {\r\n\t            return this.input.text;\r\n\t        }, function(value) {\r\n\t            this.input.text = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'password', function() {\r\n\t            return this.input.type == \"password\";\r\n\t        }, function(value) {\r\n\t            if (value)\r\n\t                this.input.type = \"password\";\r\n\t            else\r\n\t                this.input.type = \"text\";\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'color', function() {\r\n\t            return this.input.color;\r\n\t        }, function(value) {\r\n\t            this.input.color = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'font', function() {\r\n\t            return this.input.font;\r\n\t        }, function(value) {\r\n\t            this.input.font = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'leading', function() {\r\n\t            return this.input.leading;\r\n\t        }, function(value) {\r\n\t            this.input.leading = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'maxLength', function() {\r\n\t            return this.input.maxChars;\r\n\t        }, function(value) {\r\n\t            this.input.maxChars = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'fontSize', function() {\r\n\t            return this.input.fontSize;\r\n\t        }, function(value) {\r\n\t            this.input.fontSize = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'valign', function() {\r\n\t            return this.input.valign;\r\n\t        }, function(value) {\r\n\t            this.input.valign = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'italic', function() {\r\n\t            return this.input.italic;\r\n\t        }, function(value) {\r\n\t            this.input.italic = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'singleLine', function() {\r\n\t            return !this.input.multiline;\r\n\t        }, function(value) {\r\n\t            this.input.multiline = !value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'stroke', function() {\r\n\t            return this.input.stroke;\r\n\t        }, function(value) {\r\n\t            this.input.stroke = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'strokeColor', function() {\r\n\t            return this.input.strokeColor;\r\n\t        }, function(value) {\r\n\t            this.input.strokeColor = value;\r\n\t            this.updateGear(4);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'keyboardType', function() {\r\n\t            return this.input.type;\r\n\t        }, function(value) {\r\n\t            this.input.type = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'editable', function() {\r\n\t            return this.input.editable;\r\n\t        }, function(value) {\r\n\t            this.input.editable = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'promptText', function() {\r\n\t            return this.input.prompt;\r\n\t        }, function(value) {\r\n\t            this.input.prompt = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'restrict', function() {\r\n\t            return this.input.restrict;\r\n\t        }, function(value) {\r\n\t            this.input.restrict = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'textWidth', function() {\r\n\t            return this.input.textWidth;\r\n\t        });\r\n\t\r\n\t        return GTextInput;\r\n\t    })(GTextField)\r\n\t\r\n\t\r\n\t    //class fairygui.GScrollBar extends fairygui.GComponent\r\n\t    var GScrollBar = (function(_super) {\r\n\t        function GScrollBar() {\r\n\t            this._grip = null;\r\n\t            this._arrowButton1 = null;\r\n\t            this._arrowButton2 = null;\r\n\t            this._bar = null;\r\n\t            this._target = null;\r\n\t            this._vertical = false;\r\n\t            this._scrollPerc = 0;\r\n\t            this._fixedGripSize = false;\r\n\t            this._dragOffset = null;\r\n\t            GScrollBar.__super.call(this);\r\n\t            this._dragOffset = new laya.maths.Point();\r\n\t            this._scrollPerc = 0;\r\n\t        }\r\n\t\r\n\t        __class(GScrollBar, 'fairygui.GScrollBar', _super);\r\n\t        var __proto = GScrollBar.prototype;\r\n\t        __proto.setScrollPane = function(target, vertical) {\r\n\t            this._target = target;\r\n\t            this._vertical = vertical;\r\n\t        }\r\n\t\r\n\t        __proto.constructFromXML = function(xml) {\r\n\t            _super.prototype.constructFromXML.call(this, xml);\r\n\t            xml = ToolSet.findChildNode(xml, \"ScrollBar\");\r\n\t            if (xml) {\r\n\t                this._fixedGripSize = xml.getAttribute(\"fixedGripSize\") == \"true\";\r\n\t            }\r\n\t            this._grip = this.getChild(\"grip\");\r\n\t            if (!this._grip) {\r\n\t                Log.print(\"grip\");\r\n\t                return;\r\n\t            }\r\n\t            this._bar = this.getChild(\"bar\");\r\n\t            if (!this._bar) {\r\n\t                Log.print(\"bar\");\r\n\t                return;\r\n\t            }\r\n\t            this._arrowButton1 = this.getChild(\"arrow1\");\r\n\t            this._arrowButton2 = this.getChild(\"arrow2\");\r\n\t            this._grip.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__gripMouseDown);\r\n\t            if (this._arrowButton1)\r\n\t                this._arrowButton1.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__arrowButton1Click);\r\n\t            if (this._arrowButton2)\r\n\t                this._arrowButton2.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__arrowButton2Click);\r\n\t            this.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__barMouseDown);\r\n\t        }\r\n\t\r\n\t        __proto.__gripMouseDown = function(evt) {\r\n\t            if (!this._bar)\r\n\t                return;\r\n\t            evt.stopPropagation();\r\n\t            Laya.stage.on( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__gripMouseMove);\r\n\t            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__gripMouseUp);\r\n\t            this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, this._dragOffset);\r\n\t            this._dragOffset.x -= this._grip.x;\r\n\t            this._dragOffset.y -= this._grip.y;\r\n\t        }\r\n\t\r\n\t        __proto.__gripMouseMove = function() {\r\n\t            var pt = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, fairygui.GScrollBar.sScrollbarHelperPoint);\r\n\t            if (this._vertical) {\r\n\t                var curY = pt.y - this._dragOffset.y;\r\n\t                this._target.setPercY((curY - this._bar.y) / (this._bar.height - this._grip.height), false);\r\n\t            } else {\r\n\t                var curX = pt.x - this._dragOffset.x;\r\n\t                this._target.setPercX((curX - this._bar.x) / (this._bar.width - this._grip.width), false);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.__gripMouseUp = function(evt) {\r\n\t            if (!this._bar)\r\n\t                return;\r\n\t            Laya.stage.off( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__gripMouseMove);\r\n\t            Laya.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__gripMouseUp);\r\n\t        }\r\n\t\r\n\t        __proto.__arrowButton1Click = function(evt) {\r\n\t            evt.stopPropagation();\r\n\t            if (this._vertical)\r\n\t                this._target.scrollUp();\r\n\t            else\r\n\t                this._target.scrollLeft();\r\n\t        }\r\n\t\r\n\t        __proto.__arrowButton2Click = function(evt) {\r\n\t            evt.stopPropagation();\r\n\t            if (this._vertical)\r\n\t                this._target.scrollDown();\r\n\t            else\r\n\t                this._target.scrollRight();\r\n\t        }\r\n\t\r\n\t        __proto.__barMouseDown = function(evt) {\r\n\t            var pt = this._grip.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, fairygui.GScrollBar.sScrollbarHelperPoint);\r\n\t            if (this._vertical) {\r\n\t                if (pt.y < 0)\r\n\t                    this._target.scrollUp(4);\r\n\t                else\r\n\t                    this._target.scrollDown(4);\r\n\t            } else {\r\n\t                if (pt.x < 0)\r\n\t                    this._target.scrollLeft(4);\r\n\t                else\r\n\t                    this._target.scrollRight(4);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'displayPerc', null, function(val) {\r\n\t            if (this._vertical) {\r\n\t                if (!this._fixedGripSize)\r\n\t                    this._grip.height = val * this._bar.height;\r\n\t                this._grip.y = this._bar.y + (this._bar.height - this._grip.height) * this._scrollPerc;\r\n\t            } else {\r\n\t                if (!this._fixedGripSize)\r\n\t                    this._grip.width = val * this._bar.width;\r\n\t                this._grip.x = this._bar.x + (this._bar.width - this._grip.width) * this._scrollPerc;\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'scrollPerc', null, function(val) {\r\n\t            this._scrollPerc = val;\r\n\t            if (this._vertical)\r\n\t                this._grip.y = this._bar.y + (this._bar.height - this._grip.height) * this._scrollPerc;\r\n\t            else\r\n\t                this._grip.x = this._bar.x + (this._bar.width - this._grip.width) * this._scrollPerc;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'minSize', function() {\r\n\t            if (this._vertical)\r\n\t                return (this._arrowButton1 != null ? this._arrowButton1.height : 0) + (this._arrowButton2 != null ? this._arrowButton2.height : 0);\r\n\t            else\r\n\t                return (this._arrowButton1 != null ? this._arrowButton1.width : 0) + (this._arrowButton2 != null ? this._arrowButton2.width : 0);\r\n\t        });\r\n\t\r\n\t        __static(GScrollBar, ['sScrollbarHelperPoint', function() { return this.sScrollbarHelperPoint = new Point(); }]);\r\n\t        return GScrollBar;\r\n\t    })(GComponent)\r\n\t\r\n\t\r\n\t    //class fairygui.GSlider extends fairygui.GComponent\r\n\t    var GSlider = (function(_super) {\r\n\t        function GSlider() {\r\n\t            this._max = 0;\r\n\t            this._value = 0;\r\n\t            this._titleType = 0;\r\n\t            this._reverse = false;\r\n\t            this._titleObject = null;\r\n\t            this._barObjectH = null;\r\n\t            this._barObjectV = null;\r\n\t            this._barMaxWidth = 0;\r\n\t            this._barMaxHeight = 0;\r\n\t            this._barMaxWidthDelta = 0;\r\n\t            this._barMaxHeightDelta = 0;\r\n\t            this._gripObject = null;\r\n\t            this._clickPos = null;\r\n\t            this._clickPercent = 0;\r\n\t            this._barStartX = 0;\r\n\t            this._barStartY = 0;\r\n\t            this.changeOnClick = true;\r\n\t            this.canDrag = true;\r\n\t            GSlider.__super.call(this);\r\n\t            this._titleType = /*fairygui.ProgressTitleType.Percent*/ 0;\r\n\t            this._value = 50;\r\n\t            this._max = 100;\r\n\t            this._clickPos = new laya.maths.Point();\r\n\t        }\r\n\t\r\n\t        __class(GSlider, 'fairygui.GSlider', _super);\r\n\t        var __proto = GSlider.prototype;\r\n\t        __proto.update = function() {\r\n\t            var percent = Math.min(this._value / this._max, 1);\r\n\t            this.updateWidthPercent(percent);\r\n\t        }\r\n\t\r\n\t        __proto.updateWidthPercent = function(percent) {\r\n\t            if (this._titleObject) {\r\n\t                switch (this._titleType) {\r\n\t                    case /*fairygui.ProgressTitleType.Percent*/ 0:\r\n\t                        this._titleObject.text = Math.round(percent * 100) + \"%\";\r\n\t                        break;\r\n\t                    case /*fairygui.ProgressTitleType.ValueAndMax*/ 1:\r\n\t                        this._titleObject.text = this._value + \"/\" + this._max;\r\n\t                        break;\r\n\t                    case /*fairygui.ProgressTitleType.Value*/ 2:\r\n\t                        this._titleObject.text = \"\" + this._value;\r\n\t                        break;\r\n\t                    case /*fairygui.ProgressTitleType.Max*/ 3:\r\n\t                        this._titleObject.text = \"\" + this._max;\r\n\t                        break;\r\n\t                }\r\n\t            };\r\n\t            var fullWidth = this.width - this._barMaxWidthDelta;\r\n\t            var fullHeight = this.height - this._barMaxHeightDelta;\r\n\t            if (!this._reverse) {\r\n\t                if (this._barObjectH)\r\n\t                    this._barObjectH.width = fullWidth * percent;\r\n\t                if (this._barObjectV)\r\n\t                    this._barObjectV.height = fullHeight * percent;\r\n\t            } else {\r\n\t                if (this._barObjectH) {\r\n\t                    this._barObjectH.width = Math.round(fullWidth * percent);\r\n\t                    this._barObjectH.x = this._barStartX + (fullWidth - this._barObjectH.width);\r\n\t                }\r\n\t                if (this._barObjectV) {\r\n\t                    this._barObjectV.height = Math.round(fullHeight * percent);\r\n\t                    this._barObjectV.y = this._barStartY + (fullHeight - this._barObjectV.height);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.constructFromXML = function(xml) {\r\n\t            _super.prototype.constructFromXML.call(this, xml);\r\n\t            xml = ToolSet.findChildNode(xml, \"Slider\");\r\n\t            var str;\r\n\t            str = xml.getAttribute(\"titleType\");\r\n\t            if (str)\r\n\t                this._titleType = ProgressTitleType.parse(str);\r\n\t            this._reverse = xml.getAttribute(\"reverse\") == \"true\";\r\n\t            this._titleObject = (this.getChild(\"title\"));\r\n\t            this._barObjectH = this.getChild(\"bar\");\r\n\t            this._barObjectV = this.getChild(\"bar_v\");\r\n\t            this._gripObject = this.getChild(\"grip\");\r\n\t            if (this._barObjectH) {\r\n\t                this._barMaxWidth = this._barObjectH.width;\r\n\t                this._barMaxWidthDelta = this.width - this._barMaxWidth;\r\n\t                this._barStartX = this._barObjectH.x;\r\n\t            }\r\n\t            if (this._barObjectV) {\r\n\t                this._barMaxHeight = this._barObjectV.height;\r\n\t                this._barMaxHeightDelta = this.height - this._barMaxHeight;\r\n\t                this._barStartY = this._barObjectV.y;\r\n\t            }\r\n\t            if (this._gripObject) {\r\n\t                this._gripObject.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__gripMouseDown);\r\n\t            }\r\n\t            this.displayObject.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__barMouseDown);\r\n\t        }\r\n\t\r\n\t        __proto.handleSizeChanged = function() {\r\n\t            _super.prototype.handleSizeChanged.call(this);\r\n\t            if (this._barObjectH)\r\n\t                this._barMaxWidth = this.width - this._barMaxWidthDelta;\r\n\t            if (this._barObjectV)\r\n\t                this._barMaxHeight = this.height - this._barMaxHeightDelta;\r\n\t            if (!this._underConstruct)\r\n\t                this.update();\r\n\t        }\r\n\t\r\n\t        __proto.setup_afterAdd = function(xml) {\r\n\t            _super.prototype.setup_afterAdd.call(this, xml);\r\n\t            xml = ToolSet.findChildNode(xml, \"Slider\");\r\n\t            if (xml) {\r\n\t                this._value = parseInt(xml.getAttribute(\"value\"));\r\n\t                this._max = parseInt(xml.getAttribute(\"max\"));\r\n\t            }\r\n\t            this.update();\r\n\t        }\r\n\t\r\n\t        __proto.__gripMouseDown = function(evt) {\r\n\t            this.canDrag = true;\r\n\t            evt.stopPropagation();\r\n\t            this._clickPos = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY);\r\n\t            this._clickPercent = this._value / this._max;\r\n\t            Laya.stage.on( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__gripMouseMove);\r\n\t            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__gripMouseUp);\r\n\t        }\r\n\t\r\n\t        __proto.__gripMouseMove = function(evt) {\r\n\t            if (!this.canDrag) {\r\n\t                return;\r\n\t            };\r\n\t            var pt = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, fairygui.GSlider.sSilderHelperPoint);\r\n\t            var deltaX = pt.x - this._clickPos.x;\r\n\t            var deltaY = pt.y - this._clickPos.y;\r\n\t            if (this._reverse) {\r\n\t                deltaX = -deltaX;\r\n\t                deltaY = -deltaY;\r\n\t            };\r\n\t            var percent = NaN;\r\n\t            if (this._barObjectH)\r\n\t                percent = this._clickPercent + deltaX / this._barMaxWidth;\r\n\t            else\r\n\t                percent = this._clickPercent + deltaY / this._barMaxHeight;\r\n\t            if (percent > 1)\r\n\t                percent = 1;\r\n\t            else if (percent < 0)\r\n\t                percent = 0;\r\n\t            var newValue = Math.round(this._max * percent);\r\n\t            if (newValue != this._value) {\r\n\t                this._value = newValue;\r\n\t                Events.dispatch( /*fairygui.Events.STATE_CHANGED*/ \"fui_state_changed\", this.displayObject, evt);\r\n\t            }\r\n\t            this.updateWidthPercent(percent);\r\n\t        }\r\n\t\r\n\t        __proto.__gripMouseUp = function(evt) {\r\n\t            Laya.stage.off( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__gripMouseMove);\r\n\t            Laya.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__gripMouseUp);\r\n\t        }\r\n\t\r\n\t        __proto.__barMouseDown = function(evt) {\r\n\t            if (!this.changeOnClick)\r\n\t                return;\r\n\t            var pt = this._gripObject.globalToLocal(evt.stageX, evt.stageY, fairygui.GSlider.sSilderHelperPoint);\r\n\t            var percent = this._value / this._max;\r\n\t            var delta = NaN;\r\n\t            if (this._barObjectH)\r\n\t                delta = (pt.x - this._gripObject.width / 2) / this._barMaxWidth;\r\n\t            if (this._barObjectV)\r\n\t                delta = (pt.y - this._gripObject.height / 2) / this._barMaxHeight;\r\n\t            if (this._reverse)\r\n\t                percent -= delta;\r\n\t            else\r\n\t                percent += delta;\r\n\t            if (percent > 1)\r\n\t                percent = 1;\r\n\t            else if (percent < 0)\r\n\t                percent = 0;\r\n\t            var newValue = Math.round(this._max * percent);\r\n\t            if (newValue != this._value) {\r\n\t                this._value = newValue;\r\n\t                Events.dispatch( /*fairygui.Events.STATE_CHANGED*/ \"fui_state_changed\", this.displayObject, evt);\r\n\t            }\r\n\t            this.updateWidthPercent(percent);\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'max', function() {\r\n\t            return this._max;\r\n\t        }, function(value) {\r\n\t            if (this._max != value) {\r\n\t                this._max = value;\r\n\t                this.update();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'titleType', function() {\r\n\t            return this._titleType;\r\n\t        }, function(value) {\r\n\t            this._titleType = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'value', function() {\r\n\t            return this._value;\r\n\t        }, function(value) {\r\n\t            if (this._value != value) {\r\n\t                this._value = value;\r\n\t                this.update();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __static(GSlider, ['sSilderHelperPoint', function() { return this.sSilderHelperPoint = new Point(); }]);\r\n\t        return GSlider;\r\n\t    })(GComponent)\r\n\t\r\n\t\r\n\t    //class fairygui.Window extends fairygui.GComponent\r\n\t    var Window2 = (function(_super) {\r\n\t        function Window() {\r\n\t            this._contentPane = null;\r\n\t            this._modalWaitPane = null;\r\n\t            this._closeButton = null;\r\n\t            this._dragArea = null;\r\n\t            this._contentArea = null;\r\n\t            this._frame = null;\r\n\t            this._modal = false;\r\n\t            this._uiSources = null;\r\n\t            this._inited = false;\r\n\t            this._loading = false;\r\n\t            this._requestingCmd = 0;\r\n\t            this.bringToFontOnClick = false;\r\n\t            Window.__super.call(this);\r\n\t            this.focusable = true;\r\n\t            this._uiSources = [];\r\n\t            this.bringToFontOnClick = UIConfig1.bringWindowToFrontOnClick;\r\n\t            this.displayObject.on( /*laya.events.Event.DISPLAY*/ \"display\", this, this.__onShown);\r\n\t            this.displayObject.on( /*laya.events.Event.UNDISPLAY*/ \"undisplay\", this, this.__onHidden);\r\n\t            this.displayObject.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__mouseDown);\r\n\t        }\r\n\t\r\n\t        __class(Window, 'fairygui.Window', _super, 'Window2');\r\n\t        var __proto = Window.prototype;\r\n\t        __proto.addUISource = function(source) {\r\n\t            this._uiSources.push(source);\r\n\t        }\r\n\t\r\n\t        __proto.show = function() {\r\n\t            GRoot.inst.showWindow(this);\r\n\t        }\r\n\t\r\n\t        __proto.showOn = function(root) {\r\n\t            root.showWindow(this);\r\n\t        }\r\n\t\r\n\t        __proto.hide = function() {\r\n\t            if (this.isShowing)\r\n\t                this.doHideAnimation();\r\n\t        }\r\n\t\r\n\t        __proto.hideImmediately = function() {\r\n\t            var r = ((this.parent instanceof fairygui.GRoot)) ? (this.parent) : null;\r\n\t            if (!r)\r\n\t                r = GRoot.inst;\r\n\t            r.hideWindowImmediately(this);\r\n\t        }\r\n\t\r\n\t        __proto.centerOn = function(r, restraint) {\r\n\t            (restraint === void 0) && (restraint = false);\r\n\t            this.setXY(Math.round((r.width - this.width) / 2), Math.round((r.height - this.height) / 2));\r\n\t            if (restraint) {\r\n\t                this.addRelation(r, /*fairygui.RelationType.Center_Center*/ 3);\r\n\t                this.addRelation(r, /*fairygui.RelationType.Middle_Middle*/ 10);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.toggleStatus = function() {\r\n\t            if (this.isTop)\r\n\t                this.hide();\r\n\t            else\r\n\t                this.show();\r\n\t        }\r\n\t\r\n\t        __proto.bringToFront = function() {\r\n\t            this.root.bringToFront(this);\r\n\t        }\r\n\t\r\n\t        __proto.showModalWait = function(requestingCmd) {\r\n\t            (requestingCmd === void 0) && (requestingCmd = 0);\r\n\t            if (requestingCmd != 0)\r\n\t                this._requestingCmd = requestingCmd;\r\n\t            if (UIConfig1.windowModalWaiting) {\r\n\t                if (!this._modalWaitPane)\r\n\t                    this._modalWaitPane = UIPackage.createObjectFromURL(UIConfig1.windowModalWaiting);\r\n\t                this.layoutModalWaitPane();\r\n\t                this.addChild(this._modalWaitPane);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.layoutModalWaitPane = function() {\r\n\t            if (this._contentArea != null) {\r\n\t                var pt = this._frame.localToGlobal();\r\n\t                pt = this.globalToLocal(pt.x, pt.y, pt);\r\n\t                this._modalWaitPane.setXY(pt.x + this._contentArea.x, pt.y + this._contentArea.y);\r\n\t                this._modalWaitPane.setSize(this._contentArea.width, this._contentArea.height);\r\n\t            } else\r\n\t                this._modalWaitPane.setSize(this.width, this.height);\r\n\t        }\r\n\t\r\n\t        __proto.closeModalWait = function(requestingCmd) {\r\n\t            (requestingCmd === void 0) && (requestingCmd = 0);\r\n\t            if (requestingCmd != 0) {\r\n\t                if (this._requestingCmd != requestingCmd)\r\n\t                    return false;\r\n\t            }\r\n\t            this._requestingCmd = 0;\r\n\t            if (this._modalWaitPane && this._modalWaitPane.parent != null)\r\n\t                this.removeChild(this._modalWaitPane);\r\n\t            return true;\r\n\t        }\r\n\t\r\n\t        __proto.init = function() {\r\n\t            if (this._inited || this._loading)\r\n\t                return;\r\n\t            if (this._uiSources.length > 0) {\r\n\t                this._loading = false;\r\n\t                var cnt = this._uiSources.length;\r\n\t                for (var i = 0; i < cnt; i++) {\r\n\t                    var lib = this._uiSources[i];\r\n\t                    if (!lib.loaded) {\r\n\t                        lib.load(this.__uiLoadComplete, this);\r\n\t                        this._loading = true;\r\n\t                    }\r\n\t                }\r\n\t                if (!this._loading)\r\n\t                    this._init();\r\n\t            } else\r\n\t                this._init();\r\n\t        }\r\n\t\r\n\t        __proto.onInit = function() {}\r\n\t        __proto.onShown = function() {}\r\n\t        __proto.onHide = function() {}\r\n\t        __proto.doShowAnimation = function() {\r\n\t            this.onShown();\r\n\t        }\r\n\t\r\n\t        __proto.doHideAnimation = function() {\r\n\t            this.hideImmediately();\r\n\t        }\r\n\t\r\n\t        __proto.__uiLoadComplete = function() {\r\n\t            var cnt = this._uiSources.length;\r\n\t            for (var i = 0; i < cnt; i++) {\r\n\t                var lib = this._uiSources[i];\r\n\t                if (!lib.loaded)\r\n\t                    return;\r\n\t            }\r\n\t            this._loading = false;\r\n\t            this._init();\r\n\t        }\r\n\t\r\n\t        __proto._init = function() {\r\n\t            this._inited = true;\r\n\t            this.onInit();\r\n\t            if (this.isShowing)\r\n\t                this.doShowAnimation();\r\n\t        }\r\n\t\r\n\t        __proto.dispose = function() {\r\n\t            if (this.parent != null)\r\n\t                this.hideImmediately();\r\n\t            _super.prototype.dispose.call(this);\r\n\t        }\r\n\t\r\n\t        __proto.closeEventHandler = function() {\r\n\t            this.hide();\r\n\t        }\r\n\t\r\n\t        __proto.__onShown = function() {\r\n\t            if (!this._inited)\r\n\t                this.init();\r\n\t            else\r\n\t                this.doShowAnimation();\r\n\t        }\r\n\t\r\n\t        __proto.__onHidden = function() {\r\n\t            this.closeModalWait();\r\n\t            this.onHide();\r\n\t        }\r\n\t\r\n\t        __proto.__mouseDown = function() {\r\n\t            if (this.isShowing && this.bringToFontOnClick)\r\n\t                this.bringToFront();\r\n\t        }\r\n\t\r\n\t        __proto.__dragStart = function(evt) {\r\n\t            GObject.cast(evt.currentTarget).stopDrag();\r\n\t            this.startDrag();\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'contentPane', function() {\r\n\t            return this._contentPane;\r\n\t        }, function(val) {\r\n\t            if (this._contentPane != val) {\r\n\t                if (this._contentPane != null)\r\n\t                    this.removeChild(this._contentPane);\r\n\t                this._contentPane = val;\r\n\t                if (this._contentPane != null) {\r\n\t                    this.addChild(this._contentPane);\r\n\t                    this.setSize(this._contentPane.width, this._contentPane.height);\r\n\t                    this._contentPane.addRelation(this, /*fairygui.RelationType.Size*/ 24);\r\n\t                    this._frame = (this._contentPane.getChild(\"frame\"));\r\n\t                    if (this._frame != null) {\r\n\t                        this.closeButton = this._frame.getChild(\"closeButton\");\r\n\t                        this.dragArea = this._frame.getChild(\"dragArea\");\r\n\t                        this.contentArea = this._frame.getChild(\"contentArea\");\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'isShowing', function() {\r\n\t            return this.parent != null;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'isTop', function() {\r\n\t            return this.parent != null && this.parent.getChildIndex(this) == this.parent.numChildren - 1;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'modal', function() {\r\n\t            return this._modal;\r\n\t        }, function(val) {\r\n\t            this._modal = val;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'dragArea', function() {\r\n\t            return this._dragArea;\r\n\t        }, function(value) {\r\n\t            if (this._dragArea != value) {\r\n\t                if (this._dragArea != null) {\r\n\t                    this._dragArea.draggable = false;\r\n\t                    this._dragArea.off( /*fairygui.Events.DRAG_START*/ \"fui_drag_start\", this, this.__dragStart);\r\n\t                }\r\n\t                this._dragArea = value;\r\n\t                if (this._dragArea != null) {\r\n\t                    if ((this._dragArea instanceof fairygui.GGraph))\r\n\t                        this._dragArea.asGraph.drawRect(0, null, null);\r\n\t                    this._dragArea.draggable = true;\r\n\t                    this._dragArea.on( /*fairygui.Events.DRAG_START*/ \"fui_drag_start\", this, this.__dragStart);\r\n\t                }\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'frame', function() {\r\n\t            return this._frame;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'closeButton', function() {\r\n\t            return this._closeButton;\r\n\t        }, function(value) {\r\n\t            if (this._closeButton != null)\r\n\t                this._closeButton.offClick(this, this.closeEventHandler);\r\n\t            this._closeButton = value;\r\n\t            if (this._closeButton != null)\r\n\t                this._closeButton.onClick(this, this.closeEventHandler);\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'contentArea', function() {\r\n\t            return this._contentArea;\r\n\t        }, function(value) {\r\n\t            this._contentArea = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'modalWaiting', function() {\r\n\t            return this._modalWaitPane && this._modalWaitPane.parent != null;\r\n\t        });\r\n\t\r\n\t        return Window;\r\n\t    })(GComponent)\r\n\t\r\n\t\r\n\t    //class fairygui.display.Image extends laya.display.Sprite\r\n\t    var Image1 = (function(_super) {\r\n\t        function Image() {\r\n\t            this._tex = null;\r\n\t            this._scaleByTile = false;\r\n\t            this._scale9Grid = null;\r\n\t            this._tileGridIndice = 0;\r\n\t            this._textureScaleX = 0;\r\n\t            this._textureScaleY = 0;\r\n\t            this._needRebuild = false;\r\n\t            Image.__super.call(this);\r\n\t            this.mouseEnabled = false;\r\n\t            this._textureScaleX = 1;\r\n\t            this._textureScaleY = 1;\r\n\t        }\r\n\t\r\n\t        __class(Image, 'fairygui.display.Image', _super, 'Image1');\r\n\t        var __proto = Image.prototype;\r\n\t        __proto.scaleTexture = function(sx, sy) {\r\n\t            if (this._textureScaleX != sx || this._textureScaleY != sy) {\r\n\t                this._textureScaleX = sx;\r\n\t                this._textureScaleY = sy;\r\n\t                if (this._tex)\r\n\t                    this.size(this._tex.width * sx, this._tex.height * sy);\r\n\t                this.markChanged();\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.markChanged = function() {\r\n\t            if (!this._needRebuild) {\r\n\t                this._needRebuild = true;\r\n\t                Laya.timer.callLater(this, this.rebuild);\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.rebuild = function() {\r\n\t            this._needRebuild = false;\r\n\t            var g = this.graphics;\r\n\t            g.clear();\r\n\t            if (this._tex == null) {\r\n\t                this.repaint();\r\n\t                return;\r\n\t            };\r\n\t            var width = this.width;\r\n\t            var height = this.height;\r\n\t            var sw = this._tex.width;\r\n\t            var sh = this._tex.height;\r\n\t            if (width == 0 || height == 0) {\r\n\t                this.repaint();\r\n\t                return;\r\n\t            }\r\n\t            if (this._scaleByTile) {\r\n\t                g.fillTexture(this._tex, 0, 0, width, height);\r\n\t            } else if (this._scale9Grid != null) {\r\n\t                var left = this._scale9Grid.x;\r\n\t                var right = Math.max(sw - this._scale9Grid.right, 0);\r\n\t                var top = this._scale9Grid.y;\r\n\t                var bottom = Math.max(sh - this._scale9Grid.bottom, 0);\r\n\t                var tmp = NaN;\r\n\t                if (height >= (sh - this._scale9Grid.height)) {\r\n\t                    top = this._scale9Grid.y;\r\n\t                    bottom = sh - this._scale9Grid.bottom;\r\n\t                } else {\r\n\t                    tmp = this._scale9Grid.y / (sh - this._scale9Grid.bottom);\r\n\t                    tmp = height * tmp / (1 + tmp);\r\n\t                    top = Math.round(tmp);\r\n\t                    bottom = height - tmp;\r\n\t                }\r\n\t                if (width >= (sw - this._scale9Grid.width)) {\r\n\t                    left = this._scale9Grid.x;\r\n\t                    right = sw - this._scale9Grid.right;\r\n\t                } else {\r\n\t                    tmp = this._scale9Grid.x / (sw - this._scale9Grid.right);\r\n\t                    tmp = width * tmp / (1 + tmp);\r\n\t                    left = Math.round(tmp);\r\n\t                    right = width - tmp;\r\n\t                };\r\n\t                var centerWidth = Math.max(width - left - right, 0);\r\n\t                var centerHeight = Math.max(height - top - bottom, 0);\r\n\t                left && top && g.drawTexture(fairygui.display.Image.getTexture(this._tex, 0, 0, left, top), 0, 0, left, top);\r\n\t                right && top && g.drawTexture(fairygui.display.Image.getTexture(this._tex, sw - right, 0, right, top), width - right, 0, right, top);\r\n\t                left && bottom && g.drawTexture(fairygui.display.Image.getTexture(this._tex, 0, sh - bottom, left, bottom), 0, height - bottom, left, bottom);\r\n\t                right && bottom && g.drawTexture(fairygui.display.Image.getTexture(this._tex, sw - right, sh - bottom, right, bottom), width - right, height - bottom, right, bottom);\r\n\t                centerWidth && top && this.drawTexture(0, fairygui.display.Image.getTexture(this._tex, left, 0, sw - left - right, top), left, 0, centerWidth, top);\r\n\t                centerWidth && bottom && this.drawTexture(1, fairygui.display.Image.getTexture(this._tex, left, sh - bottom, sw - left - right, bottom), left, height - bottom, centerWidth, bottom);\r\n\t                centerHeight && left && this.drawTexture(2, fairygui.display.Image.getTexture(this._tex, 0, top, left, sh - top - bottom), 0, top, left, centerHeight);\r\n\t                centerHeight && right && this.drawTexture(3, fairygui.display.Image.getTexture(this._tex, sw - right, top, right, sh - top - bottom), width - right, top, right, centerHeight);\r\n\t                centerWidth && centerHeight && this.drawTexture(4, fairygui.display.Image.getTexture(this._tex, left, top, sw - left - right, sh - top - bottom), left, top, centerWidth, centerHeight);\r\n\t            } else {\r\n\t                g.drawTexture(this._tex, 0, 0, width, height);\r\n\t            }\r\n\t            this.repaint();\r\n\t        }\r\n\t\r\n\t        __proto.drawTexture = function(part, tex, x, y, width, height) {\r\n\t            (width === void 0) && (width = 0);\r\n\t            (height === void 0) && (height = 0);\r\n\t            if (part == -1 || (this._tileGridIndice & (1 << part)) == 0)\r\n\t                this.graphics.drawTexture(tex, x, y, width, height);\r\n\t            else\r\n\t                this.graphics.fillTexture(tex, x, y, width, height);\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'tex', function() {\r\n\t            return this._tex;\r\n\t        }, function(value) {\r\n\t            if (this._tex != value) {\r\n\t                this._tex = value;\r\n\t                if (this._tex)\r\n\t                    this.size(this._tex.width * this._textureScaleX, this._tex.height * this._textureScaleY);\r\n\t                else\r\n\t                    this.size(0, 0);\r\n\t                this.markChanged();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'scale9Grid', function() {\r\n\t            return this._scale9Grid;\r\n\t        }, function(value) {\r\n\t            this._scale9Grid = value;\r\n\t            this.markChanged();\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'scaleByTile', function() {\r\n\t            return this._scaleByTile;\r\n\t        }, function(value) {\r\n\t            if (this._scaleByTile != value) {\r\n\t                this._scaleByTile = value;\r\n\t                this.markChanged();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'tileGridIndice', function() {\r\n\t            return this._tileGridIndice;\r\n\t        }, function(value) {\r\n\t            if (this._tileGridIndice != value) {\r\n\t                this._tileGridIndice = value;\r\n\t                this.markChanged();\r\n\t            }\r\n\t        });\r\n\t\r\n\t        Image.getTexture = function(source, x, y, width, height) {\r\n\t            source.$GID || (source.$GID = Utils.getGID());\r\n\t            var key = source.$GID + \".\" + x + \".\" + y + \".\" + width + \".\" + height;\r\n\t            var texture = fairygui.display.Image._textureCache[key];\r\n\t            if (!texture) {\r\n\t                texture = fairygui.display.Image._textureCache[key] = Texture.create(source, x, y, width, height);\r\n\t            }\r\n\t            return texture;\r\n\t        }\r\n\t\r\n\t        Image.clearCache = function() {\r\n\t            fairygui.display.Image._textureCache = {};\r\n\t        }\r\n\t\r\n\t        Image._textureCache = {};\r\n\t        return Image;\r\n\t    })(Sprite)\r\n\t\r\n\t\r\n\t    //class fairygui.display.MovieClip extends laya.display.Sprite\r\n\t    var MovieClip1 = (function(_super) {\r\n\t        function MovieClip() {\r\n\t            this.interval = 0;\r\n\t            this.swing = false;\r\n\t            this.repeatDelay = 0;\r\n\t            this.playState = null;\r\n\t            this._$3__texture = null;\r\n\t            this._needRebuild = false;\r\n\t            this._playing = false;\r\n\t            this._frameCount = 0;\r\n\t            this._frames = null;\r\n\t            this._currentFrame = 0;\r\n\t            this._boundsRect = null;\r\n\t            this._start = 0;\r\n\t            this._end = 0;\r\n\t            this._times = 0;\r\n\t            this._endAt = 0;\r\n\t            this._status = 0;\r\n\t            this._endHandler = null;\r\n\t            MovieClip.__super.call(this);\r\n\t            this.playState = new PlayState();\r\n\t            this._playing = true;\r\n\t            this.mouseEnabled = false;\r\n\t            this.setPlaySettings();\r\n\t            this.on( /*laya.events.Event.DISPLAY*/ \"display\", this, this.__addToStage);\r\n\t            this.on( /*laya.events.Event.UNDISPLAY*/ \"undisplay\", this, this.__removeFromStage);\r\n\t        }\r\n\t\r\n\t        __class(MovieClip, 'fairygui.display.MovieClip', _super, 'MovieClip1');\r\n\t        var __proto = MovieClip.prototype;\r\n\t        //startend-1times0endAt-1end\r\n\t        __proto.setPlaySettings = function(start, end, times, endAt, endHandler) {\r\n\t            (start === void 0) && (start = 0);\r\n\t            (end === void 0) && (end = -1);\r\n\t            (times === void 0) && (times = 0);\r\n\t            (endAt === void 0) && (endAt = -1);\r\n\t            this._start = start;\r\n\t            this._end = end;\r\n\t            if (this._end == -1 || this._end > this._frameCount - 1)\r\n\t                this._end = this._frameCount - 1;\r\n\t            this._times = times;\r\n\t            this._endAt = endAt;\r\n\t            if (this._endAt == -1)\r\n\t                this._endAt = this._end;\r\n\t            this._status = 0;\r\n\t            this._endHandler = endHandler;\r\n\t            this.currentFrame = start;\r\n\t        }\r\n\t\r\n\t        __proto.update = function() {\r\n\t            if (this._playing && this._frameCount != 0 && this._status != 3) {\r\n\t                this.playState.update(this);\r\n\t                if (this._currentFrame != this.playState.currentFrame) {\r\n\t                    if (this._status == 1) {\r\n\t                        this._currentFrame = this._start;\r\n\t                        this.playState.currentFrame = this._currentFrame;\r\n\t                        this._status = 0;\r\n\t                    } else if (this._status == 2) {\r\n\t                        this._currentFrame = this._endAt;\r\n\t                        this.playState.currentFrame = this._currentFrame;\r\n\t                        this._status = 3;\r\n\t                        if (this._endHandler != null) {\r\n\t                            this._endHandler.run();\r\n\t                        }\r\n\t                    } else {\r\n\t                        this._currentFrame = this.playState.currentFrame;\r\n\t                        if (this._currentFrame == this._end) {\r\n\t                            if (this._times > 0) {\r\n\t                                this._times--;\r\n\t                                if (this._times == 0)\r\n\t                                    this._status = 2;\r\n\t                                else\r\n\t                                    this._status = 1;\r\n\t                            }\r\n\t                        }\r\n\t                    }\r\n\t                    this.setFrame(this._frames[this._currentFrame]);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t\r\n\t        __proto.setFrame = function(frame) {\r\n\t            this.graphics.clear();\r\n\t            if (frame != null)\r\n\t                this.graphics.drawTexture(frame.texture, frame.rect.x, frame.rect.y);\r\n\t        }\r\n\t\r\n\t        __proto.__addToStage = function() {\r\n\t            if (this._playing)\r\n\t                Laya.timer.frameLoop(1, this, this.update);\r\n\t        }\r\n\t\r\n\t        __proto.__removeFromStage = function() {\r\n\t            if (this._playing)\r\n\t                Laya.timer.clear(this, this.update);\r\n\t        }\r\n\t\r\n\t        __getset(0, __proto, 'frames', function() {\r\n\t            return this._frames;\r\n\t        }, function(value) {\r\n\t            this._frames = value;\r\n\t            if (this._frames != null)\r\n\t                this._frameCount = this._frames.length;\r\n\t            else\r\n\t                this._frameCount = 0;\r\n\t            if (this._end == -1 || this._end > this._frameCount - 1)\r\n\t                this._end = this._frameCount - 1;\r\n\t            if (this._endAt == -1 || this._endAt > this._frameCount - 1)\r\n\t                this._endAt = this._frameCount - 1;\r\n\t            if (this._currentFrame < 0 || this._currentFrame > this._frameCount - 1)\r\n\t                this._currentFrame = this._frameCount - 1;\r\n\t            if (this._frameCount > 0)\r\n\t                this.setFrame(this._frames[this._currentFrame]);\r\n\t            else\r\n\t                this.setFrame(null);\r\n\t            this.playState.rewind();\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'playing', function() {\r\n\t            return this._playing;\r\n\t        }, function(value) {\r\n\t            this._playing = value;\r\n\t            if (value && this.stage != null) {\r\n\t                Laya.timer.frameLoop(1, this, this.update);\r\n\t            } else {\r\n\t                Laya.timer.clear(this, this.update);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'frameCount', function() {\r\n\t            return this._frameCount;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'boundsRect', function() {\r\n\t            return this._boundsRect;\r\n\t        }, function(value) {\r\n\t            this._boundsRect = value;\r\n\t        });\r\n\t\r\n\t        __getset(0, __proto, 'currentFrame', function() {\r\n\t            return this._currentFrame;\r\n\t        }, function(value) {\r\n\t            if (this._currentFrame != value) {\r\n\t                this._currentFrame = value;\r\n\t                this.playState.currentFrame = value;\r\n\t                this.setFrame(this._currentFrame < this._frameCount ? this._frames[this._currentFrame] : null);\r\n\t            }\r\n\t        });\r\n\t\r\n\t        return MovieClip;\r\n\t    })(Sprite)\r\n\t\r\n\t\r\n\t    Laya.__init([GList, GearColor, GearAnimation, Transition, ScrollPane, RelationItem, UIPackage, GBasicTextField, GearLook, GearSize]);\r\n\t})(window, document, Laya);\n\t}.call(window));\n\n/***/ },\n/* 21 */,\n/* 22 */\n/*!*********************************************!*\\\n  !*** ./client/res/loadiing@atlas_oy35a.png ***!\n  \\*********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"loadiing@atlas_oy35a.png?585521ac35347f2ba4df0af0ef04624f\";\n\n/***/ },\n/* 23 */\n/*!*********************************!*\\\n  !*** ./client/res/loadiing.fui ***!\n  \\*********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"loadiing.fui?0719330f8cd8949b9fac459d6fdf9388\";\n\n/***/ },\n/* 24 */,\n/* 25 */,\n/* 26 */,\n/* 27 */,\n/* 28 */\n/*!**************************!*\\\n  !*** ./client/mainUI.js ***!\n  \\**************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar RoomBase = __webpack_require__(/*! ./roombase.js */ 44);\n\tvar merge = __webpack_require__(/*! gy-merge */ 25);\n\twindow.wins = __webpack_require__(/*! ./windows.js */ 2);\n\tvar Loader = laya.net.Loader;\n\tvar Handler = laya.utils.Handler;\n\twindow.rewardType = 0;\n\twindow.rewardTimes = 0;\n\twindow.tableType = -1;\n\tvar tabletypes = ['', '', ''];\n\tvar tabletypess = ['chu', 'zhong', 'gao'];\n\t\n\tvar Room = function (_RoomBase) {\n\t    _inherits(Room, _RoomBase);\n\t\n\t    function Room() {\n\t        _classCallCheck(this, Room);\n\t\n\t        return _possibleConstructorReturn(this, (Room.__proto__ || Object.getPrototypeOf(Room)).call(this));\n\t    }\n\t\n\t    _createClass(Room, [{\n\t        key: 'getUserMediaRect',\n\t        value: function getUserMediaRect(id) {}\n\t    }, {\n\t        key: 'getVoiceBtn',\n\t        value: function getVoiceBtn() {\n\t            return this._view.getChild('voicebtn');\n\t        }\n\t        ////\n\t\n\t    }, {\n\t        key: 'onVideoActived',\n\t        value: function onVideoActived() {}\n\t    }, {\n\t        key: 'msg',\n\t        value: function msg(pack) {\n\t            switch (pack.c) {\n\t                case 'alltables':\n\t                    console.log(pack.tables);\n\t                    var highScene = []; // \n\t                    var tableId = Object.keys(pack.tables);\n\t                    var joined = false,\n\t                        // \n\t                    donotJoin = true; //\n\t                    for (var x = 0; x < tableId.length; x++) {\n\t                        if (tableType != 2 && tableType != 3) {\n\t                            if (pack.tables[tableId[x]].opt.name == tabletypes[tableType]) {\n\t                                if (!pack.tables[tableId[x]].seat[3]) {\n\t                                    joined = true;\n\t                                    _socket.sendp({ \"c\": \"join\", \"code\": tableId[x] });\n\t                                    break;\n\t                                }\n\t                            }\n\t                        } else if (tableType == 3) {\n\t                            if (pack.tables[tableId[x]].opt.name == tabletypes[2]) {\n\t                                joined = true;\n\t                                _socket.sendp({ \"c\": \"join\", \"code\": tableId[x] });\n\t                                break;\n\t                            }\n\t                            if (!joined) {\n\t                                joined = true;\n\t                                _socket.sendp({ \"c\": \"createServer\", roomtype: 'fish', opt: { type: 'gao' } });\n\t                            }\n\t                        } else {\n\t                            donotJoin = false;\n\t                            if (pack.tables[tableId[x]].opt.name == '') highScene.push({ id: tableId[x], pack: pack.tables[tableId[x]] });\n\t                        }\n\t                    }\n\t\n\t                    /////\n\t                    if (!joined && donotJoin) {\n\t                        _socket.sendp({ \"c\": \"createServer\", roomtype: 'fish', opt: { type: tabletypess[tableType] } });\n\t                        _socket.sendp({ \"c\": \"alltables\" });\n\t                    }\n\t                    if (!donotJoin) {\n\t                        var higher = new wins.HighWin(highScene);\n\t                        higher.modal = true;\n\t                        higher.show();\n\t                    }\n\t                    break;\n\t                case 'onlinecount':\n\t                    mainview.getChild('n60').text = Math.ceil(pack.all.length / 25 * 12);\n\t                    mainview.getChild('n58').text = '\\u5728\\u7EBF ';\n\t                    mainview.getChild('n70').text = '\\u5728\\u7EBF ';\n\t                    mainview.getChild('n74').text = '\\u5728\\u7EBF ';\n\t                    mainview.getChild('n72').text = Math.ceil(pack.all.length / 25 * 10);\n\t                    mainview.getChild('n76').text = Math.ceil(pack.all.length / 25 * 3);\n\t                    break;\n\t                case 'ffreward':\n\t                    rewardType = pack.type;\n\t                    break;\n\t                case 'announce':\n\t                    console.log('annoucensadjaosjkdsakjdopajkspodkjasopkdpaskdp');\n\t                    mainview.getChild('n54').getChild('n0').text = pack.s;\n\t                    mainview.getChild('n54').getTransition('t0').play();\n\t                    break;\n\t                case 'createServer':\n\t                    if (tableType == 3) {\n\t                        _socket.sendp({ \"c\": \"join\", \"code\": pack.id });\n\t                    }\n\t                    break;\n\t                case 'mails':\n\t                    if (pack.v.length > 0) {\n\t                        mainview.getController('c1').selectedIndex = 1;\n\t                    }\n\t\n\t                    break;\n\t                case 'Fcheck':\n\t                    var today = new Date().getDate() - 1;\n\t                    if (me.month[today] == 1) {\n\t                        mainview.getController('c2').selectedIndex = 1;\n\t                        var welfare = new wins.WelfareWin(0);\n\t                        welfare.modal = false;\n\t                        welfare.show();\n\t                    }\n\t                    break;\n\t                default:\n\t                    return _get(Room.prototype.__proto__ || Object.getPrototypeOf(Room.prototype), 'msg', this).call(this, pack);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'active',\n\t        value: function active() {\n\t            // super.active();\n\t            Laya.SoundManager.playMusic(__webpack_require__(/*! ./res/snd/bgm_lobby.ogg */ 45));\n\t            //shengin  \n\t            mainview.getController('c3').selectedIndex = 1;\n\t            mainview.getController('c4').selectedIndex = 1;\n\t            mainview.getController('c5').selectedIndex = 1;\n\t            mainview.getChild('n9').getController('c1').selectedIndex = 1;\n\t            mainview.getChild('n7').getController('c1').selectedIndex = 1;\n\t            mainview.getChild('n205').getChild('n51').text = me.vipLv.toString();\n\t            //sheng\n\t            var now = new Date();\n\t            if (now - me.firstBuy > 5 * 24 * 60 * 60 * 1000) {\n\t                mainview.getChild('n44').visible = false;\n\t            }\n\t            if (me.bought && me.bought.length > 2) {\n\t                mainview.getChild('n44').visible = false;\n\t            }\n\t\n\t            function huoqu(string, sce) {\n\t                if (!sce) {\n\t                    sce = scene;\n\t                }\n\t                var yuyuyu = sce.getChildByName(string);\n\t                // yuyuyu.transform.localScale = new Laya.Vector3(0.02, 0.02, 0.02);\n\t                // yuyuyu.transform.localPosition = new Laya.Vector3(-80, 20, -80);\n\t                return yuyuyu;\n\t            }\n\t            var l33 = __webpack_require__(/*! ./res/zheng/3333.ls */ 66);\n\t            var f33 = __webpack_require__(/*! ./res/fu/layaScene.lh */ 67);\n\t            var scene1 = Laya.Scene.load(l33);\n\t            var scene2 = Laya.Sprite3D.load(f33);\n\t            window.scene = Laya.stage.addChild(scene1);\n\t            window.spltt = scene.addChild(scene2);\n\t            scene.visible = false;\n\t            scene.once(Laya.Event.HIERARCHY_LOADED, this, function () {\n\t\n\t                fishDef.bianfuyu = huoqu('bianfuyu');\n\t                fishDef.cheqiyu = huoqu('cheqiyu');\n\t                fishDef.dianmanyu = huoqu('dianmanyu');\n\t                fishDef.dinianyu = huoqu('dinianyu');\n\t                fishDef.fangyu = huoqu('fangyu');\n\t                fishDef.haigui = huoqu('haigui');\n\t                fishDef.hetun = huoqu('hetun');\n\t                fishDef.jianyu = huoqu('jianyu');\n\t                fishDef.jinqiangyu = huoqu('jinqiangyu');\n\t                fishDef.shayu = huoqu('shayu');\n\t                fishDef.shiziyu = huoqu('shiziyu');\n\t                fishDef.tianshiyu = huoqu('tianshiyu');\n\t                fishDef.xiaochouyu = huoqu('xiaochouyu');\n\t                fishDef.xiaohuangyu = huoqu('xiaohuangyu');\n\t                fishDef.xiaolvyu = huoqu('xiaolvyu');\n\t                fishDef.jlong = huoqu('jlong');\n\t                fishDef.chuitouyu = huoqu('chuitouyu');\n\t                fishDef.hama = huoqu('hama');\n\t                fishDef.zhadan = huoqu('zhadan');\n\t                fishDef.ding = huoqu('ding');\n\t                fishDef.fazhen = huoqu('fazhen');\n\t                if (fishDef.fazhen) {\n\t                    fishDef.hama.addChild(fishDef.fazhen);\n\t                    fishDef.fazhen.transform.localPosition = new Laya.Vector3(0, -1, 0);\n\t                    fishDef.fazhen.transform.localScale = new Laya.Vector3(20, 20, 20);\n\t                }\n\t                fishDef.jiangquan1 = huoqu('jiangquan1');\n\t                fishDef.jiangquan2 = huoqu('jiangquan2');\n\t                fishDef.jiangquan5 = huoqu('jiangquan5');\n\t                fishDef.jiangquan10 = huoqu('jiangquan10');\n\t                fishDef.jiangquan20 = huoqu('jiangquan20');\n\t                fishDef.jiangquan50 = huoqu('jiangquan50');\n\t                fishDef.denglong = huoqu('deng');\n\t                fishDef.denglongyu = huoqu('denglongyu');\n\t                // if (!fishDef.denglongyu.getChildAt(1))\n\t                //     fishDef.denglongyu.addChild(fishDef.denglong);\n\t                fishDef.zuyu = huoqu('zhengzuyu');\n\t                fishDef.chuqi = huoqu(\"chuqibuyi\");\n\t            });\n\t            spltt.once(Laya.Event.HIERARCHY_LOADED, this, function () {\n\t\n\t                fishDef.hama2 = huoqu('hama2', scene.getChildAt(0));\n\t                fishDef.jlong2 = huoqu('jlong2', scene.getChildAt(0));\n\t                fishDef.chuitouyu2 = huoqu('chuitouyu2', scene.getChildAt(0));\n\t\n\t                console.log('ok');\n\t            });\n\t\n\t            _socket.sendp({ 'c': 'onlinecount' });\n\t            if (rewardType == 0) {\n\t                _socket.sendp({ c: 'ffreward' });\n\t                rewardType++;\n\t            }\n\t            _socket.sendp({ c: 'mails', start: 0 });\n\t            _socket.sendp({ c: 'Fcheck' });\n\t\n\t            var hour = now.getHours(),\n\t                giftNumber = 0;\n\t            var gedDef = [9, 12, 15, 18, 21, 24];\n\t            for (var x = 0; x < 6; x++) {\n\t                if (hour < gedDef[x]) {\n\t                    giftNumber = x;\n\t                    break;\n\t                }\n\t            }\n\t            if (me.onhour && !me.onhour[giftNumber]) {\n\t                mainview.getController('c2').selectedIndex = 1;\n\t            }\n\t            mainview.getChild('n47').text = me.nickname;\n\t            //         window. face.......\n\t            var faceid = Math.ceil(Math.random() * 3).toString();\n\t            window.faceurl = fairygui.UIPackage.getItemURL(\"Package1\", faceid);\n\t            mainview.getChild('n42').getChild('n3').url = faceurl;\n\t            // mainview.getChild('n98').text = me.coins;\n\t            // mainview.getChild('n56').text = me.diamond;\n\t            // mainview.getChild('n57').text = me.tickets; //\n\t            // mainview.getChild('n53').text = me.level + '';\n\t            // mainview.getChild('n48').getChild('n51').text = me.vipLv.toString();\n\t\n\t            mainview.getChild('n7').onClick(null, function () {\n\t                console.log('sss');\n\t\n\t                var shop = new wins.ShopingWin();\n\t                shop.modal = true;\n\t                shop.show();\n\t            });\n\t            mainview.getChild('n8').onClick(null, function () {\n\t                console.log('sss');\n\t\n\t                var rank = new wins.RankingWin();\n\t                rank.modal = true;\n\t                rank.show();\n\t            });\n\t            mainview.getChild('n9').onClick(null, function () {\n\t                var bank = new wins.BankWin();\n\t                bank.modal = true;\n\t                bank.show();\n\t            });\n\t            mainview.getChild('n10').onClick(null, function () {\n\t                var mail = new wins.ShowMailWin();\n\t                mail.modal = true;\n\t                mail.show();\n\t            });\n\t            mainview.getChild('n11').onClick(null, function () {\n\t\n\t                var welfare = new wins.WelfareWin();\n\t                welfare.modal = true;\n\t                welfare.show();\n\t            });\n\t            //\n\t            mainview.getChild('n42').onClick(null, function () {\n\t                var uInfo = new wins.UserinfoWin();\n\t                uInfo.modal = true;\n\t                uInfo.show();\n\t            });\n\t            //\n\t            mainview.getChild('n22').onClick(null, function () {\n\t                var vip = new wins.VipWin();\n\t                vip.modal = true;\n\t                vip.show();\n\t            });\n\t            mainview.getChild('n48').onClick(null, function () {\n\t                var vip = new wins.VipWin();\n\t                vip.modal = true;\n\t                vip.show();\n\t            });\n\t            mainview.getChild('n44').onClick(null, function () {\n\t                var cai = new wins.CainiaoWin();\n\t                cai.modal = true;\n\t                cai.show();\n\t            });\n\t\n\t            //  \n\t            mainview.getChild('n198').onClick(null, function () {\n\t                _socket.sendp({ \"c\": \"alltables\" });\n\t                if (me.coins < 50000) {\n\t                    tableType = 0;\n\t                } else if (me.coins < 90000) {\n\t                    tableType = 1;\n\t                } else {\n\t                    tableType = 3;\n\t                }\n\t            });\n\t            mainview.getChild('n3').onClick(null, function () {\n\t                _socket.sendp({ \"c\": \"alltables\" });\n\t                tableType = 0;\n\t            });\n\t            mainview.getChild('n4').onClick(null, function () {\n\t                _socket.sendp({ \"c\": \"alltables\" });\n\t                tableType = 1;\n\t            });\n\t            mainview.getChild('n5').onClick(null, function () {\n\t                if (me.coins < 100000 && me.level < 10) {\n\t                    tipon('1010').popup();\n\t                } else {\n\t                    _socket.sendp({ \"c\": \"alltables\" });\n\t                    tableType = 2;\n\t                }\n\t            });\n\t            //\n\t            mainview.getChild('n24').onClick(null, function () {\n\t                var option = new wins.SettingWin();\n\t                option.modal = true;\n\t                option.show();\n\t            });\n\t            mainview.getChild('n97').onClick(null, function () {\n\t                var shop = new wins.ShopingWin();\n\t                shop.modal = true;\n\t                shop.show();\n\t            });\n\t            mainview.getChild('n34').onClick(null, function () {\n\t                var shop = new wins.ShopingWin(1);\n\t                shop.modal = true;\n\t                shop.show();\n\t            });\n\t            mainview.getChild('n30').onClick(null, function () {\n\t                console.log('jiangquan');\n\t                var shop = new wins.ShopingWin(2);\n\t                shop.modal = true;\n\t                shop.show();\n\t            });\n\t\n\t            // var pao8 = require('./res/pao/0_000_00023.png');\n\t\n\t\n\t            ////////////\n\t            me.on('coinschgd', coinchg);\n\t            me.on('diamondchgd', diamondchg);\n\t            me.on('ticketschgd', ticketschg);\n\t            me.on('levelchgd', levelchg);\n\t            me.on('vipLvchgd', vipLvchg);\n\t        }\n\t    }, {\n\t        key: 'deactive',\n\t        value: function deactive() {\n\t            _get(Room.prototype.__proto__ || Object.getPrototypeOf(Room.prototype), 'deactive', this).call(this);\n\t            me.removeListener('coinschgd', coinchg);\n\t            me.removeListener('diamondchgd', diamondchg);\n\t            me.removeListener('ticketschgd', ticketschg);\n\t            me.removeListener('levelchgd', levelchg);\n\t            me.removeListener('vipLvchgd', vipLvchg);\n\t        }\n\t    }], [{\n\t        key: 'create',\n\t        value: function create(opt, cb) {\n\t            opt = merge(opt, { seatNumber: 4, easyrtcApp: 'com.1357g.h5.buyu' }); //seatNumber    set\n\t            Laya.loader.load([\n\t            // { url: require(\"./res/Package1@atlas_twcm6n.png\"), type: Loader.IMAGE },\n\t            // { url: require(\"./res/Package1@atlas0_2.png\"), type: Loader.IMAGE },\n\t            // { url: require(\"./res/Package1@atlas_twcm7g.png\"), type: Loader.IMAGE },\n\t            { url: __webpack_require__(/*! ./res/Package1@atlas0.png */ 46), type: Loader.IMAGE }, { url: __webpack_require__(/*! ./res/Package1@atlas0_1.png */ 47), type: Loader.IMAGE },\n\t            // { url: require(\"./res/Package1@atlas_p0v1mv.jpg\"), type: Loader.IMAGE },\n\t            { url: __webpack_require__(/*! ./res/Package1@atlas_o5uh1a.jpg */ 48), type: Loader.IMAGE }, { url: __webpack_require__(/*! ./res/Package1@atlas_gbj4q7.jpg */ 49), type: Loader.IMAGE }, { url: __webpack_require__(/*! ./res/Package1@atlas_gbj4q5.jpg */ 50), type: Loader.IMAGE }, { url: __webpack_require__(/*! ./res/Package1@atlas_lcqpnb.png */ 51), type: Loader.IMAGE }, { url: __webpack_require__(/*! ./res/Package1.fui */ 52), type: Loader.BUFFER }], Handler.create(null, function () {\n\t                console.log('remove');\n\t                fairygui.GRoot.inst.removeChildren();\n\t                var room = new Room(opt);\n\t                var ss = fairygui.UIPackage.addPackage('Package1');\n\t                var _view = room._view = fairygui.UIPackage.createObject(\"Package1\", '').asCom;\n\t                window.mainview = _view;\n\t                room.afterCreateView();\n\t                cb(null, room);\n\t            }));\n\t        }\n\t    }]);\n\t\n\t    return Room;\n\t}(RoomBase);\n\t\n\tfunction coinchg() {\n\t    mainview.getChild('n98').text = resetCoin();\n\t}\n\t\n\tfunction diamondchg() {\n\t    mainview.getChild('n56').text = me.diamond;\n\t}\n\t\n\tfunction ticketschg() {\n\t    mainview.getChild('n57').text = me.tickets; //\n\t}\n\t\n\tfunction levelchg() {\n\t    mainview.getChild('n53').text = me.level + '';\n\t}\n\t\n\tfunction vipLvchg() {\n\t    mainview.getChild('n48').getChild('n51').text = me.vipLv.toString();\n\t}\n\t\n\tfunction resetCoin() {\n\t    if (me.coins > 100000000) {\n\t        var a = (me.coins / 100000000).toFixed(1);\n\t        if (a[a.length - 1] == 0) {\n\t            return parseInt(a) + '';\n\t        } else {\n\t            return a + '';\n\t        }\n\t    } else if (me.coins > 1000000) {\n\t        var a = (me.coins / 10000).toFixed(1);\n\t        if (a[a.length - 1] == 0) {\n\t            return parseInt(a) + '';\n\t        } else {\n\t            return a + '';\n\t        }\n\t    } else {\n\t        return me.coins.toString();\n\t    }\n\t}\n\tmodule.exports = Room.create;\n\n/***/ },\n/* 29 */\n/*!********************************************!*\\\n  !*** ./~/bundle-loader!./client/mainUI.js ***!\n  \\********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar cbs = [], \n\t\tdata;\n\tmodule.exports = function(cb) {\n\t\tif(cbs) cbs.push(cb);\n\t\telse cb(data);\n\t}\n\t!/*require.ensure*/(function(require) {\n\t\tdata = __webpack_require__(/*! !../~/babel-loader/lib?{\"presets\":[\"es2015\"]}!./mainUI.js */ 28);\n\t\tvar callbacks = cbs;\n\t\tcbs = null;\n\t\tfor(var i = 0, l = callbacks.length; i < l; i++) {\n\t\t\tcallbacks[i](data);\n\t\t}\n\t}(__webpack_require__));\n\n/***/ },\n/* 30 */\n/*!********************************************!*\\\n  !*** ./~/bundle-loader!./client/gameUI.js ***!\n  \\********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar cbs = [], \n\t\tdata;\n\tmodule.exports = function(cb) {\n\t\tif(cbs) cbs.push(cb);\n\t\telse cb(data);\n\t}\n\t__webpack_require__.e/*nsure*/(4, function(require) {\n\t\tdata = __webpack_require__(/*! !../~/babel-loader/lib?{\"presets\":[\"es2015\"]}!./gameUI.js */ 31);\n\t\tvar callbacks = cbs;\n\t\tcbs = null;\n\t\tfor(var i = 0, l = callbacks.length; i < l; i++) {\n\t\t\tcallbacks[i](data);\n\t\t}\n\t});\n\n/***/ },\n/* 31 */,\n/* 32 */\n/*!***********************************************!*\\\n  !*** ./~/bundle-loader!./client/loadingUI.js ***!\n  \\***********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar cbs = [], \n\t\tdata;\n\tmodule.exports = function(cb) {\n\t\tif(cbs) cbs.push(cb);\n\t\telse cb(data);\n\t}\n\t__webpack_require__.e/*nsure*/(5, function(require) {\n\t\tdata = __webpack_require__(/*! !../~/babel-loader/lib?{\"presets\":[\"es2015\"]}!./loadingUI.js */ 33);\n\t\tvar callbacks = cbs;\n\t\tcbs = null;\n\t\tfor(var i = 0, l = callbacks.length; i < l; i++) {\n\t\t\tcallbacks[i](data);\n\t\t}\n\t});\n\n/***/ },\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */,\n/* 42 */,\n/* 43 */,\n/* 44 */\n/*!****************************!*\\\n  !*** ./client/roombase.js ***!\n  \\****************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t// howto\n\t// RoomBase\n\t// var RoomBase=require('./roombase.js');\n\t// var Loader = laya.net.Loader;\n\t// var Handler = laya.utils.Handler;\n\t//\n\t// class Room extends RoomBase {\n\t// \tconstructor(opt) {\n\t// \t\tsuper(opt);\n\t// \t}\n\t// \tstatic create(opt, cb) {\n\t// \t\topt=merge(opt, {seatNumber:4, easyrtcApp:'com.1357g.h5.xxx'});\n\t// \t\tLaya.loader.load([\n\t// \t\t\t\t//{ url: require(\"./res/hall@h29yzf.mp3\"), type: Loader.SOUND },\n\t// \t\t\t\t{ url: require(\"./res/hall@atlas_uyrl82.jpg\"), type: Loader.IMAGE },\n\t// \t\t\t\t{ url: require(\"./res/hall@atlas10.png\"), type: Loader.IMAGE },\n\t// \t\t\t\t{ url: require(\"./res/hall@atlas0.png\"), type: Loader.IMAGE },\n\t// \t\t\t\t{ url: require(\"./res/hall.fui\"), type: Loader.BUFFER }\n\t// \t\t\t], Handler.create(null, function() {\n\t// \t\t\t\tvar room=new Room(opt);\n\t// \t\t\t\tfairygui.UIPackage.addPackage('hall');\n\t// \t\t\t\tvar _view =room._view= fairygui.UIPackage.createObject(\"\", \"Component13\").asCom;\n\t// \t\t\t\twindow.roomview=_view;\n\t//\n\t// \t\t\t\troom.afterCreateView();\n\t// \t\t\t\tcb(null, room);\n\t// \t\t\t})\n\t// \t\t)\n\t// \t}\n\t// \tgetUserMediaRect(id) {\n\t// \t}\n\t// \tgetVoiceBtn() {\n\t// \t\treturn this._view.getChild('voicebtn');\n\t// \t}\n\t// \tonVideoActived() {\n\t// \t}\n\t//\n\t// \t\n\t// \tmsg(pack) {\n\t// \t\tswitch(pack.c) {\n\t// \t\t\tcase 'xx':\n\t// \t\t\tbreak;\n\t// \t\t\tdefault:\n\t// \t\t\treturn super.msg(pack);\n\t// \t\t}\n\t// \t}\n\t// \tactive() {\n\t// \t\tsuper.active();\n\t//\t\tLaya.stage.addChildAt(bg, 0);\n\t//\t\tLaya.stage.addChildAt(3d, 1);\n\t//\t\t//Laya.stage.children[2]==fairygui.com;\n\t// \t}\n\t// \tdeactive() {\n\t// \t\tsuper.deactive();\n\t// \t}\t\n\t// }\n\t\n\t\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar assert = __webpack_require__(/*! assert */ 80),\n\t    merge = __webpack_require__(/*! gy-merge */ 25),\n\t    EventEmitter = __webpack_require__(/*! events */ 42);\n\tvar me = __webpack_require__(/*! ./myself.js */ 1);\n\tvar wins = __webpack_require__(/*! ./windows.js */ 2);\n\t\n\tfunction capitalizeFirstLetter(string) {\n\t    return string.charAt(0).toUpperCase() + string.slice(1);\n\t}\n\t\n\tvar ViewBase = function () {\n\t    function ViewBase() {\n\t        _classCallCheck(this, ViewBase);\n\t    }\n\t\n\t    _createClass(ViewBase, [{\n\t        key: 'assignAllBtns',\n\t        value: function assignAllBtns() {\n\t            var _this = this;\n\t\n\t            var cl = this._view._children;\n\t            var fairyguiNamedEle = /[A-Za-z]\\d+/;\n\t            for (var i = 0; i < cl.length; i++) {\n\t                var btn = cl[i].asButton;\n\t                if (btn instanceof fairygui.GButton) {\n\t                    var _ret = function () {\n\t                        if (fairyguiNamedEle.test(btn.name)) return 'continue';\n\t                        var _n = btn.name.split('.');\n\t                        var _idx = _n[1] || 1;\n\t                        _n = _n[0];\n\t                        var ctrl = _this._view.getController(_n);\n\t                        if (ctrl) {\n\t                            btn.onClick(_this, function () {\n\t                                ctrl.selectedIndex = _idx;\n\t                            });\n\t                            ctrl.setSelectedIndex(0);\n\t                        } else {\n\t                            btn.onClick(_this, function () {\n\t                                var candiName = capitalizeFirstLetter(_n) + 'Win';\n\t                                if (wins[candiName]) {\n\t                                    var win = new wins[candiName]();\n\t                                } else var win = new wins.Win(_n);\n\t                                win.modal = true;\n\t                                win.show();\n\t                            });\n\t                        }\n\t                    }();\n\t\n\t                    if (_ret === 'continue') continue;\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: 'active',\n\t        value: function active() {\n\t            console.log('.active');\n\t        }\n\t    }, {\n\t        key: 'deactive',\n\t        value: function deactive() {\n\t            console.log('.deactive');\n\t        }\n\t    }, {\n\t        key: 'msg',\n\t        value: function msg(pack) {\n\t            // pack:{c:'cmd', anything:'anytype', something:'all these was defined by server'}\n\t            console.log('.msg,');\n\t        }\n\t    }], [{\n\t        key: 'create',\n\t        value: function create(opt, cb) {\n\t            assert.fail('create');\n\t            // \n\t            // if (typeof opt==='function') {cb=opt; opt={}}\n\t            // Laya.loader.load([\n\t            // \t{ url: require(\"./res/hall@atlas_7hc2v2.jpg\"), type: Loader.IMAGE },\n\t            // \t{ url: require(\"./res/hall@atlas4.png\"), type: Loader.IMAGE },\n\t            // \t{ url: require(\"./res/hall@atlas0.png\"), type: Loader.IMAGE },\n\t            // \t{ url: require(\"./res/hall.fui\"), type: Loader.BUFFER }\n\t            // ], Handler.create(null, function() {\n\t            // \tvar ui=new ViewBase();\n\t            // \tui._view=fairygui.UIPackage.createObject(\"\", \"Component\").asCom;\n\t            // \tcb(null, ui);\n\t            // }));\n\t        }\n\t    }]);\n\t\n\t    return ViewBase;\n\t}();\n\t\n\tfunction walkobj(obj, path, cb) {\n\t    if (obj == null || (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) != 'object') return;\n\t    for (var k in obj) {\n\t        var safeK = k.replace(/\\\\/g, '\\\\u005c').replace(/\\./g, '\\\\u002e');\n\t        var n = path ? path + '.' + safeK : safeK;\n\t        cb(n, obj[k]);\n\t        walkobj(obj[k], n, cb);\n\t    }\n\t}\n\t\n\tvar GameData = function (_EventEmitter) {\n\t    _inherits(GameData, _EventEmitter);\n\t\n\t    function GameData() {\n\t        _classCallCheck(this, GameData);\n\t\n\t        // this.on('newListener', function(event, listener) {\n\t        // \tlistener.call(this, this);\n\t        // });\n\t        var _this2 = _possibleConstructorReturn(this, (GameData.__proto__ || Object.getPrototypeOf(GameData)).call(this));\n\t\n\t        var re = _this2._rangeEvents = [];\n\t        _this2.on('newListener', function (event, listener) {\n\t            if (event.indexOf('/') == 0) {\n\t                re.push({ reg: new RegExp(event.substr(1, -2)), k: event });\n\t            }\n\t        });\n\t        _this2.on('removeListener', function (event, listener) {\n\t            var idx = re.findIndex(function (ele) {\n\t                return ele.k == event;\n\t            });\n\t            if (idx >= 0) re.splice(idx, 1);\n\t        });\n\t        return _this2;\n\t    }\n\t\n\t    _createClass(GameData, [{\n\t        key: '_enumAttr',\n\t        value: function _enumAttr(obj, path, f) {\n\t            if (obj == null) return;\n\t            if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) != 'object') return;\n\t            for (var e in obj) {\n\t                if (e == '$') continue;\n\t                if (e.indexOf('_') >= 0) continue;\n\t                var safeK = e.replace(/\\\\/g, '\\\\u005c').replace(/\\./g, '\\\\u002e');\n\t                var p = path ? path + '.' + safeK : safeK;\n\t                f(p, obj[e]);\n\t                if (_typeof(obj[e]) == 'object') this._enumAttr(obj[e], p, f);\n\t            }\n\t        }\n\t    }, {\n\t        key: '_chkRegEvent',\n\t        value: function _chkRegEvent(p) {\n\t            // if (!this.regEvents) {\n\t            // \tthis.regEvents=[];\n\t            // \tfor (var k in this._events) {\n\t            // \t\tif (k.indexOf('/')==0) {\n\t            // \t\t\tthis.regEvents.push({reg:new RegExp(k.substr(1, -2)), k:k});\n\t            // \t\t}\n\t            // \t}\n\t            // }\n\t            // for (var i=0; i<this.regEvents.length; i++) {\n\t            // \t// this is a reg\n\t            // \tvar r=this.regEvents[i].reg.exec(p);\n\t            // \tif (r) {\n\t            // \t\tr.unshift(this.regEvents[i].k);\n\t            // \t\tthis.emit.apply(this, r);\n\t            // \t}\n\t            // }\n\t            // var self=this;\n\t            // process.nextTick(function() {\n\t            // \tself.regEvents=null;\n\t            // });\n\t            for (var i = 0; i < this._rangeEvents.length; i++) {\n\t                // this is a reg\n\t                var r = this._rangeEvents[i].reg.exec(p);\n\t                if (r) {\n\t                    r.unshift(this._rangeEvents[i].k);\n\t                    this.emit.apply(this, r);\n\t                }\n\t            }\n\t        }\n\t    }, {\n\t        key: '_update',\n\t        value: function _update(obj) {\n\t            // console.log('upd scene', obj);\n\t            var _e = Object.keys(obj);\n\t            if (_e.length == 2 && obj.countdown != null) {} else console.log(obj);\n\t            var self = this;\n\t            if (obj.$) {\n\t                if (obj.$.init) {\n\t                    for (var k in this) {\n\t                        if (typeof this[k] == 'function' || k.indexOf('_') == 0) continue;\n\t                        delete this[k];\n\t                    }\n\t                    merge.recursive(this, obj);\n\t                    this.emit('inited', this);\n\t                    walkobj(this, null, function (k, v) {\n\t                        if (typeof v == 'function' || k.indexOf('_') == 0) return;\n\t                        self.emit('' + k + 'chgd', self);\n\t                        self._chkRegEvent('' + k + 'chgd');\n\t                    });\n\t                    // for (var k in this) {\n\t                    // \tif (typeof this[k]=='function' || k.indexOf('_')==0) continue;\n\t                    // \tthis.emit(''+k+'chgd', this);\n\t                    // }\n\t                    return;\n\t                }\n\t                if (obj.$.delete) {\n\t                    var delCmd = obj.$.delete;\n\t                    for (var i = 0; i < delCmd.length; i++) {\n\t                        var p = delCmd[i];\n\t                        this.ensuredelete(p);\n\t                        this.emit(p[0] + 'chgd', this);\n\t                        this.emit(p + 'chgd', this);\n\t\n\t                        this._chkRegEvent(p + 'chgd');\n\t                    }\n\t                }\n\t                if (obj.$.set) {\n\t                    var delCmd = obj.$.set;\n\t                    for (var i = 0; i < delCmd.length; i++) {\n\t                        var p = delCmd[i];\n\t                        this.ensuredelete(p);\n\t                    }\n\t                }\n\t                delete obj.$;\n\t            }\n\t            merge.recursive(this, obj);\n\t            this._enumAttr(obj, '', function (path, v) {\n\t                self.emit(path + 'chgd', v);\n\t                self._chkRegEvent(path + 'chgd');\n\t            });\n\t        }\n\t    }, {\n\t        key: 'ensuredelete',\n\t        value: function ensuredelete(p) {\n\t            var o = this;\n\t            for (var i = 0; i < p.length - 1; i++) {\n\t                if (o[p[i]]) o = o[p[i]];else return false;\n\t            }\n\t            if (o) {\n\t                if (Array.isArray(o) && o.length - 1 == p[p.length - 1]) {\n\t                    o.length--;\n\t                } else delete o[p[p.length - 1]];\n\t            }\n\t        }\n\t    }]);\n\t\n\t    return GameData;\n\t}(EventEmitter);\n\t\n\t;\n\t\n\tvar io = window.io = __webpack_require__(/*! socket.io-client */ 83);\n\tvar easyrtc = __webpack_require__(/*! ./js/easyrtc.js */ 77);\n\tvar _noop = __webpack_require__(/*! ./etc.js */ 27)._noop;\n\tvar ensureAccessCamera = function () {\n\t    var permissions = !!window.cordova && cordova.plugins.permissions || {\n\t        checkPermission: function checkPermission(p, cb) {\n\t            cb({ hasPermission: true });\n\t        }\n\t    };\n\t\n\t    function ensureAccessCamera(callback) {\n\t        if (!Laya.Browser.onAndroid) return callback();\n\t        // permissions.checkPermission(permissions.CAMERA, function(status) {\n\t        // if (status.hasPermission) return callback()\n\t        // else \n\t        permissions.requestPermissions([permissions.RECORD_AUDIO, permissions.CAMERA, permissions.RECORD_AUDIO], function (status) {\n\t            if (status.hasPermission) return callback();\n\t            callback('user canceled');\n\t        }, function () {\n\t            callback('something wrong');\n\t        });\n\t        // }\n\t        // , function() {\n\t        // \tcallback('something wrong');\n\t        // });\n\t    }\n\t    return ensureAccessCamera;\n\t}();\n\teasyrtc.setSocketUrl('http://ws.1357g.com:19999/');\n\teasyrtc.setVideoDims(100, 100, 15);\n\t\n\tfunction easyrtc_connect(appname, cb) {\n\t    if (typeof appname == 'function') {\n\t        cb = appname;\n\t        appname = null;\n\t    }\n\t    appname = appname || 'com.1357g.h5.niuniu';\n\t    cb = cb || _noop;\n\t    easyrtc.connect(appname, function (myId) {\n\t        console.log('easyrtc connected', appname, myId);\n\t        cb(null, myId);\n\t    }, function (err) {\n\t        cb(err);\n\t    });\n\t}\n\tvar _cb = console.log.bind(console, 'audioroute ret');\n\tdocument.addEventListener('audioroute-changed', function (event) {\n\t    if (event.reason == 'route-config-change') {\n\t        cordova.plugins.audioroute.currentOutputs(function (outs) {\n\t            console.log('audio chg to', outs);\n\t            if (outs == 'builtin-receiver') cordova.plugins.audioroute.overrideOutput('speaker', _cb, _cb);\n\t        }, _cb);\n\t    }\n\t});\n\t\n\tvar sysdiv = document.getElementById('layaContainer'),\n\t    sysCanvas = document.getElementById('layaCanvas');\n\t\n\t/**\n\t * @property {fairygui.GComponent} _view \n\t * @property {GameData} gamedata \n\t * @property {number} _seatNumber \n\t * @property {object} _calls rtc\n\t */\n\t\n\tvar RoomBase = function (_ViewBase) {\n\t    _inherits(RoomBase, _ViewBase);\n\t\n\t    function RoomBase(opt) {\n\t        _classCallCheck(this, RoomBase);\n\t\n\t        var _this3 = _possibleConstructorReturn(this, (RoomBase.__proto__ || Object.getPrototypeOf(RoomBase)).call(this));\n\t\n\t        opt = opt || {};\n\t        // opt:{seatNumber:3|4|5, easyrtcApp:'com.1357g.h5.xxx'}\n\t        _this3.gamedata = _this3.scene = new GameData();\n\t        _this3._seatNumber = 4;\n\t        _this3._calls = {};\n\t\n\t        var self = _this3,\n\t            gd = _this3.gamedata;\n\t        gd.on('inited', function () {\n\t            if (opt.disableRtc || opt.easyrtcApp == null) return;\n\t            ensureAccessCamera(function (err) {\n\t                easyrtc.initMediaSource(function () {\n\t                    if (self.hasQuit) return;\n\t                    self.disableMicrophone();\n\t                    self.onVideoActived && self.onVideoActived();\n\t                    self.chgVoiceBtnFunc();\n\t                    var selfVideo = self.icon2Video(0, true);\n\t                    if (!selfVideo) return;\n\t                    easyrtc.setVideoObjectSrc(selfVideo, easyrtc.getLocalStream());\n\t                    easyrtc_connect(opt.easyrtcApp, function (err, myId) {\n\t                        if (err) return console.log(err);\n\t                        if (self.hasQuit) return;\n\t                        self.afterRtcConnected(myId);\n\t                        easyrtc.setDisconnectListener(function () {\n\t                            easyrtc.showError(\"LOST-CONNECTION\", \"Lost connection to signaling server\");\n\t                            easyrtc_connect(function (err, myId) {\n\t                                if (err) return console.log(err);\n\t                                self.afterRtcConnected(myId);\n\t                            });\n\t                        });\n\t                    });\n\t                }, _noop);\n\t            });\n\t        });\n\t        return _this3;\n\t    }\n\t\n\t    // create\n\t\n\t\n\t    _createClass(RoomBase, [{\n\t        key: 'afterCreateView',\n\t        value: function afterCreateView() {\n\t            this.assignAllBtns();\n\t            var voicebtn = this.getVoiceBtn();\n\t            if (!voicebtn) return;\n\t            var _rec = null,\n\t                _recCanceled = false;\n\t            voicebtn.on('mousedown', null, function () {\n\t                if (window.startRecord) {\n\t                    _recCanceled = false;\n\t                    Laya.SoundManager.setMusicVolume(0.6);\n\t                    setTimeout(function () {\n\t                        if (!_recCanceled) {\n\t                            window.startRecord();\n\t                            Laya.SoundManager.setMusicVolume(0.2);\n\t                            if (wins.RecWin) {\n\t                                _rec = wins.RecWin.inst;\n\t                                _rec.show();\n\t                            }\n\t                        }\n\t                    }, 200);\n\t                }\n\t            });\n\t            voicebtn.on('mouseup', null, function () {\n\t                if (_rec) {\n\t                    setTimeout(function () {\n\t                        window.stopRecord && window.stopRecord(function (err, token) {\n\t                            Laya.SoundManager.setMusicVolume(1);\n\t                            if (err) return console.log(err);\n\t                            if (token) _socket.sendp({ c: 'table.voice', token: token });\n\t                        });\n\t                    }, 300);\n\t                    _rec.hide();\n\t                    _rec = null;\n\t                } else cancelRec();\n\t            });\n\t\n\t            function cancelRec() {\n\t                _recCanceled = true;\n\t                console.log('rec canceled');\n\t                window.stopRecord && window.stopRecord();\n\t                if (_rec) {\n\t                    _rec.hide();\n\t                    _rec = null;\n\t                }\n\t                Laya.SoundManager.setMusicVolume(1);\n\t            }\n\t            voicebtn.on('mouseout', null, cancelRec);\n\t        }\n\t        // \n\t\n\t    }, {\n\t        key: 'getUserMediaRect',\n\t        value: function getUserMediaRect(id) {\n\t            assert.fail('seat(id)');\n\t        }\n\t    }, {\n\t        key: 'getVoiceBtn',\n\t        value: function getVoiceBtn() {\n\t            assert.fail('');\n\t            // eg. return this._view.getChild('voicebtn');\n\t        }\n\t    }, {\n\t        key: 'onVideoActived',\n\t        value: function onVideoActived() {}\n\t        //\n\t\n\t\n\t        // \n\t\n\t    }, {\n\t        key: 'msg',\n\t        value: function msg(pack) {\n\t            var self = this;\n\t            if (pack.gamedata || pack.scene) {\n\t                this.gamedata._update(pack.gamedata || pack.scene);\n\t            }\n\t            return true;\n\t        }\n\t        /**\n\t         * super.active();\n\t         */\n\t\n\t    }, {\n\t        key: 'active',\n\t        value: function active() {\n\t            // active\n\t            var self = this;\n\t            _socket.sendp({ c: 'createInviteCode' });\n\t            netmsg.once('inviteCode', null, function (msg) {\n\t                self.inviteCode = msg.v;\n\t                window.preInvite && window.preInvite(msg.v, self.opt);\n\t            });\n\t            this.mySeat = null;\n\t            this.video2Icon(0);\n\t            this._calls = {};\n\t        }\n\t    }, {\n\t        key: 'deactive',\n\t        value: function deactive() {\n\t            //me.removeAllListeners();\n\t            this.gamedata.removeAllListeners();\n\t            this.hasQuit = true;\n\t            easyrtc.setDisconnectListener(null);\n\t            easyrtc.disconnect();\n\t\n\t            var videos = sysdiv.getElementsByTagName('video');\n\t            for (var i = 0; i < videos.length; i++) {\n\t                sysdiv.removeChild(videos[i]);\n\t            }\n\t            this._calls = {};\n\t        }\n\t\n\t        // \n\t        /** \n\t         * \n\t         * seats-1\n\t         *\n\t         * @param {object|[]} seats gamedata.seats\n\t         * @return {number} \n\t         **/\n\t\n\t    }, {\n\t        key: 'locateMe',\n\t        value: function locateMe(seats) {\n\t            if (!seats) return -1;\n\t            if (Array.isArray(seats)) {\n\t                for (var i = 0; i < seats.length; i++) {\n\t                    var s = seats[i];\n\t                    if (s && s.user && s.user.id == me.id) return i;\n\t                }\n\t                return -1;\n\t            } else if ((typeof seats === 'undefined' ? 'undefined' : _typeof(seats)) == 'object') {\n\t                for (var i in seats) {\n\t                    var s = seats[i];\n\t                    if (s && s.user && s.user.id == me.id) return i;\n\t                }\n\t                return -1;\n\t            }\n\t            return -1;\n\t        }\n\t    }, {\n\t        key: 'createHTMLDiv',\n\t        value: function createHTMLDiv(o) {\n\t            var pos = { x: o.x, y: o.y, w: o.width, h: o.height };\n\t            var ele = $('#layaCanvas');\n\t            var rX = Laya.stage.clientScaleX,\n\t                rY = Laya.stage.clientScaleY;\n\t            pos.x = pos.x * rX;\n\t            pos.y = pos.y * rY;\n\t            pos.w = pos.w * rX;\n\t            pos.h = pos.h * rY;\n\t            var div = $('<div class=\"card\" style=\"position:absolute;left:' + pos.x + 'px; top:' + pos.y + 'px; width:' + pos.w + 'px; height:' + pos.h + 'px\"/>');\n\t            div.css('transform', ele.css('transform'));\n\t            div.css('transform-origin', '' + -pos.x + 'px ' + -pos.y + 'px');\n\t            $('#layaContainer').append(div);\n\t            return div;\n\t        }\n\t    }, {\n\t        key: 'createHTMLVideo',\n\t        value: function createHTMLVideo(obj) {\n\t            var ho = document.createElement('video');\n\t            var _s = ho.style;\n\t            var rw = sysCanvas.width / (960 * (Laya.Browser.onIOS ? devicePixelRatio : 1));\n\t            var r = sysCanvas.width / (960 * devicePixelRatio);\n\t            var rotate = Number(sysCanvas.style.transform.split(',')[2]) == -1;\n\t            _s.left = (rotate ? -obj.y : obj.x) * r + 'px';\n\t            _s.top = (rotate ? obj.x : obj.y) * r + 'px';\n\t            _s.width = obj.width * rw + 'px';\n\t            _s.height = obj.height * rw + 'px';\n\t            _s.transform = sysCanvas.style.transform;\n\t            _s.transformOrigin = sysCanvas.style.transformOrigin;\n\t            _s.position = 'absolute';\n\t            _s['z-index'] = 9999999;\n\t            sysdiv.appendChild(ho);\n\t            return ho;\n\t        }\n\t    }, {\n\t        key: 'findUserLocalSeat',\n\t        value: function findUserLocalSeat(userid) {\n\t            var gd = this.gamedata;\n\t            for (var i = 0; i < gd.seats.length; i++) {\n\t                var seat = gd.seats[i];\n\t                if (seat && seat.user.id == userid) return this.serverSeatToLocal(i);\n\t            }\n\t            return null;\n\t        }\n\t    }, {\n\t        key: 'serverSeatToLocal',\n\t        value: function serverSeatToLocal(seat) {\n\t            if (this.mySeat == null) this.mySeat = locateMe(this.gamedata.seats);\n\t            return (this._seatNumber + seat - this.mySeat) % this._seatNumber;\n\t        }\n\t    }, {\n\t        key: 'pausemsg',\n\t        value: function pausemsg(f) {\n\t            var self = this;\n\t            window.msgloop.pause();\n\t            f(function () {\n\t                window.msgloop.resume();\n\t            });\n\t        }\n\t\n\t        // \n\t\n\t    }, {\n\t        key: 'chgVoiceBtnFunc',\n\t        value: function chgVoiceBtnFunc() {\n\t            var self = this;\n\t            window.startRecord = function () {\n\t                self.enableMicrophone();\n\t            };\n\t            window.stopRecord = function (cb) {\n\t                self.enableMicrophone(false);\n\t                if (cb) cb(null);\n\t            };\n\t        }\n\t    }, {\n\t        key: 'afterRtcConnected',\n\t        value: function afterRtcConnected(myId) {\n\t            if (this.hasQuit) return;\n\t            _socket.sendp({ c: 'table.extenddata', rtcid: myId });\n\t            var gd = this.gamedata;\n\t            gd.once('extenddatachgd', function () {\n\t                // \n\t                for (var uid in gd.extenddata) {\n\t                    if (uid == me.id) continue;\n\t                    easyrtc.call(gd.extenddata[uid], _noop, _noop, _noop);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: 'icon2Video',\n\t        value: function icon2Video(seat, isMe) {\n\t            var obj = this.getUserMediaRect(seat);\n\t            if (!obj) return null;\n\t            console.log('chg', seat, 'to video');\n\t            var v = createHTMLVideo(obj, isMe);\n\t            this._calls[seat] = v;\n\t            obj.visible = false;\n\t            return v;\n\t        }\n\t    }, {\n\t        key: 'video2Icon',\n\t        value: function video2Icon(seat) {\n\t            var obj = this.getUserMediaRect(seat);\n\t            if (!obj) return null;\n\t            console.log('chg', seat, 'back to icon', obj.url);\n\t            obj.visible = true;\n\t            if (this._calls[seat]) {\n\t                sysdiv.removeChild(this._calls[seat]);\n\t                delete this._calls[seat];\n\t            }\n\t        }\n\t        // enableMicrophone()enableMicrophone(false)\n\t\n\t    }, {\n\t        key: 'enableMicrophone',\n\t        value: function enableMicrophone(enable) {\n\t            easyrtc.enableMicrophone(enable == null ? true : enable);\n\t        }\n\t    }, {\n\t        key: 'disableMicrophone',\n\t        value: function disableMicrophone() {\n\t            easyrtc.enableMicrophone(false);\n\t        }\n\t        // \n\t\n\t    }, {\n\t        key: 'enableCamera',\n\t        value: function enableCamera(enable) {\n\t            easyrtc.enableCamera(enable == null ? true : enable);\n\t        }\n\t    }, {\n\t        key: 'disableCamera',\n\t        value: function disableCamera() {\n\t            easyrtc.enableCamera(false);\n\t        }\n\t    }], [{\n\t        key: 'create',\n\t        value: function create(opt, cb) {\n\t            assert.fail('create');\n\t        }\n\t    }]);\n\t\n\t    return RoomBase;\n\t}(ViewBase);\n\t\n\tmodule.exports = RoomBase;\n\n/***/ },\n/* 45 */\n/*!**************************************!*\\\n  !*** ./client/res/snd/bgm_lobby.ogg ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"bgm_lobby.ogg?d16721ce7e696f05b9c5d5e294daeb99\";\n\n/***/ },\n/* 46 */\n/*!****************************************!*\\\n  !*** ./client/res/Package1@atlas0.png ***!\n  \\****************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"Package1@atlas0.png?b652261de3d12ac7f3ffbb442b3fdb7b\";\n\n/***/ },\n/* 47 */\n/*!******************************************!*\\\n  !*** ./client/res/Package1@atlas0_1.png ***!\n  \\******************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"Package1@atlas0_1.png?33c905ef4ffdc65e7bc03e7f01dd179a\";\n\n/***/ },\n/* 48 */\n/*!**********************************************!*\\\n  !*** ./client/res/Package1@atlas_o5uh1a.jpg ***!\n  \\**********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"Package1@atlas_o5uh1a.jpg?0bdbb3cbff3e0aab50ed749d19ff0e66\";\n\n/***/ },\n/* 49 */\n/*!**********************************************!*\\\n  !*** ./client/res/Package1@atlas_gbj4q7.jpg ***!\n  \\**********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"Package1@atlas_gbj4q7.jpg?ac228159c1d8187c68a42ad7ac1dd8b2\";\n\n/***/ },\n/* 50 */\n/*!**********************************************!*\\\n  !*** ./client/res/Package1@atlas_gbj4q5.jpg ***!\n  \\**********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"Package1@atlas_gbj4q5.jpg?fa3c0cbc2193b33bee4e63eb8935ed91\";\n\n/***/ },\n/* 51 */\n/*!**********************************************!*\\\n  !*** ./client/res/Package1@atlas_lcqpnb.png ***!\n  \\**********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"Package1@atlas_lcqpnb.png?585521ac35347f2ba4df0af0ef04624f\";\n\n/***/ },\n/* 52 */\n/*!*********************************!*\\\n  !*** ./client/res/Package1.fui ***!\n  \\*********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"Package1.fui?49e14c04149c9cac0e8f2bd0955e2619\";\n\n/***/ },\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */,\n/* 58 */,\n/* 59 */,\n/* 60 */,\n/* 61 */,\n/* 62 */,\n/* 63 */,\n/* 64 */,\n/* 65 */,\n/* 66 */\n/*!**********************************!*\\\n  !*** ./client/res/zheng/3333.ls ***!\n  \\**********************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"3333.ls?9ade286f1e15ab785792535070ec21ab\";\n\n/***/ },\n/* 67 */\n/*!************************************!*\\\n  !*** ./client/res/fu/layaScene.lh ***!\n  \\************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"layaScene.lh?6da596c55974f7cebb68840ee7eb8934\";\n\n/***/ },\n/* 68 */,\n/* 69 */,\n/* 70 */,\n/* 71 */,\n/* 72 */,\n/* 73 */,\n/* 74 */,\n/* 75 */,\n/* 76 */,\n/* 77 */\n/*!******************************!*\\\n  !*** ./client/js/easyrtc.js ***!\n  \\******************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var require;var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_LOCAL_MODULE_1__;var require;var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_LOCAL_MODULE_0__;var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_LOCAL_MODULE_2__;'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t/* global define, module, require */\n\t/*!\n\t  Script: easyrtc_lang.js\n\t\n\t    Provides lang file.\n\t\n\t  About: License\n\t\n\t    Copyright (c) 2016, Priologic Software Inc.\n\t    All rights reserved.\n\t\n\t    Redistribution and use in source and binary forms, with or without\n\t    modification, are permitted provided that the following conditions are met:\n\t\n\t        * Redistributions of source code must retain the above copyright notice,\n\t          this list of conditions and the following disclaimer.\n\t        * Redistributions in binary form must reproduce the above copyright\n\t          notice, this list of conditions and the following disclaimer in the\n\t          documentation and/or other materials provided with the distribution.\n\t\n\t    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n\t    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n\t    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n\t    ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n\t    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n\t    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n\t    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n\t    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n\t    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n\t    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n\t    POSSIBILITY OF SUCH DAMAGE.\n\t*/\n\t(function (root, factory) {\n\t    if (true) {\n\t        //RequireJS (AMD) build system\n\t        !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_LOCAL_MODULE_0__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__));\n\t    } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) === 'object' && module.exports) {\n\t        //CommonJS build system\n\t        module.exports = factory();\n\t    } else {\n\t        root.easyrtc_lang = factory();\n\t    }\n\t})(undefined, function (undefined) {\n\t\n\t    \"use strict\";\n\t\n\t    return {\n\t        \"unableToEnterRoom\": \"Unable to enter room {0} because {1}\",\n\t        \"resolutionWarning\": \"Requested video size of {0}x{1} but got size of {2}x{3}\",\n\t        \"badUserName\": \"Illegal username {0}\",\n\t        \"localMediaError\": \"Error getting local media stream: {0}\",\n\t        \"miscSignalError\": \"Miscellaneous error from signalling server. It may be ignorable.\",\n\t        \"noServer\": \"Unable to reach the EasyRTC signalling server.\",\n\t        \"badsocket\": \"Socket.io connect event fired with bad websocket.\",\n\t        \"icf\": \"Internal communications failure\",\n\t        \"statsNotSupported\": \"call statistics not supported by this browser, try Chrome.\",\n\t        \"noWebrtcSupport\": \"Your browser doesn't appear to support WebRTC.\",\n\t        \"gumFailed\": \"Failed to get access to local media. Error code was {0}.\",\n\t        \"requireAudioOrVideo\": \"At least one of audio and video must be provided\"\n\t    };\n\t});\n\t(function (f) {\n\t    if ((false ? 'undefined' : _typeof(exports)) === \"object\" && typeof module !== \"undefined\") {\n\t        module.exports = f();\n\t    } else if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (f), __WEBPACK_LOCAL_MODULE_1__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__));\n\t    } else {\n\t        var g;if (typeof window !== \"undefined\") {\n\t            g = window;\n\t        } else if (typeof global !== \"undefined\") {\n\t            g = global;\n\t        } else if (typeof self !== \"undefined\") {\n\t            g = self;\n\t        } else {\n\t            g = this;\n\t        }g.adapter = f();\n\t    }\n\t})(function () {\n\t    var define, module, exports;return function e(t, n, r) {\n\t        function s(o, u) {\n\t            if (!n[o]) {\n\t                if (!t[o]) {\n\t                    var a = typeof require == \"function\" && require;if (!u && a) return require(o, !0);if (i) return i(o, !0);var f = new Error(\"Cannot find module '\" + o + \"'\");throw f.code = \"MODULE_NOT_FOUND\", f;\n\t                }var l = n[o] = { exports: {} };t[o][0].call(l.exports, function (e) {\n\t                    var n = t[o][1][e];return s(n ? n : e);\n\t                }, l, l.exports, e, t, n, r);\n\t            }return n[o].exports;\n\t        }var i = typeof require == \"function\" && require;for (var o = 0; o < r.length; o++) {\n\t            s(r[o]);\n\t        }return s;\n\t    }({ 1: [function (require, module, exports) {\n\t            /* eslint-env node */\n\t\n\t            // SDP helpers.\n\t            var SDPUtils = {};\n\t\n\t            // Generate an alphanumeric identifier for cname or mids.\n\t            // TODO: use UUIDs instead? https://gist.github.com/jed/982883\n\t            SDPUtils.generateIdentifier = function () {\n\t                return Math.random().toString(36).substr(2, 10);\n\t            };\n\t\n\t            // The RTCP CNAME used by all peerconnections from the same JS.\n\t            SDPUtils.localCName = SDPUtils.generateIdentifier();\n\t\n\t            // Splits SDP into lines, dealing with both CRLF and LF.\n\t            SDPUtils.splitLines = function (blob) {\n\t                return blob.trim().split('\\n').map(function (line) {\n\t                    return line.trim();\n\t                });\n\t            };\n\t            // Splits SDP into sessionpart and mediasections. Ensures CRLF.\n\t            SDPUtils.splitSections = function (blob) {\n\t                var parts = blob.split('\\nm=');\n\t                return parts.map(function (part, index) {\n\t                    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n\t                });\n\t            };\n\t\n\t            // Returns lines that start with a certain prefix.\n\t            SDPUtils.matchPrefix = function (blob, prefix) {\n\t                return SDPUtils.splitLines(blob).filter(function (line) {\n\t                    return line.indexOf(prefix) === 0;\n\t                });\n\t            };\n\t\n\t            // Parses an ICE candidate line. Sample input:\n\t            // candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n\t            // rport 55996\"\n\t            SDPUtils.parseCandidate = function (line) {\n\t                var parts;\n\t                // Parse both variants.\n\t                if (line.indexOf('a=candidate:') === 0) {\n\t                    parts = line.substring(12).split(' ');\n\t                } else {\n\t                    parts = line.substring(10).split(' ');\n\t                }\n\t\n\t                var candidate = {\n\t                    foundation: parts[0],\n\t                    component: parts[1],\n\t                    protocol: parts[2].toLowerCase(),\n\t                    priority: parseInt(parts[3], 10),\n\t                    ip: parts[4],\n\t                    port: parseInt(parts[5], 10),\n\t                    // skip parts[6] == 'typ'\n\t                    type: parts[7]\n\t                };\n\t\n\t                for (var i = 8; i < parts.length; i += 2) {\n\t                    switch (parts[i]) {\n\t                        case 'raddr':\n\t                            candidate.relatedAddress = parts[i + 1];\n\t                            break;\n\t                        case 'rport':\n\t                            candidate.relatedPort = parseInt(parts[i + 1], 10);\n\t                            break;\n\t                        case 'tcptype':\n\t                            candidate.tcpType = parts[i + 1];\n\t                            break;\n\t                        default:\n\t                            // Unknown extensions are silently ignored.\n\t                            break;\n\t                    }\n\t                }\n\t                return candidate;\n\t            };\n\t\n\t            // Translates a candidate object into SDP candidate attribute.\n\t            SDPUtils.writeCandidate = function (candidate) {\n\t                var sdp = [];\n\t                sdp.push(candidate.foundation);\n\t                sdp.push(candidate.component);\n\t                sdp.push(candidate.protocol.toUpperCase());\n\t                sdp.push(candidate.priority);\n\t                sdp.push(candidate.ip);\n\t                sdp.push(candidate.port);\n\t\n\t                var type = candidate.type;\n\t                sdp.push('typ');\n\t                sdp.push(type);\n\t                if (type !== 'host' && candidate.relatedAddress && candidate.relatedPort) {\n\t                    sdp.push('raddr');\n\t                    sdp.push(candidate.relatedAddress); // was: relAddr\n\t                    sdp.push('rport');\n\t                    sdp.push(candidate.relatedPort); // was: relPort\n\t                }\n\t                if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n\t                    sdp.push('tcptype');\n\t                    sdp.push(candidate.tcpType);\n\t                }\n\t                return 'candidate:' + sdp.join(' ');\n\t            };\n\t\n\t            // Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n\t            // a=rtpmap:111 opus/48000/2\n\t            SDPUtils.parseRtpMap = function (line) {\n\t                var parts = line.substr(9).split(' ');\n\t                var parsed = {\n\t                    payloadType: parseInt(parts.shift(), 10) // was: id\n\t                };\n\t\n\t                parts = parts[0].split('/');\n\t\n\t                parsed.name = parts[0];\n\t                parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n\t                // was: channels\n\t                parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n\t                return parsed;\n\t            };\n\t\n\t            // Generate an a=rtpmap line from RTCRtpCodecCapability or\n\t            // RTCRtpCodecParameters.\n\t            SDPUtils.writeRtpMap = function (codec) {\n\t                var pt = codec.payloadType;\n\t                if (codec.preferredPayloadType !== undefined) {\n\t                    pt = codec.preferredPayloadType;\n\t                }\n\t                return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate + (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n\t            };\n\t\n\t            // Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n\t            // a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n\t            SDPUtils.parseExtmap = function (line) {\n\t                var parts = line.substr(9).split(' ');\n\t                return {\n\t                    id: parseInt(parts[0], 10),\n\t                    uri: parts[1]\n\t                };\n\t            };\n\t\n\t            // Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n\t            // RTCRtpHeaderExtension.\n\t            SDPUtils.writeExtmap = function (headerExtension) {\n\t                return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) + ' ' + headerExtension.uri + '\\r\\n';\n\t            };\n\t\n\t            // Parses an ftmp line, returns dictionary. Sample input:\n\t            // a=fmtp:96 vbr=on;cng=on\n\t            // Also deals with vbr=on; cng=on\n\t            SDPUtils.parseFmtp = function (line) {\n\t                var parsed = {};\n\t                var kv;\n\t                var parts = line.substr(line.indexOf(' ') + 1).split(';');\n\t                for (var j = 0; j < parts.length; j++) {\n\t                    kv = parts[j].trim().split('=');\n\t                    parsed[kv[0].trim()] = kv[1];\n\t                }\n\t                return parsed;\n\t            };\n\t\n\t            // Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\n\t            SDPUtils.writeFmtp = function (codec) {\n\t                var line = '';\n\t                var pt = codec.payloadType;\n\t                if (codec.preferredPayloadType !== undefined) {\n\t                    pt = codec.preferredPayloadType;\n\t                }\n\t                if (codec.parameters && Object.keys(codec.parameters).length) {\n\t                    var params = [];\n\t                    Object.keys(codec.parameters).forEach(function (param) {\n\t                        params.push(param + '=' + codec.parameters[param]);\n\t                    });\n\t                    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n\t                }\n\t                return line;\n\t            };\n\t\n\t            // Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n\t            // a=rtcp-fb:98 nack rpsi\n\t            SDPUtils.parseRtcpFb = function (line) {\n\t                var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n\t                return {\n\t                    type: parts.shift(),\n\t                    parameter: parts.join(' ')\n\t                };\n\t            };\n\t            // Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\n\t            SDPUtils.writeRtcpFb = function (codec) {\n\t                var lines = '';\n\t                var pt = codec.payloadType;\n\t                if (codec.preferredPayloadType !== undefined) {\n\t                    pt = codec.preferredPayloadType;\n\t                }\n\t                if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n\t                    // FIXME: special handling for trr-int?\n\t                    codec.rtcpFeedback.forEach(function (fb) {\n\t                        lines += 'a=rtcp-fb:' + pt + ' ' + fb.type + (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') + '\\r\\n';\n\t                    });\n\t                }\n\t                return lines;\n\t            };\n\t\n\t            // Parses an RFC 5576 ssrc media attribute. Sample input:\n\t            // a=ssrc:3735928559 cname:something\n\t            SDPUtils.parseSsrcMedia = function (line) {\n\t                var sp = line.indexOf(' ');\n\t                var parts = {\n\t                    ssrc: parseInt(line.substr(7, sp - 7), 10)\n\t                };\n\t                var colon = line.indexOf(':', sp);\n\t                if (colon > -1) {\n\t                    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n\t                    parts.value = line.substr(colon + 1);\n\t                } else {\n\t                    parts.attribute = line.substr(sp + 1);\n\t                }\n\t                return parts;\n\t            };\n\t\n\t            // Extracts DTLS parameters from SDP media section or sessionpart.\n\t            // FIXME: for consistency with other functions this should only\n\t            //   get the fingerprint line as input. See also getIceParameters.\n\t            SDPUtils.getDtlsParameters = function (mediaSection, sessionpart) {\n\t                var lines = SDPUtils.splitLines(mediaSection);\n\t                // Search in session part, too.\n\t                lines = lines.concat(SDPUtils.splitLines(sessionpart));\n\t                var fpLine = lines.filter(function (line) {\n\t                    return line.indexOf('a=fingerprint:') === 0;\n\t                })[0].substr(14);\n\t                // Note: a=setup line is ignored since we use the 'auto' role.\n\t                var dtlsParameters = {\n\t                    role: 'auto',\n\t                    fingerprints: [{\n\t                        algorithm: fpLine.split(' ')[0],\n\t                        value: fpLine.split(' ')[1]\n\t                    }]\n\t                };\n\t                return dtlsParameters;\n\t            };\n\t\n\t            // Serializes DTLS parameters to SDP.\n\t            SDPUtils.writeDtlsParameters = function (params, setupType) {\n\t                var sdp = 'a=setup:' + setupType + '\\r\\n';\n\t                params.fingerprints.forEach(function (fp) {\n\t                    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n\t                });\n\t                return sdp;\n\t            };\n\t            // Parses ICE information from SDP media section or sessionpart.\n\t            // FIXME: for consistency with other functions this should only\n\t            //   get the ice-ufrag and ice-pwd lines as input.\n\t            SDPUtils.getIceParameters = function (mediaSection, sessionpart) {\n\t                var lines = SDPUtils.splitLines(mediaSection);\n\t                // Search in session part, too.\n\t                lines = lines.concat(SDPUtils.splitLines(sessionpart));\n\t                var iceParameters = {\n\t                    usernameFragment: lines.filter(function (line) {\n\t                        return line.indexOf('a=ice-ufrag:') === 0;\n\t                    })[0].substr(12),\n\t                    password: lines.filter(function (line) {\n\t                        return line.indexOf('a=ice-pwd:') === 0;\n\t                    })[0].substr(10)\n\t                };\n\t                return iceParameters;\n\t            };\n\t\n\t            // Serializes ICE parameters to SDP.\n\t            SDPUtils.writeIceParameters = function (params) {\n\t                return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' + 'a=ice-pwd:' + params.password + '\\r\\n';\n\t            };\n\t\n\t            // Parses the SDP media section and returns RTCRtpParameters.\n\t            SDPUtils.parseRtpParameters = function (mediaSection) {\n\t                var description = {\n\t                    codecs: [],\n\t                    headerExtensions: [],\n\t                    fecMechanisms: [],\n\t                    rtcp: []\n\t                };\n\t                var lines = SDPUtils.splitLines(mediaSection);\n\t                var mline = lines[0].split(' ');\n\t                for (var i = 3; i < mline.length; i++) {\n\t                    // find all codecs from mline[3..]\n\t                    var pt = mline[i];\n\t                    var rtpmapline = SDPUtils.matchPrefix(mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n\t                    if (rtpmapline) {\n\t                        var codec = SDPUtils.parseRtpMap(rtpmapline);\n\t                        var fmtps = SDPUtils.matchPrefix(mediaSection, 'a=fmtp:' + pt + ' ');\n\t                        // Only the first a=fmtp:<pt> is considered.\n\t                        codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n\t                        codec.rtcpFeedback = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-fb:' + pt + ' ').map(SDPUtils.parseRtcpFb);\n\t                        description.codecs.push(codec);\n\t                        // parse FEC mechanisms from rtpmap lines.\n\t                        switch (codec.name.toUpperCase()) {\n\t                            case 'RED':\n\t                            case 'ULPFEC':\n\t                                description.fecMechanisms.push(codec.name.toUpperCase());\n\t                                break;\n\t                            default:\n\t                                // only RED and ULPFEC are recognized as FEC mechanisms.\n\t                                break;\n\t                        }\n\t                    }\n\t                }\n\t                SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function (line) {\n\t                    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n\t                });\n\t                // FIXME: parse rtcp.\n\t                return description;\n\t            };\n\t\n\t            // Generates parts of the SDP media section describing the capabilities /\n\t            // parameters.\n\t            SDPUtils.writeRtpDescription = function (kind, caps) {\n\t                var sdp = '';\n\t\n\t                // Build the mline.\n\t                sdp += 'm=' + kind + ' ';\n\t                sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n\t                sdp += ' UDP/TLS/RTP/SAVPF ';\n\t                sdp += caps.codecs.map(function (codec) {\n\t                    if (codec.preferredPayloadType !== undefined) {\n\t                        return codec.preferredPayloadType;\n\t                    }\n\t                    return codec.payloadType;\n\t                }).join(' ') + '\\r\\n';\n\t\n\t                sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n\t                sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\t\n\t                // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n\t                caps.codecs.forEach(function (codec) {\n\t                    sdp += SDPUtils.writeRtpMap(codec);\n\t                    sdp += SDPUtils.writeFmtp(codec);\n\t                    sdp += SDPUtils.writeRtcpFb(codec);\n\t                });\n\t                // FIXME: add headerExtensions, fecMechanism and rtcp.\n\t                sdp += 'a=rtcp-mux\\r\\n';\n\t                return sdp;\n\t            };\n\t\n\t            // Parses the SDP media section and returns an array of\n\t            // RTCRtpEncodingParameters.\n\t            SDPUtils.parseRtpEncodingParameters = function (mediaSection) {\n\t                var encodingParameters = [];\n\t                var description = SDPUtils.parseRtpParameters(mediaSection);\n\t                var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n\t                var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\t\n\t                // filter a=ssrc:... cname:, ignore PlanB-msid\n\t                var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n\t                    return SDPUtils.parseSsrcMedia(line);\n\t                }).filter(function (parts) {\n\t                    return parts.attribute === 'cname';\n\t                });\n\t                var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n\t                var secondarySsrc;\n\t\n\t                var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID').map(function (line) {\n\t                    var parts = line.split(' ');\n\t                    parts.shift();\n\t                    return parts.map(function (part) {\n\t                        return parseInt(part, 10);\n\t                    });\n\t                });\n\t                if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n\t                    secondarySsrc = flows[0][1];\n\t                }\n\t\n\t                description.codecs.forEach(function (codec) {\n\t                    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n\t                        var encParam = {\n\t                            ssrc: primarySsrc,\n\t                            codecPayloadType: parseInt(codec.parameters.apt, 10),\n\t                            rtx: {\n\t                                payloadType: codec.payloadType,\n\t                                ssrc: secondarySsrc\n\t                            }\n\t                        };\n\t                        encodingParameters.push(encParam);\n\t                        if (hasRed) {\n\t                            encParam = JSON.parse(JSON.stringify(encParam));\n\t                            encParam.fec = {\n\t                                ssrc: secondarySsrc,\n\t                                mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n\t                            };\n\t                            encodingParameters.push(encParam);\n\t                        }\n\t                    }\n\t                });\n\t                if (encodingParameters.length === 0 && primarySsrc) {\n\t                    encodingParameters.push({\n\t                        ssrc: primarySsrc\n\t                    });\n\t                }\n\t\n\t                // we support both b=AS and b=TIAS but interpret AS as TIAS.\n\t                var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n\t                if (bandwidth.length) {\n\t                    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n\t                        bandwidth = parseInt(bandwidth[0].substr(7), 10);\n\t                    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n\t                        bandwidth = parseInt(bandwidth[0].substr(5), 10);\n\t                    }\n\t                    encodingParameters.forEach(function (params) {\n\t                        params.maxBitrate = bandwidth;\n\t                    });\n\t                }\n\t                return encodingParameters;\n\t            };\n\t\n\t            SDPUtils.writeSessionBoilerplate = function () {\n\t                // FIXME: sess-id should be an NTP timestamp.\n\t                return 'v=0\\r\\n' + 'o=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\\r\\n' + 's=-\\r\\n' + 't=0 0\\r\\n';\n\t            };\n\t\n\t            SDPUtils.writeMediaSection = function (transceiver, caps, type, stream) {\n\t                var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\t\n\t                // Map ICE parameters (ufrag, pwd) to SDP.\n\t                sdp += SDPUtils.writeIceParameters(transceiver.iceGatherer.getLocalParameters());\n\t\n\t                // Map DTLS parameters to SDP.\n\t                sdp += SDPUtils.writeDtlsParameters(transceiver.dtlsTransport.getLocalParameters(), type === 'offer' ? 'actpass' : 'active');\n\t\n\t                sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\t\n\t                if (transceiver.rtpSender && transceiver.rtpReceiver) {\n\t                    sdp += 'a=sendrecv\\r\\n';\n\t                } else if (transceiver.rtpSender) {\n\t                    sdp += 'a=sendonly\\r\\n';\n\t                } else if (transceiver.rtpReceiver) {\n\t                    sdp += 'a=recvonly\\r\\n';\n\t                } else {\n\t                    sdp += 'a=inactive\\r\\n';\n\t                }\n\t\n\t                // FIXME: for RTX there might be multiple SSRCs. Not implemented in Edge yet.\n\t                if (transceiver.rtpSender) {\n\t                    var msid = 'msid:' + stream.id + ' ' + transceiver.rtpSender.track.id + '\\r\\n';\n\t                    sdp += 'a=' + msid;\n\t                    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc + ' ' + msid;\n\t                }\n\t                // FIXME: this should be written by writeRtpDescription.\n\t                sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc + ' cname:' + SDPUtils.localCName + '\\r\\n';\n\t                return sdp;\n\t            };\n\t\n\t            // Gets the direction from the mediaSection or the sessionpart.\n\t            SDPUtils.getDirection = function (mediaSection, sessionpart) {\n\t                // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n\t                var lines = SDPUtils.splitLines(mediaSection);\n\t                for (var i = 0; i < lines.length; i++) {\n\t                    switch (lines[i]) {\n\t                        case 'a=sendrecv':\n\t                        case 'a=sendonly':\n\t                        case 'a=recvonly':\n\t                        case 'a=inactive':\n\t                            return lines[i].substr(2);\n\t                        default:\n\t                        // FIXME: What should happen here?\n\t                    }\n\t                }\n\t                if (sessionpart) {\n\t                    return SDPUtils.getDirection(sessionpart);\n\t                }\n\t                return 'sendrecv';\n\t            };\n\t\n\t            // Expose public methods.\n\t            module.exports = SDPUtils;\n\t        }, {}], 2: [function (require, module, exports) {\n\t            /*\n\t             *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n\t             *\n\t             *  Use of this source code is governed by a BSD-style license\n\t             *  that can be found in the LICENSE file in the root of the source\n\t             *  tree.\n\t             */\n\t            /* eslint-env node */\n\t\n\t            // Shimming starts here.\n\t            (function () {\n\t                // Utils.\n\t                var logging = require('./utils').log;\n\t                var browserDetails = require('./utils').browserDetails;\n\t                // Export to the adapter global object visible in the browser.\n\t                module.exports.browserDetails = browserDetails;\n\t                module.exports.extractVersion = require('./utils').extractVersion;\n\t                module.exports.disableLog = require('./utils').disableLog;\n\t\n\t                // Uncomment the line below if you want logging to occur, including logging\n\t                // for the switch statement below. Can also be turned on in the browser via\n\t                // adapter.disableLog(false), but then logging from the switch statement below\n\t                // will not appear.\n\t                // require('./utils').disableLog(false);\n\t\n\t                // Browser shims.\n\t                var chromeShim = require('./chrome/chrome_shim') || null;\n\t                var edgeShim = require('./edge/edge_shim') || null;\n\t                var firefoxShim = require('./firefox/firefox_shim') || null;\n\t                var safariShim = require('./safari/safari_shim') || null;\n\t\n\t                // Shim browser if found.\n\t                switch (browserDetails.browser) {\n\t                    case 'opera': // fallthrough as it uses chrome shims\n\t                    case 'chrome':\n\t                        if (!chromeShim || !chromeShim.shimPeerConnection) {\n\t                            logging('Chrome shim is not included in this adapter release.');\n\t                            return;\n\t                        }\n\t                        logging('adapter.js shimming chrome.');\n\t                        // Export to the adapter global object visible in the browser.\n\t                        module.exports.browserShim = chromeShim;\n\t\n\t                        chromeShim.shimGetUserMedia();\n\t                        chromeShim.shimMediaStream();\n\t                        chromeShim.shimSourceObject();\n\t                        chromeShim.shimPeerConnection();\n\t                        chromeShim.shimOnTrack();\n\t                        break;\n\t                    case 'firefox':\n\t                        if (!firefoxShim || !firefoxShim.shimPeerConnection) {\n\t                            logging('Firefox shim is not included in this adapter release.');\n\t                            return;\n\t                        }\n\t                        logging('adapter.js shimming firefox.');\n\t                        // Export to the adapter global object visible in the browser.\n\t                        module.exports.browserShim = firefoxShim;\n\t\n\t                        firefoxShim.shimGetUserMedia();\n\t                        firefoxShim.shimSourceObject();\n\t                        firefoxShim.shimPeerConnection();\n\t                        firefoxShim.shimOnTrack();\n\t                        break;\n\t                    case 'edge':\n\t                        if (!edgeShim || !edgeShim.shimPeerConnection) {\n\t                            logging('MS edge shim is not included in this adapter release.');\n\t                            return;\n\t                        }\n\t                        logging('adapter.js shimming edge.');\n\t                        // Export to the adapter global object visible in the browser.\n\t                        module.exports.browserShim = edgeShim;\n\t\n\t                        edgeShim.shimGetUserMedia();\n\t                        edgeShim.shimPeerConnection();\n\t                        break;\n\t                    case 'safari':\n\t                        if (!safariShim) {\n\t                            logging('Safari shim is not included in this adapter release.');\n\t                            return;\n\t                        }\n\t                        logging('adapter.js shimming safari.');\n\t                        // Export to the adapter global object visible in the browser.\n\t                        module.exports.browserShim = safariShim;\n\t\n\t                        safariShim.shimGetUserMedia();\n\t                        break;\n\t                    default:\n\t                        logging('Unsupported browser!');\n\t                }\n\t            })();\n\t        }, { \"./chrome/chrome_shim\": 3, \"./edge/edge_shim\": 5, \"./firefox/firefox_shim\": 7, \"./safari/safari_shim\": 9, \"./utils\": 10 }], 3: [function (require, module, exports) {\n\t\n\t            /*\n\t             *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n\t             *\n\t             *  Use of this source code is governed by a BSD-style license\n\t             *  that can be found in the LICENSE file in the root of the source\n\t             *  tree.\n\t             */\n\t            /* eslint-env node */\n\t\n\t            var logging = require('../utils.js').log;\n\t            var browserDetails = require('../utils.js').browserDetails;\n\t\n\t            var chromeShim = {\n\t                shimMediaStream: function shimMediaStream() {\n\t                    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n\t                },\n\t\n\t                shimOnTrack: function shimOnTrack() {\n\t                    if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && !('ontrack' in window.RTCPeerConnection.prototype)) {\n\t                        Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n\t                            get: function get() {\n\t                                return this._ontrack;\n\t                            },\n\t                            set: function set(f) {\n\t                                var self = this;\n\t                                if (this._ontrack) {\n\t                                    this.removeEventListener('track', this._ontrack);\n\t                                    this.removeEventListener('addstream', this._ontrackpoly);\n\t                                }\n\t                                this.addEventListener('track', this._ontrack = f);\n\t                                this.addEventListener('addstream', this._ontrackpoly = function (e) {\n\t                                    // onaddstream does not fire when a track is added to an existing\n\t                                    // stream. But stream.onaddtrack is implemented so we use that.\n\t                                    e.stream.addEventListener('addtrack', function (te) {\n\t                                        var event = new Event('track');\n\t                                        event.track = te.track;\n\t                                        event.receiver = { track: te.track };\n\t                                        event.streams = [e.stream];\n\t                                        self.dispatchEvent(event);\n\t                                    });\n\t                                    e.stream.getTracks().forEach(function (track) {\n\t                                        var event = new Event('track');\n\t                                        event.track = track;\n\t                                        event.receiver = { track: track };\n\t                                        event.streams = [e.stream];\n\t                                        this.dispatchEvent(event);\n\t                                    }.bind(this));\n\t                                }.bind(this));\n\t                            }\n\t                        });\n\t                    }\n\t                },\n\t\n\t                shimSourceObject: function shimSourceObject() {\n\t                    if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object') {\n\t                        if (window.HTMLMediaElement && !('srcObject' in window.HTMLMediaElement.prototype)) {\n\t                            // Shim the srcObject property, once, when HTMLMediaElement is found.\n\t                            Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n\t                                get: function get() {\n\t                                    return this._srcObject;\n\t                                },\n\t                                set: function set(stream) {\n\t                                    var self = this;\n\t                                    // Use _srcObject as a private property for this shim\n\t                                    this._srcObject = stream;\n\t                                    if (this.src) {\n\t                                        URL.revokeObjectURL(this.src);\n\t                                    }\n\t\n\t                                    if (!stream) {\n\t                                        this.src = '';\n\t                                        return;\n\t                                    }\n\t                                    this.src = URL.createObjectURL(stream);\n\t                                    // We need to recreate the blob url when a track is added or\n\t                                    // removed. Doing it manually since we want to avoid a recursion.\n\t                                    stream.addEventListener('addtrack', function () {\n\t                                        if (self.src) {\n\t                                            URL.revokeObjectURL(self.src);\n\t                                        }\n\t                                        self.src = URL.createObjectURL(stream);\n\t                                    });\n\t                                    stream.addEventListener('removetrack', function () {\n\t                                        if (self.src) {\n\t                                            URL.revokeObjectURL(self.src);\n\t                                        }\n\t                                        self.src = URL.createObjectURL(stream);\n\t                                    });\n\t                                }\n\t                            });\n\t                        }\n\t                    }\n\t                },\n\t\n\t                shimPeerConnection: function shimPeerConnection() {\n\t                    // The RTCPeerConnection object.\n\t                    window.RTCPeerConnection = function (pcConfig, pcConstraints) {\n\t                        // Translate iceTransportPolicy to iceTransports,\n\t                        // see https://code.google.com/p/webrtc/issues/detail?id=4869\n\t                        logging('PeerConnection');\n\t                        if (pcConfig && pcConfig.iceTransportPolicy) {\n\t                            pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n\t                        }\n\t\n\t                        var pc = new webkitRTCPeerConnection(pcConfig, pcConstraints);\n\t                        var origGetStats = pc.getStats.bind(pc);\n\t                        pc.getStats = function (selector, successCallback, errorCallback) {\n\t                            var self = this;\n\t                            var args = arguments;\n\t\n\t                            // If selector is a function then we are in the old style stats so just\n\t                            // pass back the original getStats format to avoid breaking old users.\n\t                            if (arguments.length > 0 && typeof selector === 'function') {\n\t                                return origGetStats(selector, successCallback);\n\t                            }\n\t\n\t                            var fixChromeStats_ = function fixChromeStats_(response) {\n\t                                var standardReport = {};\n\t                                var reports = response.result();\n\t                                reports.forEach(function (report) {\n\t                                    var standardStats = {\n\t                                        id: report.id,\n\t                                        timestamp: report.timestamp,\n\t                                        type: report.type\n\t                                    };\n\t                                    report.names().forEach(function (name) {\n\t                                        standardStats[name] = report.stat(name);\n\t                                    });\n\t                                    standardReport[standardStats.id] = standardStats;\n\t                                });\n\t\n\t                                return standardReport;\n\t                            };\n\t\n\t                            // shim getStats with maplike support\n\t                            var makeMapStats = function makeMapStats(stats, legacyStats) {\n\t                                var map = new Map(Object.keys(stats).map(function (key) {\n\t                                    return [key, stats[key]];\n\t                                }));\n\t                                legacyStats = legacyStats || stats;\n\t                                Object.keys(legacyStats).forEach(function (key) {\n\t                                    map[key] = legacyStats[key];\n\t                                });\n\t                                return map;\n\t                            };\n\t\n\t                            if (arguments.length >= 2) {\n\t                                var successCallbackWrapper_ = function successCallbackWrapper_(response) {\n\t                                    args[1](makeMapStats(fixChromeStats_(response)));\n\t                                };\n\t\n\t                                return origGetStats.apply(this, [successCallbackWrapper_, arguments[0]]);\n\t                            }\n\t\n\t                            // promise-support\n\t                            return new Promise(function (resolve, reject) {\n\t                                if (args.length === 1 && (typeof selector === 'undefined' ? 'undefined' : _typeof(selector)) === 'object') {\n\t                                    origGetStats.apply(self, [function (response) {\n\t                                        resolve(makeMapStats(fixChromeStats_(response)));\n\t                                    }, reject]);\n\t                                } else {\n\t                                    // Preserve legacy chrome stats only on legacy access of stats obj\n\t                                    origGetStats.apply(self, [function (response) {\n\t                                        resolve(makeMapStats(fixChromeStats_(response), response.result()));\n\t                                    }, reject]);\n\t                                }\n\t                            }).then(successCallback, errorCallback);\n\t                        };\n\t\n\t                        return pc;\n\t                    };\n\t                    window.RTCPeerConnection.prototype = webkitRTCPeerConnection.prototype;\n\t\n\t                    // wrap static methods. Currently just generateCertificate.\n\t                    if (webkitRTCPeerConnection.generateCertificate) {\n\t                        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n\t                            get: function get() {\n\t                                return webkitRTCPeerConnection.generateCertificate;\n\t                            }\n\t                        });\n\t                    }\n\t\n\t                    ['createOffer', 'createAnswer'].forEach(function (method) {\n\t                        var nativeMethod = webkitRTCPeerConnection.prototype[method];\n\t                        webkitRTCPeerConnection.prototype[method] = function () {\n\t                            var self = this;\n\t                            if (arguments.length < 1 || arguments.length === 1 && _typeof(arguments[0]) === 'object') {\n\t                                var opts = arguments.length === 1 ? arguments[0] : undefined;\n\t                                return new Promise(function (resolve, reject) {\n\t                                    nativeMethod.apply(self, [resolve, reject, opts]);\n\t                                });\n\t                            }\n\t                            return nativeMethod.apply(this, arguments);\n\t                        };\n\t                    });\n\t\n\t                    // add promise support -- natively available in Chrome 51\n\t                    if (browserDetails.version < 51) {\n\t                        ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function (method) {\n\t                            var nativeMethod = webkitRTCPeerConnection.prototype[method];\n\t                            webkitRTCPeerConnection.prototype[method] = function () {\n\t                                var args = arguments;\n\t                                var self = this;\n\t                                var promise = new Promise(function (resolve, reject) {\n\t                                    nativeMethod.apply(self, [args[0], resolve, reject]);\n\t                                });\n\t                                if (args.length < 2) {\n\t                                    return promise;\n\t                                }\n\t                                return promise.then(function () {\n\t                                    args[1].apply(null, []);\n\t                                }, function (err) {\n\t                                    if (args.length >= 3) {\n\t                                        args[2].apply(null, [err]);\n\t                                    }\n\t                                });\n\t                            };\n\t                        });\n\t                    }\n\t\n\t                    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n\t                    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function (method) {\n\t                        var nativeMethod = webkitRTCPeerConnection.prototype[method];\n\t                        webkitRTCPeerConnection.prototype[method] = function () {\n\t                            arguments[0] = new (method === 'addIceCandidate' ? RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n\t                            return nativeMethod.apply(this, arguments);\n\t                        };\n\t                    });\n\t\n\t                    // support for addIceCandidate(null or undefined)\n\t                    var nativeAddIceCandidate = RTCPeerConnection.prototype.addIceCandidate;\n\t                    RTCPeerConnection.prototype.addIceCandidate = function () {\n\t                        if (!arguments[0]) {\n\t                            if (arguments[1]) {\n\t                                arguments[1].apply(null);\n\t                            }\n\t                            return Promise.resolve();\n\t                        }\n\t                        return nativeAddIceCandidate.apply(this, arguments);\n\t                    };\n\t                }\n\t            };\n\t\n\t            // Expose public methods.\n\t            module.exports = {\n\t                shimMediaStream: chromeShim.shimMediaStream,\n\t                shimOnTrack: chromeShim.shimOnTrack,\n\t                shimSourceObject: chromeShim.shimSourceObject,\n\t                shimPeerConnection: chromeShim.shimPeerConnection,\n\t                shimGetUserMedia: require('./getusermedia')\n\t            };\n\t        }, { \"../utils.js\": 10, \"./getusermedia\": 4 }], 4: [function (require, module, exports) {\n\t            /*\n\t             *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n\t             *\n\t             *  Use of this source code is governed by a BSD-style license\n\t             *  that can be found in the LICENSE file in the root of the source\n\t             *  tree.\n\t             */\n\t            /* eslint-env node */\n\t\n\t            var logging = require('../utils.js').log;\n\t\n\t            // Expose public methods.\n\t            module.exports = function () {\n\t                var constraintsToChrome_ = function constraintsToChrome_(c) {\n\t                    if ((typeof c === 'undefined' ? 'undefined' : _typeof(c)) !== 'object' || c.mandatory || c.optional) {\n\t                        return c;\n\t                    }\n\t                    var cc = {};\n\t                    Object.keys(c).forEach(function (key) {\n\t                        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n\t                            return;\n\t                        }\n\t                        var r = _typeof(c[key]) === 'object' ? c[key] : { ideal: c[key] };\n\t                        if (r.exact !== undefined && typeof r.exact === 'number') {\n\t                            r.min = r.max = r.exact;\n\t                        }\n\t                        var oldname_ = function oldname_(prefix, name) {\n\t                            if (prefix) {\n\t                                return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n\t                            }\n\t                            return name === 'deviceId' ? 'sourceId' : name;\n\t                        };\n\t                        if (r.ideal !== undefined) {\n\t                            cc.optional = cc.optional || [];\n\t                            var oc = {};\n\t                            if (typeof r.ideal === 'number') {\n\t                                oc[oldname_('min', key)] = r.ideal;\n\t                                cc.optional.push(oc);\n\t                                oc = {};\n\t                                oc[oldname_('max', key)] = r.ideal;\n\t                                cc.optional.push(oc);\n\t                            } else {\n\t                                oc[oldname_('', key)] = r.ideal;\n\t                                cc.optional.push(oc);\n\t                            }\n\t                        }\n\t                        if (r.exact !== undefined && typeof r.exact !== 'number') {\n\t                            cc.mandatory = cc.mandatory || {};\n\t                            cc.mandatory[oldname_('', key)] = r.exact;\n\t                        } else {\n\t                            ['min', 'max'].forEach(function (mix) {\n\t                                if (r[mix] !== undefined) {\n\t                                    cc.mandatory = cc.mandatory || {};\n\t                                    cc.mandatory[oldname_(mix, key)] = r[mix];\n\t                                }\n\t                            });\n\t                        }\n\t                    });\n\t                    if (c.advanced) {\n\t                        cc.optional = (cc.optional || []).concat(c.advanced);\n\t                    }\n\t                    return cc;\n\t                };\n\t\n\t                var shimConstraints_ = function shimConstraints_(constraints, func) {\n\t                    constraints = JSON.parse(JSON.stringify(constraints));\n\t                    if (constraints && constraints.audio) {\n\t                        constraints.audio = constraintsToChrome_(constraints.audio);\n\t                    }\n\t                    if (constraints && _typeof(constraints.video) === 'object') {\n\t                        // Shim facingMode for mobile, where it defaults to \"user\".\n\t                        var face = constraints.video.facingMode;\n\t                        face = face && ((typeof face === 'undefined' ? 'undefined' : _typeof(face)) === 'object' ? face : { ideal: face });\n\t\n\t                        if (face && (face.exact === 'user' || face.exact === 'environment' || face.ideal === 'user' || face.ideal === 'environment') && !(navigator.mediaDevices.getSupportedConstraints && navigator.mediaDevices.getSupportedConstraints().facingMode)) {\n\t                            delete constraints.video.facingMode;\n\t                            if (face.exact === 'environment' || face.ideal === 'environment') {\n\t                                // Look for \"back\" in label, or use last cam (typically back cam).\n\t                                return navigator.mediaDevices.enumerateDevices().then(function (devices) {\n\t                                    devices = devices.filter(function (d) {\n\t                                        return d.kind === 'videoinput';\n\t                                    });\n\t                                    var back = devices.find(function (d) {\n\t                                        return d.label.toLowerCase().indexOf('back') !== -1;\n\t                                    }) || devices.length && devices[devices.length - 1];\n\t                                    if (back) {\n\t                                        constraints.video.deviceId = face.exact ? { exact: back.deviceId } : { ideal: back.deviceId };\n\t                                    }\n\t                                    constraints.video = constraintsToChrome_(constraints.video);\n\t                                    logging('chrome: ' + JSON.stringify(constraints));\n\t                                    return func(constraints);\n\t                                });\n\t                            }\n\t                        }\n\t                        constraints.video = constraintsToChrome_(constraints.video);\n\t                    }\n\t                    logging('chrome: ' + JSON.stringify(constraints));\n\t                    return func(constraints);\n\t                };\n\t\n\t                var shimError_ = function shimError_(e) {\n\t                    return {\n\t                        name: {\n\t                            PermissionDeniedError: 'NotAllowedError',\n\t                            ConstraintNotSatisfiedError: 'OverconstrainedError'\n\t                        }[e.name] || e.name,\n\t                        message: e.message,\n\t                        constraint: e.constraintName,\n\t                        toString: function toString() {\n\t                            return this.name + (this.message && ': ') + this.message;\n\t                        }\n\t                    };\n\t                };\n\t\n\t                var getUserMedia_ = function getUserMedia_(constraints, onSuccess, onError) {\n\t                    shimConstraints_(constraints, function (c) {\n\t                        navigator.webkitGetUserMedia(c, onSuccess, function (e) {\n\t                            onError(shimError_(e));\n\t                        });\n\t                    });\n\t                };\n\t\n\t                navigator.getUserMedia = getUserMedia_;\n\t\n\t                // Returns the result of getUserMedia as a Promise.\n\t                var getUserMediaPromise_ = function getUserMediaPromise_(constraints) {\n\t                    return new Promise(function (resolve, reject) {\n\t                        navigator.getUserMedia(constraints, resolve, reject);\n\t                    });\n\t                };\n\t\n\t                if (!navigator.mediaDevices) {\n\t                    navigator.mediaDevices = {\n\t                        getUserMedia: getUserMediaPromise_,\n\t                        enumerateDevices: function enumerateDevices() {\n\t                            return new Promise(function (resolve) {\n\t                                var kinds = { audio: 'audioinput', video: 'videoinput' };\n\t                                return MediaStreamTrack.getSources(function (devices) {\n\t                                    resolve(devices.map(function (device) {\n\t                                        return { label: device.label,\n\t                                            kind: kinds[device.kind],\n\t                                            deviceId: device.id,\n\t                                            groupId: '' };\n\t                                    }));\n\t                                });\n\t                            });\n\t                        }\n\t                    };\n\t                }\n\t\n\t                // A shim for getUserMedia method on the mediaDevices object.\n\t                // TODO(KaptenJansson) remove once implemented in Chrome stable.\n\t                if (!navigator.mediaDevices.getUserMedia) {\n\t                    navigator.mediaDevices.getUserMedia = function (constraints) {\n\t                        return getUserMediaPromise_(constraints);\n\t                    };\n\t                } else {\n\t                    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n\t                    // function which returns a Promise, it does not accept spec-style\n\t                    // constraints.\n\t                    var origGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n\t                    navigator.mediaDevices.getUserMedia = function (cs) {\n\t                        return shimConstraints_(cs, function (c) {\n\t                            return origGetUserMedia(c).then(function (stream) {\n\t                                if (c.audio && !stream.getAudioTracks().length || c.video && !stream.getVideoTracks().length) {\n\t                                    stream.getTracks().forEach(function (track) {\n\t                                        track.stop();\n\t                                    });\n\t                                    throw new DOMException('', 'NotFoundError');\n\t                                }\n\t                                return stream;\n\t                            }, function (e) {\n\t                                return Promise.reject(shimError_(e));\n\t                            });\n\t                        });\n\t                    };\n\t                }\n\t\n\t                // Dummy devicechange event methods.\n\t                // TODO(KaptenJansson) remove once implemented in Chrome stable.\n\t                if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n\t                    navigator.mediaDevices.addEventListener = function () {\n\t                        logging('Dummy mediaDevices.addEventListener called.');\n\t                    };\n\t                }\n\t                if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n\t                    navigator.mediaDevices.removeEventListener = function () {\n\t                        logging('Dummy mediaDevices.removeEventListener called.');\n\t                    };\n\t                }\n\t            };\n\t        }, { \"../utils.js\": 10 }], 5: [function (require, module, exports) {\n\t            /*\n\t             *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n\t             *\n\t             *  Use of this source code is governed by a BSD-style license\n\t             *  that can be found in the LICENSE file in the root of the source\n\t             *  tree.\n\t             */\n\t            /* eslint-env node */\n\t\n\t            var SDPUtils = require('sdp');\n\t            var browserDetails = require('../utils').browserDetails;\n\t\n\t            var edgeShim = {\n\t                shimPeerConnection: function shimPeerConnection() {\n\t                    if (window.RTCIceGatherer) {\n\t                        // ORTC defines an RTCIceCandidate object but no constructor.\n\t                        // Not implemented in Edge.\n\t                        if (!window.RTCIceCandidate) {\n\t                            window.RTCIceCandidate = function (args) {\n\t                                return args;\n\t                            };\n\t                        }\n\t                        // ORTC does not have a session description object but\n\t                        // other browsers (i.e. Chrome) that will support both PC and ORTC\n\t                        // in the future might have this defined already.\n\t                        if (!window.RTCSessionDescription) {\n\t                            window.RTCSessionDescription = function (args) {\n\t                                return args;\n\t                            };\n\t                        }\n\t                        // this adds an additional event listener to MediaStrackTrack that signals\n\t                        // when a tracks enabled property was changed.\n\t                        var origMSTEnabled = Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype, 'enabled');\n\t                        Object.defineProperty(MediaStreamTrack.prototype, 'enabled', {\n\t                            set: function set(value) {\n\t                                origMSTEnabled.set.call(this, value);\n\t                                var ev = new Event('enabled');\n\t                                ev.enabled = value;\n\t                                this.dispatchEvent(ev);\n\t                            }\n\t                        });\n\t                    }\n\t\n\t                    window.RTCPeerConnection = function (config) {\n\t                        var self = this;\n\t\n\t                        var _eventTarget = document.createDocumentFragment();\n\t                        ['addEventListener', 'removeEventListener', 'dispatchEvent'].forEach(function (method) {\n\t                            self[method] = _eventTarget[method].bind(_eventTarget);\n\t                        });\n\t\n\t                        this.onicecandidate = null;\n\t                        this.onaddstream = null;\n\t                        this.ontrack = null;\n\t                        this.onremovestream = null;\n\t                        this.onsignalingstatechange = null;\n\t                        this.oniceconnectionstatechange = null;\n\t                        this.onnegotiationneeded = null;\n\t                        this.ondatachannel = null;\n\t\n\t                        this.localStreams = [];\n\t                        this.remoteStreams = [];\n\t                        this.getLocalStreams = function () {\n\t                            return self.localStreams;\n\t                        };\n\t                        this.getRemoteStreams = function () {\n\t                            return self.remoteStreams;\n\t                        };\n\t\n\t                        this.localDescription = new RTCSessionDescription({\n\t                            type: '',\n\t                            sdp: ''\n\t                        });\n\t                        this.remoteDescription = new RTCSessionDescription({\n\t                            type: '',\n\t                            sdp: ''\n\t                        });\n\t                        this.signalingState = 'stable';\n\t                        this.iceConnectionState = 'new';\n\t                        this.iceGatheringState = 'new';\n\t\n\t                        this.iceOptions = {\n\t                            gatherPolicy: 'all',\n\t                            iceServers: []\n\t                        };\n\t                        if (config && config.iceTransportPolicy) {\n\t                            switch (config.iceTransportPolicy) {\n\t                                case 'all':\n\t                                case 'relay':\n\t                                    this.iceOptions.gatherPolicy = config.iceTransportPolicy;\n\t                                    break;\n\t                                case 'none':\n\t                                    // FIXME: remove once implementation and spec have added this.\n\t                                    throw new TypeError('iceTransportPolicy \"none\" not supported');\n\t                                default:\n\t                                    // don't set iceTransportPolicy.\n\t                                    break;\n\t                            }\n\t                        }\n\t                        this.usingBundle = config && config.bundlePolicy === 'max-bundle';\n\t\n\t                        if (config && config.iceServers) {\n\t                            // Edge does not like\n\t                            // 1) stun:\n\t                            // 2) turn: that does not have all of turn:host:port?transport=udp\n\t                            // 3) turn: with ipv6 addresses\n\t                            var iceServers = JSON.parse(JSON.stringify(config.iceServers));\n\t                            this.iceOptions.iceServers = iceServers.filter(function (server) {\n\t                                if (server && server.urls) {\n\t                                    var urls = server.urls;\n\t                                    if (typeof urls === 'string') {\n\t                                        urls = [urls];\n\t                                    }\n\t                                    urls = urls.filter(function (url) {\n\t                                        return url.indexOf('turn:') === 0 && url.indexOf('transport=udp') !== -1 && url.indexOf('turn:[') === -1 || url.indexOf('stun:') === 0 && browserDetails.version >= 14393;\n\t                                    })[0];\n\t                                    return !!urls;\n\t                                }\n\t                                return false;\n\t                            });\n\t                        }\n\t                        this._config = config;\n\t\n\t                        // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n\t                        // everything that is needed to describe a SDP m-line.\n\t                        this.transceivers = [];\n\t\n\t                        // since the iceGatherer is currently created in createOffer but we\n\t                        // must not emit candidates until after setLocalDescription we buffer\n\t                        // them in this array.\n\t                        this._localIceCandidatesBuffer = [];\n\t                    };\n\t\n\t                    window.RTCPeerConnection.prototype._emitBufferedCandidates = function () {\n\t                        var self = this;\n\t                        var sections = SDPUtils.splitSections(self.localDescription.sdp);\n\t                        // FIXME: need to apply ice candidates in a way which is async but\n\t                        // in-order\n\t                        this._localIceCandidatesBuffer.forEach(function (event) {\n\t                            var end = !event.candidate || Object.keys(event.candidate).length === 0;\n\t                            if (end) {\n\t                                for (var j = 1; j < sections.length; j++) {\n\t                                    if (sections[j].indexOf('\\r\\na=end-of-candidates\\r\\n') === -1) {\n\t                                        sections[j] += 'a=end-of-candidates\\r\\n';\n\t                                    }\n\t                                }\n\t                            } else if (event.candidate.candidate.indexOf('typ endOfCandidates') === -1) {\n\t                                sections[event.candidate.sdpMLineIndex + 1] += 'a=' + event.candidate.candidate + '\\r\\n';\n\t                            }\n\t                            self.localDescription.sdp = sections.join('');\n\t                            self.dispatchEvent(event);\n\t                            if (self.onicecandidate !== null) {\n\t                                self.onicecandidate(event);\n\t                            }\n\t                            if (!event.candidate && self.iceGatheringState !== 'complete') {\n\t                                var complete = self.transceivers.every(function (transceiver) {\n\t                                    return transceiver.iceGatherer && transceiver.iceGatherer.state === 'completed';\n\t                                });\n\t                                if (complete) {\n\t                                    self.iceGatheringState = 'complete';\n\t                                }\n\t                            }\n\t                        });\n\t                        this._localIceCandidatesBuffer = [];\n\t                    };\n\t\n\t                    window.RTCPeerConnection.prototype.getConfiguration = function () {\n\t                        return this._config;\n\t                    };\n\t\n\t                    window.RTCPeerConnection.prototype.addStream = function (stream) {\n\t                        // Clone is necessary for local demos mostly, attaching directly\n\t                        // to two different senders does not work (build 10547).\n\t                        var clonedStream = stream.clone();\n\t                        stream.getTracks().forEach(function (track, idx) {\n\t                            var clonedTrack = clonedStream.getTracks()[idx];\n\t                            track.addEventListener('enabled', function (event) {\n\t                                clonedTrack.enabled = event.enabled;\n\t                            });\n\t                        });\n\t                        this.localStreams.push(clonedStream);\n\t                        this._maybeFireNegotiationNeeded();\n\t                    };\n\t\n\t                    window.RTCPeerConnection.prototype.removeStream = function (stream) {\n\t                        var idx = this.localStreams.indexOf(stream);\n\t                        if (idx > -1) {\n\t                            this.localStreams.splice(idx, 1);\n\t                            this._maybeFireNegotiationNeeded();\n\t                        }\n\t                    };\n\t\n\t                    window.RTCPeerConnection.prototype.getSenders = function () {\n\t                        return this.transceivers.filter(function (transceiver) {\n\t                            return !!transceiver.rtpSender;\n\t                        }).map(function (transceiver) {\n\t                            return transceiver.rtpSender;\n\t                        });\n\t                    };\n\t\n\t                    window.RTCPeerConnection.prototype.getReceivers = function () {\n\t                        return this.transceivers.filter(function (transceiver) {\n\t                            return !!transceiver.rtpReceiver;\n\t                        }).map(function (transceiver) {\n\t                            return transceiver.rtpReceiver;\n\t                        });\n\t                    };\n\t\n\t                    // Determines the intersection of local and remote capabilities.\n\t                    window.RTCPeerConnection.prototype._getCommonCapabilities = function (localCapabilities, remoteCapabilities) {\n\t                        var commonCapabilities = {\n\t                            codecs: [],\n\t                            headerExtensions: [],\n\t                            fecMechanisms: []\n\t                        };\n\t                        localCapabilities.codecs.forEach(function (lCodec) {\n\t                            for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n\t                                var rCodec = remoteCapabilities.codecs[i];\n\t                                if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() && lCodec.clockRate === rCodec.clockRate) {\n\t                                    // number of channels is the highest common number of channels\n\t                                    rCodec.numChannels = Math.min(lCodec.numChannels, rCodec.numChannels);\n\t                                    // push rCodec so we reply with offerer payload type\n\t                                    commonCapabilities.codecs.push(rCodec);\n\t\n\t                                    // determine common feedback mechanisms\n\t                                    rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function (fb) {\n\t                                        for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n\t                                            if (lCodec.rtcpFeedback[j].type === fb.type && lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n\t                                                return true;\n\t                                            }\n\t                                        }\n\t                                        return false;\n\t                                    });\n\t                                    // FIXME: also need to determine .parameters\n\t                                    //  see https://github.com/openpeer/ortc/issues/569\n\t                                    break;\n\t                                }\n\t                            }\n\t                        });\n\t\n\t                        localCapabilities.headerExtensions.forEach(function (lHeaderExtension) {\n\t                            for (var i = 0; i < remoteCapabilities.headerExtensions.length; i++) {\n\t                                var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n\t                                if (lHeaderExtension.uri === rHeaderExtension.uri) {\n\t                                    commonCapabilities.headerExtensions.push(rHeaderExtension);\n\t                                    break;\n\t                                }\n\t                            }\n\t                        });\n\t\n\t                        // FIXME: fecMechanisms\n\t                        return commonCapabilities;\n\t                    };\n\t\n\t                    // Create ICE gatherer, ICE transport and DTLS transport.\n\t                    window.RTCPeerConnection.prototype._createIceAndDtlsTransports = function (mid, sdpMLineIndex) {\n\t                        var self = this;\n\t                        var iceGatherer = new RTCIceGatherer(self.iceOptions);\n\t                        var iceTransport = new RTCIceTransport(iceGatherer);\n\t                        iceGatherer.onlocalcandidate = function (evt) {\n\t                            var event = new Event('icecandidate');\n\t                            event.candidate = { sdpMid: mid, sdpMLineIndex: sdpMLineIndex };\n\t\n\t                            var cand = evt.candidate;\n\t                            var end = !cand || Object.keys(cand).length === 0;\n\t                            // Edge emits an empty object for RTCIceCandidateComplete\n\t                            if (end) {\n\t                                // polyfill since RTCIceGatherer.state is not implemented in\n\t                                // Edge 10547 yet.\n\t                                if (iceGatherer.state === undefined) {\n\t                                    iceGatherer.state = 'completed';\n\t                                }\n\t\n\t                                // Emit a candidate with type endOfCandidates to make the samples\n\t                                // work. Edge requires addIceCandidate with this empty candidate\n\t                                // to start checking. The real solution is to signal\n\t                                // end-of-candidates to the other side when getting the null\n\t                                // candidate but some apps (like the samples) don't do that.\n\t                                event.candidate.candidate = 'candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates';\n\t                            } else {\n\t                                // RTCIceCandidate doesn't have a component, needs to be added\n\t                                cand.component = iceTransport.component === 'RTCP' ? 2 : 1;\n\t                                event.candidate.candidate = SDPUtils.writeCandidate(cand);\n\t                            }\n\t\n\t                            // update local description.\n\t                            var sections = SDPUtils.splitSections(self.localDescription.sdp);\n\t                            if (event.candidate.candidate.indexOf('typ endOfCandidates') === -1) {\n\t                                sections[event.candidate.sdpMLineIndex + 1] += 'a=' + event.candidate.candidate + '\\r\\n';\n\t                            } else {\n\t                                sections[event.candidate.sdpMLineIndex + 1] += 'a=end-of-candidates\\r\\n';\n\t                            }\n\t                            self.localDescription.sdp = sections.join('');\n\t\n\t                            var complete = self.transceivers.every(function (transceiver) {\n\t                                return transceiver.iceGatherer && transceiver.iceGatherer.state === 'completed';\n\t                            });\n\t\n\t                            // Emit candidate if localDescription is set.\n\t                            // Also emits null candidate when all gatherers are complete.\n\t                            switch (self.iceGatheringState) {\n\t                                case 'new':\n\t                                    self._localIceCandidatesBuffer.push(event);\n\t                                    if (end && complete) {\n\t                                        self._localIceCandidatesBuffer.push(new Event('icecandidate'));\n\t                                    }\n\t                                    break;\n\t                                case 'gathering':\n\t                                    self._emitBufferedCandidates();\n\t                                    self.dispatchEvent(event);\n\t                                    if (self.onicecandidate !== null) {\n\t                                        self.onicecandidate(event);\n\t                                    }\n\t                                    if (complete) {\n\t                                        self.dispatchEvent(new Event('icecandidate'));\n\t                                        if (self.onicecandidate !== null) {\n\t                                            self.onicecandidate(new Event('icecandidate'));\n\t                                        }\n\t                                        self.iceGatheringState = 'complete';\n\t                                    }\n\t                                    break;\n\t                                case 'complete':\n\t                                    // should not happen... currently!\n\t                                    break;\n\t                                default:\n\t                                    // no-op.\n\t                                    break;\n\t                            }\n\t                        };\n\t                        iceTransport.onicestatechange = function () {\n\t                            self._updateConnectionState();\n\t                        };\n\t\n\t                        var dtlsTransport = new RTCDtlsTransport(iceTransport);\n\t                        dtlsTransport.ondtlsstatechange = function () {\n\t                            self._updateConnectionState();\n\t                        };\n\t                        dtlsTransport.onerror = function () {\n\t                            // onerror does not set state to failed by itself.\n\t                            dtlsTransport.state = 'failed';\n\t                            self._updateConnectionState();\n\t                        };\n\t\n\t                        return {\n\t                            iceGatherer: iceGatherer,\n\t                            iceTransport: iceTransport,\n\t                            dtlsTransport: dtlsTransport\n\t                        };\n\t                    };\n\t\n\t                    // Start the RTP Sender and Receiver for a transceiver.\n\t                    window.RTCPeerConnection.prototype._transceive = function (transceiver, send, recv) {\n\t                        var params = this._getCommonCapabilities(transceiver.localCapabilities, transceiver.remoteCapabilities);\n\t                        if (send && transceiver.rtpSender) {\n\t                            params.encodings = transceiver.sendEncodingParameters;\n\t                            params.rtcp = {\n\t                                cname: SDPUtils.localCName\n\t                            };\n\t                            if (transceiver.recvEncodingParameters.length) {\n\t                                params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n\t                            }\n\t                            transceiver.rtpSender.send(params);\n\t                        }\n\t                        if (recv && transceiver.rtpReceiver) {\n\t                            // remove RTX field in Edge 14942\n\t                            if (transceiver.kind === 'video' && transceiver.recvEncodingParameters) {\n\t                                transceiver.recvEncodingParameters.forEach(function (p) {\n\t                                    delete p.rtx;\n\t                                });\n\t                            }\n\t                            params.encodings = transceiver.recvEncodingParameters;\n\t                            params.rtcp = {\n\t                                cname: transceiver.cname\n\t                            };\n\t                            if (transceiver.sendEncodingParameters.length) {\n\t                                params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n\t                            }\n\t                            transceiver.rtpReceiver.receive(params);\n\t                        }\n\t                    };\n\t\n\t                    window.RTCPeerConnection.prototype.setLocalDescription = function (description) {\n\t                        var self = this;\n\t                        var sections;\n\t                        var sessionpart;\n\t                        if (description.type === 'offer') {\n\t                            // FIXME: What was the purpose of this empty if statement?\n\t                            // if (!this._pendingOffer) {\n\t                            // } else {\n\t                            if (this._pendingOffer) {\n\t                                // VERY limited support for SDP munging. Limited to:\n\t                                // * changing the order of codecs\n\t                                sections = SDPUtils.splitSections(description.sdp);\n\t                                sessionpart = sections.shift();\n\t                                sections.forEach(function (mediaSection, sdpMLineIndex) {\n\t                                    var caps = SDPUtils.parseRtpParameters(mediaSection);\n\t                                    self._pendingOffer[sdpMLineIndex].localCapabilities = caps;\n\t                                });\n\t                                this.transceivers = this._pendingOffer;\n\t                                delete this._pendingOffer;\n\t                            }\n\t                        } else if (description.type === 'answer') {\n\t                            sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n\t                            sessionpart = sections.shift();\n\t                            var isIceLite = SDPUtils.matchPrefix(sessionpart, 'a=ice-lite').length > 0;\n\t                            sections.forEach(function (mediaSection, sdpMLineIndex) {\n\t                                var transceiver = self.transceivers[sdpMLineIndex];\n\t                                var iceGatherer = transceiver.iceGatherer;\n\t                                var iceTransport = transceiver.iceTransport;\n\t                                var dtlsTransport = transceiver.dtlsTransport;\n\t                                var localCapabilities = transceiver.localCapabilities;\n\t                                var remoteCapabilities = transceiver.remoteCapabilities;\n\t\n\t                                var rejected = mediaSection.split('\\n', 1)[0].split(' ', 2)[1] === '0';\n\t\n\t                                if (!rejected && !transceiver.isDatachannel) {\n\t                                    var remoteIceParameters = SDPUtils.getIceParameters(mediaSection, sessionpart);\n\t                                    if (isIceLite) {\n\t                                        var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:').map(function (cand) {\n\t                                            return SDPUtils.parseCandidate(cand);\n\t                                        }).filter(function (cand) {\n\t                                            return cand.component === '1';\n\t                                        });\n\t                                        // ice-lite only includes host candidates in the SDP so we can\n\t                                        // use setRemoteCandidates (which implies an\n\t                                        // RTCIceCandidateComplete)\n\t                                        if (cands.length) {\n\t                                            iceTransport.setRemoteCandidates(cands);\n\t                                        }\n\t                                    }\n\t                                    var remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection, sessionpart);\n\t                                    if (isIceLite) {\n\t                                        remoteDtlsParameters.role = 'server';\n\t                                    }\n\t\n\t                                    if (!self.usingBundle || sdpMLineIndex === 0) {\n\t                                        iceTransport.start(iceGatherer, remoteIceParameters, isIceLite ? 'controlling' : 'controlled');\n\t                                        dtlsTransport.start(remoteDtlsParameters);\n\t                                    }\n\t\n\t                                    // Calculate intersection of capabilities.\n\t                                    var params = self._getCommonCapabilities(localCapabilities, remoteCapabilities);\n\t\n\t                                    // Start the RTCRtpSender. The RTCRtpReceiver for this\n\t                                    // transceiver has already been started in setRemoteDescription.\n\t                                    self._transceive(transceiver, params.codecs.length > 0, false);\n\t                                }\n\t                            });\n\t                        }\n\t\n\t                        this.localDescription = {\n\t                            type: description.type,\n\t                            sdp: description.sdp\n\t                        };\n\t                        switch (description.type) {\n\t                            case 'offer':\n\t                                this._updateSignalingState('have-local-offer');\n\t                                break;\n\t                            case 'answer':\n\t                                this._updateSignalingState('stable');\n\t                                break;\n\t                            default:\n\t                                throw new TypeError('unsupported type \"' + description.type + '\"');\n\t                        }\n\t\n\t                        // If a success callback was provided, emit ICE candidates after it\n\t                        // has been executed. Otherwise, emit callback after the Promise is\n\t                        // resolved.\n\t                        var hasCallback = arguments.length > 1 && typeof arguments[1] === 'function';\n\t                        if (hasCallback) {\n\t                            var cb = arguments[1];\n\t                            window.setTimeout(function () {\n\t                                cb();\n\t                                if (self.iceGatheringState === 'new') {\n\t                                    self.iceGatheringState = 'gathering';\n\t                                }\n\t                                self._emitBufferedCandidates();\n\t                            }, 0);\n\t                        }\n\t                        var p = Promise.resolve();\n\t                        p.then(function () {\n\t                            if (!hasCallback) {\n\t                                if (self.iceGatheringState === 'new') {\n\t                                    self.iceGatheringState = 'gathering';\n\t                                }\n\t                                // Usually candidates will be emitted earlier.\n\t                                window.setTimeout(self._emitBufferedCandidates.bind(self), 500);\n\t                            }\n\t                        });\n\t                        return p;\n\t                    };\n\t\n\t                    window.RTCPeerConnection.prototype.setRemoteDescription = function (description) {\n\t                        var self = this;\n\t                        var stream = new MediaStream();\n\t                        var receiverList = [];\n\t                        var sections = SDPUtils.splitSections(description.sdp);\n\t                        var sessionpart = sections.shift();\n\t                        var isIceLite = SDPUtils.matchPrefix(sessionpart, 'a=ice-lite').length > 0;\n\t                        this.usingBundle = SDPUtils.matchPrefix(sessionpart, 'a=group:BUNDLE ').length > 0;\n\t                        sections.forEach(function (mediaSection, sdpMLineIndex) {\n\t                            var lines = SDPUtils.splitLines(mediaSection);\n\t                            var mline = lines[0].substr(2).split(' ');\n\t                            var kind = mline[0];\n\t                            var rejected = mline[1] === '0';\n\t                            var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n\t\n\t                            var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:');\n\t                            if (mid.length) {\n\t                                mid = mid[0].substr(6);\n\t                            } else {\n\t                                mid = SDPUtils.generateIdentifier();\n\t                            }\n\t\n\t                            // Reject datachannels which are not implemented yet.\n\t                            if (kind === 'application' && mline[2] === 'DTLS/SCTP') {\n\t                                self.transceivers[sdpMLineIndex] = {\n\t                                    mid: mid,\n\t                                    isDatachannel: true\n\t                                };\n\t                                return;\n\t                            }\n\t\n\t                            var transceiver;\n\t                            var iceGatherer;\n\t                            var iceTransport;\n\t                            var dtlsTransport;\n\t                            var rtpSender;\n\t                            var rtpReceiver;\n\t                            var sendEncodingParameters;\n\t                            var recvEncodingParameters;\n\t                            var localCapabilities;\n\t\n\t                            var track;\n\t                            // FIXME: ensure the mediaSection has rtcp-mux set.\n\t                            var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n\t                            var remoteIceParameters;\n\t                            var remoteDtlsParameters;\n\t                            if (!rejected) {\n\t                                remoteIceParameters = SDPUtils.getIceParameters(mediaSection, sessionpart);\n\t                                remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection, sessionpart);\n\t                                remoteDtlsParameters.role = 'client';\n\t                            }\n\t                            recvEncodingParameters = SDPUtils.parseRtpEncodingParameters(mediaSection);\n\t\n\t                            var cname;\n\t                            // Gets the first SSRC. Note that with RTX there might be multiple\n\t                            // SSRCs.\n\t                            var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n\t                                return SDPUtils.parseSsrcMedia(line);\n\t                            }).filter(function (obj) {\n\t                                return obj.attribute === 'cname';\n\t                            })[0];\n\t                            if (remoteSsrc) {\n\t                                cname = remoteSsrc.value;\n\t                            }\n\t\n\t                            var isComplete = SDPUtils.matchPrefix(mediaSection, 'a=end-of-candidates', sessionpart).length > 0;\n\t                            var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:').map(function (cand) {\n\t                                return SDPUtils.parseCandidate(cand);\n\t                            }).filter(function (cand) {\n\t                                return cand.component === '1';\n\t                            });\n\t                            if (description.type === 'offer' && !rejected) {\n\t                                var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n\t                                    iceGatherer: self.transceivers[0].iceGatherer,\n\t                                    iceTransport: self.transceivers[0].iceTransport,\n\t                                    dtlsTransport: self.transceivers[0].dtlsTransport\n\t                                } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\t\n\t                                if (isComplete) {\n\t                                    transports.iceTransport.setRemoteCandidates(cands);\n\t                                }\n\t\n\t                                localCapabilities = RTCRtpReceiver.getCapabilities(kind);\n\t\n\t                                // filter RTX until additional stuff needed for RTX is implemented\n\t                                // in adapter.js\n\t                                localCapabilities.codecs = localCapabilities.codecs.filter(function (codec) {\n\t                                    return codec.name !== 'rtx';\n\t                                });\n\t\n\t                                sendEncodingParameters = [{\n\t                                    ssrc: (2 * sdpMLineIndex + 2) * 1001\n\t                                }];\n\t\n\t                                rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport, kind);\n\t\n\t                                track = rtpReceiver.track;\n\t                                receiverList.push([track, rtpReceiver]);\n\t                                // FIXME: not correct when there are multiple streams but that is\n\t                                // not currently supported in this shim.\n\t                                stream.addTrack(track);\n\t\n\t                                // FIXME: look at direction.\n\t                                if (self.localStreams.length > 0 && self.localStreams[0].getTracks().length >= sdpMLineIndex) {\n\t                                    var localTrack;\n\t                                    if (kind === 'audio') {\n\t                                        localTrack = self.localStreams[0].getAudioTracks()[0];\n\t                                    } else if (kind === 'video') {\n\t                                        localTrack = self.localStreams[0].getVideoTracks()[0];\n\t                                    }\n\t                                    if (localTrack) {\n\t                                        rtpSender = new RTCRtpSender(localTrack, transports.dtlsTransport);\n\t                                    }\n\t                                }\n\t\n\t                                self.transceivers[sdpMLineIndex] = {\n\t                                    iceGatherer: transports.iceGatherer,\n\t                                    iceTransport: transports.iceTransport,\n\t                                    dtlsTransport: transports.dtlsTransport,\n\t                                    localCapabilities: localCapabilities,\n\t                                    remoteCapabilities: remoteCapabilities,\n\t                                    rtpSender: rtpSender,\n\t                                    rtpReceiver: rtpReceiver,\n\t                                    kind: kind,\n\t                                    mid: mid,\n\t                                    cname: cname,\n\t                                    sendEncodingParameters: sendEncodingParameters,\n\t                                    recvEncodingParameters: recvEncodingParameters\n\t                                };\n\t                                // Start the RTCRtpReceiver now. The RTPSender is started in\n\t                                // setLocalDescription.\n\t                                self._transceive(self.transceivers[sdpMLineIndex], false, direction === 'sendrecv' || direction === 'sendonly');\n\t                            } else if (description.type === 'answer' && !rejected) {\n\t                                transceiver = self.transceivers[sdpMLineIndex];\n\t                                iceGatherer = transceiver.iceGatherer;\n\t                                iceTransport = transceiver.iceTransport;\n\t                                dtlsTransport = transceiver.dtlsTransport;\n\t                                rtpSender = transceiver.rtpSender;\n\t                                rtpReceiver = transceiver.rtpReceiver;\n\t                                sendEncodingParameters = transceiver.sendEncodingParameters;\n\t                                localCapabilities = transceiver.localCapabilities;\n\t\n\t                                self.transceivers[sdpMLineIndex].recvEncodingParameters = recvEncodingParameters;\n\t                                self.transceivers[sdpMLineIndex].remoteCapabilities = remoteCapabilities;\n\t                                self.transceivers[sdpMLineIndex].cname = cname;\n\t\n\t                                if ((isIceLite || isComplete) && cands.length) {\n\t                                    iceTransport.setRemoteCandidates(cands);\n\t                                }\n\t                                if (!self.usingBundle || sdpMLineIndex === 0) {\n\t                                    iceTransport.start(iceGatherer, remoteIceParameters, 'controlling');\n\t                                    dtlsTransport.start(remoteDtlsParameters);\n\t                                }\n\t\n\t                                self._transceive(transceiver, direction === 'sendrecv' || direction === 'recvonly', direction === 'sendrecv' || direction === 'sendonly');\n\t\n\t                                if (rtpReceiver && (direction === 'sendrecv' || direction === 'sendonly')) {\n\t                                    track = rtpReceiver.track;\n\t                                    receiverList.push([track, rtpReceiver]);\n\t                                    stream.addTrack(track);\n\t                                } else {\n\t                                    // FIXME: actually the receiver should be created later.\n\t                                    delete transceiver.rtpReceiver;\n\t                                }\n\t                            }\n\t                        });\n\t\n\t                        this.remoteDescription = {\n\t                            type: description.type,\n\t                            sdp: description.sdp\n\t                        };\n\t                        switch (description.type) {\n\t                            case 'offer':\n\t                                this._updateSignalingState('have-remote-offer');\n\t                                break;\n\t                            case 'answer':\n\t                                this._updateSignalingState('stable');\n\t                                break;\n\t                            default:\n\t                                throw new TypeError('unsupported type \"' + description.type + '\"');\n\t                        }\n\t                        if (stream.getTracks().length) {\n\t                            self.remoteStreams.push(stream);\n\t                            window.setTimeout(function () {\n\t                                var event = new Event('addstream');\n\t                                event.stream = stream;\n\t                                self.dispatchEvent(event);\n\t                                if (self.onaddstream !== null) {\n\t                                    window.setTimeout(function () {\n\t                                        self.onaddstream(event);\n\t                                    }, 0);\n\t                                }\n\t\n\t                                receiverList.forEach(function (item) {\n\t                                    var track = item[0];\n\t                                    var receiver = item[1];\n\t                                    var trackEvent = new Event('track');\n\t                                    trackEvent.track = track;\n\t                                    trackEvent.receiver = receiver;\n\t                                    trackEvent.streams = [stream];\n\t                                    self.dispatchEvent(event);\n\t                                    if (self.ontrack !== null) {\n\t                                        window.setTimeout(function () {\n\t                                            self.ontrack(trackEvent);\n\t                                        }, 0);\n\t                                    }\n\t                                });\n\t                            }, 0);\n\t                        }\n\t                        if (arguments.length > 1 && typeof arguments[1] === 'function') {\n\t                            window.setTimeout(arguments[1], 0);\n\t                        }\n\t                        return Promise.resolve();\n\t                    };\n\t\n\t                    window.RTCPeerConnection.prototype.close = function () {\n\t                        this.transceivers.forEach(function (transceiver) {\n\t                            /* not yet\n\t                            if (transceiver.iceGatherer) {\n\t                              transceiver.iceGatherer.close();\n\t                            }\n\t                            */\n\t                            if (transceiver.iceTransport) {\n\t                                transceiver.iceTransport.stop();\n\t                            }\n\t                            if (transceiver.dtlsTransport) {\n\t                                transceiver.dtlsTransport.stop();\n\t                            }\n\t                            if (transceiver.rtpSender) {\n\t                                transceiver.rtpSender.stop();\n\t                            }\n\t                            if (transceiver.rtpReceiver) {\n\t                                transceiver.rtpReceiver.stop();\n\t                            }\n\t                        });\n\t                        // FIXME: clean up tracks, local streams, remote streams, etc\n\t                        this._updateSignalingState('closed');\n\t                    };\n\t\n\t                    // Update the signaling state.\n\t                    window.RTCPeerConnection.prototype._updateSignalingState = function (newState) {\n\t                        this.signalingState = newState;\n\t                        var event = new Event('signalingstatechange');\n\t                        this.dispatchEvent(event);\n\t                        if (this.onsignalingstatechange !== null) {\n\t                            this.onsignalingstatechange(event);\n\t                        }\n\t                    };\n\t\n\t                    // Determine whether to fire the negotiationneeded event.\n\t                    window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function () {\n\t                        // Fire away (for now).\n\t                        var event = new Event('negotiationneeded');\n\t                        this.dispatchEvent(event);\n\t                        if (this.onnegotiationneeded !== null) {\n\t                            this.onnegotiationneeded(event);\n\t                        }\n\t                    };\n\t\n\t                    // Update the connection state.\n\t                    window.RTCPeerConnection.prototype._updateConnectionState = function () {\n\t                        var self = this;\n\t                        var newState;\n\t                        var states = {\n\t                            'new': 0,\n\t                            closed: 0,\n\t                            connecting: 0,\n\t                            checking: 0,\n\t                            connected: 0,\n\t                            completed: 0,\n\t                            failed: 0\n\t                        };\n\t                        this.transceivers.forEach(function (transceiver) {\n\t                            states[transceiver.iceTransport.state]++;\n\t                            states[transceiver.dtlsTransport.state]++;\n\t                        });\n\t                        // ICETransport.completed and connected are the same for this purpose.\n\t                        states.connected += states.completed;\n\t\n\t                        newState = 'new';\n\t                        if (states.failed > 0) {\n\t                            newState = 'failed';\n\t                        } else if (states.connecting > 0 || states.checking > 0) {\n\t                            newState = 'connecting';\n\t                        } else if (states.disconnected > 0) {\n\t                            newState = 'disconnected';\n\t                        } else if (states.new > 0) {\n\t                            newState = 'new';\n\t                        } else if (states.connected > 0 || states.completed > 0) {\n\t                            newState = 'connected';\n\t                        }\n\t\n\t                        if (newState !== self.iceConnectionState) {\n\t                            self.iceConnectionState = newState;\n\t                            var event = new Event('iceconnectionstatechange');\n\t                            this.dispatchEvent(event);\n\t                            if (this.oniceconnectionstatechange !== null) {\n\t                                this.oniceconnectionstatechange(event);\n\t                            }\n\t                        }\n\t                    };\n\t\n\t                    window.RTCPeerConnection.prototype.createOffer = function () {\n\t                        var self = this;\n\t                        if (this._pendingOffer) {\n\t                            throw new Error('createOffer called while there is a pending offer.');\n\t                        }\n\t                        var offerOptions;\n\t                        if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n\t                            offerOptions = arguments[0];\n\t                        } else if (arguments.length === 3) {\n\t                            offerOptions = arguments[2];\n\t                        }\n\t\n\t                        var tracks = [];\n\t                        var numAudioTracks = 0;\n\t                        var numVideoTracks = 0;\n\t                        // Default to sendrecv.\n\t                        if (this.localStreams.length) {\n\t                            numAudioTracks = this.localStreams[0].getAudioTracks().length;\n\t                            numVideoTracks = this.localStreams[0].getVideoTracks().length;\n\t                        }\n\t                        // Determine number of audio and video tracks we need to send/recv.\n\t                        if (offerOptions) {\n\t                            // Reject Chrome legacy constraints.\n\t                            if (offerOptions.mandatory || offerOptions.optional) {\n\t                                throw new TypeError('Legacy mandatory/optional constraints not supported.');\n\t                            }\n\t                            if (offerOptions.offerToReceiveAudio !== undefined) {\n\t                                numAudioTracks = offerOptions.offerToReceiveAudio;\n\t                            }\n\t                            if (offerOptions.offerToReceiveVideo !== undefined) {\n\t                                numVideoTracks = offerOptions.offerToReceiveVideo;\n\t                            }\n\t                        }\n\t                        if (this.localStreams.length) {\n\t                            // Push local streams.\n\t                            this.localStreams[0].getTracks().forEach(function (track) {\n\t                                tracks.push({\n\t                                    kind: track.kind,\n\t                                    track: track,\n\t                                    wantReceive: track.kind === 'audio' ? numAudioTracks > 0 : numVideoTracks > 0\n\t                                });\n\t                                if (track.kind === 'audio') {\n\t                                    numAudioTracks--;\n\t                                } else if (track.kind === 'video') {\n\t                                    numVideoTracks--;\n\t                                }\n\t                            });\n\t                        }\n\t                        // Create M-lines for recvonly streams.\n\t                        while (numAudioTracks > 0 || numVideoTracks > 0) {\n\t                            if (numAudioTracks > 0) {\n\t                                tracks.push({\n\t                                    kind: 'audio',\n\t                                    wantReceive: true\n\t                                });\n\t                                numAudioTracks--;\n\t                            }\n\t                            if (numVideoTracks > 0) {\n\t                                tracks.push({\n\t                                    kind: 'video',\n\t                                    wantReceive: true\n\t                                });\n\t                                numVideoTracks--;\n\t                            }\n\t                        }\n\t\n\t                        var sdp = SDPUtils.writeSessionBoilerplate();\n\t                        var transceivers = [];\n\t                        tracks.forEach(function (mline, sdpMLineIndex) {\n\t                            // For each track, create an ice gatherer, ice transport,\n\t                            // dtls transport, potentially rtpsender and rtpreceiver.\n\t                            var track = mline.track;\n\t                            var kind = mline.kind;\n\t                            var mid = SDPUtils.generateIdentifier();\n\t\n\t                            var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n\t                                iceGatherer: transceivers[0].iceGatherer,\n\t                                iceTransport: transceivers[0].iceTransport,\n\t                                dtlsTransport: transceivers[0].dtlsTransport\n\t                            } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\t\n\t                            var localCapabilities = RTCRtpSender.getCapabilities(kind);\n\t                            // filter RTX until additional stuff needed for RTX is implemented\n\t                            // in adapter.js\n\t                            localCapabilities.codecs = localCapabilities.codecs.filter(function (codec) {\n\t                                return codec.name !== 'rtx';\n\t                            });\n\t                            localCapabilities.codecs.forEach(function (codec) {\n\t                                // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n\t                                // by adding level-asymmetry-allowed=1\n\t                                if (codec.name === 'H264' && codec.parameters['level-asymmetry-allowed'] === undefined) {\n\t                                    codec.parameters['level-asymmetry-allowed'] = '1';\n\t                                }\n\t                            });\n\t\n\t                            var rtpSender;\n\t                            var rtpReceiver;\n\t\n\t                            // generate an ssrc now, to be used later in rtpSender.send\n\t                            var sendEncodingParameters = [{\n\t                                ssrc: (2 * sdpMLineIndex + 1) * 1001\n\t                            }];\n\t                            if (track) {\n\t                                rtpSender = new RTCRtpSender(track, transports.dtlsTransport);\n\t                            }\n\t\n\t                            if (mline.wantReceive) {\n\t                                rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport, kind);\n\t                            }\n\t\n\t                            transceivers[sdpMLineIndex] = {\n\t                                iceGatherer: transports.iceGatherer,\n\t                                iceTransport: transports.iceTransport,\n\t                                dtlsTransport: transports.dtlsTransport,\n\t                                localCapabilities: localCapabilities,\n\t                                remoteCapabilities: null,\n\t                                rtpSender: rtpSender,\n\t                                rtpReceiver: rtpReceiver,\n\t                                kind: kind,\n\t                                mid: mid,\n\t                                sendEncodingParameters: sendEncodingParameters,\n\t                                recvEncodingParameters: null\n\t                            };\n\t                        });\n\t                        if (this.usingBundle) {\n\t                            sdp += 'a=group:BUNDLE ' + transceivers.map(function (t) {\n\t                                return t.mid;\n\t                            }).join(' ') + '\\r\\n';\n\t                        }\n\t                        tracks.forEach(function (mline, sdpMLineIndex) {\n\t                            var transceiver = transceivers[sdpMLineIndex];\n\t                            sdp += SDPUtils.writeMediaSection(transceiver, transceiver.localCapabilities, 'offer', self.localStreams[0]);\n\t                        });\n\t\n\t                        this._pendingOffer = transceivers;\n\t                        var desc = new RTCSessionDescription({\n\t                            type: 'offer',\n\t                            sdp: sdp\n\t                        });\n\t                        if (arguments.length && typeof arguments[0] === 'function') {\n\t                            window.setTimeout(arguments[0], 0, desc);\n\t                        }\n\t                        return Promise.resolve(desc);\n\t                    };\n\t\n\t                    window.RTCPeerConnection.prototype.createAnswer = function () {\n\t                        var self = this;\n\t\n\t                        var sdp = SDPUtils.writeSessionBoilerplate();\n\t                        if (this.usingBundle) {\n\t                            sdp += 'a=group:BUNDLE ' + this.transceivers.map(function (t) {\n\t                                return t.mid;\n\t                            }).join(' ') + '\\r\\n';\n\t                        }\n\t                        this.transceivers.forEach(function (transceiver) {\n\t                            if (transceiver.isDatachannel) {\n\t                                sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' + 'c=IN IP4 0.0.0.0\\r\\n' + 'a=mid:' + transceiver.mid + '\\r\\n';\n\t                                return;\n\t                            }\n\t                            // Calculate intersection of capabilities.\n\t                            var commonCapabilities = self._getCommonCapabilities(transceiver.localCapabilities, transceiver.remoteCapabilities);\n\t\n\t                            sdp += SDPUtils.writeMediaSection(transceiver, commonCapabilities, 'answer', self.localStreams[0]);\n\t                        });\n\t\n\t                        var desc = new RTCSessionDescription({\n\t                            type: 'answer',\n\t                            sdp: sdp\n\t                        });\n\t                        if (arguments.length && typeof arguments[0] === 'function') {\n\t                            window.setTimeout(arguments[0], 0, desc);\n\t                        }\n\t                        return Promise.resolve(desc);\n\t                    };\n\t\n\t                    window.RTCPeerConnection.prototype.addIceCandidate = function (candidate) {\n\t                        if (!candidate) {\n\t                            this.transceivers.forEach(function (transceiver) {\n\t                                transceiver.iceTransport.addRemoteCandidate({});\n\t                            });\n\t                        } else {\n\t                            var mLineIndex = candidate.sdpMLineIndex;\n\t                            if (candidate.sdpMid) {\n\t                                for (var i = 0; i < this.transceivers.length; i++) {\n\t                                    if (this.transceivers[i].mid === candidate.sdpMid) {\n\t                                        mLineIndex = i;\n\t                                        break;\n\t                                    }\n\t                                }\n\t                            }\n\t                            var transceiver = this.transceivers[mLineIndex];\n\t                            if (transceiver) {\n\t                                var cand = Object.keys(candidate.candidate).length > 0 ? SDPUtils.parseCandidate(candidate.candidate) : {};\n\t                                // Ignore Chrome's invalid candidates since Edge does not like them.\n\t                                if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n\t                                    return;\n\t                                }\n\t                                // Ignore RTCP candidates, we assume RTCP-MUX.\n\t                                if (cand.component !== '1') {\n\t                                    return;\n\t                                }\n\t                                // A dirty hack to make samples work.\n\t                                if (cand.type === 'endOfCandidates') {\n\t                                    cand = {};\n\t                                }\n\t                                transceiver.iceTransport.addRemoteCandidate(cand);\n\t\n\t                                // update the remoteDescription.\n\t                                var sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n\t                                sections[mLineIndex + 1] += (cand.type ? candidate.candidate.trim() : 'a=end-of-candidates') + '\\r\\n';\n\t                                this.remoteDescription.sdp = sections.join('');\n\t                            }\n\t                        }\n\t                        if (arguments.length > 1 && typeof arguments[1] === 'function') {\n\t                            window.setTimeout(arguments[1], 0);\n\t                        }\n\t                        return Promise.resolve();\n\t                    };\n\t\n\t                    window.RTCPeerConnection.prototype.getStats = function () {\n\t                        var promises = [];\n\t                        this.transceivers.forEach(function (transceiver) {\n\t                            ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport', 'dtlsTransport'].forEach(function (method) {\n\t                                if (transceiver[method]) {\n\t                                    promises.push(transceiver[method].getStats());\n\t                                }\n\t                            });\n\t                        });\n\t                        var cb = arguments.length > 1 && typeof arguments[1] === 'function' && arguments[1];\n\t                        return new Promise(function (resolve) {\n\t                            // shim getStats with maplike support\n\t                            var results = new Map();\n\t                            Promise.all(promises).then(function (res) {\n\t                                res.forEach(function (result) {\n\t                                    Object.keys(result).forEach(function (id) {\n\t                                        results.set(id, result[id]);\n\t                                        results[id] = result[id];\n\t                                    });\n\t                                });\n\t                                if (cb) {\n\t                                    window.setTimeout(cb, 0, results);\n\t                                }\n\t                                resolve(results);\n\t                            });\n\t                        });\n\t                    };\n\t                }\n\t            };\n\t\n\t            // Expose public methods.\n\t            module.exports = {\n\t                shimPeerConnection: edgeShim.shimPeerConnection,\n\t                shimGetUserMedia: require('./getusermedia')\n\t            };\n\t        }, { \"../utils\": 10, \"./getusermedia\": 6, \"sdp\": 1 }], 6: [function (require, module, exports) {\n\t            /*\n\t             *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n\t             *\n\t             *  Use of this source code is governed by a BSD-style license\n\t             *  that can be found in the LICENSE file in the root of the source\n\t             *  tree.\n\t             */\n\t            /* eslint-env node */\n\t\n\t            // Expose public methods.\n\t            module.exports = function () {\n\t                var shimError_ = function shimError_(e) {\n\t                    return {\n\t                        name: { PermissionDeniedError: 'NotAllowedError' }[e.name] || e.name,\n\t                        message: e.message,\n\t                        constraint: e.constraint,\n\t                        toString: function toString() {\n\t                            return this.name;\n\t                        }\n\t                    };\n\t                };\n\t\n\t                // getUserMedia error shim.\n\t                var origGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n\t                navigator.mediaDevices.getUserMedia = function (c) {\n\t                    return origGetUserMedia(c).catch(function (e) {\n\t                        return Promise.reject(shimError_(e));\n\t                    });\n\t                };\n\t            };\n\t        }, {}], 7: [function (require, module, exports) {\n\t            /*\n\t             *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n\t             *\n\t             *  Use of this source code is governed by a BSD-style license\n\t             *  that can be found in the LICENSE file in the root of the source\n\t             *  tree.\n\t             */\n\t            /* eslint-env node */\n\t\n\t            var browserDetails = require('../utils').browserDetails;\n\t\n\t            var firefoxShim = {\n\t                shimOnTrack: function shimOnTrack() {\n\t                    if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && !('ontrack' in window.RTCPeerConnection.prototype)) {\n\t                        Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n\t                            get: function get() {\n\t                                return this._ontrack;\n\t                            },\n\t                            set: function set(f) {\n\t                                if (this._ontrack) {\n\t                                    this.removeEventListener('track', this._ontrack);\n\t                                    this.removeEventListener('addstream', this._ontrackpoly);\n\t                                }\n\t                                this.addEventListener('track', this._ontrack = f);\n\t                                this.addEventListener('addstream', this._ontrackpoly = function (e) {\n\t                                    e.stream.getTracks().forEach(function (track) {\n\t                                        var event = new Event('track');\n\t                                        event.track = track;\n\t                                        event.receiver = { track: track };\n\t                                        event.streams = [e.stream];\n\t                                        this.dispatchEvent(event);\n\t                                    }.bind(this));\n\t                                }.bind(this));\n\t                            }\n\t                        });\n\t                    }\n\t                },\n\t\n\t                shimSourceObject: function shimSourceObject() {\n\t                    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n\t                    if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object') {\n\t                        if (window.HTMLMediaElement && !('srcObject' in window.HTMLMediaElement.prototype)) {\n\t                            // Shim the srcObject property, once, when HTMLMediaElement is found.\n\t                            Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n\t                                get: function get() {\n\t                                    return this.mozSrcObject;\n\t                                },\n\t                                set: function set(stream) {\n\t                                    this.mozSrcObject = stream;\n\t                                }\n\t                            });\n\t                        }\n\t                    }\n\t                },\n\t\n\t                shimPeerConnection: function shimPeerConnection() {\n\t                    if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {\n\t                        return; // probably media.peerconnection.enabled=false in about:config\n\t                    }\n\t                    // The RTCPeerConnection object.\n\t                    if (!window.RTCPeerConnection) {\n\t                        window.RTCPeerConnection = function (pcConfig, pcConstraints) {\n\t                            if (browserDetails.version < 38) {\n\t                                // .urls is not supported in FF < 38.\n\t                                // create RTCIceServers with a single url.\n\t                                if (pcConfig && pcConfig.iceServers) {\n\t                                    var newIceServers = [];\n\t                                    for (var i = 0; i < pcConfig.iceServers.length; i++) {\n\t                                        var server = pcConfig.iceServers[i];\n\t                                        if (server.hasOwnProperty('urls')) {\n\t                                            for (var j = 0; j < server.urls.length; j++) {\n\t                                                var newServer = {\n\t                                                    url: server.urls[j]\n\t                                                };\n\t                                                if (server.urls[j].indexOf('turn') === 0) {\n\t                                                    newServer.username = server.username;\n\t                                                    newServer.credential = server.credential;\n\t                                                }\n\t                                                newIceServers.push(newServer);\n\t                                            }\n\t                                        } else {\n\t                                            newIceServers.push(pcConfig.iceServers[i]);\n\t                                        }\n\t                                    }\n\t                                    pcConfig.iceServers = newIceServers;\n\t                                }\n\t                            }\n\t                            return new mozRTCPeerConnection(pcConfig, pcConstraints);\n\t                        };\n\t                        window.RTCPeerConnection.prototype = mozRTCPeerConnection.prototype;\n\t\n\t                        // wrap static methods. Currently just generateCertificate.\n\t                        if (mozRTCPeerConnection.generateCertificate) {\n\t                            Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n\t                                get: function get() {\n\t                                    return mozRTCPeerConnection.generateCertificate;\n\t                                }\n\t                            });\n\t                        }\n\t\n\t                        window.RTCSessionDescription = mozRTCSessionDescription;\n\t                        window.RTCIceCandidate = mozRTCIceCandidate;\n\t                    }\n\t\n\t                    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n\t                    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function (method) {\n\t                        var nativeMethod = RTCPeerConnection.prototype[method];\n\t                        RTCPeerConnection.prototype[method] = function () {\n\t                            arguments[0] = new (method === 'addIceCandidate' ? RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n\t                            return nativeMethod.apply(this, arguments);\n\t                        };\n\t                    });\n\t\n\t                    // support for addIceCandidate(null or undefined)\n\t                    var nativeAddIceCandidate = RTCPeerConnection.prototype.addIceCandidate;\n\t                    RTCPeerConnection.prototype.addIceCandidate = function () {\n\t                        if (!arguments[0]) {\n\t                            if (arguments[1]) {\n\t                                arguments[1].apply(null);\n\t                            }\n\t                            return Promise.resolve();\n\t                        }\n\t                        return nativeAddIceCandidate.apply(this, arguments);\n\t                    };\n\t\n\t                    if (browserDetails.version < 48) {\n\t                        // shim getStats with maplike support\n\t                        var makeMapStats = function makeMapStats(stats) {\n\t                            var map = new Map();\n\t                            Object.keys(stats).forEach(function (key) {\n\t                                map.set(key, stats[key]);\n\t                                map[key] = stats[key];\n\t                            });\n\t                            return map;\n\t                        };\n\t\n\t                        var nativeGetStats = RTCPeerConnection.prototype.getStats;\n\t                        RTCPeerConnection.prototype.getStats = function (selector, onSucc, onErr) {\n\t                            return nativeGetStats.apply(this, [selector || null]).then(function (stats) {\n\t                                return makeMapStats(stats);\n\t                            }).then(onSucc, onErr);\n\t                        };\n\t                    }\n\t                }\n\t            };\n\t\n\t            // Expose public methods.\n\t            module.exports = {\n\t                shimOnTrack: firefoxShim.shimOnTrack,\n\t                shimSourceObject: firefoxShim.shimSourceObject,\n\t                shimPeerConnection: firefoxShim.shimPeerConnection,\n\t                shimGetUserMedia: require('./getusermedia')\n\t            };\n\t        }, { \"../utils\": 10, \"./getusermedia\": 8 }], 8: [function (require, module, exports) {\n\t            /*\n\t             *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n\t             *\n\t             *  Use of this source code is governed by a BSD-style license\n\t             *  that can be found in the LICENSE file in the root of the source\n\t             *  tree.\n\t             */\n\t            /* eslint-env node */\n\t\n\t            var logging = require('../utils').log;\n\t            var browserDetails = require('../utils').browserDetails;\n\t\n\t            // Expose public methods.\n\t            module.exports = function () {\n\t                var shimError_ = function shimError_(e) {\n\t                    return {\n\t                        name: {\n\t                            SecurityError: 'NotAllowedError',\n\t                            PermissionDeniedError: 'NotAllowedError'\n\t                        }[e.name] || e.name,\n\t                        message: {\n\t                            'The operation is insecure.': 'The request is not allowed by the ' + 'user agent or the platform in the current context.'\n\t                        }[e.message] || e.message,\n\t                        constraint: e.constraint,\n\t                        toString: function toString() {\n\t                            return this.name + (this.message && ': ') + this.message;\n\t                        }\n\t                    };\n\t                };\n\t\n\t                // getUserMedia constraints shim.\n\t                var getUserMedia_ = function getUserMedia_(constraints, onSuccess, onError) {\n\t                    var constraintsToFF37_ = function constraintsToFF37_(c) {\n\t                        if ((typeof c === 'undefined' ? 'undefined' : _typeof(c)) !== 'object' || c.require) {\n\t                            return c;\n\t                        }\n\t                        var require = [];\n\t                        Object.keys(c).forEach(function (key) {\n\t                            if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n\t                                return;\n\t                            }\n\t                            var r = c[key] = _typeof(c[key]) === 'object' ? c[key] : { ideal: c[key] };\n\t                            if (r.min !== undefined || r.max !== undefined || r.exact !== undefined) {\n\t                                require.push(key);\n\t                            }\n\t                            if (r.exact !== undefined) {\n\t                                if (typeof r.exact === 'number') {\n\t                                    r.min = r.max = r.exact;\n\t                                } else {\n\t                                    c[key] = r.exact;\n\t                                }\n\t                                delete r.exact;\n\t                            }\n\t                            if (r.ideal !== undefined) {\n\t                                c.advanced = c.advanced || [];\n\t                                var oc = {};\n\t                                if (typeof r.ideal === 'number') {\n\t                                    oc[key] = { min: r.ideal, max: r.ideal };\n\t                                } else {\n\t                                    oc[key] = r.ideal;\n\t                                }\n\t                                c.advanced.push(oc);\n\t                                delete r.ideal;\n\t                                if (!Object.keys(r).length) {\n\t                                    delete c[key];\n\t                                }\n\t                            }\n\t                        });\n\t                        if (require.length) {\n\t                            c.require = require;\n\t                        }\n\t                        return c;\n\t                    };\n\t                    constraints = JSON.parse(JSON.stringify(constraints));\n\t                    if (browserDetails.version < 38) {\n\t                        logging('spec: ' + JSON.stringify(constraints));\n\t                        if (constraints.audio) {\n\t                            constraints.audio = constraintsToFF37_(constraints.audio);\n\t                        }\n\t                        if (constraints.video) {\n\t                            constraints.video = constraintsToFF37_(constraints.video);\n\t                        }\n\t                        logging('ff37: ' + JSON.stringify(constraints));\n\t                    }\n\t                    return navigator.mozGetUserMedia(constraints, onSuccess, function (e) {\n\t                        onError(shimError_(e));\n\t                    });\n\t                };\n\t\n\t                // Returns the result of getUserMedia as a Promise.\n\t                var getUserMediaPromise_ = function getUserMediaPromise_(constraints) {\n\t                    return new Promise(function (resolve, reject) {\n\t                        getUserMedia_(constraints, resolve, reject);\n\t                    });\n\t                };\n\t\n\t                // Shim for mediaDevices on older versions.\n\t                if (!navigator.mediaDevices) {\n\t                    navigator.mediaDevices = { getUserMedia: getUserMediaPromise_,\n\t                        addEventListener: function addEventListener() {},\n\t                        removeEventListener: function removeEventListener() {}\n\t                    };\n\t                }\n\t                navigator.mediaDevices.enumerateDevices = navigator.mediaDevices.enumerateDevices || function () {\n\t                    return new Promise(function (resolve) {\n\t                        var infos = [{ kind: 'audioinput', deviceId: 'default', label: '', groupId: '' }, { kind: 'videoinput', deviceId: 'default', label: '', groupId: '' }];\n\t                        resolve(infos);\n\t                    });\n\t                };\n\t\n\t                if (browserDetails.version < 41) {\n\t                    // Work around http://bugzil.la/1169665\n\t                    var orgEnumerateDevices = navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n\t                    navigator.mediaDevices.enumerateDevices = function () {\n\t                        return orgEnumerateDevices().then(undefined, function (e) {\n\t                            if (e.name === 'NotFoundError') {\n\t                                return [];\n\t                            }\n\t                            throw e;\n\t                        });\n\t                    };\n\t                }\n\t                if (browserDetails.version < 49) {\n\t                    var origGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n\t                    navigator.mediaDevices.getUserMedia = function (c) {\n\t                        return origGetUserMedia(c).then(function (stream) {\n\t                            // Work around https://bugzil.la/802326\n\t                            if (c.audio && !stream.getAudioTracks().length || c.video && !stream.getVideoTracks().length) {\n\t                                stream.getTracks().forEach(function (track) {\n\t                                    track.stop();\n\t                                });\n\t                                throw new DOMException('The object can not be found here.', 'NotFoundError');\n\t                            }\n\t                            return stream;\n\t                        }, function (e) {\n\t                            return Promise.reject(shimError_(e));\n\t                        });\n\t                    };\n\t                }\n\t                navigator.getUserMedia = function (constraints, onSuccess, onError) {\n\t                    if (browserDetails.version < 44) {\n\t                        return getUserMedia_(constraints, onSuccess, onError);\n\t                    }\n\t                    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n\t                    console.warn('navigator.getUserMedia has been replaced by ' + 'navigator.mediaDevices.getUserMedia');\n\t                    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n\t                };\n\t            };\n\t        }, { \"../utils\": 10 }], 9: [function (require, module, exports) {\n\t            /*\n\t             *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n\t             *\n\t             *  Use of this source code is governed by a BSD-style license\n\t             *  that can be found in the LICENSE file in the root of the source\n\t             *  tree.\n\t             */\n\t\n\t            var safariShim = {\n\t                // TODO: DrAlex, should be here, double check against LayoutTests\n\t                // shimOnTrack: function() { },\n\t\n\t                // TODO: once the back-end for the mac port is done, add.\n\t                // TODO: check for webkitGTK+\n\t                // shimPeerConnection: function() { },\n\t\n\t                shimGetUserMedia: function shimGetUserMedia() {\n\t                    navigator.getUserMedia = navigator.webkitGetUserMedia;\n\t                }\n\t            };\n\t\n\t            // Expose public methods.\n\t            module.exports = {\n\t                shimGetUserMedia: safariShim.shimGetUserMedia\n\t                // TODO\n\t                // shimOnTrack: safariShim.shimOnTrack,\n\t                // shimPeerConnection: safariShim.shimPeerConnection\n\t            };\n\t        }, {}], 10: [function (require, module, exports) {\n\t            /*\n\t             *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n\t             *\n\t             *  Use of this source code is governed by a BSD-style license\n\t             *  that can be found in the LICENSE file in the root of the source\n\t             *  tree.\n\t             */\n\t            /* eslint-env node */\n\t\n\t            var logDisabled_ = true;\n\t\n\t            // Utility methods.\n\t            var utils = {\n\t                disableLog: function disableLog(bool) {\n\t                    if (typeof bool !== 'boolean') {\n\t                        return new Error('Argument type: ' + (typeof bool === 'undefined' ? 'undefined' : _typeof(bool)) + '. Please use a boolean.');\n\t                    }\n\t                    logDisabled_ = bool;\n\t                    return bool ? 'adapter.js logging disabled' : 'adapter.js logging enabled';\n\t                },\n\t\n\t                log: function log() {\n\t                    if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object') {\n\t                        if (logDisabled_) {\n\t                            return;\n\t                        }\n\t                        if (typeof console !== 'undefined' && typeof console.log === 'function') {\n\t                            console.log.apply(console, arguments);\n\t                        }\n\t                    }\n\t                },\n\t\n\t                /**\n\t                 * Extract browser version out of the provided user agent string.\n\t                 *\n\t                 * @param {!string} uastring userAgent string.\n\t                 * @param {!string} expr Regular expression used as match criteria.\n\t                 * @param {!number} pos position in the version string to be returned.\n\t                 * @return {!number} browser version.\n\t                 */\n\t                extractVersion: function extractVersion(uastring, expr, pos) {\n\t                    var match = uastring.match(expr);\n\t                    return match && match.length >= pos && parseInt(match[pos], 10);\n\t                },\n\t\n\t                /**\n\t                 * Browser detector.\n\t                 *\n\t                 * @return {object} result containing browser and version\n\t                 *     properties.\n\t                 */\n\t                detectBrowser: function detectBrowser() {\n\t                    // Returned result object.\n\t                    var result = {};\n\t                    result.browser = null;\n\t                    result.version = null;\n\t\n\t                    // Fail early if it's not a browser\n\t                    if (typeof window === 'undefined' || !window.navigator) {\n\t                        result.browser = 'Not a browser.';\n\t                        return result;\n\t                    }\n\t\n\t                    // Firefox.\n\t                    if (navigator.mozGetUserMedia) {\n\t                        result.browser = 'firefox';\n\t                        result.version = this.extractVersion(navigator.userAgent, /Firefox\\/([0-9]+)\\./, 1);\n\t\n\t                        // all webkit-based browsers\n\t                    } else if (navigator.webkitGetUserMedia) {\n\t                        // Chrome, Chromium, Webview, Opera, all use the chrome shim for now\n\t                        if (window.webkitRTCPeerConnection) {\n\t                            result.browser = 'chrome';\n\t                            result.version = this.extractVersion(navigator.userAgent, /Chrom(e|ium)\\/([0-9]+)\\./, 2);\n\t\n\t                            // Safari or unknown webkit-based\n\t                            // for the time being Safari has support for MediaStreams but not webRTC\n\t                        } else {\n\t                            // Safari UA substrings of interest for reference:\n\t                            // - webkit version:           AppleWebKit/602.1.25 (also used in Op,Cr)\n\t                            // - safari UI version:        Version/9.0.3 (unique to Safari)\n\t                            // - safari UI webkit version: Safari/601.4.4 (also used in Op,Cr)\n\t                            //\n\t                            // if the webkit version and safari UI webkit versions are equals,\n\t                            // ... this is a stable version.\n\t                            //\n\t                            // only the internal webkit version is important today to know if\n\t                            // media streams are supported\n\t                            //\n\t                            if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n\t                                result.browser = 'safari';\n\t                                result.version = this.extractVersion(navigator.userAgent, /AppleWebKit\\/([0-9]+)\\./, 1);\n\t\n\t                                // unknown webkit-based browser\n\t                            } else {\n\t                                result.browser = 'Unsupported webkit-based browser ' + 'with GUM support but no WebRTC support.';\n\t                                return result;\n\t                            }\n\t                        }\n\t\n\t                        // Edge.\n\t                    } else if (navigator.mediaDevices && navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) {\n\t                        result.browser = 'edge';\n\t                        result.version = this.extractVersion(navigator.userAgent, /Edge\\/(\\d+).(\\d+)$/, 2);\n\t\n\t                        // Default fallthrough: not supported.\n\t                    } else {\n\t                        result.browser = 'Not a supported browser.';\n\t                        return result;\n\t                    }\n\t\n\t                    return result;\n\t                }\n\t            };\n\t\n\t            // Export.\n\t            module.exports = {\n\t                log: utils.log,\n\t                disableLog: utils.disableLog,\n\t                browserDetails: utils.detectBrowser(),\n\t                extractVersion: utils.extractVersion\n\t            };\n\t        }, {}] }, {}, [2])(2);\n\t});\n\t/* global define, module, require, console, MediaStreamTrack, createIceServer, RTCIceCandidate, RTCPeerConnection, RTCSessionDescription */\n\t/*!\n\t  Script: easyrtc.js\n\t\n\t    Provides client side support for the EasyRTC framework.\n\t    See the easyrtc_client_api.md and easyrtc_client_tutorial.md\n\t    for more details.\n\t\n\t  About: License\n\t\n\t    Copyright (c) 2016, Priologic Software Inc.\n\t    All rights reserved.\n\t\n\t    Redistribution and use in source and binary forms, with or without\n\t    modification, are permitted provided that the following conditions are met:\n\t\n\t        * Redistributions of source code must retain the above copyright notice,\n\t          this list of conditions and the following disclaimer.\n\t        * Redistributions in binary form must reproduce the above copyright\n\t          notice, this list of conditions and the following disclaimer in the\n\t          documentation and/or other materials provided with the distribution.\n\t\n\t    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n\t    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n\t    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n\t    ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n\t    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n\t    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n\t    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n\t    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n\t    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n\t    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n\t    POSSIBILITY OF SUCH DAMAGE.\n\t*/\n\t\n\t(function (root, factory) {\n\t    if (true) {\n\t        //RequireJS (AMD) build system\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__WEBPACK_LOCAL_MODULE_0__, __WEBPACK_LOCAL_MODULE_1__, __webpack_require__(/*! socket.io-client */ 83)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_LOCAL_MODULE_2__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__));\n\t    } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) === 'object' && module.exports) {\n\t        //CommonJS build system\n\t        module.exports = factory(require('easyrtc_lang'), require('webrtc-adapter'), require('socket.io-cient'));\n\t    } else {\n\t        //Vanilla JS, ensure dependencies are loaded correctly\n\t        if (typeof window.io === 'undefined' || !window.io) {\n\t            throw new Error(\"easyrtc requires socket.io\");\n\t        }\n\t        root.easyrtc = factory(window.easyrtc_lang, window.adapter, window.io);\n\t    }\n\t})(undefined, function (easyrtc_lang, adapter, io, undefined) {\n\t\n\t    /**\n\t     * @class Easyrtc.\n\t     *\n\t     * @returns {Easyrtc} the new easyrtc instance.\n\t     *\n\t     * @constructs Easyrtc\n\t     */\n\t    var Easyrtc = function Easyrtc() {\n\t\n\t        var self = this;\n\t\n\t        function logDebug(message, obj) {\n\t            if (self.debugPrinter) {\n\t                self.debugPrinter(message, obj);\n\t            }\n\t        }\n\t\n\t        function isEmptyObj(obj) {\n\t            if (obj === null || obj === undefined) {\n\t                return true;\n\t            }\n\t            var key;\n\t            for (key in obj) {\n\t                if (obj.hasOwnProperty(key)) {\n\t                    return false;\n\t                }\n\t            }\n\t            return true;\n\t        }\n\t\n\t        /** @private */\n\t        var autoInitUserMedia = true;\n\t        /** @private */\n\t        var sdpLocalFilter = null;\n\t        /** @private */\n\t        var sdpRemoteFilter = null;\n\t        /** @private */\n\t        var iceCandidateFilter = null;\n\t        /** @private */\n\t        var iceConnectionStateChangeListener = null;\n\t        var signalingStateChangeListener = null;\n\t        /** @private */\n\t        var connectionOptions = {\n\t            'connect timeout': 10000,\n\t            'force new connection': true\n\t        };\n\t\n\t        /** @private */\n\t        //\n\t        // this function replaces the deprecated MediaStream.stop method\n\t        //\n\t        function stopStream(stream) {\n\t            var i;\n\t            var tracks;\n\t\n\t            tracks = stream.getAudioTracks();\n\t            for (i = 0; i < tracks.length; i++) {\n\t                try {\n\t                    tracks[i].stop();\n\t                } catch (err) {}\n\t            }\n\t            tracks = stream.getVideoTracks();\n\t            for (i = 0; i < tracks.length; i++) {\n\t                try {\n\t                    tracks[i].stop();\n\t                } catch (err) {}\n\t            }\n\t\n\t            if (typeof stream.stop === 'function') {\n\t                try {\n\t                    stream.stop();\n\t                } catch (err) {}\n\t            }\n\t        }\n\t\n\t        /**\n\t         * Sets functions which filter sdp records before calling setLocalDescription or setRemoteDescription.\n\t         * This is advanced functionality which can break things, easily. See the easyrtc_rates.js file for a\n\t         * filter builder.\n\t         * @param {Function} localFilter a function that takes an sdp string and returns an sdp string.\n\t         * @param {Function} remoteFilter a function that takes an sdp string and returns an sdp string.\n\t         */\n\t        this.setSdpFilters = function (localFilter, remoteFilter) {\n\t            sdpLocalFilter = localFilter;\n\t            sdpRemoteFilter = remoteFilter;\n\t        };\n\t\n\t        /**\n\t         * Sets a function to warn about the peer connection closing.\n\t         *  @param {Function} handler: a function that gets an easyrtcid as an argument.\n\t         */\n\t        this.setPeerClosedListener = function (handler) {\n\t            this.onPeerClosed = handler;\n\t        };\n\t\n\t        /**\n\t         * Sets a function to warn about the peer connection open.\n\t         *  @param {Function} handler: a function that gets an easyrtcid as an argument.\n\t         */\n\t        this.setPeerOpenListener = function (handler) {\n\t            this.onPeerOpen = handler;\n\t        };\n\t\n\t        /**\n\t         * Sets a function to receive warnings about the peer connection\n\t         * failing. The peer connection may recover by itself.\n\t         *  @param {Function} failingHandler: a function that gets an easyrtcid as an argument.\n\t         *  @param {Function} recoveredHandler: a function that gets an easyrtcid as an argument.\n\t         */\n\t        this.setPeerFailingListener = function (failingHandler, recoveredHandler) {\n\t            this.onPeerFailing = failingHandler;\n\t            this.onPeerRecovered = recoveredHandler;\n\t        };\n\t\n\t        /**\n\t         * Sets a function which filters IceCandidate records being sent or received.\n\t         *\n\t         * Candidate records can be received while they are being generated locally (before being\n\t         * sent to a peer), and after they are received by the peer. The filter receives two arguments, the candidate record and a boolean\n\t         * flag that is true for a candidate being received from another peer,\n\t         * and false for a candidate that was generated locally. The candidate record has the form:\n\t         *  {type: 'candidate', label: sdpMLineIndex, id: sdpMid, candidate: candidateString}\n\t         * The function should return one of the following: the input candidate record, a modified candidate record, or null (indicating that the\n\t         * candidate should be discarded).\n\t         * @param {Function} filter\n\t         */\n\t        this.setIceCandidateFilter = function (filter) {\n\t            iceCandidateFilter = filter;\n\t        };\n\t\n\t        /**\n\t         * Sets a function that listens on IceConnectionStateChange events.\n\t         *\n\t         * During ICE negotiation the peer connection fires the iceconnectionstatechange event.\n\t         * It is sometimes useful for the application to learn about these changes, especially if the ICE connection fails.\n\t         * The function should accept three parameters: the easyrtc id of the peer, the iceconnectionstatechange event target and the iceconnectionstate.\n\t         * @param {Function} listener\n\t         */\n\t        this.setIceConnectionStateChangeListener = function (listener) {\n\t            iceConnectionStateChangeListener = listener;\n\t        };\n\t\n\t        /**\n\t         * Sets a function that listens on SignalingStateChange events.\n\t         *\n\t         * During ICE negotiation the peer connection fires the signalingstatechange event.\n\t         * The function should accept three parameters: the easyrtc id of the peer, the signalingstatechange event target and the signalingstate.\n\t         * @param {Function} listener\n\t         */\n\t        this.setSignalingStateChangeListener = function (listener) {\n\t            signalingStateChangeListener = listener;\n\t        };\n\t\n\t        /**\n\t         * Controls whether a default local media stream should be acquired automatically during calls and accepts\n\t         * if a list of streamNames is not supplied. The default is true, which mimics the behaviour of earlier releases\n\t         * that didn't support multiple streams. This function should be called before easyrtc.call or before entering an\n\t         * accept  callback.\n\t         * @param {Boolean} flag true to allocate a default local media stream.\n\t         */\n\t        this.setAutoInitUserMedia = function (flag) {\n\t            autoInitUserMedia = !!flag;\n\t        };\n\t\n\t        /**\n\t         * This function performs a printf like formatting. It actually takes an unlimited\n\t         * number of arguments, the declared arguments arg1, arg2, arg3 are present just for\n\t         * documentation purposes.\n\t         * @param {String} format A string like \"abcd{1}efg{2}hij{1}.\"\n\t         * @param {String} arg1 The value that replaces {1}\n\t         * @param {String} arg2 The value that replaces {2}\n\t         * @param {String} arg3 The value that replaces {3}\n\t         * @returns {String} the formatted string.\n\t         */\n\t        this.format = function (format, arg1, arg2, arg3) {\n\t            var formatted = arguments[0];\n\t            for (var i = 1; i < arguments.length; i++) {\n\t                var regexp = new RegExp('\\\\{' + (i - 1) + '\\\\}', 'gi');\n\t                formatted = formatted.replace(regexp, arguments[i]);\n\t            }\n\t            return formatted;\n\t        };\n\t\n\t        /**\n\t         * This function checks if a socket is actually connected.\n\t         * @private\n\t         * @param {Object} socket a socket.io socket.\n\t         * @return true if the socket exists and is connected, false otherwise.\n\t        */\n\t        function isSocketConnected(socket) {\n\t            return socket && (socket.socket && socket.socket.connected || socket.connected);\n\t        }\n\t\n\t        /** @private */\n\t        //\n\t        // Maps a key to a language specific string using the easyrtc_lang map.\n\t        // Defaults to the key if the key can not be found, but outputs a warning in that case.\n\t        // This function is only used internally by easyrtc.js\n\t        //\n\t        var haveAudioVideo = {\n\t            audio: false,\n\t            video: false\n\t        };\n\t\n\t        /**\n\t         * @private\n\t         * @param {String} key\n\t         */\n\t        this.getConstantString = function (key) {\n\t            if (easyrtc_lang[key]) {\n\t                return easyrtc_lang[key];\n\t            } else {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"Could not find key='\" + key + \"' in easyrtc_lang\");\n\t                return key;\n\t            }\n\t        };\n\t\n\t        /** @private */\n\t        //\n\t        // this is a list of the events supported by the generalized event listener.\n\t        //\n\t        var allowedEvents = {\n\t            roomOccupant: true, // this receives the list of everybody in any room you belong to\n\t            roomOccupants: true // this receives a {roomName:..., occupants:...} value for a specific room\n\t        };\n\t\n\t        /** @private */\n\t        //\n\t        // A map of eventListeners. The key is the event type.\n\t        //\n\t        var eventListeners = {};\n\t\n\t        /**\n\t         * This function checks if an attempt was made to add an event listener or\n\t         * or emit an unlisted event, since such is typically a typo.\n\t         * @private\n\t         * @param {String} eventName\n\t         * @param {String} callingFunction the name of the calling function.\n\t         */\n\t        function event(eventName, callingFunction) {\n\t            if (typeof eventName !== 'string') {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, callingFunction + \" called without a string as the first argument\");\n\t                throw \"developer error\";\n\t            }\n\t            if (!allowedEvents[eventName]) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, callingFunction + \" called with a bad event name = \" + eventName);\n\t                throw \"developer error\";\n\t            }\n\t        }\n\t\n\t        /**\n\t         * Adds an event listener for a particular type of event.\n\t         * Currently the only eventName supported is \"roomOccupant\".\n\t         * @param {String} eventName the type of the event\n\t         * @param {Function} eventListener the function that expects the event.\n\t         * The eventListener gets called with the eventName as it's first argument, and the event\n\t         * data as it's second argument.\n\t         * @returns {void}\n\t         */\n\t        this.addEventListener = function (eventName, eventListener) {\n\t            event(eventName, \"addEventListener\");\n\t            if (typeof eventListener !== 'function') {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"addEventListener called with a non-function for second argument\");\n\t                throw \"developer error\";\n\t            }\n\t            //\n\t            // remove the event listener if it's already present so we don't end up with two copies\n\t            //\n\t            self.removeEventListener(eventName, eventListener);\n\t            if (!eventListeners[eventName]) {\n\t                eventListeners[eventName] = [];\n\t            }\n\t            eventListeners[eventName][eventListeners[eventName].length] = eventListener;\n\t        };\n\t\n\t        /**\n\t         * Removes an event listener.\n\t         * @param {String} eventName\n\t         * @param {Function} eventListener\n\t         */\n\t        this.removeEventListener = function (eventName, eventListener) {\n\t            event(eventName, \"removeEventListener\");\n\t            var listeners = eventListeners[eventName];\n\t            var i = 0;\n\t            if (listeners) {\n\t                for (i = 0; i < listeners.length; i++) {\n\t                    if (listeners[i] === eventListener) {\n\t                        if (i < listeners.length - 1) {\n\t                            listeners[i] = listeners[listeners.length - 1];\n\t                        }\n\t                        listeners.length = listeners.length - 1;\n\t                    }\n\t                }\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Emits an event, or in other words, calls all the eventListeners for a\n\t         * particular event.\n\t         * @param {String} eventName\n\t         * @param {Object} eventData\n\t         */\n\t        this.emitEvent = function (eventName, eventData) {\n\t            event(eventName, \"emitEvent\");\n\t            var listeners = eventListeners[eventName];\n\t            var i = 0;\n\t            if (listeners) {\n\t                for (i = 0; i < listeners.length; i++) {\n\t                    listeners[i](eventName, eventData);\n\t                }\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Error codes that the EasyRTC will use in the errorCode field of error object passed\n\t         * to error handler set by easyrtc.setOnError. The error codes are short printable strings.\n\t         * @type Object\n\t         */\n\t        this.errCodes = {\n\t            BAD_NAME: \"BAD_NAME\", // a user name wasn't of the desired form\n\t            CALL_ERR: \"CALL_ERR\", // something went wrong creating the peer connection\n\t            DEVELOPER_ERR: \"DEVELOPER_ERR\", // the developer using the EasyRTC library made a mistake\n\t            SYSTEM_ERR: \"SYSTEM_ERR\", // probably an error related to the network\n\t            CONNECT_ERR: \"CONNECT_ERR\", // error occurred when trying to create a connection\n\t            MEDIA_ERR: \"MEDIA_ERR\", // unable to get the local media\n\t            MEDIA_WARNING: \"MEDIA_WARNING\", // didn't get the desired resolution\n\t            INTERNAL_ERR: \"INTERNAL_ERR\",\n\t            PEER_GONE: \"PEER_GONE\", // peer doesn't exist\n\t            ALREADY_CONNECTED: \"ALREADY_CONNECTED\",\n\t            BAD_CREDENTIAL: \"BAD_CREDENTIAL\",\n\t            ICECANDIDATE_ERR: \"ICECANDIDATE_ERR\",\n\t            NOVIABLEICE: \"NOVIABLEICE\",\n\t            SIGNAL_ERR: \"SIGNAL_ERR\"\n\t        };\n\t\n\t        this.apiVersion = \"1.1.0\";\n\t\n\t        /** Most basic message acknowledgment object */\n\t        this.ackMessage = { msgType: \"ack\" };\n\t\n\t        /** Regular expression pattern for user ids. This will need modification to support non US character sets */\n\t        this.usernameRegExp = /^(.){1,64}$/;\n\t\n\t        /** Default cookieId name */\n\t        this.cookieId = \"easyrtcsid\";\n\t\n\t        /** @private */\n\t        var username = null;\n\t\n\t        /** Flag to indicate that user is currently logging out */\n\t        this.loggingOut = false;\n\t\n\t        /** @private */\n\t        this.disconnecting = false;\n\t\n\t        /** @private */\n\t        //\n\t        // A map of ids to local media streams.\n\t        //\n\t        var namedLocalMediaStreams = {};\n\t\n\t        /** @private */\n\t        var sessionFields = [];\n\t\n\t        /** @private */\n\t        var receivedMediaConstraints = {};\n\t\n\t        /**\n\t         * Control whether the client requests audio from a peer during a call.\n\t         * Must be called before the call to have an effect.\n\t         * @param value - true to receive audio, false otherwise. The default is true.\n\t         */\n\t        this.enableAudioReceive = function (value) {\n\t            if (adapter && adapter.browserDetails && (adapter.browserDetails.browser === \"firefox\" || adapter.browserDetails.browser === \"edge\")) {\n\t                receivedMediaConstraints.offerToReceiveAudio = value;\n\t            } else {\n\t                receivedMediaConstraints.mandatory = receivedMediaConstraints.mandatory || {};\n\t                receivedMediaConstraints.mandatory.OfferToReceiveAudio = value;\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Control whether the client requests video from a peer during a call.\n\t         * Must be called before the call to have an effect.\n\t         * @param value - true to receive video, false otherwise. The default is true.\n\t         */\n\t        this.enableVideoReceive = function (value) {\n\t            if (adapter && adapter.browserDetails && (adapter.browserDetails.browser === \"firefox\" || adapter.browserDetails.browser === \"edge\")) {\n\t                receivedMediaConstraints.offerToReceiveVideo = value;\n\t            } else {\n\t                receivedMediaConstraints.mandatory = receivedMediaConstraints.mandatory || {};\n\t                receivedMediaConstraints.mandatory.OfferToReceiveVideo = value;\n\t            }\n\t        };\n\t\n\t        // True by default\n\t        // TODO should not be true by default only for legacy\n\t        this.enableAudioReceive(true);\n\t        this.enableVideoReceive(true);\n\t\n\t        function getSourceList(callback, sourceType) {\n\t            navigator.mediaDevices.enumerateDevices().then(function (values) {\n\t                var results = [];\n\t                for (var i = 0; i < values.length; i++) {\n\t                    var source = values[i];\n\t                    if (source.kind === sourceType) {\n\t                        source.id = source.deviceId; //backwards compatibility\n\t                        results.push(source);\n\t                    }\n\t                }\n\t                callback(results);\n\t            }).catch(function (reason) {\n\t                logDebug(\"Unable to enumerate devices (\" + reason + \")\");\n\t            });\n\t        }\n\t\n\t        /**\n\t         * Sets the audio output device of a Video object. \n\t         * That is to say, this controls what speakers get the sound.\n\t         * In theory, this works on Chrome but probably doesn't work anywhere else yet.\n\t         * This code was cribbed from https://webrtc.github.io/samples/src/content/devices/multi/.\n\t         *  @param {Object} element an HTML5 video element\n\t         *  @param {String} sinkId a deviceid from getAudioSinkList\n\t         */\n\t        this.setAudioOutput = function (element, sinkId) {\n\t            if (typeof element.sinkId !== 'undefined') {\n\t                element.setSinkId(sinkId).then(function () {\n\t                    logDebug('Success, audio output device attached: ' + sinkId + ' to ' + 'element with ' + element.title + ' as source.');\n\t                }).catch(function (error) {\n\t                    var errorMessage = error;\n\t                    if (error.name === 'SecurityError') {\n\t                        errorMessage = 'You need to use HTTPS for selecting audio output ' + 'device: ' + error;\n\t                    }\n\t                    logDebug(errorMessage);\n\t                });\n\t            } else {\n\t                logDebug('Browser does not support output device selection.');\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Gets a list of the available audio sinks (ie, speakers)\n\t         * @param {Function} callback receives list of {deviceId:String, groupId:String, label:String, kind:\"audio\"}\n\t         * @example  easyrtc.getAudioSinkList( function(list) {\n\t         *               var i;\n\t         *               for( i = 0; i < list.length; i++ ) {\n\t         *                   console.log(\"label=\" + list[i].label + \", id= \" + list[i].deviceId);\n\t         *               }\n\t         *          });\n\t         */\n\t        this.getAudioSinkList = function (callback) {\n\t            getSourceList(callback, \"audiooutput\");\n\t        };\n\t        /**\n\t         * Gets a list of the available audio sources (ie, microphones)\n\t         * @param {Function} callback receives list of {deviceId:String, groupId:String, label:String, kind:\"audio\"}\n\t         * @example  easyrtc.getAudioSourceList( function(list) {\n\t         *               var i;\n\t         *               for( i = 0; i < list.length; i++ ) {\n\t         *                   console.log(\"label=\" + list[i].label + \", id= \" + list[i].deviceId);\n\t         *               }\n\t         *          });\n\t         */\n\t        this.getAudioSourceList = function (callback) {\n\t            getSourceList(callback, \"audioinput\");\n\t        };\n\t\n\t        /**\n\t         * Gets a list of the available video sources (ie, cameras)\n\t         * @param {Function} callback receives list of {deviceId:String, groupId:String, label:String, kind:\"video\"}\n\t         * @example  easyrtc.getVideoSourceList( function(list) {\n\t         *               var i;\n\t         *               for( i = 0; i < list.length; i++ ) {\n\t         *                   console.log(\"label=\" + list[i].label + \", id= \" + list[i].deviceId);\n\t         *               }\n\t         *          });\n\t         */\n\t        this.getVideoSourceList = function (callback) {\n\t            getSourceList(callback, \"videoinput\");\n\t        };\n\t\n\t        /** @private */\n\t        var dataChannelName = \"dc\";\n\t        /** @private */\n\t        var oldConfig = {};\n\t        /** @private */\n\t        var offersPending = {};\n\t        /** @private */\n\t        var credential = null;\n\t\n\t        /** @private */\n\t        self.audioEnabled = true;\n\t        /** @private */\n\t        self.videoEnabled = true;\n\t        /** @private */\n\t        this.debugPrinter = null;\n\t        /** Your easyrtcid */\n\t        this.myEasyrtcid = \"\";\n\t\n\t        /** The height of the local media stream video in pixels. This field is set an indeterminate period\n\t         * of time after easyrtc.initMediaSource succeeds. Note: in actuality, the dimensions of a video stream\n\t         * change dynamically in response to external factors, you should check the videoWidth and videoHeight attributes\n\t         * of your video objects before you use them for pixel specific operations.\n\t         */\n\t        this.nativeVideoHeight = 0;\n\t\n\t        /** This constant determines how long (in bytes) a message can be before being split in chunks of that size.\n\t        * This is because there is a limitation of the length of the message you can send on the\n\t        * data channel between browsers.\n\t        */\n\t        this.maxP2PMessageLength = 1000;\n\t\n\t        /** The width of the local media stream video in pixels. This field is set an indeterminate period\n\t         * of time after easyrtc.initMediaSource succeeds.  Note: in actuality, the dimensions of a video stream\n\t         * change dynamically in response to external factors, you should check the videoWidth and videoHeight attributes\n\t         * of your video objects before you use them for pixel specific operations.\n\t         */\n\t        this.nativeVideoWidth = 0;\n\t\n\t        /** The rooms the user is in. This only applies to room oriented applications and is set at the same\n\t         * time a token is received.\n\t         */\n\t        this.roomJoin = {};\n\t\n\t        /** Checks if the supplied string is a valid user name (standard identifier rules)\n\t         * @param {String} name\n\t         * @return {Boolean} true for a valid user name\n\t         * @example\n\t         *    var name = document.getElementById('nameField').value;\n\t         *    if( !easyrtc.isNameValid(name)){\n\t         *        console.error(\"Bad user name\");\n\t         *    }\n\t         */\n\t        this.isNameValid = function (name) {\n\t            return self.usernameRegExp.test(name);\n\t        };\n\t\n\t        /**\n\t         * This function sets the name of the cookie that client side library will look for\n\t         * and transmit back to the server as it's easyrtcsid in the first message.\n\t         * @param {String} cookieId\n\t         */\n\t        this.setCookieId = function (cookieId) {\n\t            self.cookieId = cookieId;\n\t        };\n\t\n\t        /** @private */\n\t        this._desiredVideoProperties = {}; // default camera\n\t\n\t        /**\n\t         * Specify particular video source. Call this before you call easyrtc.initMediaSource().\n\t         * @param {String} videoSrcId is a id value from one of the entries fetched by getVideoSourceList. null for default.\n\t         * @example easyrtc.setVideoSource( videoSrcId);\n\t         */\n\t        this.setVideoSource = function (videoSrcId) {\n\t            self._desiredVideoProperties.videoSrcId = videoSrcId;\n\t            delete self._desiredVideoProperties.screenCapture;\n\t        };\n\t\n\t        /** @private */\n\t        this._desiredAudioProperties = {}; // default camera\n\t\n\t        /**\n\t         * Specify particular video source. Call this before you call easyrtc.initMediaSource().\n\t         * @param {String} audioSrcId is a id value from one of the entries fetched by getAudioSourceList. null for default.\n\t         * @example easyrtc.setAudioSource( audioSrcId);\n\t         */\n\t        this.setAudioSource = function (audioSrcId) {\n\t            self._desiredAudioProperties.audioSrcId = audioSrcId;\n\t        };\n\t\n\t        /** This function is used to set the dimensions of the local camera, usually to get HD.\n\t         *  If called, it must be called before calling easyrtc.initMediaSource (explicitly or implicitly).\n\t         *  assuming it is supported. If you don't pass any parameters, it will use default camera dimensions.\n\t         * @param {Number} width in pixels\n\t         * @param {Number} height in pixels\n\t         * @param {number} frameRate is optional\n\t         * @example\n\t         *    easyrtc.setVideoDims(1280,720);\n\t         * @example\n\t         *    easyrtc.setVideoDims();\n\t         */\n\t        this.setVideoDims = function (width, height, frameRate) {\n\t            self._desiredVideoProperties.width = width;\n\t            self._desiredVideoProperties.height = height;\n\t            if (frameRate !== undefined) {\n\t                self._desiredVideoProperties.frameRate = frameRate;\n\t            }\n\t        };\n\t\n\t        /** This function requests that screen capturing be used to provide the local media source\n\t         * rather than a webcam. If you have multiple screens, they are composited side by side.\n\t         * Note: this functionality is not supported by Firefox, has to be called before calling initMediaSource (or easyApp), we don't currently supply a way to\n\t         * turn it off (once it's on), only works if the website is hosted SSL (https), and the image quality is rather\n\t         * poor going across a network because it tries to transmit so much data. In short, screen sharing\n\t         * through WebRTC isn't worth using at this point, but it is provided here so people can try it out.\n\t         * @example\n\t         *    easyrtc.setScreenCapture();\n\t         * @deprecated: use easyrtc.initScreenCapture (same parameters as easyrtc.initMediaSource.\n\t         */\n\t        this.setScreenCapture = function (enableScreenCapture) {\n\t            self._desiredVideoProperties.screenCapture = enableScreenCapture !== false;\n\t        };\n\t\n\t        /**\n\t         * Builds the constraint object passed to getUserMedia.\n\t         * @returns {Object} mediaConstraints\n\t         */\n\t        self.getUserMediaConstraints = function () {\n\t            var constraints = {};\n\t            //\n\t            // _presetMediaConstraints allow you to provide your own constraints to be used\n\t            // with initMediaSource.\n\t            //\n\t            if (self._presetMediaConstraints) {\n\t                constraints = self._presetMediaConstraints;\n\t                delete self._presetMediaConstraints;\n\t                return constraints;\n\t            } else if (self._desiredVideoProperties.screenCapture) {\n\t                return {\n\t                    video: {\n\t                        mandatory: {\n\t                            chromeMediaSource: 'screen',\n\t                            maxWidth: screen.width,\n\t                            maxHeight: screen.height,\n\t                            minWidth: screen.width,\n\t                            minHeight: screen.height,\n\t                            minFrameRate: 1,\n\t                            maxFrameRate: 5 },\n\t                        optional: []\n\t                    },\n\t                    audio: false\n\t                };\n\t            } else if (!self.videoEnabled) {\n\t                constraints.video = false;\n\t            } else {\n\t\n\t                // Tested Firefox 49 and MS Edge require minFrameRate and maxFrameRate \n\t                // instead max,min,ideal that cause GetUserMedia failure.\n\t                // Until confirmed both browser support idea,max and min we need this.\n\t                if (adapter && adapter.browserDetails && (adapter.browserDetails.browser === \"firefox\" || adapter.browserDetails.browser === \"edge\")) {\n\t                    constraints.video = {};\n\t                    if (self._desiredVideoProperties.width) {\n\t                        constraints.video.width = self._desiredVideoProperties.width;\n\t                    }\n\t                    if (self._desiredVideoProperties.height) {\n\t                        constraints.video.height = self._desiredVideoProperties.height;\n\t                    }\n\t                    if (self._desiredVideoProperties.frameRate) {\n\t                        constraints.video.frameRate = {\n\t                            minFrameRate: self._desiredVideoProperties.frameRate,\n\t                            maxFrameRate: self._desiredVideoProperties.frameRate\n\t                        };\n\t                    }\n\t                    if (self._desiredVideoProperties.videoSrcId) {\n\t                        constraints.video.deviceId = self._desiredVideoProperties.videoSrcId;\n\t                    }\n\t\n\t                    // chrome and opera\n\t                } else {\n\t                    constraints.video = {};\n\t                    if (self._desiredVideoProperties.width) {\n\t                        constraints.video.width = {\n\t                            max: self._desiredVideoProperties.width,\n\t                            min: self._desiredVideoProperties.width,\n\t                            ideal: self._desiredVideoProperties.width\n\t                        };\n\t                    }\n\t                    if (self._desiredVideoProperties.height) {\n\t                        constraints.video.height = {\n\t                            max: self._desiredVideoProperties.height,\n\t                            min: self._desiredVideoProperties.height,\n\t                            ideal: self._desiredVideoProperties.height\n\t                        };\n\t                    }\n\t                    if (self._desiredVideoProperties.frameRate) {\n\t                        constraints.video.frameRate = {\n\t                            max: self._desiredVideoProperties.frameRate,\n\t                            ideal: self._desiredVideoProperties.frameRate\n\t                        };\n\t                    }\n\t                    if (self._desiredVideoProperties.videoSrcId) {\n\t                        constraints.video.deviceId = self._desiredVideoProperties.videoSrcId;\n\t                    }\n\t                    // hack for opera\n\t                    if (Object.keys(constraints.video).length === 0) {\n\t                        constraints.video = true;\n\t                    }\n\t                }\n\t            }\n\t\n\t            if (!self.audioEnabled) {\n\t                constraints.audio = false;\n\t            } else {\n\t                if (adapter && adapter.browserDetails && adapter.browserDetails.browser === \"firefox\") {\n\t                    constraints.audio = {};\n\t                    if (self._desiredAudioProperties.audioSrcId) {\n\t                        constraints.audio.deviceId = self._desiredAudioProperties.audioSrcId;\n\t                    }\n\t                } else {\n\t                    // chrome and opera\n\t                    constraints.audio = { mandatory: {}, optional: [] };\n\t                    if (self._desiredAudioProperties.audioSrcId) {\n\t                        constraints.audio.optional = constraints.audio.optional || [];\n\t                        constraints.audio.optional.push({ deviceId: self._desiredAudioProperties.audioSrcId });\n\t                    }\n\t                }\n\t            }\n\t            return constraints;\n\t        };\n\t\n\t        /** Set the application name. Applications can only communicate with other applications\n\t         * that share the same API Key and application name. There is no predefined set of application\n\t         * names. Maximum length is\n\t         * @param {String} name\n\t         * @example\n\t         *    easyrtc.setApplicationName('simpleAudioVideo');\n\t         */\n\t        this.setApplicationName = function (name) {\n\t            self.applicationName = name;\n\t        };\n\t\n\t        /** Enable or disable logging to the console.\n\t         * Note: if you want to control the printing of debug messages, override the\n\t         *    easyrtc.debugPrinter variable with a function that takes a message string as it's argument.\n\t         *    This is exactly what easyrtc.enableDebug does when it's enable argument is true.\n\t         * @param {Boolean} enable - true to turn on debugging, false to turn off debugging. Default is false.\n\t         * @example\n\t         *    easyrtc.enableDebug(true);\n\t         */\n\t        this.enableDebug = function (enable) {\n\t            if (enable) {\n\t                self.debugPrinter = function (message, obj) {\n\t                    var now = new Date().toISOString();\n\t                    var stackString = new Error().stack;\n\t                    var srcLine = \"location unknown\";\n\t                    if (stackString) {\n\t                        var stackFrameStrings = stackString.split('\\n');\n\t                        srcLine = \"\";\n\t                        if (stackFrameStrings.length >= 5) {\n\t                            srcLine = stackFrameStrings[4];\n\t                        }\n\t                    }\n\t\n\t                    console.log(\"debug \" + now + \" : \" + message + \" [\" + srcLine + \"]\");\n\t\n\t                    if (typeof obj !== 'undefined') {\n\t                        console.log(\"debug \" + now + \" : \", obj);\n\t                    }\n\t                };\n\t            } else {\n\t                self.debugPrinter = null;\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Determines if the local browser supports WebRTC GetUserMedia (access to camera and microphone).\n\t         * @returns {Boolean} True getUserMedia is supported.\n\t         */\n\t        this.supportsGetUserMedia = function () {\n\t            return typeof navigator.getUserMedia !== 'undefined';\n\t        };\n\t\n\t        /**\n\t         * Determines if the local browser supports WebRTC Peer connections to the extent of being able to do video chats.\n\t         * @returns {Boolean} True if Peer connections are supported.\n\t         */\n\t        this.supportsPeerConnections = function () {\n\t            return typeof RTCPeerConnection !== 'undefined';\n\t        };\n\t\n\t        /** Determines whether the current browser supports the new data channels.\n\t         * EasyRTC will not open up connections with the old data channels.\n\t         * @returns {Boolean}\n\t         */\n\t        this.supportsDataChannels = function () {\n\t\n\t            var hasCreateDataChannel = false;\n\t\n\t            if (self.supportsPeerConnections()) {\n\t                try {\n\t                    var peer = new RTCPeerConnection({ iceServers: [] }, {});\n\t                    hasCreateDataChannel = typeof peer.createDataChannel !== 'undefined';\n\t                    peer.close();\n\t                } catch (err) {\n\t                    // Ignore possible RTCPeerConnection.close error\n\t                    // hasCreateDataChannel should reflect the feature state still.\n\t                }\n\t            }\n\t\n\t            return hasCreateDataChannel;\n\t        };\n\t\n\t        /** @private */\n\t        //\n\t        // Experimental function to determine if statistics gathering is supported.\n\t        //\n\t        this.supportsStatistics = function () {\n\t\n\t            var hasGetStats = false;\n\t\n\t            if (self.supportsPeerConnections()) {\n\t                try {\n\t                    var peer = new RTCPeerConnection({ iceServers: [] }, {});\n\t                    hasGetStats = typeof peer.getStats !== 'undefined';\n\t                    peer.close();\n\t                } catch (err) {\n\t                    // Ingore possible RTCPeerConnection.close error\n\t                    // hasCreateDataChannel should reflect the feature state still.\n\t                }\n\t            }\n\t\n\t            return hasGetStats;\n\t        };\n\t\n\t        /** @private\n\t         * @param {Array} pc_config ice configuration array\n\t         * @param {Object} optionalStuff peer constraints.\n\t         */\n\t        this.createRTCPeerConnection = function (pc_config, optionalStuff) {\n\t            if (self.supportsPeerConnections()) {\n\t                return new RTCPeerConnection(pc_config, optionalStuff);\n\t            } else {\n\t                throw \"Your browser doesn't support webRTC (RTCPeerConnection)\";\n\t            }\n\t        };\n\t\n\t        //\n\t        // this should really be part of adapter.js\n\t        // Versions of chrome < 31 don't support reliable data channels transport.\n\t        // Firefox does.\n\t        //\n\t        this.getDatachannelConstraints = function () {\n\t            return {\n\t                reliable: adapter && adapter.browserDetails && adapter.browserDetails.browser !== \"chrome\" && adapter.browserDetails.version < 31\n\t            };\n\t        };\n\t\n\t        /** @private */\n\t        haveAudioVideo = {\n\t            audio: false,\n\t            video: false\n\t        };\n\t        /** @private */\n\t        var dataEnabled = false;\n\t        /** @private */\n\t        var serverPath = null; // this was null, but that was generating an error.\n\t        /** @private */\n\t        var roomOccupantListener = null;\n\t        /** @private */\n\t        var onDataChannelOpen = null;\n\t        /** @private */\n\t        var onDataChannelClose = null;\n\t        /** @private */\n\t        var lastLoggedInList = {};\n\t        /** @private */\n\t        var receivePeer = { msgTypes: {} };\n\t        /** @private */\n\t        var receiveServerCB = null;\n\t        /** @private */\n\t        // dummy placeholder for when we aren't connected\n\t        var updateConfigurationInfo = function updateConfigurationInfo() {};\n\t        /** @private */\n\t        //\n\t        //\n\t        //  peerConns is a map from caller names to the below object structure\n\t        //     {  startedAV: boolean,  -- true if we have traded audio/video streams\n\t        //        dataChannelS: RTPDataChannel for outgoing messages if present\n\t        //        dataChannelR: RTPDataChannel for incoming messages if present\n\t        //        dataChannelReady: true if the data channel can be used for sending yet\n\t        //        connectTime: timestamp when the connection was started\n\t        //        sharingAudio: true if audio is being shared\n\t        //        sharingVideo: true if video is being shared\n\t        //        cancelled: temporarily true if a connection was cancelled by the peer asking to initiate it\n\t        //        candidatesToSend: SDP candidates temporarily queued\n\t        //        streamsAddedAcks: ack callbacks waiting for stream received messages\n\t        //        pc: RTCPeerConnection\n\t        //        mediaStream: mediaStream\n\t        //     function callSuccessCB(string) - see the easyrtc.call documentation.\n\t        //        function callFailureCB(errorCode, string) - see the easyrtc.call documentation.\n\t        //        function wasAcceptedCB(boolean,string) - see the easyrtc.call documentation.\n\t        //     }\n\t        //\n\t        var peerConns = {};\n\t        /** @private */\n\t        //\n\t        // a map keeping track of whom we've requested a call with so we don't try to\n\t        // call them a second time before they've responded.\n\t        //\n\t        var acceptancePending = {};\n\t\n\t        /** @private\n\t         * @param {string} caller\n\t         * @param {Function} helper\n\t         */\n\t        this.acceptCheck = function (caller, helper) {\n\t            helper(true);\n\t        };\n\t\n\t        /** @private\n\t         * @param {string} easyrtcid\n\t         * @param {HTMLMediaStream} stream\n\t         */\n\t        this.streamAcceptor = function (easyrtcid, stream) {};\n\t\n\t        /** @private\n\t         * @param {string} easyrtcid\n\t         */\n\t        this.onStreamClosed = function (easyrtcid) {};\n\t\n\t        /** @private\n\t         * @param {string} easyrtcid\n\t         */\n\t        this.callCancelled = function (easyrtcid) {};\n\t\n\t        /**\n\t         * This function gets the raw RTCPeerConnection for a given easyrtcid\n\t         * @param {String} easyrtcid\n\t         * @param {RTCPeerConnection} for that easyrtcid, or null if no connection exists\n\t         * Submitted by Fabian Bernhard.\n\t         */\n\t        this.getPeerConnectionByUserId = function (userId) {\n\t            if (peerConns && peerConns[userId]) {\n\t                return peerConns[userId].pc;\n\t            }\n\t            return null;\n\t        };\n\t\n\t        var chromeStatsFilter = [{\n\t            \"googTransmitBitrate\": \"transmitBitRate\",\n\t            \"googActualEncBitrate\": \"encodeRate\",\n\t            \"googAvailableSendBandwidth\": \"availableSendRate\"\n\t        }, {\n\t            \"googCodecName\": \"audioCodec\",\n\t            \"googTypingNoiseState\": \"typingNoise\",\n\t            \"packetsSent\": \"audioPacketsSent\",\n\t            \"bytesSent\": \"audioBytesSent\"\n\t        }, {\n\t            \"googCodecName\": \"videoCodec\",\n\t            \"googFrameRateSent\": \"outFrameRate\",\n\t            \"packetsSent\": \"videoPacketsSent\",\n\t            \"bytesSent\": \"videoBytesSent\"\n\t        }, {\n\t            \"packetsLost\": \"videoPacketsLost\",\n\t            \"packetsReceived\": \"videoPacketsReceived\",\n\t            \"bytesReceived\": \"videoBytesReceived\",\n\t            \"googFrameRateOutput\": \"frameRateOut\"\n\t        }, {\n\t            \"packetsLost\": \"audioPacketsLost\",\n\t            \"packetsReceived\": \"audioPacketsReceived\",\n\t            \"bytesReceived\": \"audioBytesReceived\",\n\t            \"audioOutputLevel\": \"audioOutputLevel\"\n\t        }, {\n\t            \"googRemoteAddress\": \"remoteAddress\",\n\t            \"googActiveConnection\": \"activeConnection\"\n\t        }, {\n\t            \"audioInputLevel\": \"audioInputLevel\"\n\t        }];\n\t\n\t        var firefoxStatsFilter = {\n\t            \"outboundrtp_audio.bytesSent\": \"audioBytesSent\",\n\t            \"outboundrtp_video.bytesSent\": \"videoBytesSent\",\n\t            \"inboundrtp_video.bytesReceived\": \"videoBytesReceived\",\n\t            \"inboundrtp_audio.bytesReceived\": \"audioBytesReceived\",\n\t            \"outboundrtp_audio.packetsSent\": \"audioPacketsSent\",\n\t            \"outboundrtp_video.packetsSent\": \"videoPacketsSent\",\n\t            \"inboundrtp_video.packetsReceived\": \"videoPacketsReceived\",\n\t            \"inboundrtp_audio.packetsReceived\": \"audioPacketsReceived\",\n\t            \"inboundrtp_video.packetsLost\": \"videoPacketsLost\",\n\t            \"inboundrtp_audio.packetsLost\": \"audioPacketsLost\",\n\t            \"firefoxRemoteAddress\": \"remoteAddress\"\n\t        };\n\t\n\t        var standardStatsFilter = adapter && adapter.browserDetails && adapter.browserDetails.browser === \"firefox\" ? firefoxStatsFilter : chromeStatsFilter;\n\t\n\t        function getFirefoxPeerStatistics(peerId, callback, filter) {\n\t\n\t            if (!peerConns[peerId]) {\n\t                callback(peerId, { \"connected\": false });\n\t            } else if (peerConns[peerId].pc.getStats) {\n\t                peerConns[peerId].pc.getStats(null, function (stats) {\n\t                    var items = {};\n\t                    var candidates = {};\n\t                    var activeId = null;\n\t                    var srcKey;\n\t                    //\n\t                    // the stats objects has a group of entries. Each entry is either an rtcp, rtp entry\n\t                    // or a candidate entry.\n\t                    //\n\t                    if (stats) {\n\t                        stats.forEach(function (entry) {\n\t                            var majorKey;\n\t                            var subKey;\n\t                            if (entry.type.match(/boundrtp/)) {\n\t                                if (entry.id.match(/audio/)) {\n\t                                    majorKey = entry.type + \"_audio\";\n\t                                } else if (entry.id.match(/video/)) {\n\t                                    majorKey = entry.type + \"_video\";\n\t                                } else {\n\t                                    return;\n\t                                }\n\t                                for (subKey in entry) {\n\t                                    if (entry.hasOwnProperty(subKey)) {\n\t                                        items[majorKey + \".\" + subKey] = entry[subKey];\n\t                                    }\n\t                                }\n\t                            } else {\n\t                                if (entry.hasOwnProperty(\"ipAddress\") && entry.id) {\n\t                                    candidates[entry.id] = entry.ipAddress + \":\" + entry.portNumber;\n\t                                } else if (entry.hasOwnProperty(\"selected\") && entry.hasOwnProperty(\"remoteCandidateId\") && entry.selected) {\n\t                                    activeId = entry.remoteCandidateId;\n\t                                }\n\t                            }\n\t                        });\n\t                    }\n\t\n\t                    if (activeId) {\n\t                        items[\"firefoxRemoteAddress\"] = candidates[activeId];\n\t                    }\n\t                    if (!filter) {\n\t                        callback(peerId, items);\n\t                    } else {\n\t                        var filteredItems = {};\n\t                        for (srcKey in filter) {\n\t                            if (filter.hasOwnProperty(srcKey) && items.hasOwnProperty(srcKey)) {\n\t                                filteredItems[filter[srcKey]] = items[srcKey];\n\t                            }\n\t                        }\n\t                        callback(peerId, filteredItems);\n\t                    }\n\t                }, function (error) {\n\t                    logDebug(\"unable to get statistics\");\n\t                });\n\t            } else {\n\t                callback(peerId, { \"statistics\": self.getConstantString(\"statsNotSupported\") });\n\t            }\n\t        }\n\t\n\t        function getChromePeerStatistics(peerId, callback, filter) {\n\t\n\t            if (!peerConns[peerId]) {\n\t                callback(peerId, { \"connected\": false });\n\t            } else if (peerConns[peerId].pc.getStats) {\n\t\n\t                peerConns[peerId].pc.getStats(function (stats) {\n\t\n\t                    var localStats = {};\n\t                    var part,\n\t                        parts = stats.result();\n\t                    var i, j;\n\t                    var itemKeys;\n\t                    var itemKey;\n\t                    var names;\n\t                    var userKey;\n\t                    var partNames = [];\n\t                    var partList;\n\t                    var bestBytes = 0;\n\t                    var bestI;\n\t                    var turnAddress = null;\n\t                    var hasActive, curReceived;\n\t                    var localAddress, remoteAddress;\n\t                    if (!filter) {\n\t                        for (i = 0; i < parts.length; i++) {\n\t                            names = parts[i].names();\n\t                            for (j = 0; j < names.length; j++) {\n\t                                itemKey = names[j];\n\t                                localStats[parts[i].id + \".\" + itemKey] = parts[i].stat(itemKey);\n\t                            }\n\t                        }\n\t                    } else {\n\t                        for (i = 0; i < parts.length; i++) {\n\t                            partNames[i] = {};\n\t                            //\n\t                            // convert the names into a dictionary\n\t                            //\n\t                            names = parts[i].names();\n\t                            for (j = 0; j < names.length; j++) {\n\t                                partNames[i][names[j]] = true;\n\t                            }\n\t\n\t                            //\n\t                            // a chrome-firefox connection results in several activeConnections.\n\t                            // we only want one, so we look for the one with the most data being received on it.\n\t                            //\n\t                            if (partNames[i].googRemoteAddress && partNames[i].googActiveConnection) {\n\t                                hasActive = parts[i].stat(\"googActiveConnection\");\n\t                                if (hasActive === true || hasActive === \"true\") {\n\t                                    curReceived = parseInt(parts[i].stat(\"bytesReceived\")) + parseInt(parts[i].stat(\"bytesSent\"));\n\t                                    if (curReceived > bestBytes) {\n\t                                        bestI = i;\n\t                                        bestBytes = curReceived;\n\t                                    }\n\t                                }\n\t                            }\n\t                        }\n\t\n\t                        for (i = 0; i < parts.length; i++) {\n\t                            //\n\t                            // discard info from any inactive connection.\n\t                            //\n\t                            if (partNames[i].googActiveConnection) {\n\t                                if (i !== bestI) {\n\t                                    partNames[i] = {};\n\t                                } else {\n\t                                    localAddress = parts[i].stat(\"googLocalAddress\").split(\":\")[0];\n\t                                    remoteAddress = parts[i].stat(\"googRemoteAddress\").split(\":\")[0];\n\t                                    if (self.isTurnServer(localAddress)) {\n\t                                        turnAddress = localAddress;\n\t                                    } else if (self.isTurnServer(remoteAddress)) {\n\t                                        turnAddress = remoteAddress;\n\t                                    }\n\t                                }\n\t                            }\n\t                        }\n\t\n\t                        for (i = 0; i < filter.length; i++) {\n\t                            itemKeys = filter[i];\n\t                            partList = [];\n\t                            part = null;\n\t                            for (j = 0; j < parts.length; j++) {\n\t                                var fullMatch = true;\n\t                                for (itemKey in itemKeys) {\n\t                                    if (itemKeys.hasOwnProperty(itemKey) && !partNames[j][itemKey]) {\n\t                                        fullMatch = false;\n\t                                        break;\n\t                                    }\n\t                                }\n\t                                if (fullMatch && parts[j]) {\n\t                                    partList.push(parts[j]);\n\t                                }\n\t                            }\n\t                            if (partList.length === 1) {\n\t                                for (j = 0; j < partList.length; j++) {\n\t                                    part = partList[j];\n\t                                    if (part) {\n\t                                        for (itemKey in itemKeys) {\n\t                                            if (itemKeys.hasOwnProperty(itemKey)) {\n\t                                                userKey = itemKeys[itemKey];\n\t                                                localStats[userKey] = part.stat(itemKey);\n\t                                            }\n\t                                        }\n\t                                    }\n\t                                }\n\t                            } else if (partList.length > 1) {\n\t                                for (itemKey in itemKeys) {\n\t                                    if (itemKeys.hasOwnProperty(itemKey)) {\n\t                                        localStats[itemKeys[itemKey]] = [];\n\t                                    }\n\t                                }\n\t                                for (j = 0; j < partList.length; j++) {\n\t                                    part = partList[j];\n\t                                    for (itemKey in itemKeys) {\n\t                                        if (itemKeys.hasOwnProperty(itemKey)) {\n\t                                            userKey = itemKeys[itemKey];\n\t                                            localStats[userKey].push(part.stat(itemKey));\n\t                                        }\n\t                                    }\n\t                                }\n\t                            }\n\t                        }\n\t                    }\n\t\n\t                    if (localStats.remoteAddress && turnAddress) {\n\t                        localStats.remoteAddress = turnAddress;\n\t                    }\n\t                    callback(peerId, localStats);\n\t                });\n\t            } else {\n\t                callback(peerId, { \"statistics\": self.getConstantString(\"statsNotSupported\") });\n\t            }\n\t        }\n\t\n\t        /**\n\t         * This function gets the statistics for a particular peer connection.\n\t         * @param {String} easyrtcid\n\t         * @param {Function} callback gets the easyrtcid for the peer and a map of {userDefinedKey: value}. If there is no peer connection to easyrtcid, then the map will\n\t         *  have a value of {connected:false}.\n\t         * @param {Object} filter depends on whether Chrome or Firefox is used. See the default filters for guidance.\n\t         * It is still experimental.\n\t         */\n\t        this.getPeerStatistics = function (easyrtcid, callback, filter) {\n\t            if (adapter && adapter.browserDetails && adapter.browserDetails.browser === \"firefox\") {\n\t                getFirefoxPeerStatistics(easyrtcid, callback, filter);\n\t            } else {\n\t                getChromePeerStatistics(easyrtcid, callback, filter);\n\t            }\n\t        };\n\t\n\t        /**\n\t         * @private\n\t         * @param roomName\n\t         * @param fields\n\t         */\n\t        function sendRoomApiFields(roomName, fields) {\n\t            var fieldAsString = JSON.stringify(fields);\n\t            JSON.parse(fieldAsString);\n\t            var dataToShip = {\n\t                msgType: \"setRoomApiField\",\n\t                msgData: {\n\t                    setRoomApiField: {\n\t                        roomName: roomName,\n\t                        field: fields\n\t                    }\n\t                }\n\t            };\n\t            self.webSocket.json.emit(\"easyrtcCmd\", dataToShip, function (ackMsg) {\n\t                if (ackMsg.msgType === \"error\") {\n\t                    self.showError(ackMsg.msgData.errorCode, ackMsg.msgData.errorText);\n\t                }\n\t            });\n\t        }\n\t\n\t        /** @private */\n\t        var roomApiFieldTimer = null;\n\t\n\t        /**\n\t         * @private\n\t         * @param {String} roomName\n\t         */\n\t        function enqueueSendRoomApi(roomName) {\n\t            //\n\t            // Rather than issue the send request immediately, we set a timer so we can accumulate other\n\t            // calls\n\t            //\n\t            if (roomApiFieldTimer) {\n\t                clearTimeout(roomApiFieldTimer);\n\t            }\n\t            roomApiFieldTimer = setTimeout(function () {\n\t                sendRoomApiFields(roomName, self._roomApiFields[roomName]);\n\t                roomApiFieldTimer = null;\n\t            }, 10);\n\t        }\n\t\n\t        /** Provide a set of application defined fields that will be part of this instances\n\t         * configuration information. This data will get sent to other peers via the websocket\n\t         * path.\n\t         * @param {String} roomName - the room the field is attached to.\n\t         * @param {String} fieldName - the name of the field.\n\t         * @param {Object} fieldValue - the value of the field.\n\t         * @example\n\t         *   easyrtc.setRoomApiField(\"trekkieRoom\",  \"favorite_alien\", \"Mr Spock\");\n\t         *   easyrtc.setRoomOccupantListener( function(roomName, list){\n\t         *      for( var i in list ){\n\t         *         console.log(\"easyrtcid=\" + i + \" favorite alien is \" + list[i].apiFields.favorite_alien);\n\t         *      }\n\t         *   });\n\t         */\n\t        this.setRoomApiField = function (roomName, fieldName, fieldValue) {\n\t            //\n\t            // if we're not connected yet, we'll just cache the fields until we are.\n\t            //\n\t            if (!self._roomApiFields) {\n\t                self._roomApiFields = {};\n\t            }\n\t            if (!fieldName && !fieldValue) {\n\t                delete self._roomApiFields[roomName];\n\t                return;\n\t            }\n\t\n\t            if (!self._roomApiFields[roomName]) {\n\t                self._roomApiFields[roomName] = {};\n\t            }\n\t            if (fieldValue !== undefined && fieldValue !== null) {\n\t                if ((typeof fieldValue === 'undefined' ? 'undefined' : _typeof(fieldValue)) === \"object\") {\n\t                    try {\n\t                        JSON.stringify(fieldValue);\n\t                    } catch (jsonError) {\n\t                        self.showError(self.errCodes.DEVELOPER_ERR, \"easyrtc.setRoomApiField passed bad object \");\n\t                        return;\n\t                    }\n\t                }\n\t                self._roomApiFields[roomName][fieldName] = { fieldName: fieldName, fieldValue: fieldValue };\n\t            } else {\n\t                delete self._roomApiFields[roomName][fieldName];\n\t            }\n\t            if (self.webSocketConnected) {\n\t                enqueueSendRoomApi(roomName);\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Default error reporting function. The default implementation displays error messages\n\t         * in a programmatically created div with the id easyrtcErrorDialog. The div has title\n\t         * component with a class name of easyrtcErrorDialog_title. The error messages get added to a\n\t         * container with the id easyrtcErrorDialog_body. Each error message is a text node inside a div\n\t         * with a class of easyrtcErrorDialog_element. There is an \"okay\" button with the className of easyrtcErrorDialog_okayButton.\n\t         * @param {String} messageCode An error message code\n\t         * @param {String} message the error message text without any markup.\n\t         * @example\n\t         *     easyrtc.showError(\"BAD_NAME\", \"Invalid username\");\n\t         */\n\t        this.showError = function (messageCode, message) {\n\t            self.onError({ errorCode: messageCode, errorText: message });\n\t        };\n\t\n\t        /**\n\t         * @private\n\t         * @param errorObject\n\t         */\n\t        this.onError = function (errorObject) {\n\t            logDebug(\"saw error \" + errorObject.errorText);\n\t\n\t            var errorDiv = document.getElementById('easyrtcErrorDialog');\n\t            var errorBody;\n\t            if (!errorDiv) {\n\t                errorDiv = document.createElement(\"div\");\n\t                errorDiv.id = 'easyrtcErrorDialog';\n\t                var title = document.createElement(\"div\");\n\t                title.innerHTML = \"Error messages\";\n\t                title.className = \"easyrtcErrorDialog_title\";\n\t                errorDiv.appendChild(title);\n\t                errorBody = document.createElement(\"div\");\n\t                errorBody.id = \"easyrtcErrorDialog_body\";\n\t                errorDiv.appendChild(errorBody);\n\t                var clearButton = document.createElement(\"button\");\n\t                clearButton.appendChild(document.createTextNode(\"Okay\"));\n\t                clearButton.className = \"easyrtcErrorDialog_okayButton\";\n\t                clearButton.onclick = function () {\n\t                    errorBody.innerHTML = \"\"; // remove all inner nodes\n\t                    errorDiv.style.display = \"none\";\n\t                };\n\t                errorDiv.appendChild(clearButton);\n\t                document.body.appendChild(errorDiv);\n\t            }\n\t\n\t            errorBody = document.getElementById(\"easyrtcErrorDialog_body\");\n\t            var messageNode = document.createElement(\"div\");\n\t            messageNode.className = 'easyrtcErrorDialog_element';\n\t            messageNode.appendChild(document.createTextNode(errorObject.errorText));\n\t            errorBody.appendChild(messageNode);\n\t            errorDiv.style.display = \"block\";\n\t        };\n\t\n\t        /** @private\n\t         * @param mediaStream */\n\t        //\n\t        // easyrtc.createObjectURL builds a URL from a media stream.\n\t        // Arguments:\n\t        //     mediaStream - a media stream object.\n\t        // The video object in Chrome expects a URL.\n\t        //\n\t        this.createObjectURL = function (mediaStream) {\n\t            var errMessage;\n\t            if (window.URL && window.URL.createObjectURL) {\n\t                return window.URL.createObjectURL(mediaStream);\n\t            } else if (window.webkitURL && window.webkitURL.createObjectURL) {\n\t                return window.webkit.createObjectURL(mediaStream);\n\t            } else {\n\t                errMessage = \"Your browsers does not support URL.createObjectURL.\";\n\t                logDebug(\"saw exception \" + errMessage);\n\t                throw errMessage;\n\t            }\n\t        };\n\t\n\t        /**\n\t         * A convenience function to ensure that a string doesn't have symbols that will be interpreted by HTML.\n\t         * @param {String} idString\n\t         * @return {String} The cleaned string.\n\t         * @example\n\t         *   console.log( easyrtc.cleanId('&hello'));\n\t         */\n\t        this.cleanId = function (idString) {\n\t            var MAP = {\n\t                '&': '&amp;',\n\t                '<': '&lt;',\n\t                '>': '&gt;'\n\t            };\n\t            return idString.replace(/[&<>]/g, function (c) {\n\t                return MAP[c];\n\t            });\n\t        };\n\t\n\t        /**\n\t         * Set a callback that will be invoked when the application enters or leaves a room.\n\t         * @param {Function} handler - the first parameter is true for entering a room, false for leaving a room. The second parameter is the room name.\n\t         * @example\n\t         *   easyrtc.setRoomEntryListener(function(entry, roomName){\n\t         *       if( entry ){\n\t         *           console.log(\"entering room \" + roomName);\n\t         *       }\n\t         *       else{\n\t         *           console.log(\"leaving room \" + roomName);\n\t         *       }\n\t         *   });\n\t         */\n\t        self.setRoomEntryListener = function (handler) {\n\t            self.roomEntryListener = handler;\n\t        };\n\t\n\t        /**\n\t         * Set the callback that will be invoked when the list of people logged in changes.\n\t         * The callback expects to receive a room name argument, and\n\t         * a map whose ideas are easyrtcids and whose values are in turn maps\n\t         * supplying user specific information. The inner maps have the following keys:\n\t         * username, applicationName, browserFamily, browserMajor, osFamily, osMajor, deviceFamily.\n\t         * The third argument is the listener is the innerMap for the connections own data (not needed by most applications).\n\t         * @param {Function} listener\n\t         * @example\n\t         *   easyrtc.setRoomOccupantListener( function(roomName, list, selfInfo){\n\t         *      for( var i in list ){\n\t         *         (\"easyrtcid=\" + i + \" belongs to user \" + list[i].username);\n\t         *      }\n\t         *   });\n\t         */\n\t        self.setRoomOccupantListener = function (listener) {\n\t            roomOccupantListener = listener;\n\t        };\n\t\n\t        /**\n\t         * Sets a callback that is called when a data channel is open and ready to send data.\n\t         * The callback will be called with an easyrtcid as it's sole argument.\n\t         * @param {Function} listener\n\t         * @example\n\t         *    easyrtc.setDataChannelOpenListener( function(easyrtcid){\n\t         *         easyrtc.sendDataP2P(easyrtcid, \"greeting\", \"hello\");\n\t         *    });\n\t         */\n\t        this.setDataChannelOpenListener = function (listener) {\n\t            onDataChannelOpen = listener;\n\t        };\n\t\n\t        /** Sets a callback that is called when a previously open data channel closes.\n\t         * The callback will be called with an easyrtcid as it's sole argument.\n\t         * @param {Function} listener\n\t         * @example\n\t         *    easyrtc.setDataChannelCloseListener( function(easyrtcid){\n\t         *            (\"No longer connected to \" + easyrtc.idToName(easyrtcid));\n\t         *    });\n\t         */\n\t        this.setDataChannelCloseListener = function (listener) {\n\t            onDataChannelClose = listener;\n\t        };\n\t\n\t        /** Returns the number of live peer connections the client has.\n\t         * @return {Number}\n\t         * @example\n\t         *    (\"You have \" + easyrtc.getConnectionCount() + \" peer connections\");\n\t         */\n\t        this.getConnectionCount = function () {\n\t            var count = 0;\n\t            var i;\n\t            for (i in peerConns) {\n\t                if (peerConns.hasOwnProperty(i)) {\n\t                    if (self.getConnectStatus(i) === self.IS_CONNECTED) {\n\t                        count++;\n\t                    }\n\t                }\n\t            }\n\t            return count;\n\t        };\n\t\n\t        /** Sets the maximum length in bytes of P2P messages that can be sent.\n\t         * @param {Number} maxLength maximum length to set\n\t         * @example\n\t         *     easyrtc.setMaxP2PMessageLength(10000);\n\t         */\n\t        this.setMaxP2PMessageLength = function (maxLength) {\n\t            this.maxP2PMessageLength = maxLength;\n\t        };\n\t\n\t        /** Sets whether audio is transmitted by the local user in any subsequent calls.\n\t         * @param {Boolean} enabled true to include audio, false to exclude audio. The default is true.\n\t         * @example\n\t         *      easyrtc.enableAudio(false);\n\t         */\n\t        this.enableAudio = function (enabled) {\n\t            self.audioEnabled = enabled;\n\t        };\n\t\n\t        /**\n\t         *Sets whether video is transmitted by the local user in any subsequent calls.\n\t         * @param {Boolean} enabled - true to include video, false to exclude video. The default is true.\n\t         * @example\n\t         *      easyrtc.enableVideo(false);\n\t         */\n\t        this.enableVideo = function (enabled) {\n\t            self.videoEnabled = enabled;\n\t        };\n\t\n\t        /**\n\t         * Sets whether WebRTC data channels are used to send inter-client messages.\n\t         * This is only the messages that applications explicitly send to other applications, not the WebRTC signaling messages.\n\t         * @param {Boolean} enabled  true to use data channels, false otherwise. The default is false.\n\t         * @example\n\t         *     easyrtc.enableDataChannels(true);\n\t         */\n\t        this.enableDataChannels = function (enabled) {\n\t            dataEnabled = enabled;\n\t        };\n\t\n\t        /**\n\t         * @private\n\t         * @param {Boolean} enable\n\t         * @param {Array} tracks - an array of MediaStreamTrack\n\t         */\n\t        function enableMediaTracks(enable, tracks) {\n\t            var i;\n\t            if (tracks) {\n\t                for (i = 0; i < tracks.length; i++) {\n\t                    var track = tracks[i];\n\t                    track.enabled = enable;\n\t                }\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        //\n\t        // fetches a stream by name. Treat a null/undefined streamName as \"default\".\n\t        //\n\t        function getLocalMediaStreamByName(streamName) {\n\t            if (!streamName) {\n\t                streamName = \"default\";\n\t            }\n\t            if (namedLocalMediaStreams.hasOwnProperty(streamName)) {\n\t                return namedLocalMediaStreams[streamName];\n\t            } else {\n\t                return null;\n\t            }\n\t        }\n\t\n\t        /**\n\t         * Returns the user assigned id's of currently active local media streams.\n\t         * @return {Array}\n\t         */\n\t        this.getLocalMediaIds = function () {\n\t            return Object.keys(namedLocalMediaStreams);\n\t        };\n\t\n\t        /** @private */\n\t        function buildMediaIds() {\n\t            var mediaMap = {};\n\t            var streamName;\n\t            for (streamName in namedLocalMediaStreams) {\n\t                if (namedLocalMediaStreams.hasOwnProperty(streamName)) {\n\t                    mediaMap[streamName] = namedLocalMediaStreams[streamName].id || \"default\";\n\t                }\n\t            }\n\t            return mediaMap;\n\t        }\n\t\n\t        /** @private */\n\t        function registerLocalMediaStreamByName(stream, streamName) {\n\t            var roomName;\n\t            if (!streamName) {\n\t                streamName = \"default\";\n\t            }\n\t            stream.streamName = streamName;\n\t            namedLocalMediaStreams[streamName] = stream;\n\t            if (streamName !== \"default\") {\n\t                var mediaIds = buildMediaIds(),\n\t                    roomData = self.roomData;\n\t                for (roomName in roomData) {\n\t                    if (roomData.hasOwnProperty(roomName)) {\n\t                        self.setRoomApiField(roomName, \"mediaIds\", mediaIds);\n\t                    }\n\t                }\n\t            }\n\t        }\n\t\n\t        /**\n\t         * Allow an externally created mediastream (ie, created by another\n\t         * library) to be used within easyrtc. Tracking when it closes\n\t         * must be done by the supplying party.\n\t         */\n\t        this.register3rdPartyLocalMediaStream = function (stream, streamName) {\n\t            return registerLocalMediaStreamByName(stream, streamName);\n\t        };\n\t\n\t        /** @private */\n\t        //\n\t        // look up a stream's name from the stream.id\n\t        //\n\t        function getNameOfRemoteStream(easyrtcId, webrtcStreamId) {\n\t            var roomName;\n\t            var mediaIds;\n\t            var streamName;\n\t            if (!webrtcStreamId) {\n\t                webrtcStreamId = \"default\";\n\t            }\n\t            if (peerConns[easyrtcId]) {\n\t                streamName = peerConns[easyrtcId].remoteStreamIdToName[webrtcStreamId];\n\t                if (streamName) {\n\t                    return streamName;\n\t                }\n\t            }\n\t\n\t            for (roomName in self.roomData) {\n\t                if (self.roomData.hasOwnProperty(roomName)) {\n\t                    mediaIds = self.getRoomApiField(roomName, easyrtcId, \"mediaIds\");\n\t                    if (!mediaIds) {\n\t                        continue;\n\t                    }\n\t                    for (streamName in mediaIds) {\n\t                        if (mediaIds.hasOwnProperty(streamName) && mediaIds[streamName] === webrtcStreamId) {\n\t                            return streamName;\n\t                        }\n\t                    }\n\t                    //\n\t                    // a stream from chrome to firefox will be missing it's id/label.\n\t                    // there is no correct solution.\n\t                    //\n\t                    if (adapter && adapter.browserDetails && adapter.browserDetails.browser === \"firefox\") {\n\t\n\t                        // if there is a stream called default, return it in preference\n\t                        if (mediaIds[\"default\"]) {\n\t                            return \"default\";\n\t                        }\n\t\n\t                        //\n\t                        // otherwise return the first name we find. If there is more than\n\t                        // one, complain to Mozilla.\n\t                        //\n\t                        for (var anyName in mediaIds) {\n\t                            if (mediaIds.hasOwnProperty(anyName)) {\n\t                                return anyName;\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t\n\t            return undefined;\n\t        }\n\t\n\t        this.getNameOfRemoteStream = function (easyrtcId, webrtcStream) {\n\t            if (typeof webrtcStream === \"string\") {\n\t                return getNameOfRemoteStream(easyrtcId, webrtcStream);\n\t            } else if (webrtcStream.id) {\n\t                return getNameOfRemoteStream(easyrtcId, webrtcStream.id);\n\t            }\n\t        };\n\t\n\t        /** @private */\n\t        function closeLocalMediaStreamByName(streamName) {\n\t            if (!streamName) {\n\t                streamName = \"default\";\n\t            }\n\t            var stream = self.getLocalStream(streamName);\n\t            if (!stream) {\n\t                return;\n\t            }\n\t            var streamId = stream.id || \"default\";\n\t            var id;\n\t            var roomName;\n\t            if (namedLocalMediaStreams[streamName]) {\n\t\n\t                for (id in peerConns) {\n\t                    if (peerConns.hasOwnProperty(id)) {\n\t                        try {\n\t                            peerConns[id].pc.removeStream(stream);\n\t                        } catch (err) {}\n\t                        self.sendPeerMessage(id, \"__closingMediaStream\", { streamId: streamId, streamName: streamName });\n\t                    }\n\t                }\n\t\n\t                stopStream(namedLocalMediaStreams[streamName]);\n\t                delete namedLocalMediaStreams[streamName];\n\t\n\t                if (streamName !== \"default\") {\n\t                    var mediaIds = buildMediaIds();\n\t                    for (roomName in self.roomData) {\n\t                        if (self.roomData.hasOwnProperty(roomName)) {\n\t                            self.setRoomApiField(roomName, \"mediaIds\", mediaIds);\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t        }\n\t\n\t        /**\n\t         * Close the local media stream. You usually need to close the existing media stream\n\t         * of a camera before reacquiring it at a different resolution.\n\t         * @param {String} streamName - an option stream name.\n\t         */\n\t        this.closeLocalMediaStream = function (streamName) {\n\t            return closeLocalMediaStreamByName(streamName);\n\t        };\n\t\n\t        /**\n\t         * Alias for closeLocalMediaStream\n\t         */\n\t        this.closeLocalStream = this.closeLocalMediaStream;\n\t\n\t        /**\n\t         * This function is used to enable and disable the local camera. If you disable the\n\t         * camera, video objects display it will \"freeze\" until the camera is re-enabled. *\n\t         * By default, a camera is enabled.\n\t         * @param {Boolean} enable - true to enable the camera, false to disable it.\n\t         * @param {String} streamName - the name of the stream, optional.\n\t         */\n\t        this.enableCamera = function (enable, streamName) {\n\t            var stream = getLocalMediaStreamByName(streamName);\n\t            if (stream && stream.getVideoTracks) {\n\t                enableMediaTracks(enable, stream.getVideoTracks());\n\t            }\n\t        };\n\t\n\t        /**\n\t         * This function is used to enable and disable the local microphone. If you disable\n\t         * the microphone, sounds stops being transmitted to your peers. By default, the microphone\n\t         * is enabled.\n\t         * @param {Boolean} enable - true to enable the microphone, false to disable it.\n\t         * @param {String} streamName - an optional streamName\n\t         */\n\t        this.enableMicrophone = function (enable, streamName) {\n\t            var stream = getLocalMediaStreamByName(streamName);\n\t            if (stream && stream.getAudioTracks) {\n\t                enableMediaTracks(enable, stream.getAudioTracks());\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Mute a video object.\n\t         * @param {String} videoObjectName - A DOMObject or the id of the DOMObject.\n\t         * @param {Boolean} mute - true to mute the video object, false to unmute it.\n\t         */\n\t        this.muteVideoObject = function (videoObjectName, mute) {\n\t            var videoObject;\n\t            if (typeof videoObjectName === 'string') {\n\t                videoObject = document.getElementById(videoObjectName);\n\t                if (!videoObject) {\n\t                    throw \"Unknown video object \" + videoObjectName;\n\t                }\n\t            } else if (!videoObjectName) {\n\t                throw \"muteVideoObject passed a null\";\n\t            } else {\n\t                videoObject = videoObjectName;\n\t            }\n\t            videoObject.muted = !!mute;\n\t        };\n\t\n\t        /**\n\t         * Returns a URL for your local camera and microphone.\n\t         *  It can be called only after easyrtc.initMediaSource has succeeded.\n\t         *  It returns a url that can be used as a source by the Chrome video element or the &lt;canvas&gt; element.\n\t         *  @param {String} streamName - an option stream name.\n\t         *  @return {URL}\n\t         *  @example\n\t         *      document.getElementById(\"myVideo\").src = easyrtc.getLocalStreamAsUrl();\n\t         */\n\t        self.getLocalStreamAsUrl = function (streamName) {\n\t            var stream = getLocalMediaStreamByName(streamName);\n\t            if (stream === null) {\n\t                throw \"Developer error: attempt to get a MediaStream without invoking easyrtc.initMediaSource successfully\";\n\t            }\n\t            return self.createObjectURL(stream);\n\t        };\n\t\n\t        /**\n\t         * Returns a media stream for your local camera and microphone.\n\t         *  It can be called only after easyrtc.initMediaSource has succeeded.\n\t         *  It returns a stream that can be used as an argument to easyrtc.setVideoObjectSrc.\n\t         *  Returns null if there is no local media stream acquired yet.\n\t         * @return {?MediaStream}\n\t         * @example\n\t         *    easyrtc.setVideoObjectSrc( document.getElementById(\"myVideo\"), easyrtc.getLocalStream());\n\t         */\n\t        this.getLocalStream = function (streamName) {\n\t            return getLocalMediaStreamByName(streamName) || null;\n\t        };\n\t\n\t        /** Clears the media stream on a video object.\n\t         *\n\t         * @param {Object} element the video object.\n\t         * @example\n\t         *    easyrtc.clearMediaStream( document.getElementById('selfVideo'));\n\t         *\n\t         */\n\t        this.clearMediaStream = function (element) {\n\t            if (typeof element.src !== 'undefined') {\n\t                //noinspection JSUndefinedPropertyAssignment\n\t                element.src = \"\";\n\t            } else if (typeof element.srcObject !== 'undefined') {\n\t                element.srcObject = \"\";\n\t            } else if (typeof element.mozSrcObject !== 'undefined') {\n\t                element.mozSrcObject = null;\n\t            }\n\t        };\n\t\n\t        /**\n\t         *  Sets a video or audio object from a media stream.\n\t         *  Chrome uses the src attribute and expects a URL, while firefox\n\t         *  uses the mozSrcObject and expects a stream. This procedure hides\n\t         *  that from you.\n\t         *  If the media stream is from a local webcam, you may want to add the\n\t         *  easyrtcMirror class to the video object so it looks like a proper mirror.\n\t         *  The easyrtcMirror class is defined in this.css.\n\t         *  Which is could be added using the same path of easyrtc.js file to an HTML file\n\t         *  @param {Object} element an HTML5 video element\n\t         *  @param {MediaStream|String} stream a media stream as returned by easyrtc.getLocalStream or your stream acceptor.\n\t         * @example\n\t         *    easyrtc.setVideoObjectSrc( document.getElementById(\"myVideo\"), easyrtc.getLocalStream());\n\t         *\n\t         */\n\t        this.setVideoObjectSrc = function (element, stream) {\n\t            if (stream && stream !== \"\") {\n\t                element.autoplay = true;\n\t\n\t                if (typeof element.src !== 'undefined') {\n\t                    element.src = self.createObjectURL(stream);\n\t                } else if (typeof element.srcObject !== 'undefined') {\n\t                    element.srcObject = stream;\n\t                } else if (typeof element.mozSrcObject !== 'undefined') {\n\t                    element.mozSrcObject = self.createObjectURL(stream);\n\t                }\n\t                element.play();\n\t            } else {\n\t                self.clearMediaStream(element);\n\t            }\n\t        };\n\t\n\t        /**\n\t         * This function builds a new named local media stream from a set of existing audio and video tracks from other media streams.\n\t         * @param {String} streamName is the name of the new media stream.\n\t         * @param {Array} audioTracks is an array of MediaStreamTracks\n\t         * @param {Array} videoTracks is an array of MediaStreamTracks\n\t         * @returns {?MediaStream} the track created.\n\t         * @example\n\t         *    easyrtc.buildLocalMediaStream(\"myComposedStream\",\n\t         *             easyrtc.getLocalStream(\"camera1\").getVideoTracks(),\n\t         *             easyrtc.getLocalStream(\"camera2\").getAudioTracks());\n\t         */\n\t        this.buildLocalMediaStream = function (streamName, audioTracks, videoTracks) {\n\t            var i;\n\t            if (typeof streamName !== 'string') {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"easyrtc.buildLocalMediaStream not supplied a stream name\");\n\t                return null;\n\t            }\n\t\n\t            var streamToClone = null;\n\t            for (var key in namedLocalMediaStreams) {\n\t                if (namedLocalMediaStreams.hasOwnProperty(key)) {\n\t                    streamToClone = namedLocalMediaStreams[key];\n\t                    if (streamToClone) {\n\t                        break;\n\t                    }\n\t                }\n\t            }\n\t            if (!streamToClone) {\n\t                for (key in peerConns) {\n\t                    if (peerConns.hasOwnProperty(key)) {\n\t                        var remoteStreams = peerConns[key].pc.getRemoteStreams();\n\t                        if (remoteStreams && remoteStreams.length > 0) {\n\t                            streamToClone = remoteStreams[0];\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t            if (!streamToClone) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"Attempt to create a mediastream without one to clone from\");\n\t                return null;\n\t            }\n\t\n\t            //\n\t            // clone whatever mediastream we found, and remove any of it's\n\t            // tracks.\n\t            //\n\t            var mediaClone = streamToClone.clone();\n\t            var oldTracks = mediaClone.getTracks();\n\t\n\t            if (audioTracks) {\n\t                for (i = 0; i < audioTracks.length; i++) {\n\t                    mediaClone.addTrack(audioTracks[i].clone());\n\t                }\n\t            }\n\t\n\t            if (videoTracks) {\n\t                for (i = 0; i < videoTracks.length; i++) {\n\t                    mediaClone.addTrack(videoTracks[i].clone());\n\t                }\n\t            }\n\t\n\t            for (i = 0; i < oldTracks.length; i++) {\n\t                mediaClone.removeTrack(oldTracks[i]);\n\t            }\n\t\n\t            registerLocalMediaStreamByName(mediaClone, streamName);\n\t            return mediaClone;\n\t        };\n\t\n\t        /* @private*/\n\t        /** Load Easyrtc Stylesheet.\n\t         *   Easyrtc Stylesheet define easyrtcMirror class and some basic css class for using easyrtc.js.\n\t         *   That way, developers can override it or use it's own css file minified css or package.\n\t         * @example\n\t         *       easyrtc.loadStylesheet();\n\t         *\n\t         */\n\t        this.loadStylesheet = function () {\n\t\n\t            //\n\t            // check to see if we already have an easyrtc.css file loaded\n\t            // if we do, we can exit immediately.\n\t            //\n\t            var links = document.getElementsByTagName(\"link\");\n\t            var cssIndex, css;\n\t            for (cssIndex in links) {\n\t                if (links.hasOwnProperty(cssIndex)) {\n\t                    css = links[cssIndex];\n\t                    if (css.href && css.href.match(/\\/easyrtc.css/)) {\n\t                        return;\n\t                    }\n\t                }\n\t            }\n\t            //\n\t            // add the easyrtc.css file since it isn't present\n\t            //\n\t            var easySheet = document.createElement(\"link\");\n\t            easySheet.setAttribute(\"rel\", \"stylesheet\");\n\t            easySheet.setAttribute(\"type\", \"text/css\");\n\t            easySheet.setAttribute(\"href\", \"/easyrtc/easyrtc.css\");\n\t            var headSection = document.getElementsByTagName(\"head\")[0];\n\t            var firstHead = headSection.childNodes[0];\n\t            headSection.insertBefore(easySheet, firstHead);\n\t        };\n\t\n\t        /**\n\t         * @private\n\t         * @param {String} x\n\t         */\n\t        this.formatError = function (x) {\n\t            var name, result;\n\t            if (x === null || typeof x === 'undefined') {\n\t                return \"null\";\n\t            }\n\t            if (typeof x === 'string') {\n\t                return x;\n\t            } else if (x.type && x.description) {\n\t                return x.type + \" : \" + x.description;\n\t            } else if ((typeof x === 'undefined' ? 'undefined' : _typeof(x)) === 'object') {\n\t                try {\n\t                    return JSON.stringify(x);\n\t                } catch (oops) {\n\t                    result = \"{\";\n\t                    for (name in x) {\n\t                        if (x.hasOwnProperty(name)) {\n\t                            if (typeof x[name] === 'string') {\n\t                                result = result + name + \"='\" + x[name] + \"' \";\n\t                            }\n\t                        }\n\t                    }\n\t                    result = result + \"}\";\n\t                    return result;\n\t                }\n\t            } else {\n\t                return \"Strange case\";\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Initializes your access to a local camera and microphone.\n\t         * Failure could be caused a browser that didn't support WebRTC, or by the user not granting permission.\n\t         * If you are going to call easyrtc.enableAudio or easyrtc.enableVideo, you need to do it before\n\t         * calling easyrtc.initMediaSource.\n\t         * @param {function(Object)} successCallback - will be called with localmedia stream on success.\n\t         * @param {function(String,String)} errorCallback - is called with an error code and error description.\n\t         * @param {String} streamName - an optional name for the media source so you can use multiple cameras and\n\t         * screen share simultaneously.\n\t         * @example\n\t         *       easyrtc.initMediaSource(\n\t         *          function(mediastream){\n\t         *              easyrtc.setVideoObjectSrc( document.getElementById(\"mirrorVideo\"), mediastream);\n\t         *          },\n\t         *          function(errorCode, errorText){\n\t         *               easyrtc.showError(errorCode, errorText);\n\t         *          });\n\t         */\n\t        this.initMediaSource = function (successCallback, errorCallback, streamName) {\n\t\n\t            logDebug(\"about to request local media\");\n\t\n\t            if (!streamName) {\n\t                streamName = \"default\";\n\t            }\n\t\n\t            haveAudioVideo = {\n\t                audio: self.audioEnabled,\n\t                video: self.videoEnabled\n\t            };\n\t\n\t            if (!errorCallback) {\n\t                errorCallback = function errorCallback(errorCode, errorText) {\n\t                    var message = \"easyrtc.initMediaSource: \" + self.formatError(errorText);\n\t                    logDebug(message);\n\t                    self.showError(self.errCodes.MEDIA_ERR, message);\n\t                };\n\t            }\n\t\n\t            if (!self.supportsGetUserMedia()) {\n\t                errorCallback(self.errCodes.MEDIA_ERR, self.getConstantString(\"noWebrtcSupport\"));\n\t                return;\n\t            }\n\t\n\t            if (!successCallback) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"easyrtc.initMediaSource not supplied a successCallback\");\n\t                return;\n\t            }\n\t\n\t            var mode = self.getUserMediaConstraints();\n\t            /** @private\n\t             * @param {Object} stream - A mediaStream object.\n\t             *  */\n\t            var onUserMediaSuccess = function onUserMediaSuccess(stream) {\n\t                logDebug(\"getUserMedia success callback entered\");\n\t                logDebug(\"successfully got local media\");\n\t\n\t                stream.streamName = streamName;\n\t                registerLocalMediaStreamByName(stream, streamName);\n\t                var videoObj, triesLeft, _tryToGetSize, ele;\n\t                if (haveAudioVideo.video) {\n\t                    videoObj = document.createElement('video');\n\t                    videoObj.muted = true;\n\t                    triesLeft = 30;\n\t                    _tryToGetSize = function tryToGetSize() {\n\t                        if (videoObj.videoWidth > 0 || triesLeft < 0) {\n\t                            self.nativeVideoWidth = videoObj.videoWidth;\n\t                            self.nativeVideoHeight = videoObj.videoHeight;\n\t                            if (self._desiredVideoProperties.height && (self.nativeVideoHeight !== self._desiredVideoProperties.height || self.nativeVideoWidth !== self._desiredVideoProperties.width)) {\n\t                                self.showError(self.errCodes.MEDIA_WARNING, self.format(self.getConstantString(\"resolutionWarning\"), self._desiredVideoProperties.width, self._desiredVideoProperties.height, self.nativeVideoWidth, self.nativeVideoHeight));\n\t                            }\n\t                            self.setVideoObjectSrc(videoObj, null);\n\t                            if (videoObj.removeNode) {\n\t                                videoObj.removeNode(true);\n\t                            } else {\n\t                                ele = document.createElement('div');\n\t                                ele.appendChild(videoObj);\n\t                                ele.removeChild(videoObj);\n\t                            }\n\t\n\t                            updateConfigurationInfo();\n\t                            if (successCallback) {\n\t                                successCallback(stream);\n\t                            }\n\t                        } else {\n\t                            triesLeft -= 1;\n\t                            setTimeout(_tryToGetSize, 300);\n\t                        }\n\t                    };\n\t                    self.setVideoObjectSrc(videoObj, stream);\n\t                    _tryToGetSize();\n\t                } else {\n\t                    updateConfigurationInfo();\n\t                    if (successCallback) {\n\t                        successCallback(stream);\n\t                    }\n\t                }\n\t            };\n\t\n\t            /**\n\t             * @private\n\t             * @param {String} error\n\t             */\n\t            var onUserMediaError = function onUserMediaError(error) {\n\t                logDebug(\"getusermedia failed\");\n\t                logDebug(\"failed to get local media\");\n\t                var errText;\n\t                if (typeof error === 'string') {\n\t                    errText = error;\n\t                } else if (error.name) {\n\t                    errText = error.name;\n\t                } else {\n\t                    errText = \"Unknown\";\n\t                }\n\t                if (errorCallback) {\n\t                    logDebug(\"invoking error callback\", errText);\n\t                    errorCallback(self.errCodes.MEDIA_ERR, self.format(self.getConstantString(\"gumFailed\"), errText));\n\t                }\n\t                closeLocalMediaStreamByName(streamName);\n\t                haveAudioVideo = {\n\t                    audio: false,\n\t                    video: false\n\t                };\n\t                updateConfigurationInfo();\n\t            };\n\t\n\t            if (!self.audioEnabled && !self.videoEnabled) {\n\t                onUserMediaError(self.getConstantString(\"requireAudioOrVideo\"));\n\t                return;\n\t            }\n\t\n\t            function getCurrentTime() {\n\t                return new Date().getTime();\n\t            }\n\t\n\t            var firstCallTime;\n\t            function tryAgain(err) {\n\t                var currentTime = getCurrentTime();\n\t                if (currentTime < firstCallTime + 1000) {\n\t                    logDebug(\"Trying getUserMedia a second time\");\n\t                    try {\n\t                        navigator.getUserMedia(mode, onUserMediaSuccess, onUserMediaError);\n\t                    } catch (e) {\n\t                        onUserMediaError(err);\n\t                    }\n\t                } else {\n\t                    onUserMediaError(err);\n\t                }\n\t            }\n\t\n\t            //\n\t            // getUserMedia sometimes fails the first time I call it. I suspect it's a page loading\n\t            // issue. So I'm going to try adding a 1 second delay to allow things to settle down first.\n\t            // In addition, I'm going to try again after 3 seconds.\n\t            //\n\t            try {\n\t                firstCallTime = getCurrentTime();\n\t                navigator.getUserMedia(mode, onUserMediaSuccess, tryAgain);\n\t            } catch (err) {\n\t                tryAgain(err);\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Sets the callback used to decide whether to accept or reject an incoming call.\n\t         * @param {Function} acceptCheck takes the arguments (callerEasyrtcid, acceptor).\n\t         * The acceptCheck callback is passed an easyrtcid and an acceptor function. The acceptor function should be called with either\n\t         * a true value (accept the call) or false value( reject the call) as it's first argument, and optionally,\n\t         * an array of local media streamNames as a second argument.\n\t         * @example\n\t         *      easyrtc.setAcceptChecker( function(easyrtcid, acceptor){\n\t         *           if( easyrtc.idToName(easyrtcid) === 'Fred' ){\n\t         *              acceptor(true);\n\t         *           }\n\t         *           else if( easyrtc.idToName(easyrtcid) === 'Barney' ){\n\t         *              setTimeout( function(){\n\t         acceptor(true, ['myOtherCam']); // myOtherCam presumed to a streamName\n\t         }, 10000);\n\t         *           }\n\t         *           else{\n\t         *              acceptor(false);\n\t         *           }\n\t         *      });\n\t         */\n\t        this.setAcceptChecker = function (acceptCheck) {\n\t            self.acceptCheck = acceptCheck;\n\t        };\n\t\n\t        /**\n\t         * easyrtc.setStreamAcceptor sets a callback to receive media streams from other peers, independent\n\t         * of where the call was initiated (caller or callee).\n\t         * @param {Function} acceptor takes arguments (caller, mediaStream, mediaStreamName)\n\t         * @example\n\t         *  easyrtc.setStreamAcceptor(function(easyrtcid, stream, streamName){\n\t         *     document.getElementById('callerName').innerHTML = easyrtc.idToName(easyrtcid);\n\t         *     easyrtc.setVideoObjectSrc( document.getElementById(\"callerVideo\"), stream);\n\t         *  });\n\t         */\n\t        this.setStreamAcceptor = function (acceptor) {\n\t            self.streamAcceptor = acceptor;\n\t        };\n\t\n\t        /** Sets the easyrtc.onError field to a user specified function.\n\t         * @param {Function} errListener takes an object of the form {errorCode: String, errorText: String}\n\t         * @example\n\t         *    easyrtc.setOnError( function(errorObject){\n\t         *        document.getElementById(\"errMessageDiv\").innerHTML += errorObject.errorText;\n\t         *    });\n\t         */\n\t        self.setOnError = function (errListener) {\n\t            self.onError = errListener;\n\t        };\n\t\n\t        /**\n\t         * Sets the callCancelled callback. This will be called when a remote user\n\t         * initiates a call to you, but does a \"hangup\" before you have a chance to get his video stream.\n\t         * @param {Function} callCancelled takes an easyrtcid as an argument and a boolean that indicates whether\n\t         *  the call was explicitly cancelled remotely (true), or actually accepted by the user attempting a call to\n\t         *  the same party.\n\t         * @example\n\t         *     easyrtc.setCallCancelled( function(easyrtcid, explicitlyCancelled){\n\t         *        if( explicitlyCancelled ){\n\t         *            console.log(easyrtc.idToName(easyrtcid) + \" stopped trying to reach you\");\n\t         *         }\n\t         *         else{\n\t         *            console.log(\"Implicitly called \"  + easyrtc.idToName(easyrtcid));\n\t         *         }\n\t         *     });\n\t         */\n\t        this.setCallCancelled = function (callCancelled) {\n\t            self.callCancelled = callCancelled;\n\t        };\n\t\n\t        /**  Sets a callback to receive notification of a media stream closing. The usual\n\t         *  use of this is to clear the source of your video object so you aren't left with\n\t         *  the last frame of the video displayed on it.\n\t         *  @param {Function} onStreamClosed takes an easyrtcid as it's first parameter, the stream as it's second argument, and name of the video stream as it's third.\n\t         *  @example\n\t         *     easyrtc.setOnStreamClosed( function(easyrtcid, stream, streamName){\n\t         *         easyrtc.setVideoObjectSrc( document.getElementById(\"callerVideo\"), \"\");\n\t         *         ( easyrtc.idToName(easyrtcid) + \" closed stream \" + stream.id + \" \" + streamName);\n\t         *     });\n\t         */\n\t        this.setOnStreamClosed = function (onStreamClosed) {\n\t            self.onStreamClosed = onStreamClosed;\n\t        };\n\t\n\t        /**\n\t         * Sets a listener for data sent from another client (either peer to peer or via websockets).\n\t         * If no msgType or source is provided, the listener applies to all events that aren't otherwise handled.\n\t         * If a msgType but no source is provided, the listener applies to all messages of that msgType that aren't otherwise handled.\n\t         * If a msgType and a source is provided, the listener applies to only message of the specified type coming from the specified peer.\n\t         * The most specific case takes priority over the more general.\n\t         * @param {Function} listener has the signature (easyrtcid, msgType, msgData, targeting).\n\t         *   msgType is a string. targeting is null if the message was received using WebRTC data channels, otherwise it\n\t         *   is an object that contains one or more of the following string valued elements {targetEasyrtcid, targetGroup, targetRoom}.\n\t         * @param {String} msgType - a string, optional.\n\t         * @param {String} source - the sender's easyrtcid, optional.\n\t         * @example\n\t         *     easyrtc.setPeerListener( function(easyrtcid, msgType, msgData, targeting){\n\t         *         console.log(\"From \" + easyrtc.idToName(easyrtcid) +\n\t         *             \" sent the following data \" + JSON.stringify(msgData));\n\t         *     });\n\t         *     easyrtc.setPeerListener( function(easyrtcid, msgType, msgData, targeting){\n\t         *         console.log(\"From \" + easyrtc.idToName(easyrtcid) +\n\t         *             \" sent the following data \" + JSON.stringify(msgData));\n\t         *     }, 'food', 'dkdjdekj44--');\n\t         *     easyrtc.setPeerListener( function(easyrtcid, msgType, msgData, targeting){\n\t         *         console.log(\"From \" + easyrtcid +\n\t         *             \" sent the following data \" + JSON.stringify(msgData));\n\t         *     }, 'drink');\n\t         *\n\t         *\n\t         */\n\t        this.setPeerListener = function (listener, msgType, source) {\n\t            if (!msgType) {\n\t                receivePeer.cb = listener;\n\t            } else {\n\t                if (!receivePeer.msgTypes[msgType]) {\n\t                    receivePeer.msgTypes[msgType] = { sources: {} };\n\t                }\n\t                if (!source) {\n\t                    receivePeer.msgTypes[msgType].cb = listener;\n\t                } else {\n\t                    receivePeer.msgTypes[msgType].sources[source] = { cb: listener };\n\t                }\n\t            }\n\t        };\n\t        /* This function serves to distribute peer messages to the various peer listeners */\n\t        /** @private\n\t         * @param {String} easyrtcid\n\t         * @param {Object} msg - needs to contain a msgType and a msgData field.\n\t         * @param {Object} targeting\n\t         */\n\t        this.receivePeerDistribute = function (easyrtcid, msg, targeting) {\n\t            var msgType = msg.msgType;\n\t            var msgData = msg.msgData;\n\t            if (!msgType) {\n\t                logDebug(\"received peer message without msgType\", msg);\n\t                return;\n\t            }\n\t\n\t            if (receivePeer.msgTypes[msgType]) {\n\t                if (receivePeer.msgTypes[msgType].sources[easyrtcid] && receivePeer.msgTypes[msgType].sources[easyrtcid].cb) {\n\t                    receivePeer.msgTypes[msgType].sources[easyrtcid].cb(easyrtcid, msgType, msgData, targeting);\n\t                    return;\n\t                }\n\t                if (receivePeer.msgTypes[msgType].cb) {\n\t                    receivePeer.msgTypes[msgType].cb(easyrtcid, msgType, msgData, targeting);\n\t                    return;\n\t                }\n\t            }\n\t            if (receivePeer.cb) {\n\t                receivePeer.cb(easyrtcid, msgType, msgData, targeting);\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Sets a listener for messages from the server.\n\t         * @param {Function} listener has the signature (msgType, msgData, targeting)\n\t         * @example\n\t         *     easyrtc.setServerListener( function(msgType, msgData, targeting){\n\t         *         (\"The Server sent the following message \" + JSON.stringify(msgData));\n\t         *     });\n\t         */\n\t        this.setServerListener = function (listener) {\n\t            receiveServerCB = listener;\n\t        };\n\t\n\t        /**\n\t         * Sets the url of the Socket server.\n\t         * The node.js server is great as a socket server, but it doesn't have\n\t         * all the hooks you'd like in a general web server, like PHP or Python\n\t         * plug-ins. By setting the serverPath your application can get it's regular\n\t         * pages from a regular web server, but the EasyRTC library can still reach the\n\t         * socket server.\n\t         * @param {String} socketUrl\n\t         * @param {Object} options an optional dictionary of options for socket.io's connect method.\n\t         * The default is {'connect timeout': 10000,'force new connection': true }\n\t         * @example\n\t         *     easyrtc.setSocketUrl(\":8080\", options);\n\t         */\n\t        this.setSocketUrl = function (socketUrl, options) {\n\t            logDebug(\"WebRTC signaling server URL set to \" + socketUrl);\n\t            serverPath = socketUrl;\n\t            if (options) {\n\t                connectionOptions = options;\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Sets the user name associated with the connection.\n\t         * @param {String} username must obey standard identifier conventions.\n\t         * @returns {Boolean} true if the call succeeded, false if the username was invalid.\n\t         * @example\n\t         *    if( !easyrtc.setUsername(\"JohnSmith\") ){\n\t         *        console.error(\"bad user name);\n\t         *    }\n\t         *\n\t         */\n\t        this.setUsername = function (username) {\n\t            if (self.myEasyrtcid) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"easyrtc.setUsername called after authentication\");\n\t                return false;\n\t            } else if (self.isNameValid(username)) {\n\t                self.username = username;\n\t                return true;\n\t            } else {\n\t                self.showError(self.errCodes.BAD_NAME, self.format(self.getConstantString(\"badUserName\"), username));\n\t                return false;\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Get an array of easyrtcids that are using a particular username\n\t         * @param {String} username - the username of interest.\n\t         * @param {String} room - an optional room name argument limiting results to a particular room.\n\t         * @returns {Array} an array of {easyrtcid:id, roomName: roomName}.\n\t         */\n\t        this.usernameToIds = function (username, room) {\n\t            var results = [];\n\t            var id, roomName;\n\t            for (roomName in lastLoggedInList) {\n\t                if (!lastLoggedInList.hasOwnProperty(roomName)) {\n\t                    continue;\n\t                }\n\t                if (room && roomName !== room) {\n\t                    continue;\n\t                }\n\t                for (id in lastLoggedInList[roomName]) {\n\t                    if (!lastLoggedInList[roomName].hasOwnProperty(id)) {\n\t                        continue;\n\t                    }\n\t                    if (lastLoggedInList[roomName][id].username === username) {\n\t                        results.push({\n\t                            easyrtcid: id,\n\t                            roomName: roomName\n\t                        });\n\t                    }\n\t                }\n\t            }\n\t            return results;\n\t        };\n\t\n\t        /**\n\t         * Returns another peers API field, if it exists.\n\t         * @param {type} roomName\n\t         * @param {type} easyrtcid\n\t         * @param {type} fieldName\n\t         * @returns {Object}  Undefined if the attribute does not exist, its value otherwise.\n\t         */\n\t        this.getRoomApiField = function (roomName, easyrtcid, fieldName) {\n\t            if (lastLoggedInList[roomName] && lastLoggedInList[roomName][easyrtcid] && lastLoggedInList[roomName][easyrtcid].apiField && lastLoggedInList[roomName][easyrtcid].apiField[fieldName]) {\n\t                return lastLoggedInList[roomName][easyrtcid].apiField[fieldName].fieldValue;\n\t            } else {\n\t                return undefined;\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Set the authentication credential if needed.\n\t         * @param {Object} credentialParm - a JSONable object.\n\t         */\n\t        this.setCredential = function (credentialParm) {\n\t            try {\n\t                JSON.stringify(credentialParm);\n\t                credential = credentialParm;\n\t                return true;\n\t            } catch (oops) {\n\t                self.showError(self.errCodes.BAD_CREDENTIAL, \"easyrtc.setCredential passed a non-JSON-able object\");\n\t                throw \"easyrtc.setCredential passed a non-JSON-able object\";\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Sets the listener for socket disconnection by external (to the API) reasons.\n\t         * @param {Function} disconnectListener takes no arguments and is not called as a result of calling easyrtc.disconnect.\n\t         * @example\n\t         *    easyrtc.setDisconnectListener(function(){\n\t         *        easyrtc.showError(\"SYSTEM-ERROR\", \"Lost our connection to the socket server\");\n\t         *    });\n\t         */\n\t        this.setDisconnectListener = function (disconnectListener) {\n\t            self.disconnectListener = disconnectListener;\n\t        };\n\t\n\t        /**\n\t         * Convert an easyrtcid to a user name. This is useful for labeling buttons and messages\n\t         * regarding peers.\n\t         * @param {String} easyrtcid\n\t         * @return {String} the username associated with the easyrtcid, or the easyrtcid if there is\n\t         * no associated username.\n\t         * @example\n\t         *    console.log(easyrtcid + \" is actually \" + easyrtc.idToName(easyrtcid));\n\t         */\n\t        this.idToName = function (easyrtcid) {\n\t            var roomName;\n\t            for (roomName in lastLoggedInList) {\n\t                if (!lastLoggedInList.hasOwnProperty(roomName)) {\n\t                    continue;\n\t                }\n\t                if (lastLoggedInList[roomName][easyrtcid]) {\n\t                    if (lastLoggedInList[roomName][easyrtcid].username) {\n\t                        return lastLoggedInList[roomName][easyrtcid].username;\n\t                    }\n\t                }\n\t            }\n\t            return easyrtcid;\n\t        };\n\t\n\t        /* used in easyrtc.connect */\n\t        /** @private */\n\t        this.webSocket = null;\n\t        /** @private */\n\t        var pc_config = {};\n\t        /** @private */\n\t        var pc_config_to_use = null;\n\t        /** @private */\n\t        var use_fresh_ice_each_peer = false;\n\t\n\t        /**\n\t         * Determines whether fresh ice server configuration should be requested from the server for each peer connection.\n\t         * @param {Boolean} value the default is false.\n\t         */\n\t        this.setUseFreshIceEachPeerConnection = function (value) {\n\t            use_fresh_ice_each_peer = value;\n\t        };\n\t\n\t        /**\n\t         * Returns the last ice config supplied by the EasyRTC server. This function is not normally used, it is provided\n\t         * for people who want to try filtering ice server configuration on the client.\n\t         * @return {Object} which has the form {iceServers:[ice_server_entry, ice_server_entry, ...]}\n\t         */\n\t        this.getServerIce = function () {\n\t            return pc_config;\n\t        };\n\t\n\t        /**\n\t         * Sets the ice server configuration that will be used in subsequent calls. You only need this function if you are filtering\n\t         * the ice server configuration on the client or if you are using TURN certificates that have a very short lifespan.\n\t         * @param {Object} ice An object with iceServers element containing an array of ice server entries.\n\t         * @example\n\t         *     easyrtc.setIceUsedInCalls( {\"iceServers\": [\n\t         *      {\n\t         *         \"url\": \"stun:stun.sipgate.net\"\n\t         *      },\n\t         *      {\n\t         *         \"url\": \"stun:217.10.68.152\"\n\t         *      },\n\t         *      {\n\t         *         \"url\": \"stun:stun.sipgate.net:10000\"\n\t         *      }\n\t         *      ]});\n\t         *      easyrtc.call(...);\n\t         */\n\t        this.setIceUsedInCalls = function (ice) {\n\t            if (!ice.iceServers) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"Bad ice configuration passed to easyrtc.setIceUsedInCalls\");\n\t            } else {\n\t                pc_config_to_use = ice;\n\t            }\n\t        };\n\t\n\t        /** @private */\n\t        function getRemoteStreamByName(peerConn, otherUser, streamName) {\n\t\n\t            var keyToMatch = null;\n\t            var remoteStreams = peerConn.pc.getRemoteStreams();\n\t\n\t            // No streamName lead to default \n\t            if (!streamName) {\n\t                streamName = \"default\";\n\t            }\n\t\n\t            // default lead to first if available\n\t            if (streamName === \"default\") {\n\t                if (remoteStreams.length > 0) {\n\t                    return remoteStreams[0];\n\t                } else {\n\t                    return null;\n\t                }\n\t            }\n\t\n\t            // Get mediaIds from user roomData\n\t            for (var roomName in self.roomData) {\n\t                if (self.roomData.hasOwnProperty(roomName)) {\n\t                    var mediaIds = self.getRoomApiField(roomName, otherUser, \"mediaIds\");\n\t                    keyToMatch = mediaIds ? mediaIds[streamName] : null;\n\t                    if (keyToMatch) {\n\t                        break;\n\t                    }\n\t                }\n\t            }\n\t\n\t            // \n\t            if (!keyToMatch) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"remote peer does not have media stream called \" + streamName);\n\t            }\n\t\n\t            // \n\t            for (var i = 0; i < remoteStreams.length; i++) {\n\t                var remoteId;\n\t                if (remoteStreams[i].id) {\n\t                    remoteId = remoteStreams[i].id;\n\t                } else {\n\t                    remoteId = \"default\";\n\t                }\n\t\n\t                if (!keyToMatch || // No match\n\t                remoteId === keyToMatch || // Full match\n\t                remoteId.indexOf(keyToMatch) === 0 // Partial match\n\t                ) {\n\t                        return remoteStreams[i];\n\t                    }\n\t            }\n\t\n\t            return null;\n\t        }\n\t\n\t        /**\n\t         * @private\n\t         * @param {string} easyrtcid\n\t         * @param {boolean} checkAudio\n\t         * @param {string} streamName\n\t         */\n\t        function _haveTracks(easyrtcid, checkAudio, streamName) {\n\t            var stream, peerConnObj;\n\t            if (!easyrtcid) {\n\t                stream = getLocalMediaStreamByName(streamName);\n\t            } else {\n\t                peerConnObj = peerConns[easyrtcid];\n\t                if (!peerConnObj) {\n\t                    self.showError(self.errCodes.DEVELOPER_ERR, \"haveTracks called about a peer you don't have a connection to\");\n\t                    return false;\n\t                }\n\t                stream = getRemoteStreamByName(peerConns[easyrtcid], easyrtcid, streamName);\n\t            }\n\t            if (!stream) {\n\t                return false;\n\t            }\n\t\n\t            var tracks;\n\t            try {\n\t\n\t                if (checkAudio) {\n\t                    tracks = stream.getAudioTracks();\n\t                } else {\n\t                    tracks = stream.getVideoTracks();\n\t                }\n\t            } catch (oops) {\n\t                // TODO why do we return true here ?\n\t                return true;\n\t            }\n\t\n\t            if (!tracks) {\n\t                return false;\n\t            }\n\t\n\t            return tracks.length > 0;\n\t        }\n\t\n\t        /** Determines if a particular peer2peer connection has an audio track.\n\t         * @param {String} easyrtcid - the id of the other caller in the connection. If easyrtcid is not supplied, checks the local media.\n\t         * @param {String} streamName - an optional stream id.\n\t         * @return {Boolean} true if there is an audio track or the browser can't tell us.\n\t         */\n\t        this.haveAudioTrack = function (easyrtcid, streamName) {\n\t            return _haveTracks(easyrtcid, true, streamName);\n\t        };\n\t\n\t        /** Determines if a particular peer2peer connection has a video track.\n\t         * @param {String} easyrtcid - the id of the other caller in the connection. If easyrtcid is not supplied, checks the local media.\n\t         * @param {String} streamName - an optional stream id.     *\n\t         * @return {Boolean} true if there is an video track or the browser can't tell us.\n\t         */\n\t        this.haveVideoTrack = function (easyrtcid, streamName) {\n\t            return _haveTracks(easyrtcid, false, streamName);\n\t        };\n\t\n\t        /**\n\t         * Gets a data field associated with a room.\n\t         * @param {String} roomName - the name of the room.\n\t         * @param {String} fieldName - the name of the field.\n\t         * @return {Object} dataValue - the value of the field if present, undefined if not present.\n\t         */\n\t        this.getRoomField = function (roomName, fieldName) {\n\t            var fields = self.getRoomFields(roomName);\n\t            return !fields || !fields[fieldName] ? undefined : fields[fieldName].fieldValue;\n\t        };\n\t\n\t        /** @private */\n\t        var fields = null;\n\t\n\t        /** @private */\n\t        var preallocatedSocketIo = null;\n\t\n\t        /** @private */\n\t        var closedChannel = null;\n\t\n\t        //\n\t        // easyrtc.disconnect performs a clean disconnection of the client from the server.\n\t        //\n\t        function disconnectBody() {\n\t            var key;\n\t            self.loggingOut = true;\n\t            offersPending = {};\n\t            acceptancePending = {};\n\t            self.disconnecting = true;\n\t            closedChannel = self.webSocket;\n\t            if (self.webSocketConnected) {\n\t                if (!preallocatedSocketIo) {\n\t                    self.webSocket.close();\n\t                }\n\t                self.webSocketConnected = false;\n\t            }\n\t            self.hangupAll();\n\t            if (roomOccupantListener) {\n\t                for (key in lastLoggedInList) {\n\t                    if (lastLoggedInList.hasOwnProperty(key)) {\n\t                        roomOccupantListener(key, {}, false);\n\t                    }\n\t                }\n\t            }\n\t            lastLoggedInList = {};\n\t            self.emitEvent(\"roomOccupant\", {});\n\t            self.roomData = {};\n\t            self.roomJoin = {};\n\t            self._roomApiFields = {};\n\t            self.loggingOut = false;\n\t            self.myEasyrtcid = null;\n\t            self.disconnecting = false;\n\t            oldConfig = {};\n\t        }\n\t\n\t        /**\n\t         * Disconnect from the EasyRTC server.\n\t         * @example\n\t         *    easyrtc.disconnect();\n\t         */\n\t        this.disconnect = function () {\n\t\n\t            logDebug(\"attempt to disconnect from WebRTC signalling server\");\n\t\n\t            self.disconnecting = true;\n\t            self.hangupAll();\n\t            self.loggingOut = true;\n\t            //\n\t            // The hangupAll may try to send configuration information back to the server.\n\t            // Collecting that information is asynchronous, we don't actually close the\n\t            // connection until it's had a chance to be sent. We allocate 100ms for collecting\n\t            // the info, so 250ms should be sufficient for the disconnecting.\n\t            //\n\t            setTimeout(function () {\n\t                if (self.webSocket) {\n\t                    try {\n\t                        self.webSocket.disconnect();\n\t                    } catch (e) {\n\t                        // we don't really care if this fails.\n\t                    }\n\t\n\t                    closedChannel = self.webSocket;\n\t                    self.webSocket = 0;\n\t                }\n\t                self.loggingOut = false;\n\t                self.disconnecting = false;\n\t                if (roomOccupantListener) {\n\t                    roomOccupantListener(null, {}, false);\n\t                }\n\t                self.emitEvent(\"roomOccupant\", {});\n\t                oldConfig = {};\n\t            }, 250);\n\t        };\n\t\n\t        /** @private */\n\t        //\n\t        // This function is used to send WebRTC signaling messages to another client. These messages all the form:\n\t        //   destUser: some id or null\n\t        //   msgType: one of [\"offer\"/\"answer\"/\"candidate\",\"reject\",\"hangup\", \"getRoomList\"]\n\t        //   msgData: either null or an SDP record\n\t        //   successCallback: a function with the signature  function(msgType, wholeMsg);\n\t        //   errorCallback: a function with signature function(errorCode, errorText)\n\t        //\n\t        function sendSignalling(destUser, msgType, msgData, successCallback, errorCallback) {\n\t            if (!self.webSocket) {\n\t                throw \"Attempt to send message without a valid connection to the server.\";\n\t            } else {\n\t                var dataToShip = {\n\t                    msgType: msgType\n\t                };\n\t                if (destUser) {\n\t                    dataToShip.targetEasyrtcid = destUser;\n\t                }\n\t                if (msgData) {\n\t                    dataToShip.msgData = msgData;\n\t                }\n\t\n\t                logDebug(\"sending socket message \" + JSON.stringify(dataToShip));\n\t\n\t                self.webSocket.json.emit(\"easyrtcCmd\", dataToShip, function (ackMsg) {\n\t                    if (ackMsg.msgType !== \"error\") {\n\t                        if (!ackMsg.hasOwnProperty(\"msgData\")) {\n\t                            ackMsg.msgData = null;\n\t                        }\n\t                        if (successCallback) {\n\t                            successCallback(ackMsg.msgType, ackMsg.msgData);\n\t                        }\n\t                    } else {\n\t                        if (errorCallback) {\n\t                            errorCallback(ackMsg.msgData.errorCode, ackMsg.msgData.errorText);\n\t                        } else {\n\t                            self.showError(ackMsg.msgData.errorCode, ackMsg.msgData.errorText);\n\t                        }\n\t                    }\n\t                });\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        //\n\t        // This function is used to send large messages. it sends messages that have a transfer field\n\t        // so that the receiver knows it's a transfer message. To differentiate the transfers, a\n\t        // transferId is generated and passed for each message.\n\t        //\n\t        var sendByChunkUidCounter = 0;\n\t        /** @private */\n\t        function sendByChunkHelper(destUser, msgData) {\n\t            var transferId = destUser + '-' + sendByChunkUidCounter++;\n\t\n\t            var pos, len, startMessage, message, endMessage;\n\t            var numberOfChunks = Math.ceil(msgData.length / self.maxP2PMessageLength);\n\t            startMessage = {\n\t                transfer: 'start',\n\t                transferId: transferId,\n\t                parts: numberOfChunks\n\t            };\n\t\n\t            endMessage = {\n\t                transfer: 'end',\n\t                transferId: transferId\n\t            };\n\t\n\t            peerConns[destUser].dataChannelS.send(JSON.stringify(startMessage));\n\t\n\t            for (pos = 0, len = msgData.length; pos < len; pos += self.maxP2PMessageLength) {\n\t                message = {\n\t                    transferId: transferId,\n\t                    data: msgData.substr(pos, self.maxP2PMessageLength),\n\t                    transfer: 'chunk'\n\t                };\n\t                peerConns[destUser].dataChannelS.send(JSON.stringify(message));\n\t            }\n\t\n\t            peerConns[destUser].dataChannelS.send(JSON.stringify(endMessage));\n\t        }\n\t\n\t        /**\n\t         *Sends data to another user using previously established data channel. This method will\n\t         * fail if no data channel has been established yet. Unlike the easyrtc.sendWS method,\n\t         * you can't send a dictionary, convert dictionaries to strings using JSON.stringify first.\n\t         * What data types you can send, and how large a data type depends on your browser.\n\t         * @param {String} destUser (an easyrtcid)\n\t         * @param {String} msgType - the type of message being sent (application specific).\n\t         * @param {Object} msgData - a JSONable object.\n\t         * @example\n\t         *     easyrtc.sendDataP2P(someEasyrtcid, \"roomData\", {room:499, bldgNum:'asd'});\n\t         */\n\t        this.sendDataP2P = function (destUser, msgType, msgData) {\n\t\n\t            var flattenedData = JSON.stringify({ msgType: msgType, msgData: msgData });\n\t            logDebug(\"sending p2p message to \" + destUser + \" with data=\" + JSON.stringify(flattenedData));\n\t\n\t            if (!peerConns[destUser]) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"Attempt to send data peer to peer without a connection to \" + destUser + ' first.');\n\t            } else if (!peerConns[destUser].dataChannelS) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"Attempt to send data peer to peer without establishing a data channel to \" + destUser + ' first.');\n\t            } else if (!peerConns[destUser].dataChannelReady) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"Attempt to use data channel to \" + destUser + \" before it's ready to send.\");\n\t            } else {\n\t                try {\n\t                    if (flattenedData.length > self.maxP2PMessageLength) {\n\t                        sendByChunkHelper(destUser, flattenedData);\n\t                    } else {\n\t                        peerConns[destUser].dataChannelS.send(flattenedData);\n\t                    }\n\t                } catch (sendDataErr) {\n\t                    logDebug(\"sendDataP2P error: \", sendDataErr);\n\t                    throw sendDataErr;\n\t                }\n\t            }\n\t        };\n\t\n\t        /** Sends data to another user using websockets. The easyrtc.sendServerMessage or easyrtc.sendPeerMessage methods\n\t         * are wrappers for this method; application code should use them instead.\n\t         * @param {String} destination - either a string containing the easyrtcId of the other user, or an object containing some subset of the following fields: targetEasyrtcid, targetGroup, targetRoom.\n\t         * Specifying multiple fields restricts the scope of the destination (operates as a logical AND, not a logical OR).\n\t         * @param {String} msgType -the type of message being sent (application specific).\n\t         * @param {Object} msgData - a JSONable object.\n\t         * @param {Function} ackhandler - by default, the ackhandler handles acknowledgments from the server that your message was delivered to it's destination.\n\t         * However, application logic in the server can over-ride this. If you leave this null, a stub ackHandler will be used. The ackHandler\n\t         * gets passed a message with the same msgType as your outgoing message, or a message type of \"error\" in which case\n\t         * msgData will contain a errorCode and errorText fields.\n\t         * @example\n\t         *    easyrtc.sendDataWS(someEasyrtcid, \"setPostalAddress\", {room:499, bldgNum:'asd'},\n\t         *      function(ackMsg){\n\t         *          console.log(\"saw the following acknowledgment \" + JSON.stringify(ackMsg));\n\t         *      }\n\t         *    );\n\t         */\n\t        this.sendDataWS = function (destination, msgType, msgData, ackhandler) {\n\t            logDebug(\"sending client message via websockets to \" + destination + \" with data=\" + JSON.stringify(msgData));\n\t\n\t            if (!ackhandler) {\n\t                ackhandler = function ackhandler(msg) {\n\t                    if (msg.msgType === \"error\") {\n\t                        self.showError(msg.msgData.errorCode, msg.msgData.errorText);\n\t                    }\n\t                };\n\t            }\n\t\n\t            var outgoingMessage = {\n\t                msgType: msgType,\n\t                msgData: msgData\n\t            };\n\t\n\t            if (destination) {\n\t                if (typeof destination === 'string') {\n\t                    outgoingMessage.targetEasyrtcid = destination;\n\t                } else if ((typeof destination === 'undefined' ? 'undefined' : _typeof(destination)) === 'object') {\n\t                    if (destination.targetEasyrtcid) {\n\t                        outgoingMessage.targetEasyrtcid = destination.targetEasyrtcid;\n\t                    }\n\t                    if (destination.targetRoom) {\n\t                        outgoingMessage.targetRoom = destination.targetRoom;\n\t                    }\n\t                    if (destination.targetGroup) {\n\t                        outgoingMessage.targetGroup = destination.targetGroup;\n\t                    }\n\t                }\n\t            }\n\t\n\t            if (self.webSocket) {\n\t                self.webSocket.json.emit(\"easyrtcMsg\", outgoingMessage, ackhandler);\n\t            } else {\n\t                logDebug(\"websocket failed because no connection to server\");\n\t\n\t                throw \"Attempt to send message without a valid connection to the server.\";\n\t            }\n\t        };\n\t\n\t        /** Sends data to another user. This method uses data channels if one has been set up, or websockets otherwise.\n\t         * @param {String} destUser - a string containing the easyrtcId of the other user.\n\t         * Specifying multiple fields restricts the scope of the destination (operates as a logical AND, not a logical OR).\n\t         * @param {String} msgType -the type of message being sent (application specific).\n\t         * @param {Object} msgData - a JSONable object.\n\t         * @param {Function} ackHandler - a function which receives acknowledgments. May only be invoked in\n\t         *  the websocket case.\n\t         * @example\n\t         *    easyrtc.sendData(someEasyrtcid, \"roomData\",  {room:499, bldgNum:'asd'},\n\t         *       function ackHandler(msgType, msgData);\n\t         *    );\n\t         */\n\t        this.sendData = function (destUser, msgType, msgData, ackHandler) {\n\t            if (peerConns[destUser] && peerConns[destUser].dataChannelReady) {\n\t                self.sendDataP2P(destUser, msgType, msgData);\n\t            } else {\n\t                self.sendDataWS(destUser, msgType, msgData, ackHandler);\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Sends a message to another peer on the easyrtcMsg channel.\n\t         * @param {String} destination - either a string containing the easyrtcId of the other user, or an object containing some subset of the following fields: targetEasyrtcid, targetGroup, targetRoom.\n\t         * Specifying multiple fields restricts the scope of the destination (operates as a logical AND, not a logical OR).\n\t         * @param {String} msgType - the type of message being sent (application specific).\n\t         * @param {Object} msgData - a JSONable object with the message contents.\n\t         * @param {function(String, Object)} successCB - a callback function with results from the server.\n\t         * @param {function(String, String)} failureCB - a callback function to handle errors.\n\t         * @example\n\t         *     easyrtc.sendPeerMessage(otherUser, 'offer_candy', {candy_name:'mars'},\n\t         *             function(msgType, msgBody ){\n\t         *                console.log(\"message was sent\");\n\t         *             },\n\t         *             function(errorCode, errorText){\n\t         *                console.log(\"error was \" + errorText);\n\t         *             });\n\t         */\n\t        this.sendPeerMessage = function (destination, msgType, msgData, successCB, failureCB) {\n\t            if (!destination) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"destination was null in sendPeerMessage\");\n\t            }\n\t\n\t            logDebug(\"sending peer message \" + JSON.stringify(msgData));\n\t\n\t            function ackHandler(response) {\n\t                if (response.msgType === \"error\") {\n\t                    if (failureCB) {\n\t                        failureCB(response.msgData.errorCode, response.msgData.errorText);\n\t                    }\n\t                } else {\n\t                    if (successCB) {\n\t                        // firefox complains if you pass an undefined as an parameter.\n\t                        successCB(response.msgType, response.msgData ? response.msgData : null);\n\t                    }\n\t                }\n\t            }\n\t\n\t            self.sendDataWS(destination, msgType, msgData, ackHandler);\n\t        };\n\t\n\t        /**\n\t         * Sends a message to the application code in the server (ie, on the easyrtcMsg channel).\n\t         * @param {String} msgType - the type of message being sent (application specific).\n\t         * @param {Object} msgData - a JSONable object with the message contents.\n\t         * @param {function(String, Object)} successCB - a callback function with results from the server.\n\t         * @param {function(String, String)} failureCB - a callback function to handle errors.\n\t         * @example\n\t         *     easyrtc.sendServerMessage('get_candy', {candy_name:'mars'},\n\t         *             function(msgType, msgData ){\n\t         *                console.log(\"got candy count of \" + msgData.barCount);\n\t         *             },\n\t         *             function(errorCode, errorText){\n\t         *                console.log(\"error was \" + errorText);\n\t         *             });\n\t         */\n\t        this.sendServerMessage = function (msgType, msgData, successCB, failureCB) {\n\t\n\t            var dataToShip = { msgType: msgType, msgData: msgData };\n\t            logDebug(\"sending server message \" + JSON.stringify(dataToShip));\n\t\n\t            function ackhandler(response) {\n\t                if (response.msgType === \"error\") {\n\t                    if (failureCB) {\n\t                        failureCB(response.msgData.errorCode, response.msgData.errorText);\n\t                    }\n\t                } else {\n\t                    if (successCB) {\n\t                        successCB(response.msgType, response.msgData ? response.msgData : null);\n\t                    }\n\t                }\n\t            }\n\t\n\t            self.sendDataWS(null, msgType, msgData, ackhandler);\n\t        };\n\t\n\t        /** Sends the server a request for the list of rooms the user can see.\n\t         * You must have already be connected to use this function.\n\t         * @param {function(Object)} callback - on success, this function is called with a map of the form  { roomName:{\"roomName\":String, \"numberClients\": Number}}.\n\t         * The roomName appears as both the key to the map, and as the value of the \"roomName\" field.\n\t         * @param {function(String, String)} errorCallback   is called on failure. It gets an errorCode and errorText as it's too arguments.\n\t         * @example\n\t         *    easyrtc.getRoomList(\n\t         *        function(roomList){\n\t         *           for(roomName in roomList){\n\t         *              console.log(\"saw room \" + roomName);\n\t         *           }\n\t         *         },\n\t         *         function(errorCode, errorText){\n\t         *            easyrtc.showError(errorCode, errorText);\n\t         *         }\n\t         *    );\n\t         */\n\t        this.getRoomList = function (callback, errorCallback) {\n\t            sendSignalling(null, \"getRoomList\", null, function (msgType, msgData) {\n\t                callback(msgData.roomList);\n\t            }, function (errorCode, errorText) {\n\t                if (errorCallback) {\n\t                    errorCallback(errorCode, errorText);\n\t                } else {\n\t                    self.showError(errorCode, errorText);\n\t                }\n\t            });\n\t        };\n\t\n\t        /** Value returned by easyrtc.getConnectStatus if the other user isn't connected to us. */\n\t        this.NOT_CONNECTED = \"not connected\";\n\t\n\t        /** Value returned by easyrtc.getConnectStatus if the other user is in the process of getting connected */\n\t        this.BECOMING_CONNECTED = \"connection in progress to us.\";\n\t\n\t        /** Value returned by easyrtc.getConnectStatus if the other user is connected to us. */\n\t        this.IS_CONNECTED = \"is connected\";\n\t\n\t        /**\n\t         * Check if the client has a peer-2-peer connection to another user.\n\t         * The return values are text strings so you can use them in debugging output.\n\t         *  @param {String} otherUser - the easyrtcid of the other user.\n\t         *  @return {String} one of the following values: easyrtc.NOT_CONNECTED, easyrtc.BECOMING_CONNECTED, easyrtc.IS_CONNECTED\n\t         *  @example\n\t         *     if( easyrtc.getConnectStatus(otherEasyrtcid) == easyrtc.NOT_CONNECTED ){\n\t         *         easyrtc.call(otherEasyrtcid,\n\t         *                  function(){ console.log(\"success\"); },\n\t         *                  function(){ console.log(\"failure\"); });\n\t         *     }\n\t         */\n\t        this.getConnectStatus = function (otherUser) {\n\t            if (!peerConns.hasOwnProperty(otherUser)) {\n\t                return self.NOT_CONNECTED;\n\t            }\n\t            var peer = peerConns[otherUser];\n\t            if ((peer.sharingAudio || peer.sharingVideo) && !peer.startedAV) {\n\t                return self.BECOMING_CONNECTED;\n\t            } else if (peer.sharingData && !peer.dataChannelReady) {\n\t                return self.BECOMING_CONNECTED;\n\t            } else {\n\t                return self.IS_CONNECTED;\n\t            }\n\t        };\n\t\n\t        /**\n\t         * @private\n\t         */\n\t        function buildPeerConstraints() {\n\t            var options = [];\n\t            options.push({ 'DtlsSrtpKeyAgreement': 'true' }); // for interoperability\n\t            return { optional: options };\n\t        }\n\t\n\t        /** @private */\n\t        function sendQueuedCandidates(peer, onSignalSuccess, onSignalFailure) {\n\t            var i;\n\t            for (i = 0; i < peerConns[peer].candidatesToSend.length; i++) {\n\t                sendSignalling(peer, \"candidate\", peerConns[peer].candidatesToSend[i], onSignalSuccess, onSignalFailure);\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        //\n\t        // This function calls the users onStreamClosed handler, passing it the easyrtcid of the peer, the stream itself,\n\t        // and the name of the stream.\n\t        //\n\t        function emitOnStreamClosed(easyrtcid, stream) {\n\t            if (!peerConns[easyrtcid]) {\n\t                return;\n\t            }\n\t            var streamName;\n\t            var id;\n\t            if (stream.id) {\n\t                id = stream.id;\n\t            } else {\n\t                id = \"default\";\n\t            }\n\t            streamName = peerConns[easyrtcid].remoteStreamIdToName[id] || \"default\";\n\t            if (peerConns[easyrtcid].liveRemoteStreams[streamName] && self.onStreamClosed) {\n\t                delete peerConns[easyrtcid].liveRemoteStreams[streamName];\n\t                self.onStreamClosed(easyrtcid, stream, streamName);\n\t            }\n\t            delete peerConns[easyrtcid].remoteStreamIdToName[id];\n\t        }\n\t\n\t        /** @private */\n\t        function onRemoveStreamHelper(easyrtcid, stream) {\n\t            if (peerConns[easyrtcid]) {\n\t                emitOnStreamClosed(easyrtcid, stream);\n\t                updateConfigurationInfo();\n\t                if (peerConns[easyrtcid].pc) {\n\t                    try {\n\t                        peerConns[easyrtcid].pc.removeStream(stream);\n\t                    } catch (err) {}\n\t                }\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        function buildDeltaRecord(added, deleted) {\n\t            function objectNotEmpty(obj) {\n\t                var i;\n\t                for (i in obj) {\n\t                    if (obj.hasOwnProperty(i)) {\n\t                        return true;\n\t                    }\n\t                }\n\t                return false;\n\t            }\n\t\n\t            var result = {};\n\t            if (objectNotEmpty(added)) {\n\t                result.added = added;\n\t            }\n\t\n\t            if (objectNotEmpty(deleted)) {\n\t                result.deleted = deleted;\n\t            }\n\t\n\t            if (objectNotEmpty(result)) {\n\t                return result;\n\t            } else {\n\t                return null;\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        function findDeltas(oldVersion, newVersion) {\n\t            var i;\n\t            var added = {},\n\t                deleted = {};\n\t            var subPart;\n\t            for (i in newVersion) {\n\t                if (newVersion.hasOwnProperty(i)) {\n\t                    if (oldVersion === null || typeof oldVersion[i] === 'undefined') {\n\t                        added[i] = newVersion[i];\n\t                    } else if (_typeof(newVersion[i]) === 'object') {\n\t                        subPart = findDeltas(oldVersion[i], newVersion[i]);\n\t                        if (subPart !== null) {\n\t                            added[i] = newVersion[i];\n\t                        }\n\t                    } else if (newVersion[i] !== oldVersion[i]) {\n\t                        added[i] = newVersion[i];\n\t                    }\n\t                }\n\t            }\n\t            for (i in oldVersion) {\n\t                if (newVersion.hasOwnProperty(i)) {\n\t                    if (typeof newVersion[i] === 'undefined') {\n\t                        deleted[i] = oldVersion[i];\n\t                    }\n\t                }\n\t            }\n\t\n\t            return buildDeltaRecord(added, deleted);\n\t        }\n\t\n\t        /** @private */\n\t        //\n\t        // this function collects configuration info that will be sent to the server.\n\t        // It returns that information, leaving it the responsibility of the caller to\n\t        // do the actual sending.\n\t        //\n\t        function collectConfigurationInfo() /* forAuthentication */{\n\t            var p2pList = {};\n\t            var i;\n\t            for (i in peerConns) {\n\t                if (!peerConns.hasOwnProperty(i)) {\n\t                    continue;\n\t                }\n\t                p2pList[i] = {\n\t                    connectTime: peerConns[i].connectTime,\n\t                    isInitiator: !!peerConns[i].isInitiator\n\t                };\n\t            }\n\t\n\t            var newConfig = {\n\t                userSettings: {\n\t                    sharingAudio: !!haveAudioVideo.audio,\n\t                    sharingVideo: !!haveAudioVideo.video,\n\t                    sharingData: !!dataEnabled,\n\t                    nativeVideoWidth: self.nativeVideoWidth,\n\t                    nativeVideoHeight: self.nativeVideoHeight,\n\t                    windowWidth: window.innerWidth,\n\t                    windowHeight: window.innerHeight,\n\t                    screenWidth: window.screen.width,\n\t                    screenHeight: window.screen.height,\n\t                    cookieEnabled: navigator.cookieEnabled,\n\t                    os: navigator.oscpu,\n\t                    language: navigator.language\n\t                }\n\t            };\n\t\n\t            if (!isEmptyObj(p2pList)) {\n\t                newConfig.p2pList = p2pList;\n\t            }\n\t\n\t            return newConfig;\n\t        }\n\t\n\t        /** @private */\n\t        function updateConfiguration() {\n\t\n\t            var newConfig = collectConfigurationInfo(false);\n\t            //\n\t            // we need to give the getStats calls a chance to fish out the data.\n\t            // The longest I've seen it take is 5 milliseconds so 100 should be overkill.\n\t            //\n\t            var sendDeltas = function sendDeltas() {\n\t                var alteredData = findDeltas(oldConfig, newConfig);\n\t                //\n\t                // send all the configuration information that changes during the session\n\t                //\n\t                if (alteredData) {\n\t                    logDebug(\"cfg=\" + JSON.stringify(alteredData.added));\n\t\n\t                    if (self.webSocket) {\n\t                        sendSignalling(null, \"setUserCfg\", { setUserCfg: alteredData.added }, null, null);\n\t                    }\n\t                }\n\t                oldConfig = newConfig;\n\t            };\n\t            if (oldConfig === {}) {\n\t                sendDeltas();\n\t            } else {\n\t                setTimeout(sendDeltas, 100);\n\t            }\n\t        }\n\t\n\t        // Parse the uint32 PRIORITY field into its constituent parts from RFC 5245,\n\t        // type preference, local preference, and (256 - component ID).\n\t        // ex: 126 | 32252 | 255 (126 is host preference, 255 is component ID 1)\n\t        function formatPriority(priority) {\n\t            var s = '';\n\t            s += priority >> 24;\n\t            s += ' | ';\n\t            s += priority >> 8 & 0xFFFF;\n\t            s += ' | ';\n\t            s += priority & 0xFF;\n\t            return s;\n\t        }\n\t\n\t        // Parse a candidate:foo string into an object, for easier use by other methods.\n\t        /** @private */\n\t        function parseCandidate(text) {\n\t            var candidateStr = 'candidate:';\n\t            var pos = text.indexOf(candidateStr) + candidateStr.length;\n\t            var fields = text.substr(pos).split(' ');\n\t            return {\n\t                'component': fields[1],\n\t                'type': fields[7],\n\t                'foundation': fields[0],\n\t                'protocol': fields[2],\n\t                'address': fields[4],\n\t                'port': fields[5],\n\t                'priority': formatPriority(fields[3])\n\t            };\n\t        }\n\t\n\t        /** @private */\n\t        function processCandicate(candicate) {\n\t            self._candicates = self._candicates || [];\n\t            self._candicates.push(parseCandidate(candicate));\n\t        }\n\t\n\t        function processAddedStream(otherUser, theStream) {\n\t            if (!peerConns[otherUser] || peerConns[otherUser].cancelled) {\n\t                return;\n\t            }\n\t\n\t            var peerConn = peerConns[otherUser];\n\t\n\t            if (!peerConn.startedAV) {\n\t                peerConn.startedAV = true;\n\t                peerConn.sharingAudio = haveAudioVideo.audio;\n\t                peerConn.sharingVideo = haveAudioVideo.video;\n\t                peerConn.connectTime = new Date().getTime();\n\t                if (peerConn.callSuccessCB) {\n\t                    if (peerConn.sharingAudio || peerConn.sharingVideo) {\n\t                        peerConn.callSuccessCB(otherUser, \"audiovideo\");\n\t                    }\n\t                }\n\t                if (self.audioEnabled || self.videoEnabled) {\n\t                    updateConfiguration();\n\t                }\n\t            }\n\t\n\t            var remoteName = getNameOfRemoteStream(otherUser, theStream.id || \"default\");\n\t            if (!remoteName) {\n\t                remoteName = \"default\";\n\t            }\n\t            peerConn.remoteStreamIdToName[theStream.id || \"default\"] = remoteName;\n\t            peerConn.liveRemoteStreams[remoteName] = true;\n\t            theStream.streamName = remoteName;\n\t            if (self.streamAcceptor) {\n\t                self.streamAcceptor(otherUser, theStream, remoteName);\n\t                //\n\t                // Inform the other user that the stream they provided has been received.\n\t                // This should be moved into signalling at some point\n\t                //\n\t                self.sendDataWS(otherUser, \"easyrtc_streamReceived\", { streamName: remoteName }, function () {});\n\t            }\n\t        }\n\t\n\t        function processAddedTrack(otherUser, peerStreams) {\n\t\n\t            if (!peerConns[otherUser] || peerConns[otherUser].cancelled) {\n\t                return;\n\t            }\n\t\n\t            var peerConn = peerConns[otherUser];\n\t            peerConn.trackTimers = peerConn.trackTimers || {};\n\t\n\t            // easyrtc thinks in terms of streams, not tracks.\n\t            // so we'll add a timeout when the first track event\n\t            // fires. Firefox produces two events (one of type \"video\",\n\t            // and one of type \"audio\".\n\t\n\t            for (var i = 0, l = peerStreams.length; i < l; i++) {\n\t                var peerStream = peerStreams[i],\n\t                    streamId = peerStream.id || \"default\";\n\t                clearTimeout(peerConn.trackTimers[streamId]);\n\t                peerConn.trackTimers[streamId] = setTimeout(function (peerStream) {\n\t                    processAddedStream(peerConn, otherUser, peerStream);\n\t                }.bind(peerStream), 100); // Bind peerStream\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        // TODO split buildPeerConnection it more thant 500 lines\n\t        function buildPeerConnection(otherUser, isInitiator, failureCB, streamNames) {\n\t            var pc;\n\t            var message;\n\t            var newPeerConn;\n\t            var iceConfig = pc_config_to_use ? pc_config_to_use : pc_config;\n\t\n\t            logDebug(\"building peer connection to \" + otherUser);\n\t\n\t            //\n\t            // we don't support data channels on chrome versions < 31\n\t            //\n\t\n\t            try {\n\t\n\t                pc = self.createRTCPeerConnection(iceConfig, buildPeerConstraints());\n\t\n\t                if (!pc) {\n\t                    message = \"Unable to create PeerConnection object, check your ice configuration(\" + JSON.stringify(iceConfig) + \")\";\n\t                    logDebug(message);\n\t                    throw Error(message);\n\t                }\n\t\n\t                //\n\t                // turn off data channel support if the browser doesn't support it.\n\t                //\n\t\n\t                if (dataEnabled && typeof pc.createDataChannel === 'undefined') {\n\t                    dataEnabled = false;\n\t                }\n\t\n\t                pc.onnegotiationneeded = function (event) {\n\t                    if (peerConns[otherUser] && peerConns[otherUser].enableNegotiateListener) {\n\t                        pc.createOffer(function (sdp) {\n\t                            if (sdpLocalFilter) {\n\t                                sdp.sdp = sdpLocalFilter(sdp.sdp);\n\t                            }\n\t                            pc.setLocalDescription(sdp, function () {\n\t                                self.sendPeerMessage(otherUser, \"__addedMediaStream\", {\n\t                                    sdp: sdp\n\t                                });\n\t                            }, function () {});\n\t                        }, function (error) {\n\t                            logDebug(\"unexpected error in creating offer\");\n\t                        });\n\t                    }\n\t                };\n\t\n\t                pc.onsignalingstatechange = function () {\n\t\n\t                    var eventTarget = event.currentTarget || event.target || pc,\n\t                        signalingState = eventTarget.signalingState || 'unknown';\n\t\n\t                    if (signalingStateChangeListener) {\n\t                        signalingStateChangeListener(otherUser, eventTarget, signalingState);\n\t                    }\n\t                };\n\t\n\t                pc.oniceconnectionstatechange = function (event) {\n\t\n\t                    var eventTarget = event.currentTarget || event.target || pc,\n\t                        connState = eventTarget.iceConnectionState || 'unknown';\n\t\n\t                    if (iceConnectionStateChangeListener) {\n\t                        iceConnectionStateChangeListener(otherUser, eventTarget, connState);\n\t                    }\n\t\n\t                    switch (connState) {\n\t                        case \"connected\":\n\t                            if (self.onPeerOpen) {\n\t                                self.onPeerOpen(otherUser);\n\t                            }\n\t                            if (peerConns[otherUser] && peerConns[otherUser].callSuccessCB) {\n\t                                peerConns[otherUser].callSuccessCB(otherUser, \"connection\");\n\t                            }\n\t                            break;\n\t                        case \"failed\":\n\t                            if (failureCB) {\n\t                                failureCB(self.errCodes.NOVIABLEICE, \"No usable STUN/TURN path\");\n\t                            }\n\t                            delete peerConns[otherUser];\n\t                            break;\n\t                        case \"disconnected\":\n\t                            if (self.onPeerFailing) {\n\t                                self.onPeerFailing(otherUser);\n\t                            }\n\t                            if (peerConns[otherUser]) {\n\t                                peerConns[otherUser].failing = Date.now();\n\t                            }\n\t                            break;\n\t\n\t                        case \"closed\":\n\t                            if (self.onPeerClosed) {\n\t                                self.onPeerClosed(otherUser);\n\t                            }\n\t                            break;\n\t                        case \"completed\":\n\t                            if (peerConns[otherUser]) {\n\t                                if (peerConns[otherUser].failing && self.onPeerRecovered) {\n\t                                    self.onPeerRecovered(otherUser, peerConns[otherUser].failing, Date.now());\n\t                                }\n\t                                delete peerConns[otherUser].failing;\n\t                            }\n\t                            break;\n\t                    }\n\t                };\n\t\n\t                pc.onconnection = function () {\n\t                    logDebug(\"onconnection called prematurely\");\n\t                };\n\t\n\t                newPeerConn = {\n\t                    pc: pc,\n\t                    candidatesToSend: [],\n\t                    startedAV: false,\n\t                    connectionAccepted: false,\n\t                    isInitiator: isInitiator,\n\t                    remoteStreamIdToName: {},\n\t                    streamsAddedAcks: {},\n\t                    liveRemoteStreams: {}\n\t                };\n\t\n\t                pc.onicecandidate = function (event) {\n\t                    if (peerConns[otherUser] && peerConns[otherUser].cancelled) {\n\t                        return;\n\t                    }\n\t                    var candidateData;\n\t                    if (event.candidate && peerConns[otherUser]) {\n\t                        candidateData = {\n\t                            type: 'candidate',\n\t                            label: event.candidate.sdpMLineIndex,\n\t                            id: event.candidate.sdpMid,\n\t                            candidate: event.candidate.candidate\n\t                        };\n\t\n\t                        if (iceCandidateFilter) {\n\t                            candidateData = iceCandidateFilter(candidateData, false);\n\t                            if (!candidateData) {\n\t                                return;\n\t                            }\n\t                        }\n\t                        //\n\t                        // some candidates include ip addresses of turn servers. we'll want those\n\t                        // later so we can see if our actual connection uses a turn server.\n\t                        // The keyword \"relay\" in the candidate identifies it as referencing a\n\t                        // turn server. The \\d symbol in the regular expression matches a number.\n\t                        //\n\t                        processCandicate(event.candidate.candidate);\n\t\n\t                        if (peerConns[otherUser].connectionAccepted) {\n\t                            sendSignalling(otherUser, \"candidate\", candidateData, null, function () {\n\t                                failureCB(self.errCodes.PEER_GONE, \"Candidate disappeared\");\n\t                            });\n\t                        } else {\n\t                            peerConns[otherUser].candidatesToSend.push(candidateData);\n\t                        }\n\t                    }\n\t                };\n\t\n\t                pc.ontrack = function (event) {\n\t                    logDebug(\"empty ontrack method invoked, which is expected\");\n\t                    processAddedTrack(otherUser, event.streams);\n\t                };\n\t\n\t                pc.onaddstream = function (event) {\n\t                    logDebug(\"empty onaddstream method invoked, which is expected\");\n\t                    processAddedStream(otherUser, event.stream);\n\t                };\n\t\n\t                pc.onremovestream = function (event) {\n\t                    logDebug(\"saw remove on remote media stream\");\n\t                    onRemoveStreamHelper(otherUser, event.stream);\n\t                };\n\t\n\t                // Register PeerConn\n\t                peerConns[otherUser] = newPeerConn;\n\t            } catch (error) {\n\t                logDebug('buildPeerConnection error', error);\n\t                failureCB(self.errCodes.SYSTEM_ERR, error.message);\n\t                return null;\n\t            }\n\t\n\t            var i, stream;\n\t            if (streamNames) {\n\t                for (i = 0; i < streamNames.length; i++) {\n\t                    stream = getLocalMediaStreamByName(streamNames[i]);\n\t                    if (stream) {\n\t                        pc.addStream(stream);\n\t                    } else {\n\t                        logDebug(\"Developer error, attempt to access unknown local media stream \" + streamNames[i]);\n\t                    }\n\t                }\n\t            } else if (autoInitUserMedia && (self.videoEnabled || self.audioEnabled)) {\n\t                stream = self.getLocalStream();\n\t                pc.addStream(stream);\n\t            }\n\t\n\t            //\n\t            // This function handles data channel message events.\n\t            //\n\t            var pendingTransfer = {};\n\t            function dataChannelMessageHandler(event) {\n\t                logDebug(\"saw dataChannel.onmessage event: \", event.data);\n\t\n\t                if (event.data === \"dataChannelPrimed\") {\n\t                    self.sendDataWS(otherUser, \"dataChannelPrimed\", \"\");\n\t                } else {\n\t                    //\n\t                    // Chrome and Firefox Interop is passing a event with a strange data=\"\", perhaps\n\t                    // as it's own form of priming message. Comparing the data against \"\" doesn't\n\t                    // work, so I'm going with parsing and trapping the parse error.\n\t                    //\n\t                    var msg;\n\t\n\t                    try {\n\t                        msg = JSON.parse(event.data);\n\t                    } catch (err) {\n\t                        logDebug('Developer error, unable to parse event data');\n\t                    }\n\t\n\t                    if (msg) {\n\t                        if (msg.transfer && msg.transferId) {\n\t                            if (msg.transfer === 'start') {\n\t                                logDebug('start transfer #' + msg.transferId);\n\t\n\t                                var parts = parseInt(msg.parts);\n\t                                pendingTransfer = {\n\t                                    chunks: [],\n\t                                    parts: parts,\n\t                                    transferId: msg.transferId\n\t                                };\n\t                            } else if (msg.transfer === 'chunk') {\n\t                                logDebug('got chunk for transfer #' + msg.transferId);\n\t\n\t                                // check data is valid\n\t                                if (!(typeof msg.data === 'string' && msg.data.length <= self.maxP2PMessageLength)) {\n\t                                    logDebug('Developer error, invalid data');\n\t\n\t                                    // check there's a pending transfer\n\t                                } else if (!pendingTransfer) {\n\t                                    logDebug('Developer error, unexpected chunk');\n\t\n\t                                    // check that transferId is valid\n\t                                } else if (msg.transferId !== pendingTransfer.transferId) {\n\t                                    logDebug('Developer error, invalid transfer id');\n\t\n\t                                    // check that the max length of transfer is not reached\n\t                                } else if (pendingTransfer.chunks.length + 1 > pendingTransfer.parts) {\n\t                                    logDebug('Developer error, received too many chunks');\n\t                                } else {\n\t                                    pendingTransfer.chunks.push(msg.data);\n\t                                }\n\t                            } else if (msg.transfer === 'end') {\n\t                                logDebug('end of transfer #' + msg.transferId);\n\t\n\t                                // check there's a pending transfer\n\t                                if (!pendingTransfer) {\n\t                                    logDebug('Developer error, unexpected end of transfer');\n\t\n\t                                    // check that transferId is valid\n\t                                } else if (msg.transferId !== pendingTransfer.transferId) {\n\t                                    logDebug('Developer error, invalid transfer id');\n\t\n\t                                    // check that all the chunks were received\n\t                                } else if (pendingTransfer.chunks.length !== pendingTransfer.parts) {\n\t                                    logDebug('Developer error, received wrong number of chunks');\n\t                                } else {\n\t                                    var chunkedMsg;\n\t                                    try {\n\t                                        chunkedMsg = JSON.parse(pendingTransfer.chunks.join(''));\n\t                                    } catch (err) {\n\t                                        logDebug('Developer error, unable to parse message');\n\t                                    }\n\t\n\t                                    if (chunkedMsg) {\n\t                                        self.receivePeerDistribute(otherUser, chunkedMsg, null);\n\t                                    }\n\t                                }\n\t                                pendingTransfer = {};\n\t                            } else {\n\t                                logDebug('Developer error, got an unknown transfer message' + msg.transfer);\n\t                            }\n\t                        } else {\n\t                            self.receivePeerDistribute(otherUser, msg, null);\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t\n\t            function initOutGoingChannel(otherUser) {\n\t                logDebug(\"saw initOutgoingChannel call\");\n\t\n\t                var dataChannel = pc.createDataChannel(dataChannelName, self.getDatachannelConstraints());\n\t                peerConns[otherUser].dataChannelS = dataChannel;\n\t                peerConns[otherUser].dataChannelR = dataChannel;\n\t                dataChannel.onmessage = dataChannelMessageHandler;\n\t                dataChannel.onopen = function (event) {\n\t                    logDebug(\"saw dataChannel.onopen event\");\n\t\n\t                    if (peerConns[otherUser]) {\n\t                        dataChannel.send(\"dataChannelPrimed\");\n\t                    }\n\t                };\n\t                dataChannel.onclose = function (event) {\n\t                    logDebug(\"saw dataChannelS.onclose event\");\n\t\n\t                    if (peerConns[otherUser]) {\n\t                        peerConns[otherUser].dataChannelReady = false;\n\t                        delete peerConns[otherUser].dataChannelS;\n\t                    }\n\t                    if (onDataChannelClose) {\n\t                        onDataChannelClose(otherUser);\n\t                    }\n\t\n\t                    updateConfigurationInfo();\n\t                };\n\t            }\n\t\n\t            function initIncomingChannel(otherUser) {\n\t                logDebug(\"initializing incoming channel handler for \" + otherUser);\n\t\n\t                peerConns[otherUser].pc.ondatachannel = function (event) {\n\t\n\t                    logDebug(\"saw incoming data channel\");\n\t\n\t                    var dataChannel = event.channel;\n\t                    peerConns[otherUser].dataChannelR = dataChannel;\n\t                    peerConns[otherUser].dataChannelS = dataChannel;\n\t                    peerConns[otherUser].dataChannelReady = true;\n\t                    dataChannel.onmessage = dataChannelMessageHandler;\n\t                    dataChannel.onclose = function (event) {\n\t                        logDebug(\"saw dataChannelR.onclose event\");\n\t\n\t                        if (peerConns[otherUser]) {\n\t                            peerConns[otherUser].dataChannelReady = false;\n\t                            delete peerConns[otherUser].dataChannelR;\n\t                        }\n\t                        if (onDataChannelClose) {\n\t                            onDataChannelClose(otherUser);\n\t                        }\n\t\n\t                        updateConfigurationInfo();\n\t                    };\n\t                    dataChannel.onopen = function (event) {\n\t                        logDebug(\"saw dataChannel.onopen event\");\n\t\n\t                        if (peerConns[otherUser]) {\n\t                            dataChannel.send(\"dataChannelPrimed\");\n\t                        }\n\t                    };\n\t                };\n\t            }\n\t\n\t            //\n\t            //  added for interoperability\n\t            //\n\t            // TODO check if both sides have the same browser and versions\n\t            if (dataEnabled) {\n\t                self.setPeerListener(function () {\n\t                    if (peerConns[otherUser]) {\n\t                        peerConns[otherUser].dataChannelReady = true;\n\t                        if (peerConns[otherUser].callSuccessCB) {\n\t                            peerConns[otherUser].callSuccessCB(otherUser, \"datachannel\");\n\t                        }\n\t                        if (onDataChannelOpen) {\n\t                            onDataChannelOpen(otherUser, true);\n\t                        }\n\t                        updateConfigurationInfo();\n\t                    } else {\n\t                        logDebug(\"failed to setup outgoing channel listener\");\n\t                    }\n\t                }, \"dataChannelPrimed\", otherUser);\n\t\n\t                if (isInitiator) {\n\t                    try {\n\t\n\t                        initOutGoingChannel(otherUser);\n\t                    } catch (channelErrorEvent) {\n\t                        logDebug(\"failed to init outgoing channel\");\n\t                        failureCB(self.errCodes.SYSTEM_ERR, self.formatError(channelErrorEvent));\n\t                    }\n\t                }\n\t                if (!isInitiator) {\n\t                    initIncomingChannel(otherUser);\n\t                }\n\t            }\n\t\n\t            pc.onconnection = function () {\n\t                logDebug(\"setup pc.onconnection \");\n\t            };\n\t\n\t            //\n\t            // Temporary support for responding to acknowledgements of about streams being added.\n\t            //\n\t            self.setPeerListener(function (easyrtcid, msgType, msgData, targeting) {\n\t                if (newPeerConn.streamsAddedAcks[msgData.streamName]) {\n\t                    newPeerConn.streamsAddedAcks[msgData.streamName](easyrtcid, msgData.streamName);\n\t                    delete newPeerConn.streamsAddedAcks[msgData.streamName];\n\t                }\n\t            }, \"easyrtc_streamReceived\", otherUser);\n\t            return pc;\n\t        }\n\t\n\t        /** @private */\n\t        function doAnswerBody(caller, msgData, streamNames) {\n\t            var pc = buildPeerConnection(caller, false, function (message) {\n\t                self.showError(self.errCodes.SYSTEM_ERR, message);\n\t            }, streamNames);\n\t            var newPeerConn = peerConns[caller];\n\t            if (!pc) {\n\t                logDebug(\"buildPeerConnection failed. Call not answered\");\n\t                return;\n\t            }\n\t            var setLocalAndSendMessage1 = function setLocalAndSendMessage1(sessionDescription) {\n\t\n\t                if (newPeerConn.cancelled) {\n\t                    return;\n\t                }\n\t\n\t                var sendAnswer = function sendAnswer() {\n\t                    logDebug(\"sending answer\");\n\t\n\t                    function onSignalSuccess() {\n\t                        logDebug(\"sending success\");\n\t                    }\n\t\n\t                    function onSignalFailure(errorCode, errorText) {\n\t                        logDebug(\"sending error\");\n\t                        delete peerConns[caller];\n\t                        self.showError(errorCode, errorText);\n\t                    }\n\t\n\t                    sendSignalling(caller, \"answer\", sessionDescription, onSignalSuccess, onSignalFailure);\n\t                    peerConns[caller].connectionAccepted = true;\n\t                    sendQueuedCandidates(caller, onSignalSuccess, onSignalFailure);\n\t\n\t                    if (pc.connectDataConnection) {\n\t                        logDebug(\"calling connectDataConnection(5002,5001)\");\n\t                        pc.connectDataConnection(5002, 5001);\n\t                    }\n\t                };\n\t                if (sdpLocalFilter) {\n\t                    sessionDescription.sdp = sdpLocalFilter(sessionDescription.sdp);\n\t                }\n\t                pc.setLocalDescription(sessionDescription, sendAnswer, function (message) {\n\t                    self.showError(self.errCodes.INTERNAL_ERR, \"setLocalDescription: \" + message);\n\t                });\n\t            };\n\t            var sd = new RTCSessionDescription(msgData);\n\t\n\t            if (!sd) {\n\t                throw \"Could not create the RTCSessionDescription\";\n\t            }\n\t\n\t            logDebug(\"sdp ||  \" + JSON.stringify(sd));\n\t\n\t            var invokeCreateAnswer = function invokeCreateAnswer() {\n\t                if (newPeerConn.cancelled) {\n\t                    return;\n\t                }\n\t                pc.createAnswer(setLocalAndSendMessage1, function (message) {\n\t                    self.showError(self.errCodes.INTERNAL_ERR, \"create-answer: \" + message);\n\t                }, receivedMediaConstraints);\n\t            };\n\t\n\t            logDebug(\"about to call setRemoteDescription in doAnswer\");\n\t\n\t            try {\n\t\n\t                if (sdpRemoteFilter) {\n\t                    sd.sdp = sdpRemoteFilter(sd.sdp);\n\t                }\n\t                pc.setRemoteDescription(sd, invokeCreateAnswer, function (message) {\n\t                    self.showError(self.errCodes.INTERNAL_ERR, \"set-remote-description: \" + message);\n\t                });\n\t            } catch (srdError) {\n\t                logDebug(\"set remote description failed\");\n\t                self.showError(self.errCodes.INTERNAL_ERR, \"setRemoteDescription failed: \" + srdError.message);\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        function doAnswer(caller, msgData, streamNames) {\n\t            if (!streamNames && autoInitUserMedia) {\n\t                var localStream = self.getLocalStream();\n\t                if (!localStream && (self.videoEnabled || self.audioEnabled)) {\n\t                    self.initMediaSource(function () {\n\t                        doAnswer(caller, msgData);\n\t                    }, function (errorCode, error) {\n\t                        self.showError(self.errCodes.MEDIA_ERR, self.format(self.getConstantString(\"localMediaError\")));\n\t                    });\n\t                    return;\n\t                }\n\t            }\n\t            if (use_fresh_ice_each_peer) {\n\t                self.getFreshIceConfig(function (succeeded) {\n\t                    if (succeeded) {\n\t                        doAnswerBody(caller, msgData, streamNames);\n\t                    } else {\n\t                        self.showError(self.errCodes.CALL_ERR, \"Failed to get fresh ice config\");\n\t                    }\n\t                });\n\t            } else {\n\t                doAnswerBody(caller, msgData, streamNames);\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        function callBody(otherUser, callSuccessCB, callFailureCB, wasAcceptedCB, streamNames) {\n\t            acceptancePending[otherUser] = true;\n\t            var pc = buildPeerConnection(otherUser, true, callFailureCB, streamNames);\n\t            var message;\n\t            if (!pc) {\n\t                message = \"buildPeerConnection failed, call not completed\";\n\t                logDebug(message);\n\t                throw message;\n\t            }\n\t\n\t            peerConns[otherUser].callSuccessCB = callSuccessCB;\n\t            peerConns[otherUser].callFailureCB = callFailureCB;\n\t            peerConns[otherUser].wasAcceptedCB = wasAcceptedCB;\n\t            var peerConnObj = peerConns[otherUser];\n\t            var setLocalAndSendMessage0 = function setLocalAndSendMessage0(sessionDescription) {\n\t                if (peerConnObj.cancelled) {\n\t                    return;\n\t                }\n\t                var sendOffer = function sendOffer() {\n\t\n\t                    sendSignalling(otherUser, \"offer\", sessionDescription, null, callFailureCB);\n\t                };\n\t                if (sdpLocalFilter) {\n\t                    sessionDescription.sdp = sdpLocalFilter(sessionDescription.sdp);\n\t                }\n\t                pc.setLocalDescription(sessionDescription, sendOffer, function (errorText) {\n\t                    callFailureCB(self.errCodes.CALL_ERR, errorText);\n\t                });\n\t            };\n\t            setTimeout(function () {\n\t                //\n\t                // if the call was cancelled, we don't want to continue getting the offer.\n\t                // we can tell the call was cancelled because there won't be a peerConn object\n\t                // for it.\n\t                //\n\t                if (!peerConns[otherUser]) {\n\t                    return;\n\t                }\n\t                pc.createOffer(setLocalAndSendMessage0, function (errorObj) {\n\t                    callFailureCB(self.errCodes.CALL_ERR, JSON.stringify(errorObj));\n\t                }, receivedMediaConstraints);\n\t            }, 100);\n\t        }\n\t\n\t        /**\n\t         * Initiates a call to another user. If it succeeds, the streamAcceptor callback will be called.\n\t         * @param {String} otherUser - the easyrtcid of the peer being called.\n\t         * @param {Function} callSuccessCB (otherCaller, mediaType) - is called when the datachannel is established or the MediaStream is established. mediaType will have a value of \"audiovideo\" or \"datachannel\"\n\t         * @param {Function} callFailureCB (errorCode, errMessage) - is called if there was a system error interfering with the call.\n\t         * @param {Function} wasAcceptedCB (wasAccepted:boolean,otherUser:string) - is called when a call is accepted or rejected by another party. It can be left null.\n\t         * @param {Array} streamNames - optional array of streamNames.\n\t         * @example\n\t         *    easyrtc.call( otherEasyrtcid,\n\t         *        function(easyrtcid, mediaType){\n\t         *           console.log(\"Got mediaType \" + mediaType + \" from \" + easyrtc.idToName(easyrtcid));\n\t         *        },\n\t         *        function(errorCode, errMessage){\n\t         *           console.log(\"call to  \" + easyrtc.idToName(otherEasyrtcid) + \" failed:\" + errMessage);\n\t         *        },\n\t         *        function(wasAccepted, easyrtcid){\n\t         *            if( wasAccepted ){\n\t         *               console.log(\"call accepted by \" + easyrtc.idToName(easyrtcid));\n\t         *            }\n\t         *            else{\n\t         *                console.log(\"call rejected\" + easyrtc.idToName(easyrtcid));\n\t         *            }\n\t         *        });\n\t         */\n\t        this.call = function (otherUser, callSuccessCB, callFailureCB, wasAcceptedCB, streamNames) {\n\t\n\t            if (streamNames) {\n\t                if (typeof streamNames === \"string\") {\n\t                    // accept a string argument if passed.\n\t                    streamNames = [streamNames];\n\t                } else if (typeof streamNames.length === \"undefined\") {\n\t                    self.showError(self.errCodes.DEVELOPER_ERR, \"easyrtc.call passed bad streamNames\");\n\t                    return;\n\t                }\n\t            }\n\t\n\t            logDebug(\"initiating peer to peer call to \" + otherUser + \" audio=\" + self.audioEnabled + \" video=\" + self.videoEnabled + \" data=\" + dataEnabled);\n\t\n\t            if (!self.supportsPeerConnections()) {\n\t                callFailureCB(self.errCodes.CALL_ERR, self.getConstantString(\"noWebrtcSupport\"));\n\t                return;\n\t            }\n\t\n\t            var message;\n\t            //\n\t            // If we are sharing audio/video and we haven't allocated the local media stream yet,\n\t            // we'll do so, recalling our self on success.\n\t            //\n\t            if (!streamNames && autoInitUserMedia) {\n\t                var stream = self.getLocalStream();\n\t                if (!stream && (self.audioEnabled || self.videoEnabled)) {\n\t                    self.initMediaSource(function () {\n\t                        self.call(otherUser, callSuccessCB, callFailureCB, wasAcceptedCB);\n\t                    }, callFailureCB);\n\t                    return;\n\t                }\n\t            }\n\t\n\t            if (!self.webSocket) {\n\t                message = \"Attempt to make a call prior to connecting to service\";\n\t                logDebug(message);\n\t                throw message;\n\t            }\n\t\n\t            //\n\t            // If B calls A, and then A calls B before accepting, then A should treat the attempt to\n\t            // call B as a positive offer to B's offer.\n\t            //\n\t            if (offersPending[otherUser]) {\n\t                wasAcceptedCB(true, otherUser);\n\t                doAnswer(otherUser, offersPending[otherUser], streamNames);\n\t                delete offersPending[otherUser];\n\t                self.callCancelled(otherUser, false);\n\t                return;\n\t            }\n\t\n\t            // do we already have a pending call?\n\t            if (typeof acceptancePending[otherUser] !== 'undefined') {\n\t                message = \"Call already pending acceptance\";\n\t                logDebug(message);\n\t                callFailureCB(self.errCodes.ALREADY_CONNECTED, message);\n\t                return;\n\t            }\n\t\n\t            if (use_fresh_ice_each_peer) {\n\t                self.getFreshIceConfig(function (succeeded) {\n\t                    if (succeeded) {\n\t                        callBody(otherUser, callSuccessCB, callFailureCB, wasAcceptedCB, streamNames);\n\t                    } else {\n\t                        callFailureCB(self.errCodes.CALL_ERR, \"Attempt to get fresh ice configuration failed\");\n\t                    }\n\t                });\n\t            } else {\n\t                callBody(otherUser, callSuccessCB, callFailureCB, wasAcceptedCB, streamNames);\n\t            }\n\t        };\n\t\n\t        /** @private */\n\t        //\n\t        // this function check the deprecated MediaStream.ended attribute\n\t        // and new .active. Also fallback .enable on track for Firefox.\n\t        //\n\t        function isStreamActive(stream) {\n\t\n\t            var isActive;\n\t\n\t            if (stream.active === true || stream.ended === false) {\n\t                isActive = true;\n\t            } else {\n\t                isActive = stream.getTracks().reduce(function (track) {\n\t                    return track.enabled;\n\t                });\n\t            }\n\t\n\t            return isActive;\n\t        }\n\t\n\t        /** @private */\n\t        var queuedMessages = {};\n\t\n\t        /** @private */\n\t        function clearQueuedMessages(caller) {\n\t            queuedMessages[caller] = {\n\t                candidates: []\n\t            };\n\t        }\n\t\n\t        /** @private */\n\t        function closePeer(otherUser) {\n\t\n\t            if (acceptancePending[otherUser]) {\n\t                delete acceptancePending[otherUser];\n\t            }\n\t            if (offersPending[otherUser]) {\n\t                delete offersPending[otherUser];\n\t            }\n\t\n\t            if (!peerConns[otherUser].cancelled && peerConns[otherUser].pc) {\n\t                try {\n\t                    var remoteStreams = peerConns[otherUser].pc.getRemoteStreams();\n\t                    for (var i = 0; i < remoteStreams.length; i++) {\n\t                        if (isStreamActive(remoteStreams[i])) {\n\t                            emitOnStreamClosed(otherUser, remoteStreams[i]);\n\t                            stopStream(remoteStreams[i]);\n\t                        }\n\t                    }\n\t\n\t                    peerConns[otherUser].pc.close();\n\t                    peerConns[otherUser].cancelled = true;\n\t                    logDebug(\"peer closed\");\n\t                } catch (err) {\n\t                    logDebug(\"peer \" + otherUser + \" close failed:\" + err);\n\t                } finally {\n\t                    if (self.onPeerClosed) {\n\t                        self.onPeerClosed(otherUser);\n\t                    }\n\t                }\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        function hangupBody(otherUser) {\n\t\n\t            logDebug(\"Hanging up on \" + otherUser);\n\t            clearQueuedMessages(otherUser);\n\t\n\t            if (peerConns[otherUser]) {\n\t\n\t                if (peerConns[otherUser].pc) {\n\t                    closePeer(otherUser);\n\t                }\n\t\n\t                if (peerConns[otherUser]) {\n\t                    delete peerConns[otherUser];\n\t                }\n\t\n\t                updateConfigurationInfo();\n\t\n\t                if (self.webSocket) {\n\t                    sendSignalling(otherUser, \"hangup\", null, function () {\n\t                        logDebug(\"hangup succeeds\");\n\t                    }, function (errorCode, errorText) {\n\t                        logDebug(\"hangup failed:\" + errorText);\n\t                        self.showError(errorCode, errorText);\n\t                    });\n\t                }\n\t            }\n\t        }\n\t\n\t        /**\n\t         * Hang up on a particular user or all users.\n\t         *  @param {String} otherUser - the easyrtcid of the person to hang up on.\n\t         *  @example\n\t         *     easyrtc.hangup(someEasyrtcid);\n\t         */\n\t        this.hangup = function (otherUser) {\n\t            hangupBody(otherUser);\n\t            updateConfigurationInfo();\n\t        };\n\t\n\t        /**\n\t         * Hangs up on all current connections.\n\t         * @example\n\t         *    easyrtc.hangupAll();\n\t         */\n\t        this.hangupAll = function () {\n\t\n\t            var sawAConnection = false;\n\t            for (var otherUser in peerConns) {\n\t                if (!peerConns.hasOwnProperty(otherUser)) {\n\t                    continue;\n\t                }\n\t                sawAConnection = true;\n\t                hangupBody(otherUser);\n\t            }\n\t\n\t            if (sawAConnection) {\n\t                updateConfigurationInfo();\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Checks to see if data channels work between two peers.\n\t         * @param {String} otherUser - the other peer.\n\t         * @returns {Boolean} true if data channels work and are ready to be used\n\t         *   between the two peers.\n\t         */\n\t        this.doesDataChannelWork = function (otherUser) {\n\t            if (!peerConns[otherUser]) {\n\t                return false;\n\t            }\n\t            return !!peerConns[otherUser].dataChannelReady;\n\t        };\n\t\n\t        /**\n\t         * Return the media stream shared by a particular peer. This is needed when you\n\t         * add a stream in the middle of a call.\n\t         * @param {String} easyrtcid the peer.\n\t         * @param {String} remoteStreamName an optional argument supplying the streamName.\n\t         * @returns {Object} A mediaStream.\n\t         */\n\t        this.getRemoteStream = function (easyrtcid, remoteStreamName) {\n\t            if (!peerConns[easyrtcid]) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"attempt to get stream of uncalled party\");\n\t                throw \"Developer err: no such stream\";\n\t            } else {\n\t                return getRemoteStreamByName(peerConns[easyrtcid], easyrtcid, remoteStreamName);\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Assign a local streamName to a remote stream so that it can be forwarded to other callers.\n\t         * @param {String} easyrtcid the peer supplying the remote stream\n\t         * @param {String} remoteStreamName the streamName supplied by the peer.\n\t         * @param {String} localStreamName streamName used when passing the stream to other peers.\n\t         * @example\n\t         *    easyrtc.makeLocalStreamFromRemoteStream(sourcePeer, \"default\", \"forwardedStream\");\n\t         *    easyrtc.call(nextPeer, callSuccessCB, callFailureCB, wasAcceptedCB, [\"forwardedStream\"]);\n\t         */\n\t        this.makeLocalStreamFromRemoteStream = function (easyrtcid, remoteStreamName, localStreamName) {\n\t            var remoteStream;\n\t            if (peerConns[easyrtcid].pc) {\n\t                remoteStream = getRemoteStreamByName(peerConns[easyrtcid], easyrtcid, remoteStreamName);\n\t                if (remoteStream) {\n\t                    registerLocalMediaStreamByName(remoteStream, localStreamName);\n\t                } else {\n\t                    throw \"Developer err: no such stream\";\n\t                }\n\t            } else {\n\t                throw \"Developer err: no such peer \";\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Add a named local stream to a call.\n\t         * @param {String} easyrtcId The id of client receiving the stream.\n\t         * @param {String} streamName The name of the stream.\n\t         * @param {Function} receiptHandler is a function that gets called when the other side sends a message\n\t         *   that the stream has been received. The receiptHandler gets called with an easyrtcid and a stream name. This\n\t         *   argument is optional.\n\t         */\n\t        this.addStreamToCall = function (easyrtcId, streamName, receiptHandler) {\n\t            if (!streamName) {\n\t                streamName = \"default\";\n\t            }\n\t            var stream = getLocalMediaStreamByName(streamName);\n\t            if (!stream) {\n\t                logDebug(\"attempt to add nonexistent stream \" + streamName);\n\t            } else if (!peerConns[easyrtcId] || !peerConns[easyrtcId].pc) {\n\t                logDebug(\"Can't add stream before a call has started.\");\n\t            } else {\n\t                var pc = peerConns[easyrtcId].pc;\n\t                peerConns[easyrtcId].enableNegotiateListener = true;\n\t                pc.addStream(stream);\n\t                if (receiptHandler) {\n\t                    peerConns[easyrtcId].streamsAddedAcks[streamName] = receiptHandler;\n\t                }\n\t            }\n\t        };\n\t\n\t        //\n\t        // these three listeners support the ability to add/remove additional media streams on the fly.\n\t        //\n\t        this.setPeerListener(function (easyrtcid, msgType, msgData) {\n\t            if (!peerConns[easyrtcid] || !peerConns[easyrtcid].pc) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"Attempt to add additional stream before establishing the base call.\");\n\t            } else {\n\t                var sdp = msgData.sdp;\n\t                var pc = peerConns[easyrtcid].pc;\n\t\n\t                var setLocalAndSendMessage1 = function setLocalAndSendMessage1(sessionDescription) {\n\t                    var sendAnswer = function sendAnswer() {\n\t                        logDebug(\"sending answer\");\n\t\n\t                        function onSignalSuccess() {\n\t                            logDebug(\"sending answer succeeded\");\n\t                        }\n\t\n\t                        function onSignalFailure(errorCode, errorText) {\n\t                            logDebug(\"sending answer failed\");\n\t\n\t                            delete peerConns[easyrtcid];\n\t                            self.showError(errorCode, errorText);\n\t                        }\n\t\n\t                        sendSignalling(easyrtcid, \"answer\", sessionDescription, onSignalSuccess, onSignalFailure);\n\t                        peerConns[easyrtcid].connectionAccepted = true;\n\t                        sendQueuedCandidates(easyrtcid, onSignalSuccess, onSignalFailure);\n\t                    };\n\t\n\t                    if (sdpLocalFilter) {\n\t                        sessionDescription.sdp = sdpLocalFilter(sessionDescription.sdp);\n\t                    }\n\t                    pc.setLocalDescription(sessionDescription, sendAnswer, function (message) {\n\t                        self.showError(self.errCodes.INTERNAL_ERR, \"setLocalDescription: \" + msgData);\n\t                    });\n\t                };\n\t\n\t                var invokeCreateAnswer = function invokeCreateAnswer() {\n\t                    pc.createAnswer(setLocalAndSendMessage1, function (message) {\n\t                        self.showError(self.errCodes.INTERNAL_ERR, \"create-answer: \" + message);\n\t                    }, receivedMediaConstraints);\n\t                    self.sendPeerMessage(easyrtcid, \"__gotAddedMediaStream\", { sdp: sdp });\n\t                };\n\t\n\t                logDebug(\"about to call setRemoteDescription in doAnswer\");\n\t\n\t                try {\n\t\n\t                    if (sdpRemoteFilter) {\n\t                        sdp.sdp = sdpRemoteFilter(sdp.sdp);\n\t                    }\n\t                    pc.setRemoteDescription(new RTCSessionDescription(sdp), invokeCreateAnswer, function (message) {\n\t                        self.showError(self.errCodes.INTERNAL_ERR, \"set-remote-description: \" + message);\n\t                    });\n\t                } catch (srdError) {\n\t                    logDebug(\"saw exception in setRemoteDescription\", srdError);\n\t                    self.showError(self.errCodes.INTERNAL_ERR, \"setRemoteDescription failed: \" + srdError.message);\n\t                }\n\t            }\n\t        }, \"__addedMediaStream\");\n\t\n\t        this.setPeerListener(function (easyrtcid, msgType, msgData) {\n\t            if (!peerConns[easyrtcid] || !peerConns[easyrtcid].pc) {\n\t                logDebug(\"setPeerListener failed: __gotAddedMediaStream Unknow easyrtcid \" + easyrtcid);\n\t            } else {\n\t                var sdp = msgData.sdp;\n\t                if (sdpRemoteFilter) {\n\t                    sdp.sdp = sdpRemoteFilter(sdp.sdp);\n\t                }\n\t                var pc = peerConns[easyrtcid].pc;\n\t                pc.setRemoteDescription(new RTCSessionDescription(sdp), function () {}, function (message) {\n\t                    self.showError(self.errCodes.INTERNAL_ERR, \"set-remote-description: \" + message);\n\t                });\n\t            }\n\t        }, \"__gotAddedMediaStream\");\n\t\n\t        this.setPeerListener(function (easyrtcid, msgType, msgData) {\n\t            if (!peerConns[easyrtcid] || !peerConns[easyrtcid].pc) {\n\t                logDebug(\"setPeerListener failed: __closingMediaStream Unknow easyrtcid \" + easyrtcid);\n\t            } else {\n\t                var stream = getRemoteStreamByName(peerConns[easyrtcid], easyrtcid, msgData.streamName);\n\t                if (stream) {\n\t                    onRemoveStreamHelper(easyrtcid, stream);\n\t                    stopStream(stream);\n\t                }\n\t            }\n\t        }, \"__closingMediaStream\");\n\t\n\t        /** @private */\n\t        this.dumpPeerConnectionInfo = function () {\n\t            var i;\n\t            for (var peer in peerConns) {\n\t                if (peerConns.hasOwnProperty(peer)) {\n\t                    var pc = peerConns[peer].pc;\n\t                    var remotes = pc.getRemoteStreams();\n\t                    var remoteIds = [];\n\t                    for (i = 0; i < remotes.length; i++) {\n\t                        remoteIds.push(remotes[i].id);\n\t                    }\n\t                    var locals = pc.getLocalStreams();\n\t                    var localIds = [];\n\t                    for (i = 0; i < locals.length; i++) {\n\t                        localIds.push(locals[i].id);\n\t                    }\n\t\n\t                    logDebug(\"For peer \" + peer);\n\t                    logDebug(\"    \" + JSON.stringify({ local: localIds, remote: remoteIds }));\n\t                }\n\t            }\n\t        };\n\t\n\t        /** @private */\n\t        function onRemoteHangup(otherUser) {\n\t\n\t            logDebug(\"Saw onRemote hangup event\");\n\t            clearQueuedMessages(otherUser);\n\t\n\t            if (peerConns[otherUser]) {\n\t\n\t                if (peerConns[otherUser].pc) {\n\t                    closePeer(otherUser);\n\t                } else {\n\t                    if (self.callCancelled) {\n\t                        self.callCancelled(otherUser, true);\n\t                    }\n\t                }\n\t\n\t                if (peerConns[otherUser]) {\n\t                    delete peerConns[otherUser];\n\t                }\n\t            } else {\n\t                if (self.callCancelled) {\n\t                    self.callCancelled(otherUser, true);\n\t                }\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        //\n\t        // checks to see if a particular peer is in any room at all.\n\t        //\n\t        function isPeerInAnyRoom(id) {\n\t            var roomName;\n\t            for (roomName in lastLoggedInList) {\n\t                if (!lastLoggedInList.hasOwnProperty(roomName)) {\n\t                    continue;\n\t                }\n\t                if (lastLoggedInList[roomName][id]) {\n\t                    return true;\n\t                }\n\t            }\n\t            return false;\n\t        }\n\t\n\t        /**\n\t         * Checks to see if a particular peer is present in any room.\n\t         * If it isn't, we assume it's logged out.\n\t         * @param {string} easyrtcid the easyrtcId of the peer.\n\t         */\n\t        this.isPeerInAnyRoom = function (easyrtcid) {\n\t            return isPeerInAnyRoom(easyrtcid);\n\t        };\n\t\n\t        /** @private */\n\t        function processLostPeers(peersInRoom) {\n\t            var id;\n\t            //\n\t            // check to see the person is still in at least one room. If not, we'll hangup\n\t            // on them. This isn't the correct behavior, but it's the best we can do without\n\t            // changes to the server.\n\t            //\n\t            for (id in peerConns) {\n\t                if (peerConns.hasOwnProperty(id) && typeof peersInRoom[id] === 'undefined') {\n\t                    if (!isPeerInAnyRoom(id)) {\n\t                        if (peerConns[id].pc || peerConns[id].isInitiator) {\n\t                            onRemoteHangup(id);\n\t                        }\n\t                        delete offersPending[id];\n\t                        delete acceptancePending[id];\n\t                        clearQueuedMessages(id);\n\t                    }\n\t                }\n\t            }\n\t\n\t            for (id in offersPending) {\n\t                if (offersPending.hasOwnProperty(id) && !isPeerInAnyRoom(id)) {\n\t                    onRemoteHangup(id);\n\t                    clearQueuedMessages(id);\n\t                    delete offersPending[id];\n\t                    delete acceptancePending[id];\n\t                }\n\t            }\n\t\n\t            for (id in acceptancePending) {\n\t                if (acceptancePending.hasOwnProperty(id) && !isPeerInAnyRoom(id)) {\n\t                    onRemoteHangup(id);\n\t                    clearQueuedMessages(id);\n\t                    delete acceptancePending[id];\n\t                }\n\t            }\n\t        }\n\t\n\t        /**\n\t         * The idea of aggregating timers is that there are events that convey state and these can fire more frequently\n\t         * than desired. Aggregating timers allow a bunch of events to be collapsed into one by only firing the last\n\t         * event.\n\t         * @private\n\t         */\n\t        var aggregatingTimers = {};\n\t\n\t        /**\n\t         * This function sets a timeout for a function to be called with the feature that if another\n\t         * invocation comes along within a particular interval (with the same key), the second invocation\n\t         * replaces the first. To prevent a continuous stream of events from preventing a callback from ever\n\t         * firing, we'll collapse no more than 20 events.\n\t         * @param {String} key A key used to identify callbacks that should be aggregated.\n\t         * @param {Function} callback The callback to invoke.\n\t         * @param {Number} period The aggregating period in milliseconds.\n\t         * @private\n\t         */\n\t        function addAggregatingTimer(key, callback, period) {\n\t            if (!period) {\n\t                period = 100; // 0.1 second\n\t            }\n\t            var counter = 0;\n\t            if (aggregatingTimers[key]) {\n\t                clearTimeout(aggregatingTimers[key].timer);\n\t                counter = aggregatingTimers[key].counter;\n\t            }\n\t            if (counter > 20) {\n\t                delete aggregatingTimers[key];\n\t                callback();\n\t            } else {\n\t                aggregatingTimers[key] = { counter: counter + 1 };\n\t                aggregatingTimers[key].timer = setTimeout(function () {\n\t                    delete aggregatingTimers[key];\n\t                    callback();\n\t                }, period);\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        //\n\t        // this function gets called for each room when there is a room update.\n\t        //\n\t        function processOccupantList(roomName, occupantList) {\n\t            var myInfo = null;\n\t            var reducedList = {};\n\t\n\t            var id;\n\t            for (id in occupantList) {\n\t                if (occupantList.hasOwnProperty(id)) {\n\t                    if (id === self.myEasyrtcid) {\n\t                        myInfo = occupantList[id];\n\t                    } else {\n\t                        reducedList[id] = occupantList[id];\n\t                    }\n\t                }\n\t            }\n\t            //\n\t            // processLostPeers detects peers that have gone away and performs\n\t            // house keeping accordingly.\n\t            //\n\t            processLostPeers(reducedList);\n\t            //\n\t            //\n\t            //\n\t            addAggregatingTimer(\"roomOccupants&\" + roomName, function () {\n\t                if (roomOccupantListener) {\n\t                    roomOccupantListener(roomName, reducedList, myInfo);\n\t                }\n\t                self.emitEvent(\"roomOccupants\", { roomName: roomName, occupants: lastLoggedInList });\n\t            }, 100);\n\t        }\n\t\n\t        /** @private */\n\t        function onChannelMsg(msg, ackAcceptorFunc) {\n\t\n\t            var targeting = {};\n\t            if (ackAcceptorFunc) {\n\t                ackAcceptorFunc(self.ackMessage);\n\t            }\n\t            if (msg.targetEasyrtcid) {\n\t                targeting.targetEasyrtcid = msg.targetEasyrtcid;\n\t            }\n\t            if (msg.targetRoom) {\n\t                targeting.targetRoom = msg.targetRoom;\n\t            }\n\t            if (msg.targetGroup) {\n\t                targeting.targetGroup = msg.targetGroup;\n\t            }\n\t            if (msg.senderEasyrtcid) {\n\t                self.receivePeerDistribute(msg.senderEasyrtcid, msg, targeting);\n\t            } else {\n\t                if (receiveServerCB) {\n\t                    receiveServerCB(msg.msgType, msg.msgData, targeting);\n\t                } else {\n\t                    logDebug(\"Unhandled server message \" + JSON.stringify(msg));\n\t                }\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        function processUrl(url) {\n\t            var ipAddress;\n\t            if (url.indexOf('turn:') === 0 || url.indexOf('turns:') === 0) {\n\t                ipAddress = url.split(/[@:&]/g)[1];\n\t                self._turnServers[ipAddress] = true;\n\t            } else if (url.indexOf('stun:') === 0 || url.indexOf('stuns:') === 0) {\n\t                ipAddress = url.split(/[@:&]/g)[1];\n\t                self._stunServers[ipAddress] = true;\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        function processIceConfig(iceConfig) {\n\t\n\t            var i, j, item;\n\t\n\t            pc_config = {\n\t                iceServers: []\n\t            };\n\t\n\t            self._turnServers = {};\n\t            self._stunServers = {};\n\t\n\t            if (!iceConfig || !iceConfig.iceServers || typeof iceConfig.iceServers.length === \"undefined\") {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"iceConfig received from server didn't have an array called iceServers, ignoring it\");\n\t            } else {\n\t                pc_config = {\n\t                    iceServers: iceConfig.iceServers\n\t                };\n\t            }\n\t\n\t            for (i = 0; i < iceConfig.iceServers.length; i++) {\n\t                item = iceConfig.iceServers[i];\n\t                if (item.urls && item.urls.length) {\n\t                    for (j = 0; j < item.urls.length; j++) {\n\t                        processUrl(item.urls[j]);\n\t                    }\n\t                } else if (item.url) {\n\t                    processUrl(item.url);\n\t                }\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        function processSessionData(sessionData) {\n\t            if (sessionData) {\n\t                if (sessionData.easyrtcsid) {\n\t                    self.easyrtcsid = sessionData.easyrtcsid;\n\t                }\n\t                if (sessionData.field) {\n\t                    sessionFields = sessionData.field;\n\t                }\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        function processRoomData(roomData) {\n\t            self.roomData = roomData;\n\t\n\t            var k, roomName, stuffToRemove, stuffToAdd, id, removeId;\n\t\n\t            for (roomName in self.roomData) {\n\t                if (!self.roomData.hasOwnProperty(roomName)) {\n\t                    continue;\n\t                }\n\t                if (roomData[roomName].roomStatus === \"join\") {\n\t                    if (!self.roomJoin[roomName]) {\n\t                        self.roomJoin[roomName] = roomData[roomName];\n\t                    }\n\t                    var mediaIds = buildMediaIds();\n\t                    if (mediaIds !== {}) {\n\t                        self.setRoomApiField(roomName, \"mediaIds\", mediaIds);\n\t                    }\n\t                } else if (roomData[roomName].roomStatus === \"leave\") {\n\t                    if (self.roomEntryListener) {\n\t                        self.roomEntryListener(false, roomName);\n\t                    }\n\t                    delete self.roomJoin[roomName];\n\t                    delete lastLoggedInList[roomName];\n\t                    continue;\n\t                }\n\t\n\t                if (roomData[roomName].clientList) {\n\t                    lastLoggedInList[roomName] = roomData[roomName].clientList;\n\t                } else if (roomData[roomName].clientListDelta) {\n\t                    stuffToAdd = roomData[roomName].clientListDelta.updateClient;\n\t                    if (stuffToAdd) {\n\t                        for (id in stuffToAdd) {\n\t                            if (!stuffToAdd.hasOwnProperty(id)) {\n\t                                continue;\n\t                            }\n\t                            if (!lastLoggedInList[roomName]) {\n\t                                lastLoggedInList[roomName] = [];\n\t                            }\n\t                            if (!lastLoggedInList[roomName][id]) {\n\t                                lastLoggedInList[roomName][id] = stuffToAdd[id];\n\t                            }\n\t                            for (k in stuffToAdd[id]) {\n\t                                if (k === \"apiField\" || k === \"presence\") {\n\t                                    lastLoggedInList[roomName][id][k] = stuffToAdd[id][k];\n\t                                }\n\t                            }\n\t                        }\n\t                    }\n\t                    stuffToRemove = roomData[roomName].clientListDelta.removeClient;\n\t                    if (stuffToRemove && lastLoggedInList[roomName]) {\n\t                        for (removeId in stuffToRemove) {\n\t                            if (stuffToRemove.hasOwnProperty(removeId)) {\n\t                                delete lastLoggedInList[roomName][removeId];\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t                if (self.roomJoin[roomName] && roomData[roomName].field) {\n\t                    fields.rooms[roomName] = roomData[roomName].field;\n\t                }\n\t                if (roomData[roomName].roomStatus === \"join\") {\n\t                    if (self.roomEntryListener) {\n\t                        self.roomEntryListener(true, roomName);\n\t                    }\n\t                }\n\t                processOccupantList(roomName, lastLoggedInList[roomName]);\n\t            }\n\t            self.emitEvent(\"roomOccupant\", lastLoggedInList);\n\t        }\n\t\n\t        /** @private */\n\t        function onChannelCmd(msg, ackAcceptorFn) {\n\t\n\t            var caller = msg.senderEasyrtcid;\n\t            var msgType = msg.msgType;\n\t            var msgData = msg.msgData;\n\t            var pc;\n\t\n\t            logDebug('received message of type ' + msgType);\n\t\n\t            if (typeof queuedMessages[caller] === \"undefined\") {\n\t                clearQueuedMessages(caller);\n\t            }\n\t\n\t            var processCandidateBody = function processCandidateBody(caller, msgData) {\n\t                var candidate = null;\n\t\n\t                if (iceCandidateFilter) {\n\t                    msgData = iceCandidateFilter(msgData, true);\n\t                    if (!msgData) {\n\t                        return;\n\t                    }\n\t                }\n\t\n\t                candidate = new RTCIceCandidate({\n\t                    sdpMLineIndex: msgData.label,\n\t                    candidate: msgData.candidate\n\t                });\n\t                pc = peerConns[caller].pc;\n\t\n\t                function iceAddSuccess() {\n\t                    logDebug(\"iceAddSuccess: \" + JSON.stringify(candidate));\n\t                    processCandicate(msgData.candidate);\n\t                }\n\t\n\t                function iceAddFailure(domError) {\n\t                    self.showError(self.errCodes.ICECANDIDATE_ERR, \"bad ice candidate (\" + domError.name + \"): \" + JSON.stringify(candidate));\n\t                }\n\t\n\t                pc.addIceCandidate(candidate, iceAddSuccess, iceAddFailure);\n\t            };\n\t\n\t            var flushCachedCandidates = function flushCachedCandidates(caller) {\n\t                var i;\n\t                if (queuedMessages[caller]) {\n\t                    for (i = 0; i < queuedMessages[caller].candidates.length; i++) {\n\t                        processCandidateBody(caller, queuedMessages[caller].candidates[i]);\n\t                    }\n\t                    delete queuedMessages[caller];\n\t                }\n\t            };\n\t\n\t            var processOffer = function processOffer(caller, msgData) {\n\t\n\t                var helper = function helper(wasAccepted, streamNames) {\n\t\n\t                    if (streamNames) {\n\t                        if (typeof streamNames === \"string\") {\n\t                            streamNames = [streamNames];\n\t                        } else if (streamNames.length === undefined) {\n\t                            self.showError(self.errCodes.DEVELOPER_ERR, \"accept callback passed invalid streamNames\");\n\t                            return;\n\t                        }\n\t                    }\n\t\n\t                    logDebug(\"offer accept=\" + wasAccepted);\n\t\n\t                    delete offersPending[caller];\n\t\n\t                    if (wasAccepted) {\n\t                        if (!self.supportsPeerConnections()) {\n\t                            self.showError(self.errCodes.CALL_ERR, self.getConstantString(\"noWebrtcSupport\"));\n\t                            return;\n\t                        }\n\t                        doAnswer(caller, msgData, streamNames);\n\t                        flushCachedCandidates(caller);\n\t                    } else {\n\t                        sendSignalling(caller, \"reject\", null, null, null);\n\t                        clearQueuedMessages(caller);\n\t                    }\n\t                };\n\t                //\n\t                // There is a very rare case of two callers sending each other offers\n\t                // before receiving the others offer. In such a case, the caller with the\n\t                // greater valued easyrtcid will delete its pending call information and do a\n\t                // simple answer to the other caller's offer.\n\t                //\n\t                if (acceptancePending[caller] && caller < self.myEasyrtcid) {\n\t                    delete acceptancePending[caller];\n\t                    if (queuedMessages[caller]) {\n\t                        delete queuedMessages[caller];\n\t                    }\n\t                    if (peerConns[caller]) {\n\t                        if (peerConns[caller].wasAcceptedCB) {\n\t                            peerConns[caller].wasAcceptedCB(true, caller);\n\t                        }\n\t                        delete peerConns[caller];\n\t                    }\n\t                    helper(true);\n\t                    return;\n\t                }\n\t\n\t                offersPending[caller] = msgData;\n\t                if (!self.acceptCheck) {\n\t                    helper(true);\n\t                } else {\n\t                    self.acceptCheck(caller, helper);\n\t                }\n\t            };\n\t\n\t            function processReject(caller) {\n\t                delete acceptancePending[caller];\n\t                if (queuedMessages[caller]) {\n\t                    delete queuedMessages[caller];\n\t                }\n\t                if (peerConns[caller]) {\n\t                    if (peerConns[caller].wasAcceptedCB) {\n\t                        peerConns[caller].wasAcceptedCB(false, caller);\n\t                    }\n\t                    delete peerConns[caller];\n\t                }\n\t            }\n\t\n\t            function processAnswer(caller, msgData) {\n\t\n\t                delete acceptancePending[caller];\n\t\n\t                //\n\t                // if we've discarded the peer connection, ignore the answer.\n\t                //\n\t                if (!peerConns[caller]) {\n\t                    return;\n\t                }\n\t                peerConns[caller].connectionAccepted = true;\n\t\n\t                if (peerConns[caller].wasAcceptedCB) {\n\t                    peerConns[caller].wasAcceptedCB(true, caller);\n\t                }\n\t\n\t                var onSignalSuccess = function onSignalSuccess() {};\n\t                var onSignalFailure = function onSignalFailure(errorCode, errorText) {\n\t                    if (peerConns[caller]) {\n\t                        delete peerConns[caller];\n\t                    }\n\t                    self.showError(errorCode, errorText);\n\t                };\n\t                // peerConns[caller].startedAV = true;\n\t                sendQueuedCandidates(caller, onSignalSuccess, onSignalFailure);\n\t                pc = peerConns[caller].pc;\n\t                var sd = new RTCSessionDescription(msgData);\n\t                if (!sd) {\n\t                    throw \"Could not create the RTCSessionDescription\";\n\t                }\n\t\n\t                logDebug(\"about to call initiating setRemoteDescription\");\n\t\n\t                try {\n\t                    if (sdpRemoteFilter) {\n\t                        sd.sdp = sdpRemoteFilter(sd.sdp);\n\t                    }\n\t                    pc.setRemoteDescription(sd, function () {\n\t                        if (pc.connectDataConnection) {\n\t                            logDebug(\"calling connectDataConnection(5001,5002)\");\n\t\n\t                            pc.connectDataConnection(5001, 5002); // these are like ids for data channels\n\t                        }\n\t                    }, function (message) {\n\t                        logDebug(\"setRemoteDescription failed \", message);\n\t                    });\n\t                } catch (smdException) {\n\t                    logDebug(\"setRemoteDescription failed \", smdException);\n\t                }\n\t                flushCachedCandidates(caller);\n\t            }\n\t\n\t            function processCandidateQueue(caller, msgData) {\n\t\n\t                if (peerConns[caller] && peerConns[caller].pc) {\n\t                    processCandidateBody(caller, msgData);\n\t                } else {\n\t                    if (!peerConns[caller]) {\n\t                        queuedMessages[caller] = {\n\t                            candidates: []\n\t                        };\n\t                    }\n\t                    queuedMessages[caller].candidates.push(msgData);\n\t                }\n\t            }\n\t\n\t            switch (msgType) {\n\t                case \"sessionData\":\n\t                    processSessionData(msgData.sessionData);\n\t                    break;\n\t                case \"roomData\":\n\t                    processRoomData(msgData.roomData);\n\t                    break;\n\t                case \"iceConfig\":\n\t                    processIceConfig(msgData.iceConfig);\n\t                    break;\n\t                case \"forwardToUrl\":\n\t                    if (msgData.newWindow) {\n\t                        window.open(msgData.forwardToUrl.url);\n\t                    } else {\n\t                        window.location.href = msgData.forwardToUrl.url;\n\t                    }\n\t                    break;\n\t                case \"offer\":\n\t                    processOffer(caller, msgData);\n\t                    break;\n\t                case \"reject\":\n\t                    processReject(caller);\n\t                    break;\n\t                case \"answer\":\n\t                    processAnswer(caller, msgData);\n\t                    break;\n\t                case \"candidate\":\n\t                    processCandidateQueue(caller, msgData);\n\t                    break;\n\t                case \"hangup\":\n\t                    onRemoteHangup(caller);\n\t                    clearQueuedMessages(caller);\n\t                    break;\n\t                case \"error\":\n\t                    self.showError(msgData.errorCode, msgData.errorText);\n\t                    break;\n\t                default:\n\t                    self.showError(self.errCodes.DEVELOPER_ERR, \"received unknown message type from server, msgType is \" + msgType);\n\t                    return;\n\t            }\n\t\n\t            if (ackAcceptorFn) {\n\t                ackAcceptorFn(self.ackMessage);\n\t            }\n\t        }\n\t\n\t        /**\n\t         * Sets the presence state on the server.\n\t         * @param {String} state - one of 'away','chat','dnd','xa'\n\t         * @param {String} statusText - User configurable status string. May be length limited.\n\t         * @example   easyrtc.updatePresence('dnd', 'sleeping');\n\t         */\n\t        this.updatePresence = function (state, statusText) {\n\t\n\t            self.presenceShow = state;\n\t            self.presenceStatus = statusText;\n\t\n\t            if (self.webSocketConnected) {\n\t                sendSignalling(null, 'setPresence', {\n\t                    setPresence: {\n\t                        'show': self.presenceShow,\n\t                        'status': self.presenceStatus\n\t                    }\n\t                }, null);\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Fetch the collection of session fields as a map. The map has the structure:\n\t         *  {key1: {\"fieldName\": key1, \"fieldValue\": value1}, ...,\n\t         *   key2: {\"fieldName\": key2, \"fieldValue\": value2}\n\t         *  }\n\t         * @returns {Object}\n\t         */\n\t        this.getSessionFields = function () {\n\t            return sessionFields;\n\t        };\n\t\n\t        /**\n\t         * Fetch the value of a session field by name.\n\t         * @param {String} name - name of the session field to be fetched.\n\t         * @returns the field value (which can be anything). Returns undefined if the field does not exist.\n\t         */\n\t        this.getSessionField = function (name) {\n\t            if (sessionFields[name]) {\n\t                return sessionFields[name].fieldValue;\n\t            } else {\n\t                return undefined;\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Returns an array of easyrtcid's of peers in a particular room.\n\t         * @param roomName\n\t         * @returns {Array} of easyrtcids or null if the client is not in the room.\n\t         * @example\n\t         *     var occupants = easyrtc.getRoomOccupants(\"default\");\n\t         *     var i;\n\t         *     for( i = 0; i < occupants.length; i++ ) {\n\t         *         console.log( occupants[i] + \" is in the room\");\n\t         *     }\n\t         */\n\t        this.getRoomOccupantsAsArray = function (roomName) {\n\t            if (!lastLoggedInList[roomName]) {\n\t                return null;\n\t            } else {\n\t                return Object.keys(lastLoggedInList[roomName]);\n\t            }\n\t        };\n\t\n\t        /**\n\t         * Returns a map of easyrtcid's of peers in a particular room. You should only test elements in the map to see if they are\n\t         * null; their actual values are not guaranteed to be the same in different releases.\n\t         * @param roomName\n\t         * @returns {Object} of easyrtcids or null if the client is not in the room.\n\t         * @example\n\t         *      if( easyrtc.getRoomOccupantsAsMap(\"default\")[some_easyrtcid]) {\n\t         *          console.log(\"yep, \" + some_easyrtcid + \" is in the room\");\n\t         *      }\n\t         */\n\t        this.getRoomOccupantsAsMap = function (roomName) {\n\t            return lastLoggedInList[roomName];\n\t        };\n\t\n\t        /**\n\t         * Returns true if the ipAddress parameter was the address of a turn server. This is done by checking against information\n\t         * collected during peer to peer calls. Don't expect it to work before the first call, or to identify turn servers that aren't\n\t         * in the ice config.\n\t         * @param ipAddress\n\t         * @returns {boolean} true if ip address is known to be that of a turn server, false otherwise.\n\t         */\n\t        this.isTurnServer = function (ipAddress) {\n\t            return !!self._turnServers[ipAddress];\n\t        };\n\t\n\t        /**\n\t         * Returns true if the ipAddress parameter was the address of a stun server. This is done by checking against information\n\t         * collected during peer to peer calls. Don't expect it to work before the first call, or to identify turn servers that aren't\n\t         * in the ice config.\n\t         * @param {string} ipAddress\n\t         * @returns {boolean} true if ip address is known to be that of a stun server, false otherwise.\n\t         */\n\t        this.isStunServer = function (ipAddress) {\n\t            return !!self._stunServers[ipAddress];\n\t        };\n\t\n\t        /**\n\t         * Request fresh ice config information from the server.\n\t         * This should be done periodically by long running applications.\n\t         * @param {Function} callback is called with a value of true on success, false on failure.\n\t         */\n\t        this.getFreshIceConfig = function (callback) {\n\t            var dataToShip = {\n\t                msgType: \"getIceConfig\",\n\t                msgData: {}\n\t            };\n\t            if (!callback) {\n\t                callback = function callback() {};\n\t            }\n\t            self.webSocket.json.emit(\"easyrtcCmd\", dataToShip, function (ackMsg) {\n\t                if (ackMsg.msgType === \"iceConfig\") {\n\t                    processIceConfig(ackMsg.msgData.iceConfig);\n\t                    callback(true);\n\t                } else {\n\t                    self.showError(ackMsg.msgData.errorCode, ackMsg.msgData.errorText);\n\t                    callback(false);\n\t                }\n\t            });\n\t        };\n\t\n\t        /**\n\t         * This method allows you to join a single room. It may be called multiple times to be in\n\t         * multiple rooms simultaneously. It may be called before or after connecting to the server.\n\t         * Note: the successCB and failureDB will only be called if you are already connected to the server.\n\t         * @param {String} roomName the room to be joined.\n\t         * @param {Object} roomParameters application specific parameters, can be null.\n\t         * @param {Function} successCB called once, with a roomName as it's argument, once the room is joined.\n\t         * @param {Function} failureCB called if the room can not be joined. The arguments of failureCB are errorCode, errorText, roomName.\n\t         */\n\t        this.joinRoom = function (roomName, roomParameters, successCB, failureCB) {\n\t            if (self.roomJoin[roomName]) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"Attempt to join room \" + roomName + \" which you are already in.\");\n\t                return;\n\t            }\n\t\n\t            var newRoomData = { roomName: roomName };\n\t            if (roomParameters) {\n\t                try {\n\t                    JSON.stringify(roomParameters);\n\t                } catch (error) {\n\t                    self.showError(self.errCodes.DEVELOPER_ERR, \"non-jsonable parameter to easyrtc.joinRoom\");\n\t                    throw \"Developer error, see application error messages\";\n\t                }\n\t                var parameters = {};\n\t                for (var key in roomParameters) {\n\t                    if (roomParameters.hasOwnProperty(key)) {\n\t                        parameters[key] = roomParameters[key];\n\t                    }\n\t                }\n\t                newRoomData.roomParameter = parameters;\n\t            }\n\t            var msgData = {\n\t                roomJoin: {}\n\t            };\n\t            var roomData;\n\t            var signallingSuccess, signallingFailure;\n\t            if (self.webSocket) {\n\t\n\t                msgData.roomJoin[roomName] = newRoomData;\n\t                signallingSuccess = function signallingSuccess(msgType, msgData) {\n\t\n\t                    roomData = msgData.roomData;\n\t                    self.roomJoin[roomName] = newRoomData;\n\t                    if (successCB) {\n\t                        successCB(roomName);\n\t                    }\n\t\n\t                    processRoomData(roomData);\n\t                };\n\t                signallingFailure = function signallingFailure(errorCode, errorText) {\n\t                    if (failureCB) {\n\t                        failureCB(errorCode, errorText, roomName);\n\t                    } else {\n\t                        self.showError(errorCode, self.format(self.getConstantString(\"unableToEnterRoom\"), roomName, errorText));\n\t                    }\n\t                };\n\t                sendSignalling(null, \"roomJoin\", msgData, signallingSuccess, signallingFailure);\n\t            } else {\n\t                self.roomJoin[roomName] = newRoomData;\n\t            }\n\t        };\n\t\n\t        /**\n\t         * This function allows you to leave a single room. Note: the successCB and failureDB\n\t         *  arguments are optional and will only be called if you are already connected to the server.\n\t         * @param {String} roomName\n\t         * @param {Function} successCallback - A function which expects a roomName.\n\t         * @param {Function} failureCallback - A function which expects the following arguments: errorCode, errorText, roomName.\n\t         * @example\n\t         *    easyrtc.leaveRoom(\"freds_room\");\n\t         *    easyrtc.leaveRoom(\"freds_room\", function(roomName){ console.log(\"left the room\")},\n\t         *                       function(errorCode, errorText, roomName){ console.log(\"left the room\")});\n\t         */\n\t        this.leaveRoom = function (roomName, successCallback, failureCallback) {\n\t            var roomItem;\n\t            if (self.roomJoin[roomName]) {\n\t                if (!self.webSocket) {\n\t                    delete self.roomJoin[roomName];\n\t                } else {\n\t                    roomItem = {};\n\t                    roomItem[roomName] = { roomName: roomName };\n\t                    sendSignalling(null, \"roomLeave\", { roomLeave: roomItem }, function (msgType, msgData) {\n\t                        var roomData = msgData.roomData;\n\t                        processRoomData(roomData);\n\t                        if (successCallback) {\n\t                            successCallback(roomName);\n\t                        }\n\t                    }, function (errorCode, errorText) {\n\t                        if (failureCallback) {\n\t                            failureCallback(errorCode, errorText, roomName);\n\t                        }\n\t                    });\n\t                }\n\t            }\n\t        };\n\t\n\t        /** Get a list of the rooms you are in. You must be connected to call this function.\n\t         * @returns {Object} A map whose keys are the room names\n\t         */\n\t        this.getRoomsJoined = function () {\n\t            var roomsIn = {};\n\t            var key;\n\t            for (key in self.roomJoin) {\n\t                if (self.roomJoin.hasOwnProperty(key)) {\n\t                    roomsIn[key] = true;\n\t                }\n\t            }\n\t            return roomsIn;\n\t        };\n\t\n\t        /** Get server defined fields associated with a particular room. Only valid\n\t         * after a connection has been made.\n\t         * @param {String} roomName - the name of the room you want the fields for.\n\t         * @returns {Object} A dictionary containing entries of the form {key:{'fieldName':key, 'fieldValue':value1}} or undefined\n\t         * if you are not connected to the room.\n\t         */\n\t        this.getRoomFields = function (roomName) {\n\t            return !fields || !fields.rooms || !fields.rooms[roomName] ? undefined : fields.rooms[roomName];\n\t        };\n\t\n\t        /** Get server defined fields associated with the current application. Only valid\n\t         * after a connection has been made.\n\t         * @returns {Object} A dictionary containing entries of the form {key:{'fieldName':key, 'fieldValue':value1}}\n\t         */\n\t        this.getApplicationFields = function () {\n\t            return fields.application;\n\t        };\n\t\n\t        /** Get server defined fields associated with the connection. Only valid\n\t         * after a connection has been made.\n\t         * @returns {Object} A dictionary containing entries of the form {key:{'fieldName':key, 'fieldValue':value1}}\n\t         */\n\t        this.getConnectionFields = function () {\n\t            return fields.connection;\n\t        };\n\t\n\t        /**\n\t         * Supply a socket.io connection that will be used instead of allocating a new socket.\n\t         * The expected usage is that you allocate a websocket, assign options to it, call\n\t         * easyrtc.useThisSocketConnection, followed by easyrtc.connect or easyrtc.easyApp. Easyrtc will not attempt to\n\t         * close sockets that were supplied with easyrtc.useThisSocketConnection.\n\t         * @param {Object} alreadyAllocatedSocketIo A value allocated with the connect method of socket.io.\n\t         */\n\t        this.useThisSocketConnection = function (alreadyAllocatedSocketIo) {\n\t            preallocatedSocketIo = alreadyAllocatedSocketIo;\n\t        };\n\t\n\t        /** @private */\n\t        function processToken(msg) {\n\t            var msgData = msg.msgData;\n\t            logDebug(\"entered process token\");\n\t\n\t            if (msgData.easyrtcid) {\n\t                self.myEasyrtcid = msgData.easyrtcid;\n\t            }\n\t            if (msgData.field) {\n\t                fields.connection = msgData.field;\n\t            }\n\t            if (msgData.iceConfig) {\n\t                processIceConfig(msgData.iceConfig);\n\t            }\n\t\n\t            if (msgData.sessionData) {\n\t                processSessionData(msgData.sessionData);\n\t            }\n\t            if (msgData.roomData) {\n\t                processRoomData(msgData.roomData);\n\t            }\n\t            if (msgData.application.field) {\n\t                fields.application = msgData.application.field;\n\t            }\n\t        }\n\t\n\t        /** @private */\n\t        function sendAuthenticate(successCallback, errorCallback) {\n\t            //\n\t            // find our easyrtcsid\n\t            //\n\t            var cookies, target, i;\n\t            var easyrtcsid = null;\n\t\n\t            if (self.cookieId && document.cookie) {\n\t                cookies = document.cookie.split(/[; ]/g);\n\t                target = self.cookieId + \"=\";\n\t                for (i = 0; i < cookies.length; i++) {\n\t                    if (cookies[i].indexOf(target) === 0) {\n\t                        easyrtcsid = cookies[i].substring(target.length);\n\t                    }\n\t                }\n\t            }\n\t\n\t            var msgData = {\n\t                apiVersion: self.apiVersion,\n\t                applicationName: self.applicationName,\n\t                setUserCfg: collectConfigurationInfo(true)\n\t            };\n\t\n\t            if (!self.roomJoin) {\n\t                self.roomJoin = {};\n\t            }\n\t            if (self.presenceShow) {\n\t                msgData.setPresence = {\n\t                    show: self.presenceShow,\n\t                    status: self.presenceStatus\n\t                };\n\t            }\n\t            if (self.username) {\n\t                msgData.username = self.username;\n\t            }\n\t            if (self.roomJoin && !isEmptyObj(self.roomJoin)) {\n\t                msgData.roomJoin = self.roomJoin;\n\t            }\n\t            if (easyrtcsid) {\n\t                msgData.easyrtcsid = easyrtcsid;\n\t            }\n\t            if (credential) {\n\t                msgData.credential = credential;\n\t            }\n\t\n\t            self.webSocket.json.emit(\"easyrtcAuth\", {\n\t                msgType: \"authenticate\",\n\t                msgData: msgData\n\t            }, function (msg) {\n\t                var room;\n\t                if (msg.msgType === \"error\") {\n\t                    errorCallback(msg.msgData.errorCode, msg.msgData.errorText);\n\t                    self.roomJoin = {};\n\t                } else {\n\t                    processToken(msg);\n\t                    if (self._roomApiFields) {\n\t                        for (room in self._roomApiFields) {\n\t                            if (self._roomApiFields.hasOwnProperty(room)) {\n\t                                enqueueSendRoomApi(room);\n\t                            }\n\t                        }\n\t                    }\n\t\n\t                    if (successCallback) {\n\t                        successCallback(self.myEasyrtcid);\n\t                    }\n\t                }\n\t            });\n\t        }\n\t\n\t        /** @private */\n\t        function connectToWSServer(successCallback, errorCallback) {\n\t            var i;\n\t            if (preallocatedSocketIo) {\n\t                self.webSocket = preallocatedSocketIo;\n\t            } else if (!self.webSocket) {\n\t                try {\n\t                    self.webSocket = io.connect(serverPath, connectionOptions);\n\t\n\t                    if (!self.webSocket) {\n\t                        throw \"io.connect failed\";\n\t                    }\n\t                } catch (socketErr) {\n\t                    self.webSocket = 0;\n\t                    errorCallback(self.errCodes.SYSTEM_ERROR, socketErr.toString());\n\t\n\t                    return;\n\t                }\n\t            } else {\n\t                for (i in self.websocketListeners) {\n\t                    if (!self.websocketListeners.hasOwnProperty(i)) {\n\t                        continue;\n\t                    }\n\t                    self.webSocket.removeEventListener(self.websocketListeners[i].event, self.websocketListeners[i].handler);\n\t                }\n\t            }\n\t\n\t            self.websocketListeners = [];\n\t\n\t            function addSocketListener(event, handler) {\n\t                self.webSocket.on(event, handler);\n\t                self.websocketListeners.push({ event: event, handler: handler });\n\t            }\n\t\n\t            addSocketListener(\"close\", function (event) {\n\t                logDebug(\"the web socket closed\");\n\t            });\n\t\n\t            addSocketListener('error', function (event) {\n\t                function handleErrorEvent() {\n\t                    if (self.myEasyrtcid) {\n\t                        //\n\t                        // socket.io version 1 got rid of the socket member, moving everything up one level.\n\t                        //\n\t                        if (isSocketConnected(self.webSocket)) {\n\t                            self.showError(self.errCodes.SIGNAL_ERR, self.getConstantString(\"miscSignalError\"));\n\t                        } else {\n\t                            /* socket server went down. this will generate a 'disconnect' event as well, so skip this event */\n\t                            errorCallback(self.errCodes.CONNECT_ERR, self.getConstantString(\"noServer\"));\n\t                        }\n\t                    } else {\n\t                        errorCallback(self.errCodes.CONNECT_ERR, self.getConstantString(\"noServer\"));\n\t                    }\n\t                }\n\t                handleErrorEvent();\n\t            });\n\t\n\t            function connectHandler(event) {\n\t                self.webSocketConnected = true;\n\t                if (!self.webSocket) {\n\t                    self.showError(self.errCodes.CONNECT_ERR, self.getConstantString(\"badsocket\"));\n\t                }\n\t\n\t                logDebug(\"saw socket-server onconnect event\");\n\t\n\t                if (self.webSocketConnected) {\n\t                    sendAuthenticate(successCallback, errorCallback);\n\t                } else {\n\t                    errorCallback(self.errCodes.SIGNAL_ERR, self.getConstantString(\"icf\"));\n\t                }\n\t            }\n\t\n\t            if (isSocketConnected(preallocatedSocketIo)) {\n\t                connectHandler(null);\n\t            } else {\n\t                addSocketListener(\"connect\", connectHandler);\n\t            }\n\t\n\t            addSocketListener(\"easyrtcMsg\", onChannelMsg);\n\t            addSocketListener(\"easyrtcCmd\", onChannelCmd);\n\t            addSocketListener(\"disconnect\", function () /* code, reason, wasClean */{\n\t\n\t                self.webSocketConnected = false;\n\t                updateConfigurationInfo = function updateConfigurationInfo() {}; // dummy update function\n\t                oldConfig = {};\n\t                disconnectBody();\n\t\n\t                if (self.disconnectListener) {\n\t                    self.disconnectListener();\n\t                }\n\t            });\n\t        }\n\t\n\t        /**\n\t         * Connects to the EasyRTC signaling server. You must connect before trying to\n\t         * call other users.\n\t         * @param {String} applicationName is a string that identifies the application so that different applications can have different\n\t         *        lists of users. Note that the server configuration specifies a regular expression that is used to check application names\n\t         *        for validity. The default pattern is that of an identifier, spaces are not allowed.\n\t         * @param {Function} successCallback (easyrtcId, roomOwner) - is called on successful connect. easyrtcId is the\n\t         *   unique name that the client is known to the server by. A client usually only needs it's own easyrtcId for debugging purposes.\n\t         *       roomOwner is true if the user is the owner of a room. It's value is random if the user is in multiple rooms.\n\t         * @param {Function} errorCallback (errorCode, errorText) - is called on unsuccessful connect. if null, an alert is called instead.\n\t         *  The errorCode takes it's value from easyrtc.errCodes.\n\t         * @example\n\t         *   easyrtc.connect(\"my_chat_app\",\n\t         *                   function(easyrtcid, roomOwner){\n\t         *                       if( roomOwner){ console.log(\"I'm the room owner\"); }\n\t         *                       console.log(\"my id is \" + easyrtcid);\n\t         *                   },\n\t         *                   function(errorText){\n\t         *                       console.log(\"failed to connect \", erFrText);\n\t         *                   });\n\t         */\n\t        this.connect = function (applicationName, successCallback, errorCallback) {\n\t\n\t            // Detect invalid or missing socket.io\n\t            if (!io) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"Your HTML has not included the socket.io.js library\");\n\t            }\n\t\n\t            if (!preallocatedSocketIo && self.webSocket) {\n\t                self.showError(self.errCodes.DEVELOPER_ERR, \"Attempt to connect when already connected to socket server\");\n\t                return;\n\t            }\n\t            pc_config = {};\n\t            closedChannel = null;\n\t            oldConfig = {}; // used internally by updateConfiguration\n\t            queuedMessages = {};\n\t            self.applicationName = applicationName;\n\t            fields = {\n\t                rooms: {},\n\t                application: {},\n\t                connection: {}\n\t            };\n\t\n\t            logDebug(\"attempt to connect to WebRTC signalling server with application name=\" + applicationName);\n\t\n\t            if (errorCallback === null) {\n\t                errorCallback = function errorCallback(errorCode, errorText) {\n\t                    self.showError(errorCode, errorText);\n\t                };\n\t            }\n\t\n\t            connectToWSServer(successCallback, errorCallback);\n\t        };\n\t    };\n\t\n\t    return new Easyrtc();\n\t});\n\t\n\t/* global define, module, require, console */\n\t/*!\n\t  Script: easyrtc_app.js\n\t\n\t    Provides support file and data transfer support to easyrtc.\n\t\n\t  About: License\n\t\n\t    Copyright (c) 2016, Priologic Software Inc.\n\t    All rights reserved.\n\t\n\t    Redistribution and use in source and binary forms, with or without\n\t    modification, are permitted provided that the following conditions are met:\n\t\n\t        * Redistributions of source code must retain the above copyright notice,\n\t          this list of conditions and the following disclaimer.\n\t        * Redistributions in binary form must reproduce the above copyright\n\t          notice, this list of conditions and the following disclaimer in the\n\t          documentation and/or other materials provided with the distribution.\n\t\n\t    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n\t    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n\t    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n\t    ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n\t    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n\t    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n\t    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n\t    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n\t    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n\t    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n\t    POSSIBILITY OF SUCH DAMAGE.\n\t*/\n\t\n\t(function (root, factory) {\n\t    if (true) {\n\t        //RequireJS (AMD) build system\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__WEBPACK_LOCAL_MODULE_2__], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) === 'object' && module.exports) {\n\t        //CommonJS build system\n\t        module.exports = factory(require('easyrtc'));\n\t    } else {\n\t        //Vanilla JS, ensure dependencies are loaded correctly\n\t        if (_typeof(window.easyrtc) !== 'object' || !window.easyrtc) {\n\t            throw new Error(\"easyrtc_app requires easyrtc\");\n\t        }\n\t        root.easyrtc = factory(window.easyrtc);\n\t    }\n\t})(undefined, function (easyrtc, undefined) {\n\t\n\t    \"use strict\";\n\t\n\t    /**\n\t     * This file adds additional methods to Easyrtc for simplifying the \n\t     * management of video-mediastream assignment.\n\t     * @class Easyrtc_App\n\t     */\n\t\n\t    /** @private */\n\t\n\t    var autoAddCloseButtons = true;\n\t\n\t    /** By default, the easyApp routine sticks a \"close\" button on top of each caller\n\t     * video object that it manages. Call this function(before calling easyApp) to disable that particular feature.\n\t     * @function\n\t     * @memberOf Easyrtc_App\n\t     * @example\n\t     *    easyrtc.dontAddCloseButtons();\n\t     */\n\t    easyrtc.dontAddCloseButtons = function () {\n\t        autoAddCloseButtons = false;\n\t    };\n\t\n\t    /**\n\t     * This is a helper function for the easyApp method. It manages the assignment of video streams\n\t     * to video objects. It assumes\n\t     * @param {String} monitorVideoId is the id of the mirror video tag.\n\t     * @param {Array} videoIds is an array of ids of the caller video tags.\n\t     * @private\n\t     */\n\t    function easyAppBody(monitorVideoId, videoIds) {\n\t\n\t        var videoIdsP = videoIds || [],\n\t            numPEOPLE = videoIds.length,\n\t            videoIdToCallerMap = {},\n\t            onCall = null,\n\t            onHangup = null;\n\t\n\t        /**\n\t         * Validates that the video ids correspond to dom objects.\n\t         * @param {String} monitorVideoId\n\t         * @param {Array} videoIds\n\t         * @returns {Boolean}\n\t         * @private\n\t         */\n\t        function validateVideoIds(monitorVideoId, videoIds) {\n\t            var i;\n\t            // verify that video ids were not typos.\n\t            if (monitorVideoId && !document.getElementById(monitorVideoId)) {\n\t                easyrtc.showError(easyrtc.errCodes.DEVELOPER_ERR, \"The monitor video id passed to easyApp was bad, saw \" + monitorVideoId);\n\t                return false;\n\t            }\n\t\n\t            for (i in videoIds) {\n\t                if (!videoIds.hasOwnProperty(i)) {\n\t                    continue;\n\t                }\n\t                var name = videoIds[i];\n\t                if (!document.getElementById(name)) {\n\t                    easyrtc.showError(easyrtc.errCodes.DEVELOPER_ERR, \"The caller video id '\" + name + \"' passed to easyApp was bad.\");\n\t                    return false;\n\t                }\n\t            }\n\t            return true;\n\t        }\n\t\n\t        function getCallerOfVideo(videoObject) {\n\t            return videoIdToCallerMap[videoObject.id];\n\t        }\n\t\n\t        function setCallerOfVideo(videoObject, callerEasyrtcId) {\n\t            videoIdToCallerMap[videoObject.id] = callerEasyrtcId;\n\t        }\n\t\n\t        function videoIsFree(obj) {\n\t            var caller = getCallerOfVideo(obj);\n\t            return caller === \"\" || caller === null || caller === undefined;\n\t        }\n\t\n\t        function getIthVideo(i) {\n\t            if (videoIdsP[i]) {\n\t                return document.getElementById(videoIdsP[i]);\n\t            } else {\n\t                return null;\n\t            }\n\t        }\n\t\n\t        function showVideo(video, stream) {\n\t            easyrtc.setVideoObjectSrc(video, stream);\n\t            if (video.style.visibility) {\n\t                video.style.visibility = 'visible';\n\t            }\n\t        }\n\t\n\t        function hideVideo(video) {\n\t            easyrtc.setVideoObjectSrc(video, \"\");\n\t            video.style.visibility = \"hidden\";\n\t        }\n\t\n\t        if (!validateVideoIds(monitorVideoId, videoIdsP)) {\n\t            throw \"bad video element id\";\n\t        }\n\t\n\t        if (monitorVideoId) {\n\t            document.getElementById(monitorVideoId).muted = \"muted\";\n\t        }\n\t\n\t        easyrtc.addEventListener(\"roomOccupants\", function (eventName, eventData) {\n\t            var i;\n\t            for (i = 0; i < numPEOPLE; i++) {\n\t                var video = getIthVideo(i);\n\t                if (!videoIsFree(video)) {\n\t                    if (!easyrtc.isPeerInAnyRoom(getCallerOfVideo(video))) {\n\t                        if (onHangup) {\n\t                            onHangup(getCallerOfVideo(video), i);\n\t                        }\n\t                        setCallerOfVideo(video, null);\n\t                    }\n\t                }\n\t            }\n\t        });\n\t\n\t        /** Sets an event handler that gets called when an incoming MediaStream is assigned \n\t         * to a video object. The name is poorly chosen and reflects a simpler era when you could\n\t         * only have one media stream per peer connection.\n\t         * @function\n\t         * @memberOf Easyrtc_App\n\t         * @param {Function} cb has the signature function(easyrtcid, slot){}\n\t         * @example\n\t         *   easyrtc.setOnCall( function(easyrtcid, slot){\n\t         *      console.log(\"call with \" + easyrtcid + \"established\");\n\t         *   });\n\t         */\n\t        easyrtc.setOnCall = function (cb) {\n\t            onCall = cb;\n\t        };\n\t\n\t        /** Sets an event handler that gets called when a call is ended.\n\t         * it's only purpose (so far) is to support transitions on video elements.\n\t         x     * this function is only defined after easyrtc.easyApp is called.\n\t         * The slot is parameter is the index into the array of video ids.\n\t         * Note: if you call easyrtc.getConnectionCount() from inside your callback\n\t         * it's count will reflect the number of connections before the hangup started.\n\t         * @function\n\t         * @memberOf Easyrtc_App\n\t         * @param {Function} cb has the signature function(easyrtcid, slot){}\n\t         * @example\n\t         *   easyrtc.setOnHangup( function(easyrtcid, slot){\n\t         *      console.log(\"call with \" + easyrtcid + \"ended\");\n\t         *   });\n\t         */\n\t        easyrtc.setOnHangup = function (cb) {\n\t            onHangup = cb;\n\t        };\n\t\n\t        /** \n\t          * Get the easyrtcid of the ith caller, starting at 0.\n\t          * @function\n\t          * @memberOf Easyrtc_App\n\t          * @param {number} i\n\t          * @returns {String}\n\t          */\n\t        easyrtc.getIthCaller = function (i) {\n\t            if (i < 0 || i >= videoIdsP.length) {\n\t                return null;\n\t            }\n\t            var vid = getIthVideo(i);\n\t            return getCallerOfVideo(vid);\n\t        };\n\t\n\t        /** \n\t          * This is the complement of getIthCaller. Given an easyrtcid,\n\t          * it determines which slot the easyrtc is in.\n\t          * @function\n\t          * @memberOf Easyrtc_App\n\t          * @param {string} easyrtcid \n\t          * @returns {number} or -1 if the easyrtcid is not a caller.\n\t          */\n\t        easyrtc.getSlotOfCaller = function (easyrtcid) {\n\t            var i;\n\t            for (i = 0; i < numPEOPLE; i++) {\n\t                if (easyrtc.getIthCaller(i) === easyrtcid) {\n\t                    return i;\n\t                }\n\t            }\n\t            return -1; // caller not connected\n\t        };\n\t\n\t        easyrtc.setOnStreamClosed(function (caller) {\n\t            var i;\n\t            for (i = 0; i < numPEOPLE; i++) {\n\t                var video = getIthVideo(i);\n\t                if (getCallerOfVideo(video) === caller) {\n\t                    hideVideo(video);\n\t                    setCallerOfVideo(video, \"\");\n\t                    if (onHangup) {\n\t                        onHangup(caller, i);\n\t                    }\n\t                }\n\t            }\n\t        });\n\t\n\t        //\n\t        // Only accept incoming calls if we have a free video object to display\n\t        // them in.\n\t        //\n\t        easyrtc.setAcceptChecker(function (caller, helper) {\n\t            var i;\n\t            for (i = 0; i < numPEOPLE; i++) {\n\t                var video = getIthVideo(i);\n\t                if (videoIsFree(video)) {\n\t                    helper(true);\n\t                    return;\n\t                }\n\t            }\n\t            helper(false);\n\t        });\n\t\n\t        easyrtc.setStreamAcceptor(function (caller, stream) {\n\t            var i;\n\t            if (easyrtc.debugPrinter) {\n\t                easyrtc.debugPrinter(\"stream acceptor called\");\n\t            }\n\t\n\t            var video;\n\t\n\t            for (i = 0; i < numPEOPLE; i++) {\n\t                video = getIthVideo(i);\n\t                if (getCallerOfVideo(video) === caller) {\n\t                    showVideo(video, stream);\n\t                    if (onCall) {\n\t                        onCall(caller, i);\n\t                    }\n\t                    return;\n\t                }\n\t            }\n\t\n\t            for (i = 0; i < numPEOPLE; i++) {\n\t                video = getIthVideo(i);\n\t                if (videoIsFree(video)) {\n\t                    setCallerOfVideo(video, caller);\n\t                    if (onCall) {\n\t                        onCall(caller, i);\n\t                    }\n\t                    showVideo(video, stream);\n\t                    return;\n\t                }\n\t            }\n\t            //\n\t            // no empty slots, so drop whatever caller we have in the first slot and use that one.\n\t            //\n\t            video = getIthVideo(0);\n\t            if (video) {\n\t                easyrtc.hangup(getCallerOfVideo(video));\n\t                showVideo(video, stream);\n\t                if (onCall) {\n\t                    onCall(caller, 0);\n\t                }\n\t            }\n\t\n\t            setCallerOfVideo(video, caller);\n\t        });\n\t\n\t        var addControls, parentDiv, closeButton, i;\n\t        if (autoAddCloseButtons) {\n\t\n\t            addControls = function addControls(video) {\n\t                parentDiv = video.parentNode;\n\t                setCallerOfVideo(video, \"\");\n\t                closeButton = document.createElement(\"div\");\n\t                closeButton.className = \"easyrtc_closeButton\";\n\t                closeButton.onclick = function () {\n\t                    if (getCallerOfVideo(video)) {\n\t                        easyrtc.hangup(getCallerOfVideo(video));\n\t                        hideVideo(video);\n\t                        setCallerOfVideo(video, \"\");\n\t                    }\n\t                };\n\t                parentDiv.appendChild(closeButton);\n\t            };\n\t\n\t            for (i = 0; i < numPEOPLE; i++) {\n\t                addControls(getIthVideo(i));\n\t            }\n\t        }\n\t\n\t        var monitorVideo = null;\n\t        if (easyrtc.videoEnabled && monitorVideoId !== null) {\n\t            monitorVideo = document.getElementById(monitorVideoId);\n\t            if (!monitorVideo) {\n\t                console.error(\"Programmer error: no object called \" + monitorVideoId);\n\t                return;\n\t            }\n\t            monitorVideo.muted = \"muted\";\n\t            monitorVideo.defaultMuted = true;\n\t        }\n\t    }\n\t\n\t    /**\n\t     * Provides a layer on top of the easyrtc.initMediaSource and easyrtc.connect, assign the local media stream to\n\t     * the video object identified by monitorVideoId, assign remote video streams to\n\t     * the video objects identified by videoIds, and then call onReady. One of it's\n\t     * side effects is to add hangup buttons to the remote video objects, buttons\n\t     * that only appear when you hover over them with the mouse cursor. This method will also add the\n\t     * easyrtcMirror class to the monitor video object so that it behaves like a mirror.\n\t     * @function\n\t     * @memberOf Easyrtc_App\n\t     *  @param {String} applicationName - name of the application.\n\t     *  @param {String} monitorVideoId - the id of the video object used for monitoring the local stream.\n\t     *  @param {Array} videoIds - an array of video object ids (strings)\n\t     *  @param {Function} onReady - a callback function used on success. It is called with the easyrtcId this peer is known to the server as.\n\t     *  @param {Function} onFailure - a callback function used on failure (failed to get local media or a connection of the signaling server).\n\t     *  @example\n\t     *     easyrtc.easyApp('multiChat', 'selfVideo', ['remote1', 'remote2', 'remote3'],\n\t     *              function(easyrtcId){\n\t     *                  console.log(\"successfully connected, I am \" + easyrtcId);\n\t     *              },\n\t     *              function(errorCode, errorText){\n\t     *                  console.log(errorText);\n\t     *              });\n\t     */\n\t    easyrtc.easyApp = function (applicationName, monitorVideoId, videoIds, onReady, onFailure) {\n\t\n\t        var gotMediaCallback = null,\n\t            gotConnectionCallback = null;\n\t\n\t        easyAppBody(monitorVideoId, videoIds);\n\t\n\t        easyrtc.setGotMedia = function (gotMediaCB) {\n\t            gotMediaCallback = gotMediaCB;\n\t        };\n\t\n\t        //\n\t        // try to restablish broken connections that weren't caused by a hangup\n\t        //\n\t        easyrtc.setPeerClosedListener(function (easyrtcid) {\n\t            setTimeout(function () {\n\t                if (easyrtc.getSlotOfCaller(easyrtcid) >= 0 && easyrtc.isPeerInAnyRoom(easyrtcid)) {\n\t                    easyrtc.call(easyrtcid, function () {}, function () {}, function () {});\n\t                }\n\t            }, 1000);\n\t        });\n\t\n\t        /** Sets an event handler that gets called when a connection to the signaling\n\t         * server has or has not been made. Can only be called after calling easyrtc.easyApp.\n\t         * @function\n\t         * @memberOf Easyrtc_App\n\t         * @param {Function} gotConnectionCB has the signature (gotConnection, errorText)\n\t         * @example\n\t         *    easyrtc.setGotConnection( function(gotConnection, errorText){\n\t         *        if( gotConnection ){\n\t         *            console.log(\"Successfully connected to signaling server\");\n\t         *        }\n\t         *        else{\n\t         *            console.log(\"Failed to connect to signaling server because: \" + errorText);\n\t         *        }\n\t         *    });\n\t         */\n\t        easyrtc.setGotConnection = function (gotConnectionCB) {\n\t            gotConnectionCallback = gotConnectionCB;\n\t        };\n\t\n\t        function nextInitializationStep() /* token */{\n\t            if (gotConnectionCallback) {\n\t                gotConnectionCallback(true, \"\");\n\t            }\n\t            onReady(easyrtc.myEasyrtcid);\n\t        }\n\t\n\t        function postGetUserMedia() {\n\t            if (gotMediaCallback) {\n\t                gotMediaCallback(true, null);\n\t            }\n\t            if (monitorVideoId !== null) {\n\t                easyrtc.setVideoObjectSrc(document.getElementById(monitorVideoId), easyrtc.getLocalStream());\n\t            }\n\t            function connectError(errorCode, errorText) {\n\t                if (gotConnectionCallback) {\n\t                    gotConnectionCallback(false, errorText);\n\t                } else if (onFailure) {\n\t                    onFailure(easyrtc.errCodes.CONNECT_ERR, errorText);\n\t                } else {\n\t                    easyrtc.showError(easyrtc.errCodes.CONNECT_ERR, errorText);\n\t                }\n\t            }\n\t\n\t            easyrtc.connect(applicationName, nextInitializationStep, connectError);\n\t        }\n\t\n\t        var stream = easyrtc.getLocalStream(null);\n\t        if (stream) {\n\t            postGetUserMedia();\n\t        } else {\n\t            easyrtc.initMediaSource(postGetUserMedia, function (errorCode, errorText) {\n\t                if (gotMediaCallback) {\n\t                    gotMediaCallback(false, errorText);\n\t                } else if (onFailure) {\n\t                    onFailure(easyrtc.errCodes.MEDIA_ERR, errorText);\n\t                } else {\n\t                    easyrtc.showError(easyrtc.errCodes.MEDIA_ERR, errorText);\n\t                }\n\t            }, null // default stream\n\t            );\n\t        }\n\t    };\n\t\n\t    return easyrtc;\n\t}); // end of module wrapper\n\t;\n\n/***/ },\n/* 78 */,\n/* 79 */,\n/* 80 */\n/*!********************************************************!*\\\n  !*** (webpack)/~/node-libs-browser/~/assert/assert.js ***!\n  \\********************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';\n\t\n\t// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n\t// original notice:\n\t\n\t/*!\n\t * The buffer module from node.js, for the browser.\n\t *\n\t * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n\t * @license  MIT\n\t */\n\tfunction compare(a, b) {\n\t  if (a === b) {\n\t    return 0;\n\t  }\n\t\n\t  var x = a.length;\n\t  var y = b.length;\n\t\n\t  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n\t    if (a[i] !== b[i]) {\n\t      x = a[i];\n\t      y = b[i];\n\t      break;\n\t    }\n\t  }\n\t\n\t  if (x < y) {\n\t    return -1;\n\t  }\n\t  if (y < x) {\n\t    return 1;\n\t  }\n\t  return 0;\n\t}\n\tfunction isBuffer(b) {\n\t  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n\t    return global.Buffer.isBuffer(b);\n\t  }\n\t  return !!(b != null && b._isBuffer);\n\t}\n\t\n\t// based on node assert, original notice:\n\t\n\t// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n\t//\n\t// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n\t//\n\t// Originally from narwhal.js (http://narwhaljs.org)\n\t// Copyright (c) 2009 Thomas Robinson <280north.com>\n\t//\n\t// Permission is hereby granted, free of charge, to any person obtaining a copy\n\t// of this software and associated documentation files (the 'Software'), to\n\t// deal in the Software without restriction, including without limitation the\n\t// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n\t// sell copies of the Software, and to permit persons to whom the Software is\n\t// furnished to do so, subject to the following conditions:\n\t//\n\t// The above copyright notice and this permission notice shall be included in\n\t// all copies or substantial portions of the Software.\n\t//\n\t// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\t// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\t// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\t// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n\t// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n\t// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\t\n\tvar util = __webpack_require__(/*! util/ */ 82);\n\tvar hasOwn = Object.prototype.hasOwnProperty;\n\tvar pSlice = Array.prototype.slice;\n\tvar functionsHaveNames = (function () {\n\t  return function foo() {}.name === 'foo';\n\t}());\n\tfunction pToString (obj) {\n\t  return Object.prototype.toString.call(obj);\n\t}\n\tfunction isView(arrbuf) {\n\t  if (isBuffer(arrbuf)) {\n\t    return false;\n\t  }\n\t  if (typeof global.ArrayBuffer !== 'function') {\n\t    return false;\n\t  }\n\t  if (typeof ArrayBuffer.isView === 'function') {\n\t    return ArrayBuffer.isView(arrbuf);\n\t  }\n\t  if (!arrbuf) {\n\t    return false;\n\t  }\n\t  if (arrbuf instanceof DataView) {\n\t    return true;\n\t  }\n\t  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n\t    return true;\n\t  }\n\t  return false;\n\t}\n\t// 1. The assert module provides functions that throw\n\t// AssertionError's when particular conditions are not met. The\n\t// assert module must conform to the following interface.\n\t\n\tvar assert = module.exports = ok;\n\t\n\t// 2. The AssertionError is defined in assert.\n\t// new assert.AssertionError({ message: message,\n\t//                             actual: actual,\n\t//                             expected: expected })\n\t\n\tvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n\t// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\n\tfunction getName(func) {\n\t  if (!util.isFunction(func)) {\n\t    return;\n\t  }\n\t  if (functionsHaveNames) {\n\t    return func.name;\n\t  }\n\t  var str = func.toString();\n\t  var match = str.match(regex);\n\t  return match && match[1];\n\t}\n\tassert.AssertionError = function AssertionError(options) {\n\t  this.name = 'AssertionError';\n\t  this.actual = options.actual;\n\t  this.expected = options.expected;\n\t  this.operator = options.operator;\n\t  if (options.message) {\n\t    this.message = options.message;\n\t    this.generatedMessage = false;\n\t  } else {\n\t    this.message = getMessage(this);\n\t    this.generatedMessage = true;\n\t  }\n\t  var stackStartFunction = options.stackStartFunction || fail;\n\t  if (Error.captureStackTrace) {\n\t    Error.captureStackTrace(this, stackStartFunction);\n\t  } else {\n\t    // non v8 browsers so we can have a stacktrace\n\t    var err = new Error();\n\t    if (err.stack) {\n\t      var out = err.stack;\n\t\n\t      // try to strip useless frames\n\t      var fn_name = getName(stackStartFunction);\n\t      var idx = out.indexOf('\\n' + fn_name);\n\t      if (idx >= 0) {\n\t        // once we have located the function frame\n\t        // we need to strip out everything before it (and its line)\n\t        var next_line = out.indexOf('\\n', idx + 1);\n\t        out = out.substring(next_line + 1);\n\t      }\n\t\n\t      this.stack = out;\n\t    }\n\t  }\n\t};\n\t\n\t// assert.AssertionError instanceof Error\n\tutil.inherits(assert.AssertionError, Error);\n\t\n\tfunction truncate(s, n) {\n\t  if (typeof s === 'string') {\n\t    return s.length < n ? s : s.slice(0, n);\n\t  } else {\n\t    return s;\n\t  }\n\t}\n\tfunction inspect(something) {\n\t  if (functionsHaveNames || !util.isFunction(something)) {\n\t    return util.inspect(something);\n\t  }\n\t  var rawname = getName(something);\n\t  var name = rawname ? ': ' + rawname : '';\n\t  return '[Function' +  name + ']';\n\t}\n\tfunction getMessage(self) {\n\t  return truncate(inspect(self.actual), 128) + ' ' +\n\t         self.operator + ' ' +\n\t         truncate(inspect(self.expected), 128);\n\t}\n\t\n\t// At present only the three keys mentioned above are used and\n\t// understood by the spec. Implementations or sub modules can pass\n\t// other keys to the AssertionError's constructor - they will be\n\t// ignored.\n\t\n\t// 3. All of the following functions must throw an AssertionError\n\t// when a corresponding condition is not met, with a message that\n\t// may be undefined if not provided.  All assertion methods provide\n\t// both the actual and expected values to the assertion error for\n\t// display purposes.\n\t\n\tfunction fail(actual, expected, message, operator, stackStartFunction) {\n\t  throw new assert.AssertionError({\n\t    message: message,\n\t    actual: actual,\n\t    expected: expected,\n\t    operator: operator,\n\t    stackStartFunction: stackStartFunction\n\t  });\n\t}\n\t\n\t// EXTENSION! allows for well behaved errors defined elsewhere.\n\tassert.fail = fail;\n\t\n\t// 4. Pure assertion tests whether a value is truthy, as determined\n\t// by !!guard.\n\t// assert.ok(guard, message_opt);\n\t// This statement is equivalent to assert.equal(true, !!guard,\n\t// message_opt);. To test strictly for the value true, use\n\t// assert.strictEqual(true, guard, message_opt);.\n\t\n\tfunction ok(value, message) {\n\t  if (!value) fail(value, true, message, '==', assert.ok);\n\t}\n\tassert.ok = ok;\n\t\n\t// 5. The equality assertion tests shallow, coercive equality with\n\t// ==.\n\t// assert.equal(actual, expected, message_opt);\n\t\n\tassert.equal = function equal(actual, expected, message) {\n\t  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n\t};\n\t\n\t// 6. The non-equality assertion tests for whether two objects are not equal\n\t// with != assert.notEqual(actual, expected, message_opt);\n\t\n\tassert.notEqual = function notEqual(actual, expected, message) {\n\t  if (actual == expected) {\n\t    fail(actual, expected, message, '!=', assert.notEqual);\n\t  }\n\t};\n\t\n\t// 7. The equivalence assertion tests a deep equality relation.\n\t// assert.deepEqual(actual, expected, message_opt);\n\t\n\tassert.deepEqual = function deepEqual(actual, expected, message) {\n\t  if (!_deepEqual(actual, expected, false)) {\n\t    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n\t  }\n\t};\n\t\n\tassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n\t  if (!_deepEqual(actual, expected, true)) {\n\t    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n\t  }\n\t};\n\t\n\tfunction _deepEqual(actual, expected, strict, memos) {\n\t  // 7.1. All identical values are equivalent, as determined by ===.\n\t  if (actual === expected) {\n\t    return true;\n\t  } else if (isBuffer(actual) && isBuffer(expected)) {\n\t    return compare(actual, expected) === 0;\n\t\n\t  // 7.2. If the expected value is a Date object, the actual value is\n\t  // equivalent if it is also a Date object that refers to the same time.\n\t  } else if (util.isDate(actual) && util.isDate(expected)) {\n\t    return actual.getTime() === expected.getTime();\n\t\n\t  // 7.3 If the expected value is a RegExp object, the actual value is\n\t  // equivalent if it is also a RegExp object with the same source and\n\t  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n\t  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n\t    return actual.source === expected.source &&\n\t           actual.global === expected.global &&\n\t           actual.multiline === expected.multiline &&\n\t           actual.lastIndex === expected.lastIndex &&\n\t           actual.ignoreCase === expected.ignoreCase;\n\t\n\t  // 7.4. Other pairs that do not both pass typeof value == 'object',\n\t  // equivalence is determined by ==.\n\t  } else if ((actual === null || typeof actual !== 'object') &&\n\t             (expected === null || typeof expected !== 'object')) {\n\t    return strict ? actual === expected : actual == expected;\n\t\n\t  // If both values are instances of typed arrays, wrap their underlying\n\t  // ArrayBuffers in a Buffer each to increase performance\n\t  // This optimization requires the arrays to have the same type as checked by\n\t  // Object.prototype.toString (aka pToString). Never perform binary\n\t  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n\t  // bit patterns are not identical.\n\t  } else if (isView(actual) && isView(expected) &&\n\t             pToString(actual) === pToString(expected) &&\n\t             !(actual instanceof Float32Array ||\n\t               actual instanceof Float64Array)) {\n\t    return compare(new Uint8Array(actual.buffer),\n\t                   new Uint8Array(expected.buffer)) === 0;\n\t\n\t  // 7.5 For all other Object pairs, including Array objects, equivalence is\n\t  // determined by having the same number of owned properties (as verified\n\t  // with Object.prototype.hasOwnProperty.call), the same set of keys\n\t  // (although not necessarily the same order), equivalent values for every\n\t  // corresponding key, and an identical 'prototype' property. Note: this\n\t  // accounts for both named and indexed properties on Arrays.\n\t  } else if (isBuffer(actual) !== isBuffer(expected)) {\n\t    return false;\n\t  } else {\n\t    memos = memos || {actual: [], expected: []};\n\t\n\t    var actualIndex = memos.actual.indexOf(actual);\n\t    if (actualIndex !== -1) {\n\t      if (actualIndex === memos.expected.indexOf(expected)) {\n\t        return true;\n\t      }\n\t    }\n\t\n\t    memos.actual.push(actual);\n\t    memos.expected.push(expected);\n\t\n\t    return objEquiv(actual, expected, strict, memos);\n\t  }\n\t}\n\t\n\tfunction isArguments(object) {\n\t  return Object.prototype.toString.call(object) == '[object Arguments]';\n\t}\n\t\n\tfunction objEquiv(a, b, strict, actualVisitedObjects) {\n\t  if (a === null || a === undefined || b === null || b === undefined)\n\t    return false;\n\t  // if one is a primitive, the other must be same\n\t  if (util.isPrimitive(a) || util.isPrimitive(b))\n\t    return a === b;\n\t  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n\t    return false;\n\t  var aIsArgs = isArguments(a);\n\t  var bIsArgs = isArguments(b);\n\t  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n\t    return false;\n\t  if (aIsArgs) {\n\t    a = pSlice.call(a);\n\t    b = pSlice.call(b);\n\t    return _deepEqual(a, b, strict);\n\t  }\n\t  var ka = objectKeys(a);\n\t  var kb = objectKeys(b);\n\t  var key, i;\n\t  // having the same number of owned properties (keys incorporates\n\t  // hasOwnProperty)\n\t  if (ka.length !== kb.length)\n\t    return false;\n\t  //the same set of keys (although not necessarily the same order),\n\t  ka.sort();\n\t  kb.sort();\n\t  //~~~cheap key test\n\t  for (i = ka.length - 1; i >= 0; i--) {\n\t    if (ka[i] !== kb[i])\n\t      return false;\n\t  }\n\t  //equivalent values for every corresponding key, and\n\t  //~~~possibly expensive deep test\n\t  for (i = ka.length - 1; i >= 0; i--) {\n\t    key = ka[i];\n\t    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n\t      return false;\n\t  }\n\t  return true;\n\t}\n\t\n\t// 8. The non-equivalence assertion tests for any deep inequality.\n\t// assert.notDeepEqual(actual, expected, message_opt);\n\t\n\tassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n\t  if (_deepEqual(actual, expected, false)) {\n\t    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n\t  }\n\t};\n\t\n\tassert.notDeepStrictEqual = notDeepStrictEqual;\n\tfunction notDeepStrictEqual(actual, expected, message) {\n\t  if (_deepEqual(actual, expected, true)) {\n\t    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n\t  }\n\t}\n\t\n\t\n\t// 9. The strict equality assertion tests strict equality, as determined by ===.\n\t// assert.strictEqual(actual, expected, message_opt);\n\t\n\tassert.strictEqual = function strictEqual(actual, expected, message) {\n\t  if (actual !== expected) {\n\t    fail(actual, expected, message, '===', assert.strictEqual);\n\t  }\n\t};\n\t\n\t// 10. The strict non-equality assertion tests for strict inequality, as\n\t// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\t\n\tassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n\t  if (actual === expected) {\n\t    fail(actual, expected, message, '!==', assert.notStrictEqual);\n\t  }\n\t};\n\t\n\tfunction expectedException(actual, expected) {\n\t  if (!actual || !expected) {\n\t    return false;\n\t  }\n\t\n\t  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n\t    return expected.test(actual);\n\t  }\n\t\n\t  try {\n\t    if (actual instanceof expected) {\n\t      return true;\n\t    }\n\t  } catch (e) {\n\t    // Ignore.  The instanceof check doesn't work for arrow functions.\n\t  }\n\t\n\t  if (Error.isPrototypeOf(expected)) {\n\t    return false;\n\t  }\n\t\n\t  return expected.call({}, actual) === true;\n\t}\n\t\n\tfunction _tryBlock(block) {\n\t  var error;\n\t  try {\n\t    block();\n\t  } catch (e) {\n\t    error = e;\n\t  }\n\t  return error;\n\t}\n\t\n\tfunction _throws(shouldThrow, block, expected, message) {\n\t  var actual;\n\t\n\t  if (typeof block !== 'function') {\n\t    throw new TypeError('\"block\" argument must be a function');\n\t  }\n\t\n\t  if (typeof expected === 'string') {\n\t    message = expected;\n\t    expected = null;\n\t  }\n\t\n\t  actual = _tryBlock(block);\n\t\n\t  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n\t            (message ? ' ' + message : '.');\n\t\n\t  if (shouldThrow && !actual) {\n\t    fail(actual, expected, 'Missing expected exception' + message);\n\t  }\n\t\n\t  var userProvidedMessage = typeof message === 'string';\n\t  var isUnwantedException = !shouldThrow && util.isError(actual);\n\t  var isUnexpectedException = !shouldThrow && actual && !expected;\n\t\n\t  if ((isUnwantedException &&\n\t      userProvidedMessage &&\n\t      expectedException(actual, expected)) ||\n\t      isUnexpectedException) {\n\t    fail(actual, expected, 'Got unwanted exception' + message);\n\t  }\n\t\n\t  if ((shouldThrow && actual && expected &&\n\t      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n\t    throw actual;\n\t  }\n\t}\n\t\n\t// 11. Expected to throw an error:\n\t// assert.throws(block, Error_opt, message_opt);\n\t\n\tassert.throws = function(block, /*optional*/error, /*optional*/message) {\n\t  _throws(true, block, error, message);\n\t};\n\t\n\t// EXTENSION! This is annoying to write outside this module.\n\tassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n\t  _throws(false, block, error, message);\n\t};\n\t\n\tassert.ifError = function(err) { if (err) throw err; };\n\t\n\tvar objectKeys = Object.keys || function (obj) {\n\t  var keys = [];\n\t  for (var key in obj) {\n\t    if (hasOwn.call(obj, key)) keys.push(key);\n\t  }\n\t  return keys;\n\t};\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 81 */,\n/* 82 */,\n/* 83 */\n/*!*****************************************!*\\\n  !*** ./~/socket.io-client/lib/index.js ***!\n  \\*****************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/**\n\t * Module dependencies.\n\t */\n\t\n\tvar url = __webpack_require__(/*! ./url */ 87);\n\tvar parser = __webpack_require__(/*! socket.io-parser */ 98);\n\tvar Manager = __webpack_require__(/*! ./manager */ 88);\n\tvar debug = __webpack_require__(/*! debug */ 100)('socket.io-client');\n\t\n\t/**\n\t * Module exports.\n\t */\n\t\n\tmodule.exports = exports = lookup;\n\t\n\t/**\n\t * Managers cache.\n\t */\n\t\n\tvar cache = exports.managers = {};\n\t\n\t/**\n\t * Looks up an existing `Manager` for multiplexing.\n\t * If the user summons:\n\t *\n\t *   `io('http://localhost/a');`\n\t *   `io('http://localhost/b');`\n\t *\n\t * We reuse the existing instance based on same scheme/port/host,\n\t * and we initialize sockets for each namespace.\n\t *\n\t * @api public\n\t */\n\t\n\tfunction lookup (uri, opts) {\n\t  if (typeof uri === 'object') {\n\t    opts = uri;\n\t    uri = undefined;\n\t  }\n\t\n\t  opts = opts || {};\n\t\n\t  var parsed = url(uri);\n\t  var source = parsed.source;\n\t  var id = parsed.id;\n\t  var path = parsed.path;\n\t  var sameNamespace = cache[id] && path in cache[id].nsps;\n\t  var newConnection = opts.forceNew || opts['force new connection'] ||\n\t                      false === opts.multiplex || sameNamespace;\n\t\n\t  var io;\n\t\n\t  if (newConnection) {\n\t    debug('ignoring socket cache for %s', source);\n\t    io = Manager(source, opts);\n\t  } else {\n\t    if (!cache[id]) {\n\t      debug('new io instance for %s', source);\n\t      cache[id] = Manager(source, opts);\n\t    }\n\t    io = cache[id];\n\t  }\n\t  if (parsed.query && !opts.query) {\n\t    opts.query = parsed.query;\n\t  }\n\t  return io.socket(parsed.path, opts);\n\t}\n\t\n\t/**\n\t * Protocol version.\n\t *\n\t * @api public\n\t */\n\t\n\texports.protocol = parser.protocol;\n\t\n\t/**\n\t * `connect`.\n\t *\n\t * @param {String} uri\n\t * @api public\n\t */\n\t\n\texports.connect = lookup;\n\t\n\t/**\n\t * Expose constructors for standalone build.\n\t *\n\t * @api public\n\t */\n\t\n\texports.Manager = __webpack_require__(/*! ./manager */ 88);\n\texports.Socket = __webpack_require__(/*! ./socket */ 89);\n\n\n/***/ },\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */\n/*!***************************************!*\\\n  !*** ./~/socket.io-client/lib/url.js ***!\n  \\***************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\n\t/**\n\t * Module dependencies.\n\t */\n\t\n\tvar parseuri = __webpack_require__(/*! parseuri */ 101);\n\tvar debug = __webpack_require__(/*! debug */ 100)('socket.io-client:url');\n\t\n\t/**\n\t * Module exports.\n\t */\n\t\n\tmodule.exports = url;\n\t\n\t/**\n\t * URL parser.\n\t *\n\t * @param {String} url\n\t * @param {Object} An object meant to mimic window.location.\n\t *                 Defaults to window.location.\n\t * @api public\n\t */\n\t\n\tfunction url (uri, loc) {\n\t  var obj = uri;\n\t\n\t  // default to window.location\n\t  loc = loc || global.location;\n\t  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\t\n\t  // relative path support\n\t  if ('string' === typeof uri) {\n\t    if ('/' === uri.charAt(0)) {\n\t      if ('/' === uri.charAt(1)) {\n\t        uri = loc.protocol + uri;\n\t      } else {\n\t        uri = loc.host + uri;\n\t      }\n\t    }\n\t\n\t    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n\t      debug('protocol-less url %s', uri);\n\t      if ('undefined' !== typeof loc) {\n\t        uri = loc.protocol + '//' + uri;\n\t      } else {\n\t        uri = 'https://' + uri;\n\t      }\n\t    }\n\t\n\t    // parse\n\t    debug('parse %s', uri);\n\t    obj = parseuri(uri);\n\t  }\n\t\n\t  // make sure we treat `localhost:80` and `localhost` equally\n\t  if (!obj.port) {\n\t    if (/^(http|ws)$/.test(obj.protocol)) {\n\t      obj.port = '80';\n\t    } else if (/^(http|ws)s$/.test(obj.protocol)) {\n\t      obj.port = '443';\n\t    }\n\t  }\n\t\n\t  obj.path = obj.path || '/';\n\t\n\t  var ipv6 = obj.host.indexOf(':') !== -1;\n\t  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\t\n\t  // define unique id\n\t  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n\t  // define href\n\t  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));\n\t\n\t  return obj;\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 88 */\n/*!*******************************************!*\\\n  !*** ./~/socket.io-client/lib/manager.js ***!\n  \\*******************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/**\n\t * Module dependencies.\n\t */\n\t\n\tvar eio = __webpack_require__(/*! engine.io-client */ 102);\n\tvar Socket = __webpack_require__(/*! ./socket */ 89);\n\tvar Emitter = __webpack_require__(/*! component-emitter */ 103);\n\tvar parser = __webpack_require__(/*! socket.io-parser */ 98);\n\tvar on = __webpack_require__(/*! ./on */ 99);\n\tvar bind = __webpack_require__(/*! component-bind */ 104);\n\tvar debug = __webpack_require__(/*! debug */ 100)('socket.io-client:manager');\n\tvar indexOf = __webpack_require__(/*! indexof */ 105);\n\tvar Backoff = __webpack_require__(/*! backo2 */ 106);\n\t\n\t/**\n\t * IE6+ hasOwnProperty\n\t */\n\t\n\tvar has = Object.prototype.hasOwnProperty;\n\t\n\t/**\n\t * Module exports\n\t */\n\t\n\tmodule.exports = Manager;\n\t\n\t/**\n\t * `Manager` constructor.\n\t *\n\t * @param {String} engine instance or engine uri/opts\n\t * @param {Object} options\n\t * @api public\n\t */\n\t\n\tfunction Manager (uri, opts) {\n\t  if (!(this instanceof Manager)) return new Manager(uri, opts);\n\t  if (uri && ('object' === typeof uri)) {\n\t    opts = uri;\n\t    uri = undefined;\n\t  }\n\t  opts = opts || {};\n\t\n\t  opts.path = opts.path || '/socket.io';\n\t  this.nsps = {};\n\t  this.subs = [];\n\t  this.opts = opts;\n\t  this.reconnection(opts.reconnection !== false);\n\t  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n\t  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n\t  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n\t  this.randomizationFactor(opts.randomizationFactor || 0.5);\n\t  this.backoff = new Backoff({\n\t    min: this.reconnectionDelay(),\n\t    max: this.reconnectionDelayMax(),\n\t    jitter: this.randomizationFactor()\n\t  });\n\t  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n\t  this.readyState = 'closed';\n\t  this.uri = uri;\n\t  this.connecting = [];\n\t  this.lastPing = null;\n\t  this.encoding = false;\n\t  this.packetBuffer = [];\n\t  var _parser = opts.parser || parser;\n\t  this.encoder = new _parser.Encoder();\n\t  this.decoder = new _parser.Decoder();\n\t  this.autoConnect = opts.autoConnect !== false;\n\t  if (this.autoConnect) this.open();\n\t}\n\t\n\t/**\n\t * Propagate given event to sockets and emit on `this`\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.emitAll = function () {\n\t  this.emit.apply(this, arguments);\n\t  for (var nsp in this.nsps) {\n\t    if (has.call(this.nsps, nsp)) {\n\t      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Update `socket.id` of all sockets\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.updateSocketIds = function () {\n\t  for (var nsp in this.nsps) {\n\t    if (has.call(this.nsps, nsp)) {\n\t      this.nsps[nsp].id = this.generateId(nsp);\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * generate `socket.id` for the given `nsp`\n\t *\n\t * @param {String} nsp\n\t * @return {String}\n\t * @api private\n\t */\n\t\n\tManager.prototype.generateId = function (nsp) {\n\t  return (nsp === '/' ? '' : (nsp + '#')) + this.engine.id;\n\t};\n\t\n\t/**\n\t * Mix in `Emitter`.\n\t */\n\t\n\tEmitter(Manager.prototype);\n\t\n\t/**\n\t * Sets the `reconnection` config.\n\t *\n\t * @param {Boolean} true/false if it should automatically reconnect\n\t * @return {Manager} self or value\n\t * @api public\n\t */\n\t\n\tManager.prototype.reconnection = function (v) {\n\t  if (!arguments.length) return this._reconnection;\n\t  this._reconnection = !!v;\n\t  return this;\n\t};\n\t\n\t/**\n\t * Sets the reconnection attempts config.\n\t *\n\t * @param {Number} max reconnection attempts before giving up\n\t * @return {Manager} self or value\n\t * @api public\n\t */\n\t\n\tManager.prototype.reconnectionAttempts = function (v) {\n\t  if (!arguments.length) return this._reconnectionAttempts;\n\t  this._reconnectionAttempts = v;\n\t  return this;\n\t};\n\t\n\t/**\n\t * Sets the delay between reconnections.\n\t *\n\t * @param {Number} delay\n\t * @return {Manager} self or value\n\t * @api public\n\t */\n\t\n\tManager.prototype.reconnectionDelay = function (v) {\n\t  if (!arguments.length) return this._reconnectionDelay;\n\t  this._reconnectionDelay = v;\n\t  this.backoff && this.backoff.setMin(v);\n\t  return this;\n\t};\n\t\n\tManager.prototype.randomizationFactor = function (v) {\n\t  if (!arguments.length) return this._randomizationFactor;\n\t  this._randomizationFactor = v;\n\t  this.backoff && this.backoff.setJitter(v);\n\t  return this;\n\t};\n\t\n\t/**\n\t * Sets the maximum delay between reconnections.\n\t *\n\t * @param {Number} delay\n\t * @return {Manager} self or value\n\t * @api public\n\t */\n\t\n\tManager.prototype.reconnectionDelayMax = function (v) {\n\t  if (!arguments.length) return this._reconnectionDelayMax;\n\t  this._reconnectionDelayMax = v;\n\t  this.backoff && this.backoff.setMax(v);\n\t  return this;\n\t};\n\t\n\t/**\n\t * Sets the connection timeout. `false` to disable\n\t *\n\t * @return {Manager} self or value\n\t * @api public\n\t */\n\t\n\tManager.prototype.timeout = function (v) {\n\t  if (!arguments.length) return this._timeout;\n\t  this._timeout = v;\n\t  return this;\n\t};\n\t\n\t/**\n\t * Starts trying to reconnect if reconnection is enabled and we have not\n\t * started reconnecting yet\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.maybeReconnectOnOpen = function () {\n\t  // Only try to reconnect if it's the first time we're connecting\n\t  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n\t    // keeps reconnection from firing twice for the same reconnection loop\n\t    this.reconnect();\n\t  }\n\t};\n\t\n\t/**\n\t * Sets the current transport `socket`.\n\t *\n\t * @param {Function} optional, callback\n\t * @return {Manager} self\n\t * @api public\n\t */\n\t\n\tManager.prototype.open =\n\tManager.prototype.connect = function (fn, opts) {\n\t  debug('readyState %s', this.readyState);\n\t  if (~this.readyState.indexOf('open')) return this;\n\t\n\t  debug('opening %s', this.uri);\n\t  this.engine = eio(this.uri, this.opts);\n\t  var socket = this.engine;\n\t  var self = this;\n\t  this.readyState = 'opening';\n\t  this.skipReconnect = false;\n\t\n\t  // emit `open`\n\t  var openSub = on(socket, 'open', function () {\n\t    self.onopen();\n\t    fn && fn();\n\t  });\n\t\n\t  // emit `connect_error`\n\t  var errorSub = on(socket, 'error', function (data) {\n\t    debug('connect_error');\n\t    self.cleanup();\n\t    self.readyState = 'closed';\n\t    self.emitAll('connect_error', data);\n\t    if (fn) {\n\t      var err = new Error('Connection error');\n\t      err.data = data;\n\t      fn(err);\n\t    } else {\n\t      // Only do this if there is no fn to handle the error\n\t      self.maybeReconnectOnOpen();\n\t    }\n\t  });\n\t\n\t  // emit `connect_timeout`\n\t  if (false !== this._timeout) {\n\t    var timeout = this._timeout;\n\t    debug('connect attempt will timeout after %d', timeout);\n\t\n\t    // set timer\n\t    var timer = setTimeout(function () {\n\t      debug('connect attempt timed out after %d', timeout);\n\t      openSub.destroy();\n\t      socket.close();\n\t      socket.emit('error', 'timeout');\n\t      self.emitAll('connect_timeout', timeout);\n\t    }, timeout);\n\t\n\t    this.subs.push({\n\t      destroy: function () {\n\t        clearTimeout(timer);\n\t      }\n\t    });\n\t  }\n\t\n\t  this.subs.push(openSub);\n\t  this.subs.push(errorSub);\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Called upon transport open.\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.onopen = function () {\n\t  debug('open');\n\t\n\t  // clear old subs\n\t  this.cleanup();\n\t\n\t  // mark as open\n\t  this.readyState = 'open';\n\t  this.emit('open');\n\t\n\t  // add new subs\n\t  var socket = this.engine;\n\t  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n\t  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n\t  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n\t  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n\t  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n\t  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n\t};\n\t\n\t/**\n\t * Called upon a ping.\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.onping = function () {\n\t  this.lastPing = new Date();\n\t  this.emitAll('ping');\n\t};\n\t\n\t/**\n\t * Called upon a packet.\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.onpong = function () {\n\t  this.emitAll('pong', new Date() - this.lastPing);\n\t};\n\t\n\t/**\n\t * Called with data.\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.ondata = function (data) {\n\t  this.decoder.add(data);\n\t};\n\t\n\t/**\n\t * Called when parser fully decodes a packet.\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.ondecoded = function (packet) {\n\t  this.emit('packet', packet);\n\t};\n\t\n\t/**\n\t * Called upon socket error.\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.onerror = function (err) {\n\t  debug('error', err);\n\t  this.emitAll('error', err);\n\t};\n\t\n\t/**\n\t * Creates a new socket for the given `nsp`.\n\t *\n\t * @return {Socket}\n\t * @api public\n\t */\n\t\n\tManager.prototype.socket = function (nsp, opts) {\n\t  var socket = this.nsps[nsp];\n\t  if (!socket) {\n\t    socket = new Socket(this, nsp, opts);\n\t    this.nsps[nsp] = socket;\n\t    var self = this;\n\t    socket.on('connecting', onConnecting);\n\t    socket.on('connect', function () {\n\t      socket.id = self.generateId(nsp);\n\t    });\n\t\n\t    if (this.autoConnect) {\n\t      // manually call here since connecting event is fired before listening\n\t      onConnecting();\n\t    }\n\t  }\n\t\n\t  function onConnecting () {\n\t    if (!~indexOf(self.connecting, socket)) {\n\t      self.connecting.push(socket);\n\t    }\n\t  }\n\t\n\t  return socket;\n\t};\n\t\n\t/**\n\t * Called upon a socket close.\n\t *\n\t * @param {Socket} socket\n\t */\n\t\n\tManager.prototype.destroy = function (socket) {\n\t  var index = indexOf(this.connecting, socket);\n\t  if (~index) this.connecting.splice(index, 1);\n\t  if (this.connecting.length) return;\n\t\n\t  this.close();\n\t};\n\t\n\t/**\n\t * Writes a packet.\n\t *\n\t * @param {Object} packet\n\t * @api private\n\t */\n\t\n\tManager.prototype.packet = function (packet) {\n\t  debug('writing packet %j', packet);\n\t  var self = this;\n\t  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;\n\t\n\t  if (!self.encoding) {\n\t    // encode, then write to engine with result\n\t    self.encoding = true;\n\t    this.encoder.encode(packet, function (encodedPackets) {\n\t      for (var i = 0; i < encodedPackets.length; i++) {\n\t        self.engine.write(encodedPackets[i], packet.options);\n\t      }\n\t      self.encoding = false;\n\t      self.processPacketQueue();\n\t    });\n\t  } else { // add packet to the queue\n\t    self.packetBuffer.push(packet);\n\t  }\n\t};\n\t\n\t/**\n\t * If packet buffer is non-empty, begins encoding the\n\t * next packet in line.\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.processPacketQueue = function () {\n\t  if (this.packetBuffer.length > 0 && !this.encoding) {\n\t    var pack = this.packetBuffer.shift();\n\t    this.packet(pack);\n\t  }\n\t};\n\t\n\t/**\n\t * Clean up transport subscriptions and packet buffer.\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.cleanup = function () {\n\t  debug('cleanup');\n\t\n\t  var subsLength = this.subs.length;\n\t  for (var i = 0; i < subsLength; i++) {\n\t    var sub = this.subs.shift();\n\t    sub.destroy();\n\t  }\n\t\n\t  this.packetBuffer = [];\n\t  this.encoding = false;\n\t  this.lastPing = null;\n\t\n\t  this.decoder.destroy();\n\t};\n\t\n\t/**\n\t * Close the current socket.\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.close =\n\tManager.prototype.disconnect = function () {\n\t  debug('disconnect');\n\t  this.skipReconnect = true;\n\t  this.reconnecting = false;\n\t  if ('opening' === this.readyState) {\n\t    // `onclose` will not fire because\n\t    // an open event never happened\n\t    this.cleanup();\n\t  }\n\t  this.backoff.reset();\n\t  this.readyState = 'closed';\n\t  if (this.engine) this.engine.close();\n\t};\n\t\n\t/**\n\t * Called upon engine close.\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.onclose = function (reason) {\n\t  debug('onclose');\n\t\n\t  this.cleanup();\n\t  this.backoff.reset();\n\t  this.readyState = 'closed';\n\t  this.emit('close', reason);\n\t\n\t  if (this._reconnection && !this.skipReconnect) {\n\t    this.reconnect();\n\t  }\n\t};\n\t\n\t/**\n\t * Attempt a reconnection.\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.reconnect = function () {\n\t  if (this.reconnecting || this.skipReconnect) return this;\n\t\n\t  var self = this;\n\t\n\t  if (this.backoff.attempts >= this._reconnectionAttempts) {\n\t    debug('reconnect failed');\n\t    this.backoff.reset();\n\t    this.emitAll('reconnect_failed');\n\t    this.reconnecting = false;\n\t  } else {\n\t    var delay = this.backoff.duration();\n\t    debug('will wait %dms before reconnect attempt', delay);\n\t\n\t    this.reconnecting = true;\n\t    var timer = setTimeout(function () {\n\t      if (self.skipReconnect) return;\n\t\n\t      debug('attempting reconnect');\n\t      self.emitAll('reconnect_attempt', self.backoff.attempts);\n\t      self.emitAll('reconnecting', self.backoff.attempts);\n\t\n\t      // check again for the case socket closed in above events\n\t      if (self.skipReconnect) return;\n\t\n\t      self.open(function (err) {\n\t        if (err) {\n\t          debug('reconnect attempt error');\n\t          self.reconnecting = false;\n\t          self.reconnect();\n\t          self.emitAll('reconnect_error', err.data);\n\t        } else {\n\t          debug('reconnect success');\n\t          self.onreconnect();\n\t        }\n\t      });\n\t    }, delay);\n\t\n\t    this.subs.push({\n\t      destroy: function () {\n\t        clearTimeout(timer);\n\t      }\n\t    });\n\t  }\n\t};\n\t\n\t/**\n\t * Called upon successful reconnect.\n\t *\n\t * @api private\n\t */\n\t\n\tManager.prototype.onreconnect = function () {\n\t  var attempt = this.backoff.attempts;\n\t  this.reconnecting = false;\n\t  this.backoff.reset();\n\t  this.updateSocketIds();\n\t  this.emitAll('reconnect', attempt);\n\t};\n\n\n/***/ },\n/* 89 */\n/*!******************************************!*\\\n  !*** ./~/socket.io-client/lib/socket.js ***!\n  \\******************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/**\n\t * Module dependencies.\n\t */\n\t\n\tvar parser = __webpack_require__(/*! socket.io-parser */ 98);\n\tvar Emitter = __webpack_require__(/*! component-emitter */ 103);\n\tvar toArray = __webpack_require__(/*! to-array */ 107);\n\tvar on = __webpack_require__(/*! ./on */ 99);\n\tvar bind = __webpack_require__(/*! component-bind */ 104);\n\tvar debug = __webpack_require__(/*! debug */ 100)('socket.io-client:socket');\n\tvar parseqs = __webpack_require__(/*! parseqs */ 108);\n\t\n\t/**\n\t * Module exports.\n\t */\n\t\n\tmodule.exports = exports = Socket;\n\t\n\t/**\n\t * Internal events (blacklisted).\n\t * These events can't be emitted by the user.\n\t *\n\t * @api private\n\t */\n\t\n\tvar events = {\n\t  connect: 1,\n\t  connect_error: 1,\n\t  connect_timeout: 1,\n\t  connecting: 1,\n\t  disconnect: 1,\n\t  error: 1,\n\t  reconnect: 1,\n\t  reconnect_attempt: 1,\n\t  reconnect_failed: 1,\n\t  reconnect_error: 1,\n\t  reconnecting: 1,\n\t  ping: 1,\n\t  pong: 1\n\t};\n\t\n\t/**\n\t * Shortcut to `Emitter#emit`.\n\t */\n\t\n\tvar emit = Emitter.prototype.emit;\n\t\n\t/**\n\t * `Socket` constructor.\n\t *\n\t * @api public\n\t */\n\t\n\tfunction Socket (io, nsp, opts) {\n\t  this.io = io;\n\t  this.nsp = nsp;\n\t  this.json = this; // compat\n\t  this.ids = 0;\n\t  this.acks = {};\n\t  this.receiveBuffer = [];\n\t  this.sendBuffer = [];\n\t  this.connected = false;\n\t  this.disconnected = true;\n\t  if (opts && opts.query) {\n\t    this.query = opts.query;\n\t  }\n\t  if (this.io.autoConnect) this.open();\n\t}\n\t\n\t/**\n\t * Mix in `Emitter`.\n\t */\n\t\n\tEmitter(Socket.prototype);\n\t\n\t/**\n\t * Subscribe to open, close and packet events\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.subEvents = function () {\n\t  if (this.subs) return;\n\t\n\t  var io = this.io;\n\t  this.subs = [\n\t    on(io, 'open', bind(this, 'onopen')),\n\t    on(io, 'packet', bind(this, 'onpacket')),\n\t    on(io, 'close', bind(this, 'onclose'))\n\t  ];\n\t};\n\t\n\t/**\n\t * \"Opens\" the socket.\n\t *\n\t * @api public\n\t */\n\t\n\tSocket.prototype.open =\n\tSocket.prototype.connect = function () {\n\t  if (this.connected) return this;\n\t\n\t  this.subEvents();\n\t  this.io.open(); // ensure open\n\t  if ('open' === this.io.readyState) this.onopen();\n\t  this.emit('connecting');\n\t  return this;\n\t};\n\t\n\t/**\n\t * Sends a `message` event.\n\t *\n\t * @return {Socket} self\n\t * @api public\n\t */\n\t\n\tSocket.prototype.send = function () {\n\t  var args = toArray(arguments);\n\t  args.unshift('message');\n\t  this.emit.apply(this, args);\n\t  return this;\n\t};\n\t\n\t/**\n\t * Override `emit`.\n\t * If the event is in `events`, it's emitted normally.\n\t *\n\t * @param {String} event name\n\t * @return {Socket} self\n\t * @api public\n\t */\n\t\n\tSocket.prototype.emit = function (ev) {\n\t  if (events.hasOwnProperty(ev)) {\n\t    emit.apply(this, arguments);\n\t    return this;\n\t  }\n\t\n\t  var args = toArray(arguments);\n\t  var packet = { type: parser.EVENT, data: args };\n\t\n\t  packet.options = {};\n\t  packet.options.compress = !this.flags || false !== this.flags.compress;\n\t\n\t  // event ack callback\n\t  if ('function' === typeof args[args.length - 1]) {\n\t    debug('emitting packet with ack id %d', this.ids);\n\t    this.acks[this.ids] = args.pop();\n\t    packet.id = this.ids++;\n\t  }\n\t\n\t  if (this.connected) {\n\t    this.packet(packet);\n\t  } else {\n\t    this.sendBuffer.push(packet);\n\t  }\n\t\n\t  delete this.flags;\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Sends a packet.\n\t *\n\t * @param {Object} packet\n\t * @api private\n\t */\n\t\n\tSocket.prototype.packet = function (packet) {\n\t  packet.nsp = this.nsp;\n\t  this.io.packet(packet);\n\t};\n\t\n\t/**\n\t * Called upon engine `open`.\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.onopen = function () {\n\t  debug('transport is open - connecting');\n\t\n\t  // write connect packet if necessary\n\t  if ('/' !== this.nsp) {\n\t    if (this.query) {\n\t      var query = typeof this.query === 'object' ? parseqs.encode(this.query) : this.query;\n\t      debug('sending connect packet with query %s', query);\n\t      this.packet({type: parser.CONNECT, query: query});\n\t    } else {\n\t      this.packet({type: parser.CONNECT});\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Called upon engine `close`.\n\t *\n\t * @param {String} reason\n\t * @api private\n\t */\n\t\n\tSocket.prototype.onclose = function (reason) {\n\t  debug('close (%s)', reason);\n\t  this.connected = false;\n\t  this.disconnected = true;\n\t  delete this.id;\n\t  this.emit('disconnect', reason);\n\t};\n\t\n\t/**\n\t * Called with socket packet.\n\t *\n\t * @param {Object} packet\n\t * @api private\n\t */\n\t\n\tSocket.prototype.onpacket = function (packet) {\n\t  if (packet.nsp !== this.nsp) return;\n\t\n\t  switch (packet.type) {\n\t    case parser.CONNECT:\n\t      this.onconnect();\n\t      break;\n\t\n\t    case parser.EVENT:\n\t      this.onevent(packet);\n\t      break;\n\t\n\t    case parser.BINARY_EVENT:\n\t      this.onevent(packet);\n\t      break;\n\t\n\t    case parser.ACK:\n\t      this.onack(packet);\n\t      break;\n\t\n\t    case parser.BINARY_ACK:\n\t      this.onack(packet);\n\t      break;\n\t\n\t    case parser.DISCONNECT:\n\t      this.ondisconnect();\n\t      break;\n\t\n\t    case parser.ERROR:\n\t      this.emit('error', packet.data);\n\t      break;\n\t  }\n\t};\n\t\n\t/**\n\t * Called upon a server event.\n\t *\n\t * @param {Object} packet\n\t * @api private\n\t */\n\t\n\tSocket.prototype.onevent = function (packet) {\n\t  var args = packet.data || [];\n\t  debug('emitting event %j', args);\n\t\n\t  if (null != packet.id) {\n\t    debug('attaching ack callback to event');\n\t    args.push(this.ack(packet.id));\n\t  }\n\t\n\t  if (this.connected) {\n\t    emit.apply(this, args);\n\t  } else {\n\t    this.receiveBuffer.push(args);\n\t  }\n\t};\n\t\n\t/**\n\t * Produces an ack callback to emit with an event.\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.ack = function (id) {\n\t  var self = this;\n\t  var sent = false;\n\t  return function () {\n\t    // prevent double callbacks\n\t    if (sent) return;\n\t    sent = true;\n\t    var args = toArray(arguments);\n\t    debug('sending ack %j', args);\n\t\n\t    self.packet({\n\t      type: parser.ACK,\n\t      id: id,\n\t      data: args\n\t    });\n\t  };\n\t};\n\t\n\t/**\n\t * Called upon a server acknowlegement.\n\t *\n\t * @param {Object} packet\n\t * @api private\n\t */\n\t\n\tSocket.prototype.onack = function (packet) {\n\t  var ack = this.acks[packet.id];\n\t  if ('function' === typeof ack) {\n\t    debug('calling ack %s with %j', packet.id, packet.data);\n\t    ack.apply(this, packet.data);\n\t    delete this.acks[packet.id];\n\t  } else {\n\t    debug('bad ack %s', packet.id);\n\t  }\n\t};\n\t\n\t/**\n\t * Called upon server connect.\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.onconnect = function () {\n\t  this.connected = true;\n\t  this.disconnected = false;\n\t  this.emit('connect');\n\t  this.emitBuffered();\n\t};\n\t\n\t/**\n\t * Emit buffered events (received and emitted).\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.emitBuffered = function () {\n\t  var i;\n\t  for (i = 0; i < this.receiveBuffer.length; i++) {\n\t    emit.apply(this, this.receiveBuffer[i]);\n\t  }\n\t  this.receiveBuffer = [];\n\t\n\t  for (i = 0; i < this.sendBuffer.length; i++) {\n\t    this.packet(this.sendBuffer[i]);\n\t  }\n\t  this.sendBuffer = [];\n\t};\n\t\n\t/**\n\t * Called upon server disconnect.\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.ondisconnect = function () {\n\t  debug('server disconnect (%s)', this.nsp);\n\t  this.destroy();\n\t  this.onclose('io server disconnect');\n\t};\n\t\n\t/**\n\t * Called upon forced client/server side disconnections,\n\t * this method ensures the manager stops tracking us and\n\t * that reconnections don't get triggered for this.\n\t *\n\t * @api private.\n\t */\n\t\n\tSocket.prototype.destroy = function () {\n\t  if (this.subs) {\n\t    // clean subscriptions to avoid reconnections\n\t    for (var i = 0; i < this.subs.length; i++) {\n\t      this.subs[i].destroy();\n\t    }\n\t    this.subs = null;\n\t  }\n\t\n\t  this.io.destroy(this);\n\t};\n\t\n\t/**\n\t * Disconnects the socket manually.\n\t *\n\t * @return {Socket} self\n\t * @api public\n\t */\n\t\n\tSocket.prototype.close =\n\tSocket.prototype.disconnect = function () {\n\t  if (this.connected) {\n\t    debug('performing disconnect (%s)', this.nsp);\n\t    this.packet({ type: parser.DISCONNECT });\n\t  }\n\t\n\t  // remove socket from pool\n\t  this.destroy();\n\t\n\t  if (this.connected) {\n\t    // fire events\n\t    this.onclose('io client disconnect');\n\t  }\n\t  return this;\n\t};\n\t\n\t/**\n\t * Sets the compress flag.\n\t *\n\t * @param {Boolean} if `true`, compresses the sending data\n\t * @return {Socket} self\n\t * @api public\n\t */\n\t\n\tSocket.prototype.compress = function (compress) {\n\t  this.flags = this.flags || {};\n\t  this.flags.compress = compress;\n\t  return this;\n\t};\n\n\n/***/ },\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */\n/*!********************************************************!*\\\n  !*** ./~/socket.io-client/~/socket.io-parser/index.js ***!\n  \\********************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/**\n\t * Module dependencies.\n\t */\n\t\n\tvar debug = __webpack_require__(/*! debug */ 100)('socket.io-parser');\n\tvar Emitter = __webpack_require__(/*! component-emitter */ 103);\n\tvar hasBin = __webpack_require__(/*! has-binary2 */ 118);\n\tvar binary = __webpack_require__(/*! ./binary */ 114);\n\tvar isBuf = __webpack_require__(/*! ./is-buffer */ 115);\n\t\n\t/**\n\t * Protocol version.\n\t *\n\t * @api public\n\t */\n\t\n\texports.protocol = 4;\n\t\n\t/**\n\t * Packet types.\n\t *\n\t * @api public\n\t */\n\t\n\texports.types = [\n\t  'CONNECT',\n\t  'DISCONNECT',\n\t  'EVENT',\n\t  'ACK',\n\t  'ERROR',\n\t  'BINARY_EVENT',\n\t  'BINARY_ACK'\n\t];\n\t\n\t/**\n\t * Packet type `connect`.\n\t *\n\t * @api public\n\t */\n\t\n\texports.CONNECT = 0;\n\t\n\t/**\n\t * Packet type `disconnect`.\n\t *\n\t * @api public\n\t */\n\t\n\texports.DISCONNECT = 1;\n\t\n\t/**\n\t * Packet type `event`.\n\t *\n\t * @api public\n\t */\n\t\n\texports.EVENT = 2;\n\t\n\t/**\n\t * Packet type `ack`.\n\t *\n\t * @api public\n\t */\n\t\n\texports.ACK = 3;\n\t\n\t/**\n\t * Packet type `error`.\n\t *\n\t * @api public\n\t */\n\t\n\texports.ERROR = 4;\n\t\n\t/**\n\t * Packet type 'binary event'\n\t *\n\t * @api public\n\t */\n\t\n\texports.BINARY_EVENT = 5;\n\t\n\t/**\n\t * Packet type `binary ack`. For acks with binary arguments.\n\t *\n\t * @api public\n\t */\n\t\n\texports.BINARY_ACK = 6;\n\t\n\t/**\n\t * Encoder constructor.\n\t *\n\t * @api public\n\t */\n\t\n\texports.Encoder = Encoder;\n\t\n\t/**\n\t * Decoder constructor.\n\t *\n\t * @api public\n\t */\n\t\n\texports.Decoder = Decoder;\n\t\n\t/**\n\t * A socket.io Encoder instance\n\t *\n\t * @api public\n\t */\n\t\n\tfunction Encoder() {}\n\t\n\t/**\n\t * Encode a packet as a single string if non-binary, or as a\n\t * buffer sequence, depending on packet type.\n\t *\n\t * @param {Object} obj - packet object\n\t * @param {Function} callback - function to handle encodings (likely engine.write)\n\t * @return Calls callback with Array of encodings\n\t * @api public\n\t */\n\t\n\tEncoder.prototype.encode = function(obj, callback){\n\t  if ((obj.type === exports.EVENT || obj.type === exports.ACK) && hasBin(obj.data)) {\n\t    obj.type = obj.type === exports.EVENT ? exports.BINARY_EVENT : exports.BINARY_ACK;\n\t  }\n\t\n\t  debug('encoding packet %j', obj);\n\t\n\t  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n\t    encodeAsBinary(obj, callback);\n\t  }\n\t  else {\n\t    var encoding = encodeAsString(obj);\n\t    callback([encoding]);\n\t  }\n\t};\n\t\n\t/**\n\t * Encode packet as string.\n\t *\n\t * @param {Object} packet\n\t * @return {String} encoded\n\t * @api private\n\t */\n\t\n\tfunction encodeAsString(obj) {\n\t\n\t  // first is type\n\t  var str = '' + obj.type;\n\t\n\t  // attachments if we have them\n\t  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n\t    str += obj.attachments + '-';\n\t  }\n\t\n\t  // if we have a namespace other than `/`\n\t  // we append it followed by a comma `,`\n\t  if (obj.nsp && '/' !== obj.nsp) {\n\t    str += obj.nsp + ',';\n\t  }\n\t\n\t  // immediately followed by the id\n\t  if (null != obj.id) {\n\t    str += obj.id;\n\t  }\n\t\n\t  // json data\n\t  if (null != obj.data) {\n\t    str += JSON.stringify(obj.data);\n\t  }\n\t\n\t  debug('encoded %j as %s', obj, str);\n\t  return str;\n\t}\n\t\n\t/**\n\t * Encode packet as 'buffer sequence' by removing blobs, and\n\t * deconstructing packet into object with placeholders and\n\t * a list of buffers.\n\t *\n\t * @param {Object} packet\n\t * @return {Buffer} encoded\n\t * @api private\n\t */\n\t\n\tfunction encodeAsBinary(obj, callback) {\n\t\n\t  function writeEncoding(bloblessData) {\n\t    var deconstruction = binary.deconstructPacket(bloblessData);\n\t    var pack = encodeAsString(deconstruction.packet);\n\t    var buffers = deconstruction.buffers;\n\t\n\t    buffers.unshift(pack); // add packet info to beginning of data list\n\t    callback(buffers); // write all the buffers\n\t  }\n\t\n\t  binary.removeBlobs(obj, writeEncoding);\n\t}\n\t\n\t/**\n\t * A socket.io Decoder instance\n\t *\n\t * @return {Object} decoder\n\t * @api public\n\t */\n\t\n\tfunction Decoder() {\n\t  this.reconstructor = null;\n\t}\n\t\n\t/**\n\t * Mix in `Emitter` with Decoder.\n\t */\n\t\n\tEmitter(Decoder.prototype);\n\t\n\t/**\n\t * Decodes an ecoded packet string into packet JSON.\n\t *\n\t * @param {String} obj - encoded packet\n\t * @return {Object} packet\n\t * @api public\n\t */\n\t\n\tDecoder.prototype.add = function(obj) {\n\t  var packet;\n\t  if (typeof obj === 'string') {\n\t    packet = decodeString(obj);\n\t    if (exports.BINARY_EVENT === packet.type || exports.BINARY_ACK === packet.type) { // binary packet's json\n\t      this.reconstructor = new BinaryReconstructor(packet);\n\t\n\t      // no attachments, labeled binary but no binary data to follow\n\t      if (this.reconstructor.reconPack.attachments === 0) {\n\t        this.emit('decoded', packet);\n\t      }\n\t    } else { // non-binary full packet\n\t      this.emit('decoded', packet);\n\t    }\n\t  }\n\t  else if (isBuf(obj) || obj.base64) { // raw binary data\n\t    if (!this.reconstructor) {\n\t      throw new Error('got binary data when not reconstructing a packet');\n\t    } else {\n\t      packet = this.reconstructor.takeBinaryData(obj);\n\t      if (packet) { // received final buffer\n\t        this.reconstructor = null;\n\t        this.emit('decoded', packet);\n\t      }\n\t    }\n\t  }\n\t  else {\n\t    throw new Error('Unknown type: ' + obj);\n\t  }\n\t};\n\t\n\t/**\n\t * Decode a packet String (JSON data)\n\t *\n\t * @param {String} str\n\t * @return {Object} packet\n\t * @api private\n\t */\n\t\n\tfunction decodeString(str) {\n\t  var i = 0;\n\t  // look up type\n\t  var p = {\n\t    type: Number(str.charAt(0))\n\t  };\n\t\n\t  if (null == exports.types[p.type]) return error();\n\t\n\t  // look up attachments if type binary\n\t  if (exports.BINARY_EVENT === p.type || exports.BINARY_ACK === p.type) {\n\t    var buf = '';\n\t    while (str.charAt(++i) !== '-') {\n\t      buf += str.charAt(i);\n\t      if (i == str.length) break;\n\t    }\n\t    if (buf != Number(buf) || str.charAt(i) !== '-') {\n\t      throw new Error('Illegal attachments');\n\t    }\n\t    p.attachments = Number(buf);\n\t  }\n\t\n\t  // look up namespace (if any)\n\t  if ('/' === str.charAt(i + 1)) {\n\t    p.nsp = '';\n\t    while (++i) {\n\t      var c = str.charAt(i);\n\t      if (',' === c) break;\n\t      p.nsp += c;\n\t      if (i === str.length) break;\n\t    }\n\t  } else {\n\t    p.nsp = '/';\n\t  }\n\t\n\t  // look up id\n\t  var next = str.charAt(i + 1);\n\t  if ('' !== next && Number(next) == next) {\n\t    p.id = '';\n\t    while (++i) {\n\t      var c = str.charAt(i);\n\t      if (null == c || Number(c) != c) {\n\t        --i;\n\t        break;\n\t      }\n\t      p.id += str.charAt(i);\n\t      if (i === str.length) break;\n\t    }\n\t    p.id = Number(p.id);\n\t  }\n\t\n\t  // look up json data\n\t  if (str.charAt(++i)) {\n\t    p = tryParse(p, str.substr(i));\n\t  }\n\t\n\t  debug('decoded %s as %j', str, p);\n\t  return p;\n\t}\n\t\n\tfunction tryParse(p, str) {\n\t  try {\n\t    p.data = JSON.parse(str);\n\t  } catch(e){\n\t    return error();\n\t  }\n\t  return p; \n\t}\n\t\n\t/**\n\t * Deallocates a parser's resources\n\t *\n\t * @api public\n\t */\n\t\n\tDecoder.prototype.destroy = function() {\n\t  if (this.reconstructor) {\n\t    this.reconstructor.finishedReconstruction();\n\t  }\n\t};\n\t\n\t/**\n\t * A manager of a binary event's 'buffer sequence'. Should\n\t * be constructed whenever a packet of type BINARY_EVENT is\n\t * decoded.\n\t *\n\t * @param {Object} packet\n\t * @return {BinaryReconstructor} initialized reconstructor\n\t * @api private\n\t */\n\t\n\tfunction BinaryReconstructor(packet) {\n\t  this.reconPack = packet;\n\t  this.buffers = [];\n\t}\n\t\n\t/**\n\t * Method to be called when binary data received from connection\n\t * after a BINARY_EVENT packet.\n\t *\n\t * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n\t * @return {null | Object} returns null if more binary data is expected or\n\t *   a reconstructed packet object if all buffers have been received.\n\t * @api private\n\t */\n\t\n\tBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n\t  this.buffers.push(binData);\n\t  if (this.buffers.length === this.reconPack.attachments) { // done with buffer list\n\t    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n\t    this.finishedReconstruction();\n\t    return packet;\n\t  }\n\t  return null;\n\t};\n\t\n\t/**\n\t * Cleans up binary packet reconstruction variables.\n\t *\n\t * @api private\n\t */\n\t\n\tBinaryReconstructor.prototype.finishedReconstruction = function() {\n\t  this.reconPack = null;\n\t  this.buffers = [];\n\t};\n\t\n\tfunction error() {\n\t  return {\n\t    type: exports.ERROR,\n\t    data: 'parser error'\n\t  };\n\t}\n\n\n/***/ },\n/* 99 */\n/*!**************************************!*\\\n  !*** ./~/socket.io-client/lib/on.js ***!\n  \\**************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/**\n\t * Module exports.\n\t */\n\t\n\tmodule.exports = on;\n\t\n\t/**\n\t * Helper for subscriptions.\n\t *\n\t * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n\t * @param {String} event name\n\t * @param {Function} callback\n\t * @api public\n\t */\n\t\n\tfunction on (obj, ev, fn) {\n\t  obj.on(ev, fn);\n\t  return {\n\t    destroy: function () {\n\t      obj.removeListener(ev, fn);\n\t    }\n\t  };\n\t}\n\n\n/***/ },\n/* 100 */\n/*!***************************************************!*\\\n  !*** ./~/socket.io-client/~/debug/src/browser.js ***!\n  \\***************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {/**\n\t * This is the web browser implementation of `debug()`.\n\t *\n\t * Expose `debug()` as the module.\n\t */\n\t\n\texports = module.exports = __webpack_require__(/*! ./debug */ 116);\n\texports.log = log;\n\texports.formatArgs = formatArgs;\n\texports.save = save;\n\texports.load = load;\n\texports.useColors = useColors;\n\texports.storage = 'undefined' != typeof chrome\n\t               && 'undefined' != typeof chrome.storage\n\t                  ? chrome.storage.local\n\t                  : localstorage();\n\t\n\t/**\n\t * Colors.\n\t */\n\t\n\texports.colors = [\n\t  'lightseagreen',\n\t  'forestgreen',\n\t  'goldenrod',\n\t  'dodgerblue',\n\t  'darkorchid',\n\t  'crimson'\n\t];\n\t\n\t/**\n\t * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n\t * and the Firebug extension (any Firefox version) are known\n\t * to support \"%c\" CSS customizations.\n\t *\n\t * TODO: add a `localStorage` variable to explicitly enable/disable colors\n\t */\n\t\n\tfunction useColors() {\n\t  // NB: In an Electron preload script, document will be defined but not fully\n\t  // initialized. Since we know we're in Chrome, we'll just detect this case\n\t  // explicitly\n\t  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n\t    return true;\n\t  }\n\t\n\t  // is webkit? http://stackoverflow.com/a/16459606/376773\n\t  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t    // is firebug? http://stackoverflow.com/a/398120/376773\n\t    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t    // is firefox >= v31?\n\t    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t    // double check webkit in userAgent just in case we are in a worker\n\t    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n\t}\n\t\n\t/**\n\t * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n\t */\n\t\n\texports.formatters.j = function(v) {\n\t  try {\n\t    return JSON.stringify(v);\n\t  } catch (err) {\n\t    return '[UnexpectedJSONParseError]: ' + err.message;\n\t  }\n\t};\n\t\n\t\n\t/**\n\t * Colorize log arguments if enabled.\n\t *\n\t * @api public\n\t */\n\t\n\tfunction formatArgs(args) {\n\t  var useColors = this.useColors;\n\t\n\t  args[0] = (useColors ? '%c' : '')\n\t    + this.namespace\n\t    + (useColors ? ' %c' : ' ')\n\t    + args[0]\n\t    + (useColors ? '%c ' : ' ')\n\t    + '+' + exports.humanize(this.diff);\n\t\n\t  if (!useColors) return;\n\t\n\t  var c = 'color: ' + this.color;\n\t  args.splice(1, 0, c, 'color: inherit')\n\t\n\t  // the final \"%c\" is somewhat tricky, because there could be other\n\t  // arguments passed either before or after the %c, so we need to\n\t  // figure out the correct index to insert the CSS into\n\t  var index = 0;\n\t  var lastC = 0;\n\t  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n\t    if ('%%' === match) return;\n\t    index++;\n\t    if ('%c' === match) {\n\t      // we only are interested in the *last* %c\n\t      // (the user may have provided their own)\n\t      lastC = index;\n\t    }\n\t  });\n\t\n\t  args.splice(lastC, 0, c);\n\t}\n\t\n\t/**\n\t * Invokes `console.log()` when available.\n\t * No-op when `console.log` is not a \"function\".\n\t *\n\t * @api public\n\t */\n\t\n\tfunction log() {\n\t  // this hackery is required for IE8/9, where\n\t  // the `console.log` function doesn't have 'apply'\n\t  return 'object' === typeof console\n\t    && console.log\n\t    && Function.prototype.apply.call(console.log, console, arguments);\n\t}\n\t\n\t/**\n\t * Save `namespaces`.\n\t *\n\t * @param {String} namespaces\n\t * @api private\n\t */\n\t\n\tfunction save(namespaces) {\n\t  try {\n\t    if (null == namespaces) {\n\t      exports.storage.removeItem('debug');\n\t    } else {\n\t      exports.storage.debug = namespaces;\n\t    }\n\t  } catch(e) {}\n\t}\n\t\n\t/**\n\t * Load `namespaces`.\n\t *\n\t * @return {String} returns the previously persisted debug modes\n\t * @api private\n\t */\n\t\n\tfunction load() {\n\t  var r;\n\t  try {\n\t    r = exports.storage.debug;\n\t  } catch(e) {}\n\t\n\t  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\t  if (!r && typeof process !== 'undefined' && 'env' in process) {\n\t    r = process.env.DEBUG;\n\t  }\n\t\n\t  return r;\n\t}\n\t\n\t/**\n\t * Enable namespaces listed in `localStorage.debug` initially.\n\t */\n\t\n\texports.enable(load());\n\t\n\t/**\n\t * Localstorage attempts to return the localstorage.\n\t *\n\t * This is necessary because safari throws\n\t * when a user disables cookies/localstorage\n\t * and you attempt to access it.\n\t *\n\t * @return {LocalStorage}\n\t * @api private\n\t */\n\t\n\tfunction localstorage() {\n\t  try {\n\t    return window.localStorage;\n\t  } catch (e) {}\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! (webpack)/~/node-libs-browser/~/process/browser.js */ 68)))\n\n/***/ },\n/* 101 */\n/*!************************************************!*\\\n  !*** ./~/socket.io-client/~/parseuri/index.js ***!\n  \\************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * Parses an URI\r\n\t *\r\n\t * @author Steven Levithan <stevenlevithan.com> (MIT license)\r\n\t * @api private\r\n\t */\r\n\t\r\n\tvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\r\n\t\r\n\tvar parts = [\r\n\t    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\r\n\t];\r\n\t\r\n\tmodule.exports = function parseuri(str) {\r\n\t    var src = str,\r\n\t        b = str.indexOf('['),\r\n\t        e = str.indexOf(']');\r\n\t\r\n\t    if (b != -1 && e != -1) {\r\n\t        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\r\n\t    }\r\n\t\r\n\t    var m = re.exec(str || ''),\r\n\t        uri = {},\r\n\t        i = 14;\r\n\t\r\n\t    while (i--) {\r\n\t        uri[parts[i]] = m[i] || '';\r\n\t    }\r\n\t\r\n\t    if (b != -1 && e != -1) {\r\n\t        uri.source = src;\r\n\t        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\r\n\t        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\r\n\t        uri.ipv6uri = true;\r\n\t    }\r\n\t\r\n\t    return uri;\r\n\t};\r\n\n\n/***/ },\n/* 102 */\n/*!********************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/index.js ***!\n  \\********************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\tmodule.exports = __webpack_require__(/*! ./lib/index */ 119);\n\n\n/***/ },\n/* 103 */\n/*!*********************************************************!*\\\n  !*** ./~/socket.io-client/~/component-emitter/index.js ***!\n  \\*********************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\r\n\t/**\r\n\t * Expose `Emitter`.\r\n\t */\r\n\t\r\n\tif (true) {\r\n\t  module.exports = Emitter;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Initialize a new `Emitter`.\r\n\t *\r\n\t * @api public\r\n\t */\r\n\t\r\n\tfunction Emitter(obj) {\r\n\t  if (obj) return mixin(obj);\r\n\t};\r\n\t\r\n\t/**\r\n\t * Mixin the emitter properties.\r\n\t *\r\n\t * @param {Object} obj\r\n\t * @return {Object}\r\n\t * @api private\r\n\t */\r\n\t\r\n\tfunction mixin(obj) {\r\n\t  for (var key in Emitter.prototype) {\r\n\t    obj[key] = Emitter.prototype[key];\r\n\t  }\r\n\t  return obj;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Listen on the given `event` with `fn`.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Function} fn\r\n\t * @return {Emitter}\r\n\t * @api public\r\n\t */\r\n\t\r\n\tEmitter.prototype.on =\r\n\tEmitter.prototype.addEventListener = function(event, fn){\r\n\t  this._callbacks = this._callbacks || {};\r\n\t  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n\t    .push(fn);\r\n\t  return this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Adds an `event` listener that will be invoked a single\r\n\t * time then automatically removed.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Function} fn\r\n\t * @return {Emitter}\r\n\t * @api public\r\n\t */\r\n\t\r\n\tEmitter.prototype.once = function(event, fn){\r\n\t  function on() {\r\n\t    this.off(event, on);\r\n\t    fn.apply(this, arguments);\r\n\t  }\r\n\t\r\n\t  on.fn = fn;\r\n\t  this.on(event, on);\r\n\t  return this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Remove the given callback for `event` or all\r\n\t * registered callbacks.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Function} fn\r\n\t * @return {Emitter}\r\n\t * @api public\r\n\t */\r\n\t\r\n\tEmitter.prototype.off =\r\n\tEmitter.prototype.removeListener =\r\n\tEmitter.prototype.removeAllListeners =\r\n\tEmitter.prototype.removeEventListener = function(event, fn){\r\n\t  this._callbacks = this._callbacks || {};\r\n\t\r\n\t  // all\r\n\t  if (0 == arguments.length) {\r\n\t    this._callbacks = {};\r\n\t    return this;\r\n\t  }\r\n\t\r\n\t  // specific event\r\n\t  var callbacks = this._callbacks['$' + event];\r\n\t  if (!callbacks) return this;\r\n\t\r\n\t  // remove all handlers\r\n\t  if (1 == arguments.length) {\r\n\t    delete this._callbacks['$' + event];\r\n\t    return this;\r\n\t  }\r\n\t\r\n\t  // remove specific handler\r\n\t  var cb;\r\n\t  for (var i = 0; i < callbacks.length; i++) {\r\n\t    cb = callbacks[i];\r\n\t    if (cb === fn || cb.fn === fn) {\r\n\t      callbacks.splice(i, 1);\r\n\t      break;\r\n\t    }\r\n\t  }\r\n\t  return this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Emit `event` with the given args.\r\n\t *\r\n\t * @param {String} event\r\n\t * @param {Mixed} ...\r\n\t * @return {Emitter}\r\n\t */\r\n\t\r\n\tEmitter.prototype.emit = function(event){\r\n\t  this._callbacks = this._callbacks || {};\r\n\t  var args = [].slice.call(arguments, 1)\r\n\t    , callbacks = this._callbacks['$' + event];\r\n\t\r\n\t  if (callbacks) {\r\n\t    callbacks = callbacks.slice(0);\r\n\t    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n\t      callbacks[i].apply(this, args);\r\n\t    }\r\n\t  }\r\n\t\r\n\t  return this;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Return array of callbacks for `event`.\r\n\t *\r\n\t * @param {String} event\r\n\t * @return {Array}\r\n\t * @api public\r\n\t */\r\n\t\r\n\tEmitter.prototype.listeners = function(event){\r\n\t  this._callbacks = this._callbacks || {};\r\n\t  return this._callbacks['$' + event] || [];\r\n\t};\r\n\t\r\n\t/**\r\n\t * Check if this emitter has `event` handlers.\r\n\t *\r\n\t * @param {String} event\r\n\t * @return {Boolean}\r\n\t * @api public\r\n\t */\r\n\t\r\n\tEmitter.prototype.hasListeners = function(event){\r\n\t  return !! this.listeners(event).length;\r\n\t};\r\n\n\n/***/ },\n/* 104 */\n/*!******************************************************!*\\\n  !*** ./~/socket.io-client/~/component-bind/index.js ***!\n  \\******************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Slice reference.\n\t */\n\t\n\tvar slice = [].slice;\n\t\n\t/**\n\t * Bind `obj` to `fn`.\n\t *\n\t * @param {Object} obj\n\t * @param {Function|String} fn or string\n\t * @return {Function}\n\t * @api public\n\t */\n\t\n\tmodule.exports = function(obj, fn){\n\t  if ('string' == typeof fn) fn = obj[fn];\n\t  if ('function' != typeof fn) throw new Error('bind() requires a function');\n\t  var args = slice.call(arguments, 2);\n\t  return function(){\n\t    return fn.apply(obj, args.concat(slice.call(arguments)));\n\t  }\n\t};\n\n\n/***/ },\n/* 105 */\n/*!***********************************************!*\\\n  !*** ./~/socket.io-client/~/indexof/index.js ***!\n  \\***********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\tvar indexOf = [].indexOf;\n\t\n\tmodule.exports = function(arr, obj){\n\t  if (indexOf) return arr.indexOf(obj);\n\t  for (var i = 0; i < arr.length; ++i) {\n\t    if (arr[i] === obj) return i;\n\t  }\n\t  return -1;\n\t};\n\n/***/ },\n/* 106 */\n/*!**********************************************!*\\\n  !*** ./~/socket.io-client/~/backo2/index.js ***!\n  \\**********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/**\n\t * Expose `Backoff`.\n\t */\n\t\n\tmodule.exports = Backoff;\n\t\n\t/**\n\t * Initialize backoff timer with `opts`.\n\t *\n\t * - `min` initial timeout in milliseconds [100]\n\t * - `max` max timeout [10000]\n\t * - `jitter` [0]\n\t * - `factor` [2]\n\t *\n\t * @param {Object} opts\n\t * @api public\n\t */\n\t\n\tfunction Backoff(opts) {\n\t  opts = opts || {};\n\t  this.ms = opts.min || 100;\n\t  this.max = opts.max || 10000;\n\t  this.factor = opts.factor || 2;\n\t  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n\t  this.attempts = 0;\n\t}\n\t\n\t/**\n\t * Return the backoff duration.\n\t *\n\t * @return {Number}\n\t * @api public\n\t */\n\t\n\tBackoff.prototype.duration = function(){\n\t  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n\t  if (this.jitter) {\n\t    var rand =  Math.random();\n\t    var deviation = Math.floor(rand * this.jitter * ms);\n\t    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n\t  }\n\t  return Math.min(ms, this.max) | 0;\n\t};\n\t\n\t/**\n\t * Reset the number of attempts.\n\t *\n\t * @api public\n\t */\n\t\n\tBackoff.prototype.reset = function(){\n\t  this.attempts = 0;\n\t};\n\t\n\t/**\n\t * Set the minimum duration\n\t *\n\t * @api public\n\t */\n\t\n\tBackoff.prototype.setMin = function(min){\n\t  this.ms = min;\n\t};\n\t\n\t/**\n\t * Set the maximum duration\n\t *\n\t * @api public\n\t */\n\t\n\tBackoff.prototype.setMax = function(max){\n\t  this.max = max;\n\t};\n\t\n\t/**\n\t * Set the jitter\n\t *\n\t * @api public\n\t */\n\t\n\tBackoff.prototype.setJitter = function(jitter){\n\t  this.jitter = jitter;\n\t};\n\t\n\n\n/***/ },\n/* 107 */\n/*!************************************************!*\\\n  !*** ./~/socket.io-client/~/to-array/index.js ***!\n  \\************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = toArray\n\t\n\tfunction toArray(list, index) {\n\t    var array = []\n\t\n\t    index = index || 0\n\t\n\t    for (var i = index || 0; i < list.length; i++) {\n\t        array[i - index] = list[i]\n\t    }\n\t\n\t    return array\n\t}\n\n\n/***/ },\n/* 108 */\n/*!***********************************************!*\\\n  !*** ./~/socket.io-client/~/parseqs/index.js ***!\n  \\***********************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\r\n\t * Compiles a querystring\r\n\t * Returns string representation of the object\r\n\t *\r\n\t * @param {Object}\r\n\t * @api private\r\n\t */\r\n\t\r\n\texports.encode = function (obj) {\r\n\t  var str = '';\r\n\t\r\n\t  for (var i in obj) {\r\n\t    if (obj.hasOwnProperty(i)) {\r\n\t      if (str.length) str += '&';\r\n\t      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\r\n\t    }\r\n\t  }\r\n\t\r\n\t  return str;\r\n\t};\r\n\t\r\n\t/**\r\n\t * Parses a simple querystring into an object\r\n\t *\r\n\t * @param {String} qs\r\n\t * @api private\r\n\t */\r\n\t\r\n\texports.decode = function(qs){\r\n\t  var qry = {};\r\n\t  var pairs = qs.split('&');\r\n\t  for (var i = 0, l = pairs.length; i < l; i++) {\r\n\t    var pair = pairs[i].split('=');\r\n\t    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n\t  }\r\n\t  return qry;\r\n\t};\r\n\n\n/***/ },\n/* 109 */,\n/* 110 */,\n/* 111 */,\n/* 112 */,\n/* 113 */,\n/* 114 */\n/*!*********************************************************!*\\\n  !*** ./~/socket.io-client/~/socket.io-parser/binary.js ***!\n  \\*********************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/*global Blob,File*/\n\t\n\t/**\n\t * Module requirements\n\t */\n\t\n\tvar isArray = __webpack_require__(/*! isarray */ 122);\n\tvar isBuf = __webpack_require__(/*! ./is-buffer */ 115);\n\tvar toString = Object.prototype.toString;\n\tvar withNativeBlob = typeof global.Blob === 'function' || toString.call(global.Blob) === '[object BlobConstructor]';\n\tvar withNativeFile = typeof global.File === 'function' || toString.call(global.File) === '[object FileConstructor]';\n\t\n\t/**\n\t * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n\t * Anything with blobs or files should be fed through removeBlobs before coming\n\t * here.\n\t *\n\t * @param {Object} packet - socket.io event packet\n\t * @return {Object} with deconstructed packet and list of buffers\n\t * @api public\n\t */\n\t\n\texports.deconstructPacket = function(packet) {\n\t  var buffers = [];\n\t  var packetData = packet.data;\n\t  var pack = packet;\n\t  pack.data = _deconstructPacket(packetData, buffers);\n\t  pack.attachments = buffers.length; // number of binary 'attachments'\n\t  return {packet: pack, buffers: buffers};\n\t};\n\t\n\tfunction _deconstructPacket(data, buffers) {\n\t  if (!data) return data;\n\t\n\t  if (isBuf(data)) {\n\t    var placeholder = { _placeholder: true, num: buffers.length };\n\t    buffers.push(data);\n\t    return placeholder;\n\t  } else if (isArray(data)) {\n\t    var newData = new Array(data.length);\n\t    for (var i = 0; i < data.length; i++) {\n\t      newData[i] = _deconstructPacket(data[i], buffers);\n\t    }\n\t    return newData;\n\t  } else if (typeof data === 'object' && !(data instanceof Date)) {\n\t    var newData = {};\n\t    for (var key in data) {\n\t      newData[key] = _deconstructPacket(data[key], buffers);\n\t    }\n\t    return newData;\n\t  }\n\t  return data;\n\t}\n\t\n\t/**\n\t * Reconstructs a binary packet from its placeholder packet and buffers\n\t *\n\t * @param {Object} packet - event packet with placeholders\n\t * @param {Array} buffers - binary buffers to put in placeholder positions\n\t * @return {Object} reconstructed packet\n\t * @api public\n\t */\n\t\n\texports.reconstructPacket = function(packet, buffers) {\n\t  packet.data = _reconstructPacket(packet.data, buffers);\n\t  packet.attachments = undefined; // no longer useful\n\t  return packet;\n\t};\n\t\n\tfunction _reconstructPacket(data, buffers) {\n\t  if (!data) return data;\n\t\n\t  if (data && data._placeholder) {\n\t    return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n\t  } else if (isArray(data)) {\n\t    for (var i = 0; i < data.length; i++) {\n\t      data[i] = _reconstructPacket(data[i], buffers);\n\t    }\n\t  } else if (typeof data === 'object') {\n\t    for (var key in data) {\n\t      data[key] = _reconstructPacket(data[key], buffers);\n\t    }\n\t  }\n\t\n\t  return data;\n\t}\n\t\n\t/**\n\t * Asynchronously removes Blobs or Files from data via\n\t * FileReader's readAsArrayBuffer method. Used before encoding\n\t * data as msgpack. Calls callback with the blobless data.\n\t *\n\t * @param {Object} data\n\t * @param {Function} callback\n\t * @api private\n\t */\n\t\n\texports.removeBlobs = function(data, callback) {\n\t  function _removeBlobs(obj, curKey, containingObject) {\n\t    if (!obj) return obj;\n\t\n\t    // convert any blob\n\t    if ((withNativeBlob && obj instanceof Blob) ||\n\t        (withNativeFile && obj instanceof File)) {\n\t      pendingBlobs++;\n\t\n\t      // async filereader\n\t      var fileReader = new FileReader();\n\t      fileReader.onload = function() { // this.result == arraybuffer\n\t        if (containingObject) {\n\t          containingObject[curKey] = this.result;\n\t        }\n\t        else {\n\t          bloblessData = this.result;\n\t        }\n\t\n\t        // if nothing pending its callback time\n\t        if(! --pendingBlobs) {\n\t          callback(bloblessData);\n\t        }\n\t      };\n\t\n\t      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n\t    } else if (isArray(obj)) { // handle array\n\t      for (var i = 0; i < obj.length; i++) {\n\t        _removeBlobs(obj[i], i, obj);\n\t      }\n\t    } else if (typeof obj === 'object' && !isBuf(obj)) { // and object\n\t      for (var key in obj) {\n\t        _removeBlobs(obj[key], key, obj);\n\t      }\n\t    }\n\t  }\n\t\n\t  var pendingBlobs = 0;\n\t  var bloblessData = data;\n\t  _removeBlobs(bloblessData);\n\t  if (!pendingBlobs) {\n\t    callback(bloblessData);\n\t  }\n\t};\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 115 */\n/*!************************************************************!*\\\n  !*** ./~/socket.io-client/~/socket.io-parser/is-buffer.js ***!\n  \\************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\n\tmodule.exports = isBuf;\n\t\n\t/**\n\t * Returns true if obj is a buffer or an arraybuffer.\n\t *\n\t * @api private\n\t */\n\t\n\tfunction isBuf(obj) {\n\t  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n\t         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 116 */\n/*!*************************************************!*\\\n  !*** ./~/socket.io-client/~/debug/src/debug.js ***!\n  \\*************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/**\n\t * This is the common logic for both the Node.js and web browser\n\t * implementations of `debug()`.\n\t *\n\t * Expose `debug()` as the module.\n\t */\n\t\n\texports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\n\texports.coerce = coerce;\n\texports.disable = disable;\n\texports.enable = enable;\n\texports.enabled = enabled;\n\texports.humanize = __webpack_require__(/*! ms */ 126);\n\t\n\t/**\n\t * The currently active debug mode names, and names to skip.\n\t */\n\t\n\texports.names = [];\n\texports.skips = [];\n\t\n\t/**\n\t * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t *\n\t * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t */\n\t\n\texports.formatters = {};\n\t\n\t/**\n\t * Previous log timestamp.\n\t */\n\t\n\tvar prevTime;\n\t\n\t/**\n\t * Select a color.\n\t * @param {String} namespace\n\t * @return {Number}\n\t * @api private\n\t */\n\t\n\tfunction selectColor(namespace) {\n\t  var hash = 0, i;\n\t\n\t  for (i in namespace) {\n\t    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t    hash |= 0; // Convert to 32bit integer\n\t  }\n\t\n\t  return exports.colors[Math.abs(hash) % exports.colors.length];\n\t}\n\t\n\t/**\n\t * Create a debugger with the given `namespace`.\n\t *\n\t * @param {String} namespace\n\t * @return {Function}\n\t * @api public\n\t */\n\t\n\tfunction createDebug(namespace) {\n\t\n\t  function debug() {\n\t    // disabled?\n\t    if (!debug.enabled) return;\n\t\n\t    var self = debug;\n\t\n\t    // set `diff` timestamp\n\t    var curr = +new Date();\n\t    var ms = curr - (prevTime || curr);\n\t    self.diff = ms;\n\t    self.prev = prevTime;\n\t    self.curr = curr;\n\t    prevTime = curr;\n\t\n\t    // turn the `arguments` into a proper Array\n\t    var args = new Array(arguments.length);\n\t    for (var i = 0; i < args.length; i++) {\n\t      args[i] = arguments[i];\n\t    }\n\t\n\t    args[0] = exports.coerce(args[0]);\n\t\n\t    if ('string' !== typeof args[0]) {\n\t      // anything else let's inspect with %O\n\t      args.unshift('%O');\n\t    }\n\t\n\t    // apply any `formatters` transformations\n\t    var index = 0;\n\t    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n\t      // if we encounter an escaped % then don't increase the array index\n\t      if (match === '%%') return match;\n\t      index++;\n\t      var formatter = exports.formatters[format];\n\t      if ('function' === typeof formatter) {\n\t        var val = args[index];\n\t        match = formatter.call(self, val);\n\t\n\t        // now we need to remove `args[index]` since it's inlined in the `format`\n\t        args.splice(index, 1);\n\t        index--;\n\t      }\n\t      return match;\n\t    });\n\t\n\t    // apply env-specific formatting (colors, etc.)\n\t    exports.formatArgs.call(self, args);\n\t\n\t    var logFn = debug.log || exports.log || console.log.bind(console);\n\t    logFn.apply(self, args);\n\t  }\n\t\n\t  debug.namespace = namespace;\n\t  debug.enabled = exports.enabled(namespace);\n\t  debug.useColors = exports.useColors();\n\t  debug.color = selectColor(namespace);\n\t\n\t  // env-specific initialization logic for debug instances\n\t  if ('function' === typeof exports.init) {\n\t    exports.init(debug);\n\t  }\n\t\n\t  return debug;\n\t}\n\t\n\t/**\n\t * Enables a debug mode by namespaces. This can include modes\n\t * separated by a colon and wildcards.\n\t *\n\t * @param {String} namespaces\n\t * @api public\n\t */\n\t\n\tfunction enable(namespaces) {\n\t  exports.save(namespaces);\n\t\n\t  exports.names = [];\n\t  exports.skips = [];\n\t\n\t  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t  var len = split.length;\n\t\n\t  for (var i = 0; i < len; i++) {\n\t    if (!split[i]) continue; // ignore empty strings\n\t    namespaces = split[i].replace(/\\*/g, '.*?');\n\t    if (namespaces[0] === '-') {\n\t      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t    } else {\n\t      exports.names.push(new RegExp('^' + namespaces + '$'));\n\t    }\n\t  }\n\t}\n\t\n\t/**\n\t * Disable debug output.\n\t *\n\t * @api public\n\t */\n\t\n\tfunction disable() {\n\t  exports.enable('');\n\t}\n\t\n\t/**\n\t * Returns true if the given mode name is enabled, false otherwise.\n\t *\n\t * @param {String} name\n\t * @return {Boolean}\n\t * @api public\n\t */\n\t\n\tfunction enabled(name) {\n\t  var i, len;\n\t  for (i = 0, len = exports.skips.length; i < len; i++) {\n\t    if (exports.skips[i].test(name)) {\n\t      return false;\n\t    }\n\t  }\n\t  for (i = 0, len = exports.names.length; i < len; i++) {\n\t    if (exports.names[i].test(name)) {\n\t      return true;\n\t    }\n\t  }\n\t  return false;\n\t}\n\t\n\t/**\n\t * Coerce `val`.\n\t *\n\t * @param {Mixed} val\n\t * @return {Mixed}\n\t * @api private\n\t */\n\t\n\tfunction coerce(val) {\n\t  if (val instanceof Error) return val.stack || val.message;\n\t  return val;\n\t}\n\n\n/***/ },\n/* 117 */,\n/* 118 */\n/*!**********************************************************************!*\\\n  !*** ./~/socket.io-client/~/socket.io-parser/~/has-binary2/index.js ***!\n  \\**********************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/* global Blob File */\n\t\n\t/*\n\t * Module requirements.\n\t */\n\t\n\tvar isArray = __webpack_require__(/*! isarray */ 122);\n\t\n\tvar toString = Object.prototype.toString;\n\tvar withNativeBlob = typeof global.Blob === 'function' || toString.call(global.Blob) === '[object BlobConstructor]';\n\tvar withNativeFile = typeof global.File === 'function' || toString.call(global.File) === '[object FileConstructor]';\n\t\n\t/**\n\t * Module exports.\n\t */\n\t\n\tmodule.exports = hasBinary;\n\t\n\t/**\n\t * Checks for binary data.\n\t *\n\t * Supports Buffer, ArrayBuffer, Blob and File.\n\t *\n\t * @param {Object} anything\n\t * @api public\n\t */\n\t\n\tfunction hasBinary (obj) {\n\t  if (!obj || typeof obj !== 'object') {\n\t    return false;\n\t  }\n\t\n\t  if (isArray(obj)) {\n\t    for (var i = 0, l = obj.length; i < l; i++) {\n\t      if (hasBinary(obj[i])) {\n\t        return true;\n\t      }\n\t    }\n\t    return false;\n\t  }\n\t\n\t  if ((typeof global.Buffer === 'function' && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\n\t     (typeof global.ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||\n\t     (withNativeBlob && obj instanceof Blob) ||\n\t     (withNativeFile && obj instanceof File)\n\t    ) {\n\t    return true;\n\t  }\n\t\n\t  // see: https://github.com/Automattic/has-binary/pull/4\n\t  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {\n\t    return hasBinary(obj.toJSON(), true);\n\t  }\n\t\n\t  for (var key in obj) {\n\t    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n\t      return true;\n\t    }\n\t  }\n\t\n\t  return false;\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 119 */\n/*!************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/lib/index.js ***!\n  \\************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\tmodule.exports = __webpack_require__(/*! ./socket */ 124);\n\t\n\t/**\n\t * Exports parser\n\t *\n\t * @api public\n\t *\n\t */\n\tmodule.exports.parser = __webpack_require__(/*! engine.io-parser */ 129);\n\n\n/***/ },\n/* 120 */,\n/* 121 */,\n/* 122 */\n/*!******************************************************************!*\\\n  !*** ./~/socket.io-client/~/socket.io-parser/~/isarray/index.js ***!\n  \\******************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar toString = {}.toString;\n\t\n\tmodule.exports = Array.isArray || function (arr) {\n\t  return toString.call(arr) == '[object Array]';\n\t};\n\n\n/***/ },\n/* 123 */,\n/* 124 */\n/*!*************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/lib/socket.js ***!\n  \\*************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\n\t * Module dependencies.\n\t */\n\t\n\tvar transports = __webpack_require__(/*! ./transports/index */ 128);\n\tvar Emitter = __webpack_require__(/*! component-emitter */ 103);\n\tvar debug = __webpack_require__(/*! debug */ 100)('engine.io-client:socket');\n\tvar index = __webpack_require__(/*! indexof */ 105);\n\tvar parser = __webpack_require__(/*! engine.io-parser */ 129);\n\tvar parseuri = __webpack_require__(/*! parseuri */ 101);\n\tvar parsejson = __webpack_require__(/*! parsejson */ 130);\n\tvar parseqs = __webpack_require__(/*! parseqs */ 108);\n\t\n\t/**\n\t * Module exports.\n\t */\n\t\n\tmodule.exports = Socket;\n\t\n\t/**\n\t * Socket constructor.\n\t *\n\t * @param {String|Object} uri or options\n\t * @param {Object} options\n\t * @api public\n\t */\n\t\n\tfunction Socket (uri, opts) {\n\t  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\t\n\t  opts = opts || {};\n\t\n\t  if (uri && 'object' === typeof uri) {\n\t    opts = uri;\n\t    uri = null;\n\t  }\n\t\n\t  if (uri) {\n\t    uri = parseuri(uri);\n\t    opts.hostname = uri.host;\n\t    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';\n\t    opts.port = uri.port;\n\t    if (uri.query) opts.query = uri.query;\n\t  } else if (opts.host) {\n\t    opts.hostname = parseuri(opts.host).host;\n\t  }\n\t\n\t  this.secure = null != opts.secure ? opts.secure\n\t    : (global.location && 'https:' === location.protocol);\n\t\n\t  if (opts.hostname && !opts.port) {\n\t    // if no port is specified manually, use the protocol default\n\t    opts.port = this.secure ? '443' : '80';\n\t  }\n\t\n\t  this.agent = opts.agent || false;\n\t  this.hostname = opts.hostname ||\n\t    (global.location ? location.hostname : 'localhost');\n\t  this.port = opts.port || (global.location && location.port\n\t      ? location.port\n\t      : (this.secure ? 443 : 80));\n\t  this.query = opts.query || {};\n\t  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);\n\t  this.upgrade = false !== opts.upgrade;\n\t  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n\t  this.forceJSONP = !!opts.forceJSONP;\n\t  this.jsonp = false !== opts.jsonp;\n\t  this.forceBase64 = !!opts.forceBase64;\n\t  this.enablesXDR = !!opts.enablesXDR;\n\t  this.timestampParam = opts.timestampParam || 't';\n\t  this.timestampRequests = opts.timestampRequests;\n\t  this.transports = opts.transports || ['polling', 'websocket'];\n\t  this.transportOptions = opts.transportOptions || {};\n\t  this.readyState = '';\n\t  this.writeBuffer = [];\n\t  this.prevBufferLen = 0;\n\t  this.policyPort = opts.policyPort || 843;\n\t  this.rememberUpgrade = opts.rememberUpgrade || false;\n\t  this.binaryType = null;\n\t  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n\t  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\t\n\t  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n\t  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n\t    this.perMessageDeflate.threshold = 1024;\n\t  }\n\t\n\t  // SSL options for Node.js client\n\t  this.pfx = opts.pfx || null;\n\t  this.key = opts.key || null;\n\t  this.passphrase = opts.passphrase || null;\n\t  this.cert = opts.cert || null;\n\t  this.ca = opts.ca || null;\n\t  this.ciphers = opts.ciphers || null;\n\t  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\n\t  this.forceNode = !!opts.forceNode;\n\t\n\t  // other options for Node.js client\n\t  var freeGlobal = typeof global === 'object' && global;\n\t  if (freeGlobal.global === freeGlobal) {\n\t    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n\t      this.extraHeaders = opts.extraHeaders;\n\t    }\n\t\n\t    if (opts.localAddress) {\n\t      this.localAddress = opts.localAddress;\n\t    }\n\t  }\n\t\n\t  // set on handshake\n\t  this.id = null;\n\t  this.upgrades = null;\n\t  this.pingInterval = null;\n\t  this.pingTimeout = null;\n\t\n\t  // set on heartbeat\n\t  this.pingIntervalTimer = null;\n\t  this.pingTimeoutTimer = null;\n\t\n\t  this.open();\n\t}\n\t\n\tSocket.priorWebsocketSuccess = false;\n\t\n\t/**\n\t * Mix in `Emitter`.\n\t */\n\t\n\tEmitter(Socket.prototype);\n\t\n\t/**\n\t * Protocol version.\n\t *\n\t * @api public\n\t */\n\t\n\tSocket.protocol = parser.protocol; // this is an int\n\t\n\t/**\n\t * Expose deps for legacy compatibility\n\t * and standalone browser access.\n\t */\n\t\n\tSocket.Socket = Socket;\n\tSocket.Transport = __webpack_require__(/*! ./transport */ 127);\n\tSocket.transports = __webpack_require__(/*! ./transports/index */ 128);\n\tSocket.parser = __webpack_require__(/*! engine.io-parser */ 129);\n\t\n\t/**\n\t * Creates transport of the given type.\n\t *\n\t * @param {String} transport name\n\t * @return {Transport}\n\t * @api private\n\t */\n\t\n\tSocket.prototype.createTransport = function (name) {\n\t  debug('creating transport \"%s\"', name);\n\t  var query = clone(this.query);\n\t\n\t  // append engine.io protocol identifier\n\t  query.EIO = parser.protocol;\n\t\n\t  // transport name\n\t  query.transport = name;\n\t\n\t  // per-transport options\n\t  var options = this.transportOptions[name] || {};\n\t\n\t  // session id if we already have one\n\t  if (this.id) query.sid = this.id;\n\t\n\t  var transport = new transports[name]({\n\t    query: query,\n\t    socket: this,\n\t    agent: options.agent || this.agent,\n\t    hostname: options.hostname || this.hostname,\n\t    port: options.port || this.port,\n\t    secure: options.secure || this.secure,\n\t    path: options.path || this.path,\n\t    forceJSONP: options.forceJSONP || this.forceJSONP,\n\t    jsonp: options.jsonp || this.jsonp,\n\t    forceBase64: options.forceBase64 || this.forceBase64,\n\t    enablesXDR: options.enablesXDR || this.enablesXDR,\n\t    timestampRequests: options.timestampRequests || this.timestampRequests,\n\t    timestampParam: options.timestampParam || this.timestampParam,\n\t    policyPort: options.policyPort || this.policyPort,\n\t    pfx: options.pfx || this.pfx,\n\t    key: options.key || this.key,\n\t    passphrase: options.passphrase || this.passphrase,\n\t    cert: options.cert || this.cert,\n\t    ca: options.ca || this.ca,\n\t    ciphers: options.ciphers || this.ciphers,\n\t    rejectUnauthorized: options.rejectUnauthorized || this.rejectUnauthorized,\n\t    perMessageDeflate: options.perMessageDeflate || this.perMessageDeflate,\n\t    extraHeaders: options.extraHeaders || this.extraHeaders,\n\t    forceNode: options.forceNode || this.forceNode,\n\t    localAddress: options.localAddress || this.localAddress,\n\t    requestTimeout: options.requestTimeout || this.requestTimeout,\n\t    protocols: options.protocols || void (0)\n\t  });\n\t\n\t  return transport;\n\t};\n\t\n\tfunction clone (obj) {\n\t  var o = {};\n\t  for (var i in obj) {\n\t    if (obj.hasOwnProperty(i)) {\n\t      o[i] = obj[i];\n\t    }\n\t  }\n\t  return o;\n\t}\n\t\n\t/**\n\t * Initializes transport to use and starts probe.\n\t *\n\t * @api private\n\t */\n\tSocket.prototype.open = function () {\n\t  var transport;\n\t  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {\n\t    transport = 'websocket';\n\t  } else if (0 === this.transports.length) {\n\t    // Emit error on next tick so it can be listened to\n\t    var self = this;\n\t    setTimeout(function () {\n\t      self.emit('error', 'No transports available');\n\t    }, 0);\n\t    return;\n\t  } else {\n\t    transport = this.transports[0];\n\t  }\n\t  this.readyState = 'opening';\n\t\n\t  // Retry with the next transport if the transport is disabled (jsonp: false)\n\t  try {\n\t    transport = this.createTransport(transport);\n\t  } catch (e) {\n\t    this.transports.shift();\n\t    this.open();\n\t    return;\n\t  }\n\t\n\t  transport.open();\n\t  this.setTransport(transport);\n\t};\n\t\n\t/**\n\t * Sets the current transport. Disables the existing one (if any).\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.setTransport = function (transport) {\n\t  debug('setting transport %s', transport.name);\n\t  var self = this;\n\t\n\t  if (this.transport) {\n\t    debug('clearing existing transport %s', this.transport.name);\n\t    this.transport.removeAllListeners();\n\t  }\n\t\n\t  // set up transport\n\t  this.transport = transport;\n\t\n\t  // set up transport listeners\n\t  transport\n\t  .on('drain', function () {\n\t    self.onDrain();\n\t  })\n\t  .on('packet', function (packet) {\n\t    self.onPacket(packet);\n\t  })\n\t  .on('error', function (e) {\n\t    self.onError(e);\n\t  })\n\t  .on('close', function () {\n\t    self.onClose('transport close');\n\t  });\n\t};\n\t\n\t/**\n\t * Probes a transport.\n\t *\n\t * @param {String} transport name\n\t * @api private\n\t */\n\t\n\tSocket.prototype.probe = function (name) {\n\t  debug('probing transport \"%s\"', name);\n\t  var transport = this.createTransport(name, { probe: 1 });\n\t  var failed = false;\n\t  var self = this;\n\t\n\t  Socket.priorWebsocketSuccess = false;\n\t\n\t  function onTransportOpen () {\n\t    if (self.onlyBinaryUpgrades) {\n\t      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n\t      failed = failed || upgradeLosesBinary;\n\t    }\n\t    if (failed) return;\n\t\n\t    debug('probe transport \"%s\" opened', name);\n\t    transport.send([{ type: 'ping', data: 'probe' }]);\n\t    transport.once('packet', function (msg) {\n\t      if (failed) return;\n\t      if ('pong' === msg.type && 'probe' === msg.data) {\n\t        debug('probe transport \"%s\" pong', name);\n\t        self.upgrading = true;\n\t        self.emit('upgrading', transport);\n\t        if (!transport) return;\n\t        Socket.priorWebsocketSuccess = 'websocket' === transport.name;\n\t\n\t        debug('pausing current transport \"%s\"', self.transport.name);\n\t        self.transport.pause(function () {\n\t          if (failed) return;\n\t          if ('closed' === self.readyState) return;\n\t          debug('changing transport and sending upgrade packet');\n\t\n\t          cleanup();\n\t\n\t          self.setTransport(transport);\n\t          transport.send([{ type: 'upgrade' }]);\n\t          self.emit('upgrade', transport);\n\t          transport = null;\n\t          self.upgrading = false;\n\t          self.flush();\n\t        });\n\t      } else {\n\t        debug('probe transport \"%s\" failed', name);\n\t        var err = new Error('probe error');\n\t        err.transport = transport.name;\n\t        self.emit('upgradeError', err);\n\t      }\n\t    });\n\t  }\n\t\n\t  function freezeTransport () {\n\t    if (failed) return;\n\t\n\t    // Any callback called by transport should be ignored since now\n\t    failed = true;\n\t\n\t    cleanup();\n\t\n\t    transport.close();\n\t    transport = null;\n\t  }\n\t\n\t  // Handle any error that happens while probing\n\t  function onerror (err) {\n\t    var error = new Error('probe error: ' + err);\n\t    error.transport = transport.name;\n\t\n\t    freezeTransport();\n\t\n\t    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\t\n\t    self.emit('upgradeError', error);\n\t  }\n\t\n\t  function onTransportClose () {\n\t    onerror('transport closed');\n\t  }\n\t\n\t  // When the socket is closed while we're probing\n\t  function onclose () {\n\t    onerror('socket closed');\n\t  }\n\t\n\t  // When the socket is upgraded while we're probing\n\t  function onupgrade (to) {\n\t    if (transport && to.name !== transport.name) {\n\t      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n\t      freezeTransport();\n\t    }\n\t  }\n\t\n\t  // Remove all listeners on the transport and on self\n\t  function cleanup () {\n\t    transport.removeListener('open', onTransportOpen);\n\t    transport.removeListener('error', onerror);\n\t    transport.removeListener('close', onTransportClose);\n\t    self.removeListener('close', onclose);\n\t    self.removeListener('upgrading', onupgrade);\n\t  }\n\t\n\t  transport.once('open', onTransportOpen);\n\t  transport.once('error', onerror);\n\t  transport.once('close', onTransportClose);\n\t\n\t  this.once('close', onclose);\n\t  this.once('upgrading', onupgrade);\n\t\n\t  transport.open();\n\t};\n\t\n\t/**\n\t * Called when connection is deemed open.\n\t *\n\t * @api public\n\t */\n\t\n\tSocket.prototype.onOpen = function () {\n\t  debug('socket open');\n\t  this.readyState = 'open';\n\t  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;\n\t  this.emit('open');\n\t  this.flush();\n\t\n\t  // we check for `readyState` in case an `open`\n\t  // listener already closed the socket\n\t  if ('open' === this.readyState && this.upgrade && this.transport.pause) {\n\t    debug('starting upgrade probes');\n\t    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n\t      this.probe(this.upgrades[i]);\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Handles a packet.\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.onPacket = function (packet) {\n\t  if ('opening' === this.readyState || 'open' === this.readyState ||\n\t      'closing' === this.readyState) {\n\t    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\t\n\t    this.emit('packet', packet);\n\t\n\t    // Socket is live - any packet counts\n\t    this.emit('heartbeat');\n\t\n\t    switch (packet.type) {\n\t      case 'open':\n\t        this.onHandshake(parsejson(packet.data));\n\t        break;\n\t\n\t      case 'pong':\n\t        this.setPing();\n\t        this.emit('pong');\n\t        break;\n\t\n\t      case 'error':\n\t        var err = new Error('server error');\n\t        err.code = packet.data;\n\t        this.onError(err);\n\t        break;\n\t\n\t      case 'message':\n\t        this.emit('data', packet.data);\n\t        this.emit('message', packet.data);\n\t        break;\n\t    }\n\t  } else {\n\t    debug('packet received with socket readyState \"%s\"', this.readyState);\n\t  }\n\t};\n\t\n\t/**\n\t * Called upon handshake completion.\n\t *\n\t * @param {Object} handshake obj\n\t * @api private\n\t */\n\t\n\tSocket.prototype.onHandshake = function (data) {\n\t  this.emit('handshake', data);\n\t  this.id = data.sid;\n\t  this.transport.query.sid = data.sid;\n\t  this.upgrades = this.filterUpgrades(data.upgrades);\n\t  this.pingInterval = data.pingInterval;\n\t  this.pingTimeout = data.pingTimeout;\n\t  this.onOpen();\n\t  // In case open handler closes socket\n\t  if ('closed' === this.readyState) return;\n\t  this.setPing();\n\t\n\t  // Prolong liveness of socket on heartbeat\n\t  this.removeListener('heartbeat', this.onHeartbeat);\n\t  this.on('heartbeat', this.onHeartbeat);\n\t};\n\t\n\t/**\n\t * Resets ping timeout.\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.onHeartbeat = function (timeout) {\n\t  clearTimeout(this.pingTimeoutTimer);\n\t  var self = this;\n\t  self.pingTimeoutTimer = setTimeout(function () {\n\t    if ('closed' === self.readyState) return;\n\t    self.onClose('ping timeout');\n\t  }, timeout || (self.pingInterval + self.pingTimeout));\n\t};\n\t\n\t/**\n\t * Pings server every `this.pingInterval` and expects response\n\t * within `this.pingTimeout` or closes connection.\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.setPing = function () {\n\t  var self = this;\n\t  clearTimeout(self.pingIntervalTimer);\n\t  self.pingIntervalTimer = setTimeout(function () {\n\t    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n\t    self.ping();\n\t    self.onHeartbeat(self.pingTimeout);\n\t  }, self.pingInterval);\n\t};\n\t\n\t/**\n\t* Sends a ping packet.\n\t*\n\t* @api private\n\t*/\n\t\n\tSocket.prototype.ping = function () {\n\t  var self = this;\n\t  this.sendPacket('ping', function () {\n\t    self.emit('ping');\n\t  });\n\t};\n\t\n\t/**\n\t * Called on `drain` event\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.onDrain = function () {\n\t  this.writeBuffer.splice(0, this.prevBufferLen);\n\t\n\t  // setting prevBufferLen = 0 is very important\n\t  // for example, when upgrading, upgrade packet is sent over,\n\t  // and a nonzero prevBufferLen could cause problems on `drain`\n\t  this.prevBufferLen = 0;\n\t\n\t  if (0 === this.writeBuffer.length) {\n\t    this.emit('drain');\n\t  } else {\n\t    this.flush();\n\t  }\n\t};\n\t\n\t/**\n\t * Flush write buffers.\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.flush = function () {\n\t  if ('closed' !== this.readyState && this.transport.writable &&\n\t    !this.upgrading && this.writeBuffer.length) {\n\t    debug('flushing %d packets in socket', this.writeBuffer.length);\n\t    this.transport.send(this.writeBuffer);\n\t    // keep track of current length of writeBuffer\n\t    // splice writeBuffer and callbackBuffer on `drain`\n\t    this.prevBufferLen = this.writeBuffer.length;\n\t    this.emit('flush');\n\t  }\n\t};\n\t\n\t/**\n\t * Sends a message.\n\t *\n\t * @param {String} message.\n\t * @param {Function} callback function.\n\t * @param {Object} options.\n\t * @return {Socket} for chaining.\n\t * @api public\n\t */\n\t\n\tSocket.prototype.write =\n\tSocket.prototype.send = function (msg, options, fn) {\n\t  this.sendPacket('message', msg, options, fn);\n\t  return this;\n\t};\n\t\n\t/**\n\t * Sends a packet.\n\t *\n\t * @param {String} packet type.\n\t * @param {String} data.\n\t * @param {Object} options.\n\t * @param {Function} callback function.\n\t * @api private\n\t */\n\t\n\tSocket.prototype.sendPacket = function (type, data, options, fn) {\n\t  if ('function' === typeof data) {\n\t    fn = data;\n\t    data = undefined;\n\t  }\n\t\n\t  if ('function' === typeof options) {\n\t    fn = options;\n\t    options = null;\n\t  }\n\t\n\t  if ('closing' === this.readyState || 'closed' === this.readyState) {\n\t    return;\n\t  }\n\t\n\t  options = options || {};\n\t  options.compress = false !== options.compress;\n\t\n\t  var packet = {\n\t    type: type,\n\t    data: data,\n\t    options: options\n\t  };\n\t  this.emit('packetCreate', packet);\n\t  this.writeBuffer.push(packet);\n\t  if (fn) this.once('flush', fn);\n\t  this.flush();\n\t};\n\t\n\t/**\n\t * Closes the connection.\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.close = function () {\n\t  if ('opening' === this.readyState || 'open' === this.readyState) {\n\t    this.readyState = 'closing';\n\t\n\t    var self = this;\n\t\n\t    if (this.writeBuffer.length) {\n\t      this.once('drain', function () {\n\t        if (this.upgrading) {\n\t          waitForUpgrade();\n\t        } else {\n\t          close();\n\t        }\n\t      });\n\t    } else if (this.upgrading) {\n\t      waitForUpgrade();\n\t    } else {\n\t      close();\n\t    }\n\t  }\n\t\n\t  function close () {\n\t    self.onClose('forced close');\n\t    debug('socket closing - telling transport to close');\n\t    self.transport.close();\n\t  }\n\t\n\t  function cleanupAndClose () {\n\t    self.removeListener('upgrade', cleanupAndClose);\n\t    self.removeListener('upgradeError', cleanupAndClose);\n\t    close();\n\t  }\n\t\n\t  function waitForUpgrade () {\n\t    // wait for upgrade to finish since we can't send packets while pausing a transport\n\t    self.once('upgrade', cleanupAndClose);\n\t    self.once('upgradeError', cleanupAndClose);\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Called upon transport error\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.onError = function (err) {\n\t  debug('socket error %j', err);\n\t  Socket.priorWebsocketSuccess = false;\n\t  this.emit('error', err);\n\t  this.onClose('transport error', err);\n\t};\n\t\n\t/**\n\t * Called upon transport close.\n\t *\n\t * @api private\n\t */\n\t\n\tSocket.prototype.onClose = function (reason, desc) {\n\t  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {\n\t    debug('socket close with reason: \"%s\"', reason);\n\t    var self = this;\n\t\n\t    // clear timers\n\t    clearTimeout(this.pingIntervalTimer);\n\t    clearTimeout(this.pingTimeoutTimer);\n\t\n\t    // stop event from firing again for transport\n\t    this.transport.removeAllListeners('close');\n\t\n\t    // ensure transport won't stay open\n\t    this.transport.close();\n\t\n\t    // ignore further transport communication\n\t    this.transport.removeAllListeners();\n\t\n\t    // set ready state\n\t    this.readyState = 'closed';\n\t\n\t    // clear session id\n\t    this.id = null;\n\t\n\t    // emit close event\n\t    this.emit('close', reason, desc);\n\t\n\t    // clean buffers after, so users can still\n\t    // grab the buffers on `close` event\n\t    self.writeBuffer = [];\n\t    self.prevBufferLen = 0;\n\t  }\n\t};\n\t\n\t/**\n\t * Filters upgrades, returning only those matching client transports.\n\t *\n\t * @param {Array} server upgrades\n\t * @api private\n\t *\n\t */\n\t\n\tSocket.prototype.filterUpgrades = function (upgrades) {\n\t  var filteredUpgrades = [];\n\t  for (var i = 0, j = upgrades.length; i < j; i++) {\n\t    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n\t  }\n\t  return filteredUpgrades;\n\t};\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 125 */,\n/* 126 */\n/*!**************************************************!*\\\n  !*** ./~/socket.io-client/~/debug/~/ms/index.js ***!\n  \\**************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Helpers.\n\t */\n\t\n\tvar s = 1000;\n\tvar m = s * 60;\n\tvar h = m * 60;\n\tvar d = h * 24;\n\tvar y = d * 365.25;\n\t\n\t/**\n\t * Parse or format the given `val`.\n\t *\n\t * Options:\n\t *\n\t *  - `long` verbose formatting [false]\n\t *\n\t * @param {String|Number} val\n\t * @param {Object} [options]\n\t * @throws {Error} throw an error if val is not a non-empty string or a number\n\t * @return {String|Number}\n\t * @api public\n\t */\n\t\n\tmodule.exports = function(val, options) {\n\t  options = options || {};\n\t  var type = typeof val;\n\t  if (type === 'string' && val.length > 0) {\n\t    return parse(val);\n\t  } else if (type === 'number' && isNaN(val) === false) {\n\t    return options.long ? fmtLong(val) : fmtShort(val);\n\t  }\n\t  throw new Error(\n\t    'val is not a non-empty string or a valid number. val=' +\n\t      JSON.stringify(val)\n\t  );\n\t};\n\t\n\t/**\n\t * Parse the given `str` and return milliseconds.\n\t *\n\t * @param {String} str\n\t * @return {Number}\n\t * @api private\n\t */\n\t\n\tfunction parse(str) {\n\t  str = String(str);\n\t  if (str.length > 100) {\n\t    return;\n\t  }\n\t  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n\t    str\n\t  );\n\t  if (!match) {\n\t    return;\n\t  }\n\t  var n = parseFloat(match[1]);\n\t  var type = (match[2] || 'ms').toLowerCase();\n\t  switch (type) {\n\t    case 'years':\n\t    case 'year':\n\t    case 'yrs':\n\t    case 'yr':\n\t    case 'y':\n\t      return n * y;\n\t    case 'days':\n\t    case 'day':\n\t    case 'd':\n\t      return n * d;\n\t    case 'hours':\n\t    case 'hour':\n\t    case 'hrs':\n\t    case 'hr':\n\t    case 'h':\n\t      return n * h;\n\t    case 'minutes':\n\t    case 'minute':\n\t    case 'mins':\n\t    case 'min':\n\t    case 'm':\n\t      return n * m;\n\t    case 'seconds':\n\t    case 'second':\n\t    case 'secs':\n\t    case 'sec':\n\t    case 's':\n\t      return n * s;\n\t    case 'milliseconds':\n\t    case 'millisecond':\n\t    case 'msecs':\n\t    case 'msec':\n\t    case 'ms':\n\t      return n;\n\t    default:\n\t      return undefined;\n\t  }\n\t}\n\t\n\t/**\n\t * Short format for `ms`.\n\t *\n\t * @param {Number} ms\n\t * @return {String}\n\t * @api private\n\t */\n\t\n\tfunction fmtShort(ms) {\n\t  if (ms >= d) {\n\t    return Math.round(ms / d) + 'd';\n\t  }\n\t  if (ms >= h) {\n\t    return Math.round(ms / h) + 'h';\n\t  }\n\t  if (ms >= m) {\n\t    return Math.round(ms / m) + 'm';\n\t  }\n\t  if (ms >= s) {\n\t    return Math.round(ms / s) + 's';\n\t  }\n\t  return ms + 'ms';\n\t}\n\t\n\t/**\n\t * Long format for `ms`.\n\t *\n\t * @param {Number} ms\n\t * @return {String}\n\t * @api private\n\t */\n\t\n\tfunction fmtLong(ms) {\n\t  return plural(ms, d, 'day') ||\n\t    plural(ms, h, 'hour') ||\n\t    plural(ms, m, 'minute') ||\n\t    plural(ms, s, 'second') ||\n\t    ms + ' ms';\n\t}\n\t\n\t/**\n\t * Pluralization helper.\n\t */\n\t\n\tfunction plural(ms, n, name) {\n\t  if (ms < n) {\n\t    return;\n\t  }\n\t  if (ms < n * 1.5) {\n\t    return Math.floor(ms / n) + ' ' + name;\n\t  }\n\t  return Math.ceil(ms / n) + ' ' + name + 's';\n\t}\n\n\n/***/ },\n/* 127 */\n/*!****************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/lib/transport.js ***!\n  \\****************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Module dependencies.\n\t */\n\t\n\tvar parser = __webpack_require__(/*! engine.io-parser */ 129);\n\tvar Emitter = __webpack_require__(/*! component-emitter */ 103);\n\t\n\t/**\n\t * Module exports.\n\t */\n\t\n\tmodule.exports = Transport;\n\t\n\t/**\n\t * Transport abstract constructor.\n\t *\n\t * @param {Object} options.\n\t * @api private\n\t */\n\t\n\tfunction Transport (opts) {\n\t  this.path = opts.path;\n\t  this.hostname = opts.hostname;\n\t  this.port = opts.port;\n\t  this.secure = opts.secure;\n\t  this.query = opts.query;\n\t  this.timestampParam = opts.timestampParam;\n\t  this.timestampRequests = opts.timestampRequests;\n\t  this.readyState = '';\n\t  this.agent = opts.agent || false;\n\t  this.socket = opts.socket;\n\t  this.enablesXDR = opts.enablesXDR;\n\t\n\t  // SSL options for Node.js client\n\t  this.pfx = opts.pfx;\n\t  this.key = opts.key;\n\t  this.passphrase = opts.passphrase;\n\t  this.cert = opts.cert;\n\t  this.ca = opts.ca;\n\t  this.ciphers = opts.ciphers;\n\t  this.rejectUnauthorized = opts.rejectUnauthorized;\n\t  this.forceNode = opts.forceNode;\n\t\n\t  // other options for Node.js client\n\t  this.extraHeaders = opts.extraHeaders;\n\t  this.localAddress = opts.localAddress;\n\t}\n\t\n\t/**\n\t * Mix in `Emitter`.\n\t */\n\t\n\tEmitter(Transport.prototype);\n\t\n\t/**\n\t * Emits an error.\n\t *\n\t * @param {String} str\n\t * @return {Transport} for chaining\n\t * @api public\n\t */\n\t\n\tTransport.prototype.onError = function (msg, desc) {\n\t  var err = new Error(msg);\n\t  err.type = 'TransportError';\n\t  err.description = desc;\n\t  this.emit('error', err);\n\t  return this;\n\t};\n\t\n\t/**\n\t * Opens the transport.\n\t *\n\t * @api public\n\t */\n\t\n\tTransport.prototype.open = function () {\n\t  if ('closed' === this.readyState || '' === this.readyState) {\n\t    this.readyState = 'opening';\n\t    this.doOpen();\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Closes the transport.\n\t *\n\t * @api private\n\t */\n\t\n\tTransport.prototype.close = function () {\n\t  if ('opening' === this.readyState || 'open' === this.readyState) {\n\t    this.doClose();\n\t    this.onClose();\n\t  }\n\t\n\t  return this;\n\t};\n\t\n\t/**\n\t * Sends multiple packets.\n\t *\n\t * @param {Array} packets\n\t * @api private\n\t */\n\t\n\tTransport.prototype.send = function (packets) {\n\t  if ('open' === this.readyState) {\n\t    this.write(packets);\n\t  } else {\n\t    throw new Error('Transport not open');\n\t  }\n\t};\n\t\n\t/**\n\t * Called upon open\n\t *\n\t * @api private\n\t */\n\t\n\tTransport.prototype.onOpen = function () {\n\t  this.readyState = 'open';\n\t  this.writable = true;\n\t  this.emit('open');\n\t};\n\t\n\t/**\n\t * Called with data.\n\t *\n\t * @param {String} data\n\t * @api private\n\t */\n\t\n\tTransport.prototype.onData = function (data) {\n\t  var packet = parser.decodePacket(data, this.socket.binaryType);\n\t  this.onPacket(packet);\n\t};\n\t\n\t/**\n\t * Called with a decoded packet.\n\t */\n\t\n\tTransport.prototype.onPacket = function (packet) {\n\t  this.emit('packet', packet);\n\t};\n\t\n\t/**\n\t * Called upon close.\n\t *\n\t * @api private\n\t */\n\t\n\tTransport.prototype.onClose = function () {\n\t  this.readyState = 'closed';\n\t  this.emit('close');\n\t};\n\n\n/***/ },\n/* 128 */\n/*!***********************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/lib/transports/index.js ***!\n  \\***********************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\n\t * Module dependencies\n\t */\n\t\n\tvar XMLHttpRequest = __webpack_require__(/*! xmlhttprequest-ssl */ 131);\n\tvar XHR = __webpack_require__(/*! ./polling-xhr */ 132);\n\tvar JSONP = __webpack_require__(/*! ./polling-jsonp */ 133);\n\tvar websocket = __webpack_require__(/*! ./websocket */ 134);\n\t\n\t/**\n\t * Export transports.\n\t */\n\t\n\texports.polling = polling;\n\texports.websocket = websocket;\n\t\n\t/**\n\t * Polling transport polymorphic constructor.\n\t * Decides on xhr vs jsonp based on feature detection.\n\t *\n\t * @api private\n\t */\n\t\n\tfunction polling (opts) {\n\t  var xhr;\n\t  var xd = false;\n\t  var xs = false;\n\t  var jsonp = false !== opts.jsonp;\n\t\n\t  if (global.location) {\n\t    var isSSL = 'https:' === location.protocol;\n\t    var port = location.port;\n\t\n\t    // some user agents have empty `location.port`\n\t    if (!port) {\n\t      port = isSSL ? 443 : 80;\n\t    }\n\t\n\t    xd = opts.hostname !== location.hostname || port !== opts.port;\n\t    xs = opts.secure !== isSSL;\n\t  }\n\t\n\t  opts.xdomain = xd;\n\t  opts.xscheme = xs;\n\t  xhr = new XMLHttpRequest(opts);\n\t\n\t  if ('open' in xhr && !opts.forceJSONP) {\n\t    return new XHR(opts);\n\t  } else {\n\t    if (!jsonp) throw new Error('JSONP disabled');\n\t    return new JSONP(opts);\n\t  }\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 129 */\n/*!*********************************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/lib/browser.js ***!\n  \\*********************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\n\t * Module dependencies.\n\t */\n\t\n\tvar keys = __webpack_require__(/*! ./keys */ 135);\n\tvar hasBinary = __webpack_require__(/*! has-binary2 */ 139);\n\tvar sliceBuffer = __webpack_require__(/*! arraybuffer.slice */ 140);\n\tvar after = __webpack_require__(/*! after */ 141);\n\tvar utf8 = __webpack_require__(/*! ./utf8 */ 136);\n\t\n\tvar base64encoder;\n\tif (global && global.ArrayBuffer) {\n\t  base64encoder = __webpack_require__(/*! base64-arraybuffer */ 143);\n\t}\n\t\n\t/**\n\t * Check if we are running an android browser. That requires us to use\n\t * ArrayBuffer with polling transports...\n\t *\n\t * http://ghinda.net/jpeg-blob-ajax-android/\n\t */\n\t\n\tvar isAndroid = typeof navigator !== 'undefined' && /Android/i.test(navigator.userAgent);\n\t\n\t/**\n\t * Check if we are running in PhantomJS.\n\t * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n\t * https://github.com/ariya/phantomjs/issues/11395\n\t * @type boolean\n\t */\n\tvar isPhantomJS = typeof navigator !== 'undefined' && /PhantomJS/i.test(navigator.userAgent);\n\t\n\t/**\n\t * When true, avoids using Blobs to encode payloads.\n\t * @type boolean\n\t */\n\tvar dontSendBlobs = isAndroid || isPhantomJS;\n\t\n\t/**\n\t * Current protocol version.\n\t */\n\t\n\texports.protocol = 3;\n\t\n\t/**\n\t * Packet types.\n\t */\n\t\n\tvar packets = exports.packets = {\n\t    open:     0    // non-ws\n\t  , close:    1    // non-ws\n\t  , ping:     2\n\t  , pong:     3\n\t  , message:  4\n\t  , upgrade:  5\n\t  , noop:     6\n\t};\n\t\n\tvar packetslist = keys(packets);\n\t\n\t/**\n\t * Premade error packet.\n\t */\n\t\n\tvar err = { type: 'error', data: 'parser error' };\n\t\n\t/**\n\t * Create a blob api even for blob builder when vendor prefixes exist\n\t */\n\t\n\tvar Blob = __webpack_require__(/*! blob */ 142);\n\t\n\t/**\n\t * Encodes a packet.\n\t *\n\t *     <packet type id> [ <data> ]\n\t *\n\t * Example:\n\t *\n\t *     5hello world\n\t *     3\n\t *     4\n\t *\n\t * Binary is encoded in an identical principle\n\t *\n\t * @api private\n\t */\n\t\n\texports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n\t  if (typeof supportsBinary === 'function') {\n\t    callback = supportsBinary;\n\t    supportsBinary = false;\n\t  }\n\t\n\t  if (typeof utf8encode === 'function') {\n\t    callback = utf8encode;\n\t    utf8encode = null;\n\t  }\n\t\n\t  var data = (packet.data === undefined)\n\t    ? undefined\n\t    : packet.data.buffer || packet.data;\n\t\n\t  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n\t    return encodeArrayBuffer(packet, supportsBinary, callback);\n\t  } else if (Blob && data instanceof global.Blob) {\n\t    return encodeBlob(packet, supportsBinary, callback);\n\t  }\n\t\n\t  // might be an object with { base64: true, data: dataAsBase64String }\n\t  if (data && data.base64) {\n\t    return encodeBase64Object(packet, callback);\n\t  }\n\t\n\t  // Sending data as a utf-8 string\n\t  var encoded = packets[packet.type];\n\t\n\t  // data fragment is optional\n\t  if (undefined !== packet.data) {\n\t    encoded += utf8encode ? utf8.encode(String(packet.data), { strict: false }) : String(packet.data);\n\t  }\n\t\n\t  return callback('' + encoded);\n\t\n\t};\n\t\n\tfunction encodeBase64Object(packet, callback) {\n\t  // packet data is an object { base64: true, data: dataAsBase64String }\n\t  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n\t  return callback(message);\n\t}\n\t\n\t/**\n\t * Encode packet helpers for binary types\n\t */\n\t\n\tfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n\t  if (!supportsBinary) {\n\t    return exports.encodeBase64Packet(packet, callback);\n\t  }\n\t\n\t  var data = packet.data;\n\t  var contentArray = new Uint8Array(data);\n\t  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\t\n\t  resultBuffer[0] = packets[packet.type];\n\t  for (var i = 0; i < contentArray.length; i++) {\n\t    resultBuffer[i+1] = contentArray[i];\n\t  }\n\t\n\t  return callback(resultBuffer.buffer);\n\t}\n\t\n\tfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n\t  if (!supportsBinary) {\n\t    return exports.encodeBase64Packet(packet, callback);\n\t  }\n\t\n\t  var fr = new FileReader();\n\t  fr.onload = function() {\n\t    packet.data = fr.result;\n\t    exports.encodePacket(packet, supportsBinary, true, callback);\n\t  };\n\t  return fr.readAsArrayBuffer(packet.data);\n\t}\n\t\n\tfunction encodeBlob(packet, supportsBinary, callback) {\n\t  if (!supportsBinary) {\n\t    return exports.encodeBase64Packet(packet, callback);\n\t  }\n\t\n\t  if (dontSendBlobs) {\n\t    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n\t  }\n\t\n\t  var length = new Uint8Array(1);\n\t  length[0] = packets[packet.type];\n\t  var blob = new Blob([length.buffer, packet.data]);\n\t\n\t  return callback(blob);\n\t}\n\t\n\t/**\n\t * Encodes a packet with binary data in a base64 string\n\t *\n\t * @param {Object} packet, has `type` and `data`\n\t * @return {String} base64 encoded message\n\t */\n\t\n\texports.encodeBase64Packet = function(packet, callback) {\n\t  var message = 'b' + exports.packets[packet.type];\n\t  if (Blob && packet.data instanceof global.Blob) {\n\t    var fr = new FileReader();\n\t    fr.onload = function() {\n\t      var b64 = fr.result.split(',')[1];\n\t      callback(message + b64);\n\t    };\n\t    return fr.readAsDataURL(packet.data);\n\t  }\n\t\n\t  var b64data;\n\t  try {\n\t    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n\t  } catch (e) {\n\t    // iPhone Safari doesn't let you apply with typed arrays\n\t    var typed = new Uint8Array(packet.data);\n\t    var basic = new Array(typed.length);\n\t    for (var i = 0; i < typed.length; i++) {\n\t      basic[i] = typed[i];\n\t    }\n\t    b64data = String.fromCharCode.apply(null, basic);\n\t  }\n\t  message += global.btoa(b64data);\n\t  return callback(message);\n\t};\n\t\n\t/**\n\t * Decodes a packet. Changes format to Blob if requested.\n\t *\n\t * @return {Object} with `type` and `data` (if any)\n\t * @api private\n\t */\n\t\n\texports.decodePacket = function (data, binaryType, utf8decode) {\n\t  if (data === undefined) {\n\t    return err;\n\t  }\n\t  // String data\n\t  if (typeof data === 'string') {\n\t    if (data.charAt(0) === 'b') {\n\t      return exports.decodeBase64Packet(data.substr(1), binaryType);\n\t    }\n\t\n\t    if (utf8decode) {\n\t      data = tryDecode(data);\n\t      if (data === false) {\n\t        return err;\n\t      }\n\t    }\n\t    var type = data.charAt(0);\n\t\n\t    if (Number(type) != type || !packetslist[type]) {\n\t      return err;\n\t    }\n\t\n\t    if (data.length > 1) {\n\t      return { type: packetslist[type], data: data.substring(1) };\n\t    } else {\n\t      return { type: packetslist[type] };\n\t    }\n\t  }\n\t\n\t  var asArray = new Uint8Array(data);\n\t  var type = asArray[0];\n\t  var rest = sliceBuffer(data, 1);\n\t  if (Blob && binaryType === 'blob') {\n\t    rest = new Blob([rest]);\n\t  }\n\t  return { type: packetslist[type], data: rest };\n\t};\n\t\n\tfunction tryDecode(data) {\n\t  try {\n\t    data = utf8.decode(data, { strict: false });\n\t  } catch (e) {\n\t    return false;\n\t  }\n\t  return data;\n\t}\n\t\n\t/**\n\t * Decodes a packet encoded in a base64 string\n\t *\n\t * @param {String} base64 encoded message\n\t * @return {Object} with `type` and `data` (if any)\n\t */\n\t\n\texports.decodeBase64Packet = function(msg, binaryType) {\n\t  var type = packetslist[msg.charAt(0)];\n\t  if (!base64encoder) {\n\t    return { type: type, data: { base64: true, data: msg.substr(1) } };\n\t  }\n\t\n\t  var data = base64encoder.decode(msg.substr(1));\n\t\n\t  if (binaryType === 'blob' && Blob) {\n\t    data = new Blob([data]);\n\t  }\n\t\n\t  return { type: type, data: data };\n\t};\n\t\n\t/**\n\t * Encodes multiple messages (payload).\n\t *\n\t *     <length>:data\n\t *\n\t * Example:\n\t *\n\t *     11:hello world2:hi\n\t *\n\t * If any contents are binary, they will be encoded as base64 strings. Base64\n\t * encoded strings are marked with a b before the length specifier\n\t *\n\t * @param {Array} packets\n\t * @api private\n\t */\n\t\n\texports.encodePayload = function (packets, supportsBinary, callback) {\n\t  if (typeof supportsBinary === 'function') {\n\t    callback = supportsBinary;\n\t    supportsBinary = null;\n\t  }\n\t\n\t  var isBinary = hasBinary(packets);\n\t\n\t  if (supportsBinary && isBinary) {\n\t    if (Blob && !dontSendBlobs) {\n\t      return exports.encodePayloadAsBlob(packets, callback);\n\t    }\n\t\n\t    return exports.encodePayloadAsArrayBuffer(packets, callback);\n\t  }\n\t\n\t  if (!packets.length) {\n\t    return callback('0:');\n\t  }\n\t\n\t  function setLengthHeader(message) {\n\t    return message.length + ':' + message;\n\t  }\n\t\n\t  function encodeOne(packet, doneCallback) {\n\t    exports.encodePacket(packet, !isBinary ? false : supportsBinary, false, function(message) {\n\t      doneCallback(null, setLengthHeader(message));\n\t    });\n\t  }\n\t\n\t  map(packets, encodeOne, function(err, results) {\n\t    return callback(results.join(''));\n\t  });\n\t};\n\t\n\t/**\n\t * Async array map using after\n\t */\n\t\n\tfunction map(ary, each, done) {\n\t  var result = new Array(ary.length);\n\t  var next = after(ary.length, done);\n\t\n\t  var eachWithIndex = function(i, el, cb) {\n\t    each(el, function(error, msg) {\n\t      result[i] = msg;\n\t      cb(error, result);\n\t    });\n\t  };\n\t\n\t  for (var i = 0; i < ary.length; i++) {\n\t    eachWithIndex(i, ary[i], next);\n\t  }\n\t}\n\t\n\t/*\n\t * Decodes data when a payload is maybe expected. Possible binary contents are\n\t * decoded from their base64 representation\n\t *\n\t * @param {String} data, callback method\n\t * @api public\n\t */\n\t\n\texports.decodePayload = function (data, binaryType, callback) {\n\t  if (typeof data !== 'string') {\n\t    return exports.decodePayloadAsBinary(data, binaryType, callback);\n\t  }\n\t\n\t  if (typeof binaryType === 'function') {\n\t    callback = binaryType;\n\t    binaryType = null;\n\t  }\n\t\n\t  var packet;\n\t  if (data === '') {\n\t    // parser error - ignoring payload\n\t    return callback(err, 0, 1);\n\t  }\n\t\n\t  var length = '', n, msg;\n\t\n\t  for (var i = 0, l = data.length; i < l; i++) {\n\t    var chr = data.charAt(i);\n\t\n\t    if (chr !== ':') {\n\t      length += chr;\n\t      continue;\n\t    }\n\t\n\t    if (length === '' || (length != (n = Number(length)))) {\n\t      // parser error - ignoring payload\n\t      return callback(err, 0, 1);\n\t    }\n\t\n\t    msg = data.substr(i + 1, n);\n\t\n\t    if (length != msg.length) {\n\t      // parser error - ignoring payload\n\t      return callback(err, 0, 1);\n\t    }\n\t\n\t    if (msg.length) {\n\t      packet = exports.decodePacket(msg, binaryType, false);\n\t\n\t      if (err.type === packet.type && err.data === packet.data) {\n\t        // parser error in individual packet - ignoring payload\n\t        return callback(err, 0, 1);\n\t      }\n\t\n\t      var ret = callback(packet, i + n, l);\n\t      if (false === ret) return;\n\t    }\n\t\n\t    // advance cursor\n\t    i += n;\n\t    length = '';\n\t  }\n\t\n\t  if (length !== '') {\n\t    // parser error - ignoring payload\n\t    return callback(err, 0, 1);\n\t  }\n\t\n\t};\n\t\n\t/**\n\t * Encodes multiple messages (payload) as binary.\n\t *\n\t * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n\t * 255><data>\n\t *\n\t * Example:\n\t * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n\t *\n\t * @param {Array} packets\n\t * @return {ArrayBuffer} encoded payload\n\t * @api private\n\t */\n\t\n\texports.encodePayloadAsArrayBuffer = function(packets, callback) {\n\t  if (!packets.length) {\n\t    return callback(new ArrayBuffer(0));\n\t  }\n\t\n\t  function encodeOne(packet, doneCallback) {\n\t    exports.encodePacket(packet, true, true, function(data) {\n\t      return doneCallback(null, data);\n\t    });\n\t  }\n\t\n\t  map(packets, encodeOne, function(err, encodedPackets) {\n\t    var totalLength = encodedPackets.reduce(function(acc, p) {\n\t      var len;\n\t      if (typeof p === 'string'){\n\t        len = p.length;\n\t      } else {\n\t        len = p.byteLength;\n\t      }\n\t      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n\t    }, 0);\n\t\n\t    var resultArray = new Uint8Array(totalLength);\n\t\n\t    var bufferIndex = 0;\n\t    encodedPackets.forEach(function(p) {\n\t      var isString = typeof p === 'string';\n\t      var ab = p;\n\t      if (isString) {\n\t        var view = new Uint8Array(p.length);\n\t        for (var i = 0; i < p.length; i++) {\n\t          view[i] = p.charCodeAt(i);\n\t        }\n\t        ab = view.buffer;\n\t      }\n\t\n\t      if (isString) { // not true binary\n\t        resultArray[bufferIndex++] = 0;\n\t      } else { // true binary\n\t        resultArray[bufferIndex++] = 1;\n\t      }\n\t\n\t      var lenStr = ab.byteLength.toString();\n\t      for (var i = 0; i < lenStr.length; i++) {\n\t        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n\t      }\n\t      resultArray[bufferIndex++] = 255;\n\t\n\t      var view = new Uint8Array(ab);\n\t      for (var i = 0; i < view.length; i++) {\n\t        resultArray[bufferIndex++] = view[i];\n\t      }\n\t    });\n\t\n\t    return callback(resultArray.buffer);\n\t  });\n\t};\n\t\n\t/**\n\t * Encode as Blob\n\t */\n\t\n\texports.encodePayloadAsBlob = function(packets, callback) {\n\t  function encodeOne(packet, doneCallback) {\n\t    exports.encodePacket(packet, true, true, function(encoded) {\n\t      var binaryIdentifier = new Uint8Array(1);\n\t      binaryIdentifier[0] = 1;\n\t      if (typeof encoded === 'string') {\n\t        var view = new Uint8Array(encoded.length);\n\t        for (var i = 0; i < encoded.length; i++) {\n\t          view[i] = encoded.charCodeAt(i);\n\t        }\n\t        encoded = view.buffer;\n\t        binaryIdentifier[0] = 0;\n\t      }\n\t\n\t      var len = (encoded instanceof ArrayBuffer)\n\t        ? encoded.byteLength\n\t        : encoded.size;\n\t\n\t      var lenStr = len.toString();\n\t      var lengthAry = new Uint8Array(lenStr.length + 1);\n\t      for (var i = 0; i < lenStr.length; i++) {\n\t        lengthAry[i] = parseInt(lenStr[i]);\n\t      }\n\t      lengthAry[lenStr.length] = 255;\n\t\n\t      if (Blob) {\n\t        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n\t        doneCallback(null, blob);\n\t      }\n\t    });\n\t  }\n\t\n\t  map(packets, encodeOne, function(err, results) {\n\t    return callback(new Blob(results));\n\t  });\n\t};\n\t\n\t/*\n\t * Decodes data when a payload is maybe expected. Strings are decoded by\n\t * interpreting each byte as a key code for entries marked to start with 0. See\n\t * description of encodePayloadAsBinary\n\t *\n\t * @param {ArrayBuffer} data, callback method\n\t * @api public\n\t */\n\t\n\texports.decodePayloadAsBinary = function (data, binaryType, callback) {\n\t  if (typeof binaryType === 'function') {\n\t    callback = binaryType;\n\t    binaryType = null;\n\t  }\n\t\n\t  var bufferTail = data;\n\t  var buffers = [];\n\t\n\t  while (bufferTail.byteLength > 0) {\n\t    var tailArray = new Uint8Array(bufferTail);\n\t    var isString = tailArray[0] === 0;\n\t    var msgLength = '';\n\t\n\t    for (var i = 1; ; i++) {\n\t      if (tailArray[i] === 255) break;\n\t\n\t      // 310 = char length of Number.MAX_VALUE\n\t      if (msgLength.length > 310) {\n\t        return callback(err, 0, 1);\n\t      }\n\t\n\t      msgLength += tailArray[i];\n\t    }\n\t\n\t    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n\t    msgLength = parseInt(msgLength);\n\t\n\t    var msg = sliceBuffer(bufferTail, 0, msgLength);\n\t    if (isString) {\n\t      try {\n\t        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n\t      } catch (e) {\n\t        // iPhone Safari doesn't let you apply to typed arrays\n\t        var typed = new Uint8Array(msg);\n\t        msg = '';\n\t        for (var i = 0; i < typed.length; i++) {\n\t          msg += String.fromCharCode(typed[i]);\n\t        }\n\t      }\n\t    }\n\t\n\t    buffers.push(msg);\n\t    bufferTail = sliceBuffer(bufferTail, msgLength);\n\t  }\n\t\n\t  var total = buffers.length;\n\t  buffers.forEach(function(buffer, i) {\n\t    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n\t  });\n\t};\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 130 */\n/*!********************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/~/parsejson/index.js ***!\n  \\********************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\r\n\t * JSON parse.\r\n\t *\r\n\t * @see Based on jQuery#parseJSON (MIT) and JSON2\r\n\t * @api private\r\n\t */\r\n\t\r\n\tvar rvalidchars = /^[\\],:{}\\s]*$/;\r\n\tvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\r\n\tvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\r\n\tvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\r\n\tvar rtrimLeft = /^\\s+/;\r\n\tvar rtrimRight = /\\s+$/;\r\n\t\r\n\tmodule.exports = function parsejson(data) {\r\n\t  if ('string' != typeof data || !data) {\r\n\t    return null;\r\n\t  }\r\n\t\r\n\t  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\r\n\t\r\n\t  // Attempt to parse using the native JSON parser first\r\n\t  if (global.JSON && JSON.parse) {\r\n\t    return JSON.parse(data);\r\n\t  }\r\n\t\r\n\t  if (rvalidchars.test(data.replace(rvalidescape, '@')\r\n\t      .replace(rvalidtokens, ']')\r\n\t      .replace(rvalidbraces, ''))) {\r\n\t    return (new Function('return ' + data))();\r\n\t  }\r\n\t};\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 131 */\n/*!*********************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/lib/xmlhttprequest.js ***!\n  \\*********************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {// browser shim for xmlhttprequest module\n\t\n\tvar hasCORS = __webpack_require__(/*! has-cors */ 144);\n\t\n\tmodule.exports = function (opts) {\n\t  var xdomain = opts.xdomain;\n\t\n\t  // scheme must be same when usign XDomainRequest\n\t  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n\t  var xscheme = opts.xscheme;\n\t\n\t  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n\t  // https://github.com/Automattic/engine.io-client/pull/217\n\t  var enablesXDR = opts.enablesXDR;\n\t\n\t  // XMLHttpRequest can be disabled on IE\n\t  try {\n\t    if ('undefined' !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n\t      return new XMLHttpRequest();\n\t    }\n\t  } catch (e) { }\n\t\n\t  // Use XDomainRequest for IE8 if enablesXDR is true\n\t  // because loading bar keeps flashing when using jsonp-polling\n\t  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n\t  try {\n\t    if ('undefined' !== typeof XDomainRequest && !xscheme && enablesXDR) {\n\t      return new XDomainRequest();\n\t    }\n\t  } catch (e) { }\n\t\n\t  if (!xdomain) {\n\t    try {\n\t      return new global[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP');\n\t    } catch (e) { }\n\t  }\n\t};\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 132 */\n/*!*****************************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/lib/transports/polling-xhr.js ***!\n  \\*****************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\n\t * Module requirements.\n\t */\n\t\n\tvar XMLHttpRequest = __webpack_require__(/*! xmlhttprequest-ssl */ 131);\n\tvar Polling = __webpack_require__(/*! ./polling */ 138);\n\tvar Emitter = __webpack_require__(/*! component-emitter */ 103);\n\tvar inherit = __webpack_require__(/*! component-inherit */ 145);\n\tvar debug = __webpack_require__(/*! debug */ 100)('engine.io-client:polling-xhr');\n\t\n\t/**\n\t * Module exports.\n\t */\n\t\n\tmodule.exports = XHR;\n\tmodule.exports.Request = Request;\n\t\n\t/**\n\t * Empty function\n\t */\n\t\n\tfunction empty () {}\n\t\n\t/**\n\t * XHR Polling constructor.\n\t *\n\t * @param {Object} opts\n\t * @api public\n\t */\n\t\n\tfunction XHR (opts) {\n\t  Polling.call(this, opts);\n\t  this.requestTimeout = opts.requestTimeout;\n\t  this.extraHeaders = opts.extraHeaders;\n\t\n\t  if (global.location) {\n\t    var isSSL = 'https:' === location.protocol;\n\t    var port = location.port;\n\t\n\t    // some user agents have empty `location.port`\n\t    if (!port) {\n\t      port = isSSL ? 443 : 80;\n\t    }\n\t\n\t    this.xd = opts.hostname !== global.location.hostname ||\n\t      port !== opts.port;\n\t    this.xs = opts.secure !== isSSL;\n\t  }\n\t}\n\t\n\t/**\n\t * Inherits from Polling.\n\t */\n\t\n\tinherit(XHR, Polling);\n\t\n\t/**\n\t * XHR supports binary\n\t */\n\t\n\tXHR.prototype.supportsBinary = true;\n\t\n\t/**\n\t * Creates a request.\n\t *\n\t * @param {String} method\n\t * @api private\n\t */\n\t\n\tXHR.prototype.request = function (opts) {\n\t  opts = opts || {};\n\t  opts.uri = this.uri();\n\t  opts.xd = this.xd;\n\t  opts.xs = this.xs;\n\t  opts.agent = this.agent || false;\n\t  opts.supportsBinary = this.supportsBinary;\n\t  opts.enablesXDR = this.enablesXDR;\n\t\n\t  // SSL options for Node.js client\n\t  opts.pfx = this.pfx;\n\t  opts.key = this.key;\n\t  opts.passphrase = this.passphrase;\n\t  opts.cert = this.cert;\n\t  opts.ca = this.ca;\n\t  opts.ciphers = this.ciphers;\n\t  opts.rejectUnauthorized = this.rejectUnauthorized;\n\t  opts.requestTimeout = this.requestTimeout;\n\t\n\t  // other options for Node.js client\n\t  opts.extraHeaders = this.extraHeaders;\n\t\n\t  return new Request(opts);\n\t};\n\t\n\t/**\n\t * Sends data.\n\t *\n\t * @param {String} data to send.\n\t * @param {Function} called upon flush.\n\t * @api private\n\t */\n\t\n\tXHR.prototype.doWrite = function (data, fn) {\n\t  var isBinary = typeof data !== 'string' && data !== undefined;\n\t  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n\t  var self = this;\n\t  req.on('success', fn);\n\t  req.on('error', function (err) {\n\t    self.onError('xhr post error', err);\n\t  });\n\t  this.sendXhr = req;\n\t};\n\t\n\t/**\n\t * Starts a poll cycle.\n\t *\n\t * @api private\n\t */\n\t\n\tXHR.prototype.doPoll = function () {\n\t  debug('xhr poll');\n\t  var req = this.request();\n\t  var self = this;\n\t  req.on('data', function (data) {\n\t    self.onData(data);\n\t  });\n\t  req.on('error', function (err) {\n\t    self.onError('xhr poll error', err);\n\t  });\n\t  this.pollXhr = req;\n\t};\n\t\n\t/**\n\t * Request constructor\n\t *\n\t * @param {Object} options\n\t * @api public\n\t */\n\t\n\tfunction Request (opts) {\n\t  this.method = opts.method || 'GET';\n\t  this.uri = opts.uri;\n\t  this.xd = !!opts.xd;\n\t  this.xs = !!opts.xs;\n\t  this.async = false !== opts.async;\n\t  this.data = undefined !== opts.data ? opts.data : null;\n\t  this.agent = opts.agent;\n\t  this.isBinary = opts.isBinary;\n\t  this.supportsBinary = opts.supportsBinary;\n\t  this.enablesXDR = opts.enablesXDR;\n\t  this.requestTimeout = opts.requestTimeout;\n\t\n\t  // SSL options for Node.js client\n\t  this.pfx = opts.pfx;\n\t  this.key = opts.key;\n\t  this.passphrase = opts.passphrase;\n\t  this.cert = opts.cert;\n\t  this.ca = opts.ca;\n\t  this.ciphers = opts.ciphers;\n\t  this.rejectUnauthorized = opts.rejectUnauthorized;\n\t\n\t  // other options for Node.js client\n\t  this.extraHeaders = opts.extraHeaders;\n\t\n\t  this.create();\n\t}\n\t\n\t/**\n\t * Mix in `Emitter`.\n\t */\n\t\n\tEmitter(Request.prototype);\n\t\n\t/**\n\t * Creates the XHR object and sends the request.\n\t *\n\t * @api private\n\t */\n\t\n\tRequest.prototype.create = function () {\n\t  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\t\n\t  // SSL options for Node.js client\n\t  opts.pfx = this.pfx;\n\t  opts.key = this.key;\n\t  opts.passphrase = this.passphrase;\n\t  opts.cert = this.cert;\n\t  opts.ca = this.ca;\n\t  opts.ciphers = this.ciphers;\n\t  opts.rejectUnauthorized = this.rejectUnauthorized;\n\t\n\t  var xhr = this.xhr = new XMLHttpRequest(opts);\n\t  var self = this;\n\t\n\t  try {\n\t    debug('xhr open %s: %s', this.method, this.uri);\n\t    xhr.open(this.method, this.uri, this.async);\n\t    try {\n\t      if (this.extraHeaders) {\n\t        xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n\t        for (var i in this.extraHeaders) {\n\t          if (this.extraHeaders.hasOwnProperty(i)) {\n\t            xhr.setRequestHeader(i, this.extraHeaders[i]);\n\t          }\n\t        }\n\t      }\n\t    } catch (e) {}\n\t\n\t    if ('POST' === this.method) {\n\t      try {\n\t        if (this.isBinary) {\n\t          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n\t        } else {\n\t          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n\t        }\n\t      } catch (e) {}\n\t    }\n\t\n\t    try {\n\t      xhr.setRequestHeader('Accept', '*/*');\n\t    } catch (e) {}\n\t\n\t    // ie6 check\n\t    if ('withCredentials' in xhr) {\n\t      xhr.withCredentials = true;\n\t    }\n\t\n\t    if (this.requestTimeout) {\n\t      xhr.timeout = this.requestTimeout;\n\t    }\n\t\n\t    if (this.hasXDR()) {\n\t      xhr.onload = function () {\n\t        self.onLoad();\n\t      };\n\t      xhr.onerror = function () {\n\t        self.onError(xhr.responseText);\n\t      };\n\t    } else {\n\t      xhr.onreadystatechange = function () {\n\t        if (xhr.readyState === 2) {\n\t          var contentType;\n\t          try {\n\t            contentType = xhr.getResponseHeader('Content-Type');\n\t          } catch (e) {}\n\t          if (contentType === 'application/octet-stream') {\n\t            xhr.responseType = 'arraybuffer';\n\t          }\n\t        }\n\t        if (4 !== xhr.readyState) return;\n\t        if (200 === xhr.status || 1223 === xhr.status) {\n\t          self.onLoad();\n\t        } else {\n\t          // make sure the `error` event handler that's user-set\n\t          // does not throw in the same tick and gets caught here\n\t          setTimeout(function () {\n\t            self.onError(xhr.status);\n\t          }, 0);\n\t        }\n\t      };\n\t    }\n\t\n\t    debug('xhr data %s', this.data);\n\t    xhr.send(this.data);\n\t  } catch (e) {\n\t    // Need to defer since .create() is called directly fhrom the constructor\n\t    // and thus the 'error' event can only be only bound *after* this exception\n\t    // occurs.  Therefore, also, we cannot throw here at all.\n\t    setTimeout(function () {\n\t      self.onError(e);\n\t    }, 0);\n\t    return;\n\t  }\n\t\n\t  if (global.document) {\n\t    this.index = Request.requestsCount++;\n\t    Request.requests[this.index] = this;\n\t  }\n\t};\n\t\n\t/**\n\t * Called upon successful response.\n\t *\n\t * @api private\n\t */\n\t\n\tRequest.prototype.onSuccess = function () {\n\t  this.emit('success');\n\t  this.cleanup();\n\t};\n\t\n\t/**\n\t * Called if we have data.\n\t *\n\t * @api private\n\t */\n\t\n\tRequest.prototype.onData = function (data) {\n\t  this.emit('data', data);\n\t  this.onSuccess();\n\t};\n\t\n\t/**\n\t * Called upon error.\n\t *\n\t * @api private\n\t */\n\t\n\tRequest.prototype.onError = function (err) {\n\t  this.emit('error', err);\n\t  this.cleanup(true);\n\t};\n\t\n\t/**\n\t * Cleans up house.\n\t *\n\t * @api private\n\t */\n\t\n\tRequest.prototype.cleanup = function (fromError) {\n\t  if ('undefined' === typeof this.xhr || null === this.xhr) {\n\t    return;\n\t  }\n\t  // xmlhttprequest\n\t  if (this.hasXDR()) {\n\t    this.xhr.onload = this.xhr.onerror = empty;\n\t  } else {\n\t    this.xhr.onreadystatechange = empty;\n\t  }\n\t\n\t  if (fromError) {\n\t    try {\n\t      this.xhr.abort();\n\t    } catch (e) {}\n\t  }\n\t\n\t  if (global.document) {\n\t    delete Request.requests[this.index];\n\t  }\n\t\n\t  this.xhr = null;\n\t};\n\t\n\t/**\n\t * Called upon load.\n\t *\n\t * @api private\n\t */\n\t\n\tRequest.prototype.onLoad = function () {\n\t  var data;\n\t  try {\n\t    var contentType;\n\t    try {\n\t      contentType = this.xhr.getResponseHeader('Content-Type');\n\t    } catch (e) {}\n\t    if (contentType === 'application/octet-stream') {\n\t      data = this.xhr.response || this.xhr.responseText;\n\t    } else {\n\t      data = this.xhr.responseText;\n\t    }\n\t  } catch (e) {\n\t    this.onError(e);\n\t  }\n\t  if (null != data) {\n\t    this.onData(data);\n\t  }\n\t};\n\t\n\t/**\n\t * Check if it has XDomainRequest.\n\t *\n\t * @api private\n\t */\n\t\n\tRequest.prototype.hasXDR = function () {\n\t  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n\t};\n\t\n\t/**\n\t * Aborts the request.\n\t *\n\t * @api public\n\t */\n\t\n\tRequest.prototype.abort = function () {\n\t  this.cleanup();\n\t};\n\t\n\t/**\n\t * Aborts pending requests when unloading the window. This is needed to prevent\n\t * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n\t * emitted.\n\t */\n\t\n\tRequest.requestsCount = 0;\n\tRequest.requests = {};\n\t\n\tif (global.document) {\n\t  if (global.attachEvent) {\n\t    global.attachEvent('onunload', unloadHandler);\n\t  } else if (global.addEventListener) {\n\t    global.addEventListener('beforeunload', unloadHandler, false);\n\t  }\n\t}\n\t\n\tfunction unloadHandler () {\n\t  for (var i in Request.requests) {\n\t    if (Request.requests.hasOwnProperty(i)) {\n\t      Request.requests[i].abort();\n\t    }\n\t  }\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 133 */\n/*!*******************************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/lib/transports/polling-jsonp.js ***!\n  \\*******************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {\n\t/**\n\t * Module requirements.\n\t */\n\t\n\tvar Polling = __webpack_require__(/*! ./polling */ 138);\n\tvar inherit = __webpack_require__(/*! component-inherit */ 145);\n\t\n\t/**\n\t * Module exports.\n\t */\n\t\n\tmodule.exports = JSONPPolling;\n\t\n\t/**\n\t * Cached regular expressions.\n\t */\n\t\n\tvar rNewline = /\\n/g;\n\tvar rEscapedNewline = /\\\\n/g;\n\t\n\t/**\n\t * Global JSONP callbacks.\n\t */\n\t\n\tvar callbacks;\n\t\n\t/**\n\t * Noop.\n\t */\n\t\n\tfunction empty () { }\n\t\n\t/**\n\t * JSONP Polling constructor.\n\t *\n\t * @param {Object} opts.\n\t * @api public\n\t */\n\t\n\tfunction JSONPPolling (opts) {\n\t  Polling.call(this, opts);\n\t\n\t  this.query = this.query || {};\n\t\n\t  // define global callbacks array if not present\n\t  // we do this here (lazily) to avoid unneeded global pollution\n\t  if (!callbacks) {\n\t    // we need to consider multiple engines in the same page\n\t    if (!global.___eio) global.___eio = [];\n\t    callbacks = global.___eio;\n\t  }\n\t\n\t  // callback identifier\n\t  this.index = callbacks.length;\n\t\n\t  // add callback to jsonp global\n\t  var self = this;\n\t  callbacks.push(function (msg) {\n\t    self.onData(msg);\n\t  });\n\t\n\t  // append to query string\n\t  this.query.j = this.index;\n\t\n\t  // prevent spurious errors from being emitted when the window is unloaded\n\t  if (global.document && global.addEventListener) {\n\t    global.addEventListener('beforeunload', function () {\n\t      if (self.script) self.script.onerror = empty;\n\t    }, false);\n\t  }\n\t}\n\t\n\t/**\n\t * Inherits from Polling.\n\t */\n\t\n\tinherit(JSONPPolling, Polling);\n\t\n\t/*\n\t * JSONP only supports binary as base64 encoded strings\n\t */\n\t\n\tJSONPPolling.prototype.supportsBinary = false;\n\t\n\t/**\n\t * Closes the socket.\n\t *\n\t * @api private\n\t */\n\t\n\tJSONPPolling.prototype.doClose = function () {\n\t  if (this.script) {\n\t    this.script.parentNode.removeChild(this.script);\n\t    this.script = null;\n\t  }\n\t\n\t  if (this.form) {\n\t    this.form.parentNode.removeChild(this.form);\n\t    this.form = null;\n\t    this.iframe = null;\n\t  }\n\t\n\t  Polling.prototype.doClose.call(this);\n\t};\n\t\n\t/**\n\t * Starts a poll cycle.\n\t *\n\t * @api private\n\t */\n\t\n\tJSONPPolling.prototype.doPoll = function () {\n\t  var self = this;\n\t  var script = document.createElement('script');\n\t\n\t  if (this.script) {\n\t    this.script.parentNode.removeChild(this.script);\n\t    this.script = null;\n\t  }\n\t\n\t  script.async = true;\n\t  script.src = this.uri();\n\t  script.onerror = function (e) {\n\t    self.onError('jsonp poll error', e);\n\t  };\n\t\n\t  var insertAt = document.getElementsByTagName('script')[0];\n\t  if (insertAt) {\n\t    insertAt.parentNode.insertBefore(script, insertAt);\n\t  } else {\n\t    (document.head || document.body).appendChild(script);\n\t  }\n\t  this.script = script;\n\t\n\t  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\t\n\t  if (isUAgecko) {\n\t    setTimeout(function () {\n\t      var iframe = document.createElement('iframe');\n\t      document.body.appendChild(iframe);\n\t      document.body.removeChild(iframe);\n\t    }, 100);\n\t  }\n\t};\n\t\n\t/**\n\t * Writes with a hidden iframe.\n\t *\n\t * @param {String} data to send\n\t * @param {Function} called upon flush.\n\t * @api private\n\t */\n\t\n\tJSONPPolling.prototype.doWrite = function (data, fn) {\n\t  var self = this;\n\t\n\t  if (!this.form) {\n\t    var form = document.createElement('form');\n\t    var area = document.createElement('textarea');\n\t    var id = this.iframeId = 'eio_iframe_' + this.index;\n\t    var iframe;\n\t\n\t    form.className = 'socketio';\n\t    form.style.position = 'absolute';\n\t    form.style.top = '-1000px';\n\t    form.style.left = '-1000px';\n\t    form.target = id;\n\t    form.method = 'POST';\n\t    form.setAttribute('accept-charset', 'utf-8');\n\t    area.name = 'd';\n\t    form.appendChild(area);\n\t    document.body.appendChild(form);\n\t\n\t    this.form = form;\n\t    this.area = area;\n\t  }\n\t\n\t  this.form.action = this.uri();\n\t\n\t  function complete () {\n\t    initIframe();\n\t    fn();\n\t  }\n\t\n\t  function initIframe () {\n\t    if (self.iframe) {\n\t      try {\n\t        self.form.removeChild(self.iframe);\n\t      } catch (e) {\n\t        self.onError('jsonp polling iframe removal error', e);\n\t      }\n\t    }\n\t\n\t    try {\n\t      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n\t      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n\t      iframe = document.createElement(html);\n\t    } catch (e) {\n\t      iframe = document.createElement('iframe');\n\t      iframe.name = self.iframeId;\n\t      iframe.src = 'javascript:0';\n\t    }\n\t\n\t    iframe.id = self.iframeId;\n\t\n\t    self.form.appendChild(iframe);\n\t    self.iframe = iframe;\n\t  }\n\t\n\t  initIframe();\n\t\n\t  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n\t  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n\t  data = data.replace(rEscapedNewline, '\\\\\\n');\n\t  this.area.value = data.replace(rNewline, '\\\\n');\n\t\n\t  try {\n\t    this.form.submit();\n\t  } catch (e) {}\n\t\n\t  if (this.iframe.attachEvent) {\n\t    this.iframe.onreadystatechange = function () {\n\t      if (self.iframe.readyState === 'complete') {\n\t        complete();\n\t      }\n\t    };\n\t  } else {\n\t    this.iframe.onload = complete;\n\t  }\n\t};\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 134 */\n/*!***************************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/lib/transports/websocket.js ***!\n  \\***************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\n\t * Module dependencies.\n\t */\n\t\n\tvar Transport = __webpack_require__(/*! ../transport */ 127);\n\tvar parser = __webpack_require__(/*! engine.io-parser */ 129);\n\tvar parseqs = __webpack_require__(/*! parseqs */ 108);\n\tvar inherit = __webpack_require__(/*! component-inherit */ 145);\n\tvar yeast = __webpack_require__(/*! yeast */ 146);\n\tvar debug = __webpack_require__(/*! debug */ 100)('engine.io-client:websocket');\n\tvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\n\tvar NodeWebSocket;\n\tif (typeof window === 'undefined') {\n\t  try {\n\t    NodeWebSocket = __webpack_require__(/*! ws */ 137);\n\t  } catch (e) { }\n\t}\n\t\n\t/**\n\t * Get either the `WebSocket` or `MozWebSocket` globals\n\t * in the browser or try to resolve WebSocket-compatible\n\t * interface exposed by `ws` for Node-like environment.\n\t */\n\t\n\tvar WebSocket = BrowserWebSocket;\n\tif (!WebSocket && typeof window === 'undefined') {\n\t  WebSocket = NodeWebSocket;\n\t}\n\t\n\t/**\n\t * Module exports.\n\t */\n\t\n\tmodule.exports = WS;\n\t\n\t/**\n\t * WebSocket transport constructor.\n\t *\n\t * @api {Object} connection options\n\t * @api public\n\t */\n\t\n\tfunction WS (opts) {\n\t  var forceBase64 = (opts && opts.forceBase64);\n\t  if (forceBase64) {\n\t    this.supportsBinary = false;\n\t  }\n\t  this.perMessageDeflate = opts.perMessageDeflate;\n\t  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;\n\t  this.protocols = opts.protocols;\n\t  if (!this.usingBrowserWebSocket) {\n\t    WebSocket = NodeWebSocket;\n\t  }\n\t  Transport.call(this, opts);\n\t}\n\t\n\t/**\n\t * Inherits from Transport.\n\t */\n\t\n\tinherit(WS, Transport);\n\t\n\t/**\n\t * Transport name.\n\t *\n\t * @api public\n\t */\n\t\n\tWS.prototype.name = 'websocket';\n\t\n\t/*\n\t * WebSockets support binary\n\t */\n\t\n\tWS.prototype.supportsBinary = true;\n\t\n\t/**\n\t * Opens socket.\n\t *\n\t * @api private\n\t */\n\t\n\tWS.prototype.doOpen = function () {\n\t  if (!this.check()) {\n\t    // let probe timeout\n\t    return;\n\t  }\n\t\n\t  var uri = this.uri();\n\t  var protocols = this.protocols;\n\t  var opts = {\n\t    agent: this.agent,\n\t    perMessageDeflate: this.perMessageDeflate\n\t  };\n\t\n\t  // SSL options for Node.js client\n\t  opts.pfx = this.pfx;\n\t  opts.key = this.key;\n\t  opts.passphrase = this.passphrase;\n\t  opts.cert = this.cert;\n\t  opts.ca = this.ca;\n\t  opts.ciphers = this.ciphers;\n\t  opts.rejectUnauthorized = this.rejectUnauthorized;\n\t  if (this.extraHeaders) {\n\t    opts.headers = this.extraHeaders;\n\t  }\n\t  if (this.localAddress) {\n\t    opts.localAddress = this.localAddress;\n\t  }\n\t\n\t  try {\n\t    this.ws = this.usingBrowserWebSocket ? (protocols ? new WebSocket(uri, protocols) : new WebSocket(uri)) : new WebSocket(uri, protocols, opts);\n\t  } catch (err) {\n\t    return this.emit('error', err);\n\t  }\n\t\n\t  if (this.ws.binaryType === undefined) {\n\t    this.supportsBinary = false;\n\t  }\n\t\n\t  if (this.ws.supports && this.ws.supports.binary) {\n\t    this.supportsBinary = true;\n\t    this.ws.binaryType = 'nodebuffer';\n\t  } else {\n\t    this.ws.binaryType = 'arraybuffer';\n\t  }\n\t\n\t  this.addEventListeners();\n\t};\n\t\n\t/**\n\t * Adds event listeners to the socket\n\t *\n\t * @api private\n\t */\n\t\n\tWS.prototype.addEventListeners = function () {\n\t  var self = this;\n\t\n\t  this.ws.onopen = function () {\n\t    self.onOpen();\n\t  };\n\t  this.ws.onclose = function () {\n\t    self.onClose();\n\t  };\n\t  this.ws.onmessage = function (ev) {\n\t    self.onData(ev.data);\n\t  };\n\t  this.ws.onerror = function (e) {\n\t    self.onError('websocket error', e);\n\t  };\n\t};\n\t\n\t/**\n\t * Writes data to socket.\n\t *\n\t * @param {Array} array of packets.\n\t * @api private\n\t */\n\t\n\tWS.prototype.write = function (packets) {\n\t  var self = this;\n\t  this.writable = false;\n\t\n\t  // encodePacket efficient as it uses WS framing\n\t  // no need for encodePayload\n\t  var total = packets.length;\n\t  for (var i = 0, l = total; i < l; i++) {\n\t    (function (packet) {\n\t      parser.encodePacket(packet, self.supportsBinary, function (data) {\n\t        if (!self.usingBrowserWebSocket) {\n\t          // always create a new object (GH-437)\n\t          var opts = {};\n\t          if (packet.options) {\n\t            opts.compress = packet.options.compress;\n\t          }\n\t\n\t          if (self.perMessageDeflate) {\n\t            var len = 'string' === typeof data ? global.Buffer.byteLength(data) : data.length;\n\t            if (len < self.perMessageDeflate.threshold) {\n\t              opts.compress = false;\n\t            }\n\t          }\n\t        }\n\t\n\t        // Sometimes the websocket has already been closed but the browser didn't\n\t        // have a chance of informing us about it yet, in that case send will\n\t        // throw an error\n\t        try {\n\t          if (self.usingBrowserWebSocket) {\n\t            // TypeError is thrown when passing the second argument on Safari\n\t            self.ws.send(data);\n\t          } else {\n\t            self.ws.send(data, opts);\n\t          }\n\t        } catch (e) {\n\t          debug('websocket closed before onclose event');\n\t        }\n\t\n\t        --total || done();\n\t      });\n\t    })(packets[i]);\n\t  }\n\t\n\t  function done () {\n\t    self.emit('flush');\n\t\n\t    // fake drain\n\t    // defer to next tick to allow Socket to clear writeBuffer\n\t    setTimeout(function () {\n\t      self.writable = true;\n\t      self.emit('drain');\n\t    }, 0);\n\t  }\n\t};\n\t\n\t/**\n\t * Called upon close\n\t *\n\t * @api private\n\t */\n\t\n\tWS.prototype.onClose = function () {\n\t  Transport.prototype.onClose.call(this);\n\t};\n\t\n\t/**\n\t * Closes socket.\n\t *\n\t * @api private\n\t */\n\t\n\tWS.prototype.doClose = function () {\n\t  if (typeof this.ws !== 'undefined') {\n\t    this.ws.close();\n\t  }\n\t};\n\t\n\t/**\n\t * Generates uri for connection.\n\t *\n\t * @api private\n\t */\n\t\n\tWS.prototype.uri = function () {\n\t  var query = this.query || {};\n\t  var schema = this.secure ? 'wss' : 'ws';\n\t  var port = '';\n\t\n\t  // avoid port if default for schema\n\t  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||\n\t    ('ws' === schema && Number(this.port) !== 80))) {\n\t    port = ':' + this.port;\n\t  }\n\t\n\t  // append timestamp to URI\n\t  if (this.timestampRequests) {\n\t    query[this.timestampParam] = yeast();\n\t  }\n\t\n\t  // communicate binary support capabilities\n\t  if (!this.supportsBinary) {\n\t    query.b64 = 1;\n\t  }\n\t\n\t  query = parseqs.encode(query);\n\t\n\t  // prepend ? to query\n\t  if (query.length) {\n\t    query = '?' + query;\n\t  }\n\t\n\t  var ipv6 = this.hostname.indexOf(':') !== -1;\n\t  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n\t};\n\t\n\t/**\n\t * Feature detection for WebSocket.\n\t *\n\t * @return {Boolean} whether this transport is available.\n\t * @api public\n\t */\n\t\n\tWS.prototype.check = function () {\n\t  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n\t};\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 135 */\n/*!******************************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/lib/keys.js ***!\n  \\******************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/**\n\t * Gets the keys for an object.\n\t *\n\t * @return {Array} keys\n\t * @api private\n\t */\n\t\n\tmodule.exports = Object.keys || function keys (obj){\n\t  var arr = [];\n\t  var has = Object.prototype.hasOwnProperty;\n\t\n\t  for (var i in obj) {\n\t    if (has.call(obj, i)) {\n\t      arr.push(i);\n\t    }\n\t  }\n\t  return arr;\n\t};\n\n\n/***/ },\n/* 136 */\n/*!******************************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/lib/utf8.js ***!\n  \\******************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module, global) {/*! https://mths.be/utf8js v2.1.2 by @mathias */\n\t;(function(root) {\n\t\n\t\t// Detect free variables `exports`\n\t\tvar freeExports = typeof exports == 'object' && exports;\n\t\n\t\t// Detect free variable `module`\n\t\tvar freeModule = typeof module == 'object' && module &&\n\t\t\tmodule.exports == freeExports && module;\n\t\n\t\t// Detect free variable `global`, from Node.js or Browserified code,\n\t\t// and use it as `root`\n\t\tvar freeGlobal = typeof global == 'object' && global;\n\t\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\t\troot = freeGlobal;\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tvar stringFromCharCode = String.fromCharCode;\n\t\n\t\t// Taken from https://mths.be/punycode\n\t\tfunction ucs2decode(string) {\n\t\t\tvar output = [];\n\t\t\tvar counter = 0;\n\t\t\tvar length = string.length;\n\t\t\tvar value;\n\t\t\tvar extra;\n\t\t\twhile (counter < length) {\n\t\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\t\toutput.push(value);\n\t\t\t\t\t\tcounter--;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\toutput.push(value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\t\n\t\t// Taken from https://mths.be/punycode\n\t\tfunction ucs2encode(array) {\n\t\t\tvar length = array.length;\n\t\t\tvar index = -1;\n\t\t\tvar value;\n\t\t\tvar output = '';\n\t\t\twhile (++index < length) {\n\t\t\t\tvalue = array[index];\n\t\t\t\tif (value > 0xFFFF) {\n\t\t\t\t\tvalue -= 0x10000;\n\t\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t\t}\n\t\t\t\toutput += stringFromCharCode(value);\n\t\t\t}\n\t\t\treturn output;\n\t\t}\n\t\n\t\tfunction checkScalarValue(codePoint, strict) {\n\t\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\t\tif (strict) {\n\t\t\t\t\tthrow Error(\n\t\t\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t\t\t' is not a scalar value'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tfunction createByte(codePoint, shift) {\n\t\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t\t}\n\t\n\t\tfunction encodeCodePoint(codePoint, strict) {\n\t\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\t\treturn stringFromCharCode(codePoint);\n\t\t\t}\n\t\t\tvar symbol = '';\n\t\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t\t}\n\t\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\t\tif (!checkScalarValue(codePoint, strict)) {\n\t\t\t\t\tcodePoint = 0xFFFD;\n\t\t\t\t}\n\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\t\tsymbol += createByte(codePoint, 6);\n\t\t\t}\n\t\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\t\tsymbol += createByte(codePoint, 6);\n\t\t\t}\n\t\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\t\treturn symbol;\n\t\t}\n\t\n\t\tfunction utf8encode(string, opts) {\n\t\t\topts = opts || {};\n\t\t\tvar strict = false !== opts.strict;\n\t\n\t\t\tvar codePoints = ucs2decode(string);\n\t\t\tvar length = codePoints.length;\n\t\t\tvar index = -1;\n\t\t\tvar codePoint;\n\t\t\tvar byteString = '';\n\t\t\twhile (++index < length) {\n\t\t\t\tcodePoint = codePoints[index];\n\t\t\t\tbyteString += encodeCodePoint(codePoint, strict);\n\t\t\t}\n\t\t\treturn byteString;\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tfunction readContinuationByte() {\n\t\t\tif (byteIndex >= byteCount) {\n\t\t\t\tthrow Error('Invalid byte index');\n\t\t\t}\n\t\n\t\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\t\tbyteIndex++;\n\t\n\t\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\t\treturn continuationByte & 0x3F;\n\t\t\t}\n\t\n\t\t\t// If we end up here, its not a continuation byte\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t\n\t\tfunction decodeSymbol(strict) {\n\t\t\tvar byte1;\n\t\t\tvar byte2;\n\t\t\tvar byte3;\n\t\t\tvar byte4;\n\t\t\tvar codePoint;\n\t\n\t\t\tif (byteIndex > byteCount) {\n\t\t\t\tthrow Error('Invalid byte index');\n\t\t\t}\n\t\n\t\t\tif (byteIndex == byteCount) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\n\t\t\t// Read first byte\n\t\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\t\tbyteIndex++;\n\t\n\t\t\t// 1-byte sequence (no continuation bytes)\n\t\t\tif ((byte1 & 0x80) == 0) {\n\t\t\t\treturn byte1;\n\t\t\t}\n\t\n\t\t\t// 2-byte sequence\n\t\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\t\tbyte2 = readContinuationByte();\n\t\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\t\tif (codePoint >= 0x80) {\n\t\t\t\t\treturn codePoint;\n\t\t\t\t} else {\n\t\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\t\tbyte2 = readContinuationByte();\n\t\t\t\tbyte3 = readContinuationByte();\n\t\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\t\treturn checkScalarValue(codePoint, strict) ? codePoint : 0xFFFD;\n\t\t\t\t} else {\n\t\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// 4-byte sequence\n\t\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\t\tbyte2 = readContinuationByte();\n\t\t\t\tbyte3 = readContinuationByte();\n\t\t\t\tbyte4 = readContinuationByte();\n\t\t\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\t\treturn codePoint;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tthrow Error('Invalid UTF-8 detected');\n\t\t}\n\t\n\t\tvar byteArray;\n\t\tvar byteCount;\n\t\tvar byteIndex;\n\t\tfunction utf8decode(byteString, opts) {\n\t\t\topts = opts || {};\n\t\t\tvar strict = false !== opts.strict;\n\t\n\t\t\tbyteArray = ucs2decode(byteString);\n\t\t\tbyteCount = byteArray.length;\n\t\t\tbyteIndex = 0;\n\t\t\tvar codePoints = [];\n\t\t\tvar tmp;\n\t\t\twhile ((tmp = decodeSymbol(strict)) !== false) {\n\t\t\t\tcodePoints.push(tmp);\n\t\t\t}\n\t\t\treturn ucs2encode(codePoints);\n\t\t}\n\t\n\t\t/*--------------------------------------------------------------------------*/\n\t\n\t\tvar utf8 = {\n\t\t\t'version': '2.1.2',\n\t\t\t'encode': utf8encode,\n\t\t\t'decode': utf8decode\n\t\t};\n\t\n\t\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t\t// like the following:\n\t\tif (\n\t\t\ttrue\n\t\t) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n\t\t\t\treturn utf8;\n\t\t\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\t\tfreeModule.exports = utf8;\n\t\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\t\tvar object = {};\n\t\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\t\tfor (var key in utf8) {\n\t\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else { // in Rhino or a web browser\n\t\t\troot.utf8 = utf8;\n\t\t}\n\t\n\t}(this));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! (webpack)/buildin/module.js */ 76)(module), (function() { return this; }())))\n\n/***/ },\n/* 137 */\n/*!********************!*\\\n  !*** ws (ignored) ***!\n  \\********************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* (ignored) */\n\n/***/ },\n/* 138 */\n/*!*************************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/lib/transports/polling.js ***!\n  \\*************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * Module dependencies.\n\t */\n\t\n\tvar Transport = __webpack_require__(/*! ../transport */ 127);\n\tvar parseqs = __webpack_require__(/*! parseqs */ 108);\n\tvar parser = __webpack_require__(/*! engine.io-parser */ 129);\n\tvar inherit = __webpack_require__(/*! component-inherit */ 145);\n\tvar yeast = __webpack_require__(/*! yeast */ 146);\n\tvar debug = __webpack_require__(/*! debug */ 100)('engine.io-client:polling');\n\t\n\t/**\n\t * Module exports.\n\t */\n\t\n\tmodule.exports = Polling;\n\t\n\t/**\n\t * Is XHR2 supported?\n\t */\n\t\n\tvar hasXHR2 = (function () {\n\t  var XMLHttpRequest = __webpack_require__(/*! xmlhttprequest-ssl */ 131);\n\t  var xhr = new XMLHttpRequest({ xdomain: false });\n\t  return null != xhr.responseType;\n\t})();\n\t\n\t/**\n\t * Polling interface.\n\t *\n\t * @param {Object} opts\n\t * @api private\n\t */\n\t\n\tfunction Polling (opts) {\n\t  var forceBase64 = (opts && opts.forceBase64);\n\t  if (!hasXHR2 || forceBase64) {\n\t    this.supportsBinary = false;\n\t  }\n\t  Transport.call(this, opts);\n\t}\n\t\n\t/**\n\t * Inherits from Transport.\n\t */\n\t\n\tinherit(Polling, Transport);\n\t\n\t/**\n\t * Transport name.\n\t */\n\t\n\tPolling.prototype.name = 'polling';\n\t\n\t/**\n\t * Opens the socket (triggers polling). We write a PING message to determine\n\t * when the transport is open.\n\t *\n\t * @api private\n\t */\n\t\n\tPolling.prototype.doOpen = function () {\n\t  this.poll();\n\t};\n\t\n\t/**\n\t * Pauses polling.\n\t *\n\t * @param {Function} callback upon buffers are flushed and transport is paused\n\t * @api private\n\t */\n\t\n\tPolling.prototype.pause = function (onPause) {\n\t  var self = this;\n\t\n\t  this.readyState = 'pausing';\n\t\n\t  function pause () {\n\t    debug('paused');\n\t    self.readyState = 'paused';\n\t    onPause();\n\t  }\n\t\n\t  if (this.polling || !this.writable) {\n\t    var total = 0;\n\t\n\t    if (this.polling) {\n\t      debug('we are currently polling - waiting to pause');\n\t      total++;\n\t      this.once('pollComplete', function () {\n\t        debug('pre-pause polling complete');\n\t        --total || pause();\n\t      });\n\t    }\n\t\n\t    if (!this.writable) {\n\t      debug('we are currently writing - waiting to pause');\n\t      total++;\n\t      this.once('drain', function () {\n\t        debug('pre-pause writing complete');\n\t        --total || pause();\n\t      });\n\t    }\n\t  } else {\n\t    pause();\n\t  }\n\t};\n\t\n\t/**\n\t * Starts polling cycle.\n\t *\n\t * @api public\n\t */\n\t\n\tPolling.prototype.poll = function () {\n\t  debug('polling');\n\t  this.polling = true;\n\t  this.doPoll();\n\t  this.emit('poll');\n\t};\n\t\n\t/**\n\t * Overloads onData to detect payloads.\n\t *\n\t * @api private\n\t */\n\t\n\tPolling.prototype.onData = function (data) {\n\t  var self = this;\n\t  debug('polling got data %s', data);\n\t  var callback = function (packet, index, total) {\n\t    // if its the first message we consider the transport open\n\t    if ('opening' === self.readyState) {\n\t      self.onOpen();\n\t    }\n\t\n\t    // if its a close packet, we close the ongoing requests\n\t    if ('close' === packet.type) {\n\t      self.onClose();\n\t      return false;\n\t    }\n\t\n\t    // otherwise bypass onData and handle the message\n\t    self.onPacket(packet);\n\t  };\n\t\n\t  // decode payload\n\t  parser.decodePayload(data, this.socket.binaryType, callback);\n\t\n\t  // if an event did not trigger closing\n\t  if ('closed' !== this.readyState) {\n\t    // if we got data we're not polling\n\t    this.polling = false;\n\t    this.emit('pollComplete');\n\t\n\t    if ('open' === this.readyState) {\n\t      this.poll();\n\t    } else {\n\t      debug('ignoring poll - transport state \"%s\"', this.readyState);\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * For polling, send a close packet.\n\t *\n\t * @api private\n\t */\n\t\n\tPolling.prototype.doClose = function () {\n\t  var self = this;\n\t\n\t  function close () {\n\t    debug('writing close packet');\n\t    self.write([{ type: 'close' }]);\n\t  }\n\t\n\t  if ('open' === this.readyState) {\n\t    debug('transport open - closing');\n\t    close();\n\t  } else {\n\t    // in case we're trying to close while\n\t    // handshaking is in progress (GH-164)\n\t    debug('transport not open - deferring close');\n\t    this.once('open', close);\n\t  }\n\t};\n\t\n\t/**\n\t * Writes a packets payload.\n\t *\n\t * @param {Array} data packets\n\t * @param {Function} drain callback\n\t * @api private\n\t */\n\t\n\tPolling.prototype.write = function (packets) {\n\t  var self = this;\n\t  this.writable = false;\n\t  var callbackfn = function () {\n\t    self.writable = true;\n\t    self.emit('drain');\n\t  };\n\t\n\t  parser.encodePayload(packets, this.supportsBinary, function (data) {\n\t    self.doWrite(data, callbackfn);\n\t  });\n\t};\n\t\n\t/**\n\t * Generates uri for connection.\n\t *\n\t * @api private\n\t */\n\t\n\tPolling.prototype.uri = function () {\n\t  var query = this.query || {};\n\t  var schema = this.secure ? 'https' : 'http';\n\t  var port = '';\n\t\n\t  // cache busting is forced\n\t  if (false !== this.timestampRequests) {\n\t    query[this.timestampParam] = yeast();\n\t  }\n\t\n\t  if (!this.supportsBinary && !query.sid) {\n\t    query.b64 = 1;\n\t  }\n\t\n\t  query = parseqs.encode(query);\n\t\n\t  // avoid port if default for schema\n\t  if (this.port && (('https' === schema && Number(this.port) !== 443) ||\n\t     ('http' === schema && Number(this.port) !== 80))) {\n\t    port = ':' + this.port;\n\t  }\n\t\n\t  // prepend ? to query\n\t  if (query.length) {\n\t    query = '?' + query;\n\t  }\n\t\n\t  var ipv6 = this.hostname.indexOf(':') !== -1;\n\t  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n\t};\n\n\n/***/ },\n/* 139 */\n/*!*****************************************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/has-binary2/index.js ***!\n  \\*****************************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/* global Blob File */\n\t\n\t/*\n\t * Module requirements.\n\t */\n\t\n\tvar isArray = __webpack_require__(/*! isarray */ 147);\n\t\n\tvar toString = Object.prototype.toString;\n\tvar withNativeBlob = typeof global.Blob === 'function' || toString.call(global.Blob) === '[object BlobConstructor]';\n\tvar withNativeFile = typeof global.File === 'function' || toString.call(global.File) === '[object FileConstructor]';\n\t\n\t/**\n\t * Module exports.\n\t */\n\t\n\tmodule.exports = hasBinary;\n\t\n\t/**\n\t * Checks for binary data.\n\t *\n\t * Supports Buffer, ArrayBuffer, Blob and File.\n\t *\n\t * @param {Object} anything\n\t * @api public\n\t */\n\t\n\tfunction hasBinary (obj) {\n\t  if (!obj || typeof obj !== 'object') {\n\t    return false;\n\t  }\n\t\n\t  if (isArray(obj)) {\n\t    for (var i = 0, l = obj.length; i < l; i++) {\n\t      if (hasBinary(obj[i])) {\n\t        return true;\n\t      }\n\t    }\n\t    return false;\n\t  }\n\t\n\t  if ((typeof global.Buffer === 'function' && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\n\t     (typeof global.ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||\n\t     (withNativeBlob && obj instanceof Blob) ||\n\t     (withNativeFile && obj instanceof File)\n\t    ) {\n\t    return true;\n\t  }\n\t\n\t  // see: https://github.com/Automattic/has-binary/pull/4\n\t  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {\n\t    return hasBinary(obj.toJSON(), true);\n\t  }\n\t\n\t  for (var key in obj) {\n\t    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n\t      return true;\n\t    }\n\t  }\n\t\n\t  return false;\n\t}\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 140 */\n/*!***********************************************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/arraybuffer.slice/index.js ***!\n  \\***********************************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/**\n\t * An abstraction for slicing an arraybuffer even when\n\t * ArrayBuffer.prototype.slice is not supported\n\t *\n\t * @api public\n\t */\n\t\n\tmodule.exports = function(arraybuffer, start, end) {\n\t  var bytes = arraybuffer.byteLength;\n\t  start = start || 0;\n\t  end = end || bytes;\n\t\n\t  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\t\n\t  if (start < 0) { start += bytes; }\n\t  if (end < 0) { end += bytes; }\n\t  if (end > bytes) { end = bytes; }\n\t\n\t  if (start >= bytes || start >= end || bytes === 0) {\n\t    return new ArrayBuffer(0);\n\t  }\n\t\n\t  var abv = new Uint8Array(arraybuffer);\n\t  var result = new Uint8Array(end - start);\n\t  for (var i = start, ii = 0; i < end; i++, ii++) {\n\t    result[ii] = abv[i];\n\t  }\n\t  return result.buffer;\n\t};\n\n\n/***/ },\n/* 141 */\n/*!***********************************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/after/index.js ***!\n  \\***********************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = after\n\t\n\tfunction after(count, callback, err_cb) {\n\t    var bail = false\n\t    err_cb = err_cb || noop\n\t    proxy.count = count\n\t\n\t    return (count === 0) ? callback() : proxy\n\t\n\t    function proxy(err, result) {\n\t        if (proxy.count <= 0) {\n\t            throw new Error('after called too many times')\n\t        }\n\t        --proxy.count\n\t\n\t        // after first error, rest are passed to err_cb\n\t        if (err) {\n\t            bail = true\n\t            callback(err)\n\t            // future error callbacks will go to error handler\n\t            callback = err_cb\n\t        } else if (proxy.count === 0 && !bail) {\n\t            callback(null, result)\n\t        }\n\t    }\n\t}\n\t\n\tfunction noop() {}\n\n\n/***/ },\n/* 142 */\n/*!**********************************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/blob/index.js ***!\n  \\**********************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {/**\n\t * Create a blob builder even when vendor prefixes exist\n\t */\n\t\n\tvar BlobBuilder = global.BlobBuilder\n\t  || global.WebKitBlobBuilder\n\t  || global.MSBlobBuilder\n\t  || global.MozBlobBuilder;\n\t\n\t/**\n\t * Check if Blob constructor is supported\n\t */\n\t\n\tvar blobSupported = (function() {\n\t  try {\n\t    var a = new Blob(['hi']);\n\t    return a.size === 2;\n\t  } catch(e) {\n\t    return false;\n\t  }\n\t})();\n\t\n\t/**\n\t * Check if Blob constructor supports ArrayBufferViews\n\t * Fails in Safari 6, so we need to map to ArrayBuffers there.\n\t */\n\t\n\tvar blobSupportsArrayBufferView = blobSupported && (function() {\n\t  try {\n\t    var b = new Blob([new Uint8Array([1,2])]);\n\t    return b.size === 2;\n\t  } catch(e) {\n\t    return false;\n\t  }\n\t})();\n\t\n\t/**\n\t * Check if BlobBuilder is supported\n\t */\n\t\n\tvar blobBuilderSupported = BlobBuilder\n\t  && BlobBuilder.prototype.append\n\t  && BlobBuilder.prototype.getBlob;\n\t\n\t/**\n\t * Helper function that maps ArrayBufferViews to ArrayBuffers\n\t * Used by BlobBuilder constructor and old browsers that didn't\n\t * support it in the Blob constructor.\n\t */\n\t\n\tfunction mapArrayBufferViews(ary) {\n\t  for (var i = 0; i < ary.length; i++) {\n\t    var chunk = ary[i];\n\t    if (chunk.buffer instanceof ArrayBuffer) {\n\t      var buf = chunk.buffer;\n\t\n\t      // if this is a subarray, make a copy so we only\n\t      // include the subarray region from the underlying buffer\n\t      if (chunk.byteLength !== buf.byteLength) {\n\t        var copy = new Uint8Array(chunk.byteLength);\n\t        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n\t        buf = copy.buffer;\n\t      }\n\t\n\t      ary[i] = buf;\n\t    }\n\t  }\n\t}\n\t\n\tfunction BlobBuilderConstructor(ary, options) {\n\t  options = options || {};\n\t\n\t  var bb = new BlobBuilder();\n\t  mapArrayBufferViews(ary);\n\t\n\t  for (var i = 0; i < ary.length; i++) {\n\t    bb.append(ary[i]);\n\t  }\n\t\n\t  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n\t};\n\t\n\tfunction BlobConstructor(ary, options) {\n\t  mapArrayBufferViews(ary);\n\t  return new Blob(ary, options || {});\n\t};\n\t\n\tmodule.exports = (function() {\n\t  if (blobSupported) {\n\t    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n\t  } else if (blobBuilderSupported) {\n\t    return BlobBuilderConstructor;\n\t  } else {\n\t    return undefined;\n\t  }\n\t})();\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 143 */\n/*!***************************************************************************!*\\\n  !*** ./~/socket.io-client/~/base64-arraybuffer/lib/base64-arraybuffer.js ***!\n  \\***************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * base64-arraybuffer\n\t * https://github.com/niklasvh/base64-arraybuffer\n\t *\n\t * Copyright (c) 2012 Niklas von Hertzen\n\t * Licensed under the MIT license.\n\t */\n\t(function(){\n\t  \"use strict\";\n\t\n\t  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\t\n\t  // Use a lookup table to find the index.\n\t  var lookup = new Uint8Array(256);\n\t  for (var i = 0; i < chars.length; i++) {\n\t    lookup[chars.charCodeAt(i)] = i;\n\t  }\n\t\n\t  exports.encode = function(arraybuffer) {\n\t    var bytes = new Uint8Array(arraybuffer),\n\t    i, len = bytes.length, base64 = \"\";\n\t\n\t    for (i = 0; i < len; i+=3) {\n\t      base64 += chars[bytes[i] >> 2];\n\t      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n\t      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n\t      base64 += chars[bytes[i + 2] & 63];\n\t    }\n\t\n\t    if ((len % 3) === 2) {\n\t      base64 = base64.substring(0, base64.length - 1) + \"=\";\n\t    } else if (len % 3 === 1) {\n\t      base64 = base64.substring(0, base64.length - 2) + \"==\";\n\t    }\n\t\n\t    return base64;\n\t  };\n\t\n\t  exports.decode =  function(base64) {\n\t    var bufferLength = base64.length * 0.75,\n\t    len = base64.length, i, p = 0,\n\t    encoded1, encoded2, encoded3, encoded4;\n\t\n\t    if (base64[base64.length - 1] === \"=\") {\n\t      bufferLength--;\n\t      if (base64[base64.length - 2] === \"=\") {\n\t        bufferLength--;\n\t      }\n\t    }\n\t\n\t    var arraybuffer = new ArrayBuffer(bufferLength),\n\t    bytes = new Uint8Array(arraybuffer);\n\t\n\t    for (i = 0; i < len; i+=4) {\n\t      encoded1 = lookup[base64.charCodeAt(i)];\n\t      encoded2 = lookup[base64.charCodeAt(i+1)];\n\t      encoded3 = lookup[base64.charCodeAt(i+2)];\n\t      encoded4 = lookup[base64.charCodeAt(i+3)];\n\t\n\t      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n\t      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n\t      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n\t    }\n\t\n\t    return arraybuffer;\n\t  };\n\t})();\n\n\n/***/ },\n/* 144 */\n/*!************************************************!*\\\n  !*** ./~/socket.io-client/~/has-cors/index.js ***!\n  \\************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/**\n\t * Module exports.\n\t *\n\t * Logic borrowed from Modernizr:\n\t *\n\t *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n\t */\n\t\n\ttry {\n\t  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n\t    'withCredentials' in new XMLHttpRequest();\n\t} catch (err) {\n\t  // if XMLHttp support is disabled in IE then it will throw\n\t  // when trying to create\n\t  module.exports = false;\n\t}\n\n\n/***/ },\n/* 145 */\n/*!****************************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/~/component-inherit/index.js ***!\n  \\****************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\tmodule.exports = function(a, b){\n\t  var fn = function(){};\n\t  fn.prototype = b.prototype;\n\t  a.prototype = new fn;\n\t  a.prototype.constructor = a;\n\t};\n\n/***/ },\n/* 146 */\n/*!****************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/~/yeast/index.js ***!\n  \\****************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n\t  , length = 64\n\t  , map = {}\n\t  , seed = 0\n\t  , i = 0\n\t  , prev;\n\t\n\t/**\n\t * Return a string representing the specified number.\n\t *\n\t * @param {Number} num The number to convert.\n\t * @returns {String} The string representation of the number.\n\t * @api public\n\t */\n\tfunction encode(num) {\n\t  var encoded = '';\n\t\n\t  do {\n\t    encoded = alphabet[num % length] + encoded;\n\t    num = Math.floor(num / length);\n\t  } while (num > 0);\n\t\n\t  return encoded;\n\t}\n\t\n\t/**\n\t * Return the integer value specified by the given string.\n\t *\n\t * @param {String} str The string to convert.\n\t * @returns {Number} The integer value represented by the string.\n\t * @api public\n\t */\n\tfunction decode(str) {\n\t  var decoded = 0;\n\t\n\t  for (i = 0; i < str.length; i++) {\n\t    decoded = decoded * length + map[str.charAt(i)];\n\t  }\n\t\n\t  return decoded;\n\t}\n\t\n\t/**\n\t * Yeast: A tiny growing id generator.\n\t *\n\t * @returns {String} A unique id.\n\t * @api public\n\t */\n\tfunction yeast() {\n\t  var now = encode(+new Date());\n\t\n\t  if (now !== prev) return seed = 0, prev = now;\n\t  return now +'.'+ encode(seed++);\n\t}\n\t\n\t//\n\t// Map each character to its index.\n\t//\n\tfor (; i < length; i++) map[alphabet[i]] = i;\n\t\n\t//\n\t// Expose the `yeast`, `encode` and `decode` functions.\n\t//\n\tyeast.encode = encode;\n\tyeast.decode = decode;\n\tmodule.exports = yeast;\n\n\n/***/ },\n/* 147 */\n/*!***************************************************************************************************!*\\\n  !*** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/has-binary2/~/isarray/index.js ***!\n  \\***************************************************************************************************/\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar toString = {}.toString;\n\t\n\tmodule.exports = Array.isArray || function (arr) {\n\t  return toString.call(arr) == '[object Array]';\n\t};\n\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** 3.3.js?77ae89475a9e0876054f\n **/","'use strict';\r\n\r\nvar async = require('async'), me = require('./myself.js'), printf = require('printf'), etc = require('./etc.js'), EventEmitter = require('events');\r\nvar wins = require('./windows.js');\r\n\r\nvar Loader = laya.net.Loader;\r\nvar Handler = laya.utils.Handler;\r\nvar innerStage;\r\n\r\n\r\nvar uidefine = {\r\n    'login': require('./mainUI.js'),\r\n    'hall': function() {\r\n        var args = arguments;\r\n        var loader = require('bundle!./mainUI.js');\r\n        loader(function(creator) {\r\n            creator.apply(null, args);\r\n        })\r\n    },\r\n    'gamefish': function() {\r\n        var args = arguments;\r\n        var loader = require('bundle!./gameUI.js');\r\n        loader(function(creator) {\r\n            creator.apply(null, args);\r\n        })\r\n    },\r\n    'loading': function() {\r\n        var args = arguments;\r\n        var loader = require('bundle!./loadingUI.js');\r\n        console.log('load1')\r\n        loader(function(creator) {\r\n            creator.apply(null, args);\r\n        })\r\n    },\r\n};\r\nvar uiCreator = function(name, opt, cb) {\r\n    if (uidefine[name]) {\r\n        return uidefine[name](opt, cb);\r\n    }\r\n    cb('no such view');\r\n}\r\nvar ui = {\r\n    views: {},\r\n    current: null,\r\n    get: function(viewname, opt, cb) {\r\n        console.log('get')\r\n        var self = this;\r\n        // if (this.views[viewname]) return cb(null, this.views[viewname]);\r\n        uiCreator(viewname, opt, function(err, view) {\r\n            console.log(viewname, 'created', );\r\n            if (err) return cb(err);\r\n            //self.views[viewname]=view;\r\n            cb(null, view);\r\n        });\r\n    },\r\n    active: function(viewname, opt, cb) {\r\n        var self = this;\r\n        this.get(viewname, opt, function(err, view) {\r\n            console.log('errr1')\r\n            if (err) return (cb && cb(err));\r\n            console.log('enter', viewname);\r\n            if (view == self.current) return (cb && cb(null, view));\r\n            if (self.current) {\r\n                self.current.deactive && self.current.deactive();\r\n                fairygui.GRoot.inst.removeChild(self.current._view);\r\n            }\r\n            Laya.SoundManager.stopAll();\r\n            view._view.setSize(fairygui.GRoot.inst.width, fairygui.GRoot.inst.height);\r\n            view._view.addRelation(fairygui.GRoot.inst, fairygui.RelationType.Size);\r\n            fairygui.GRoot.inst.addChild(view._view);\r\n            self.current = view;\r\n            cb && cb(null, view);\r\n        });\r\n    }\r\n};\r\n\r\nmodule.exports = ui;\n\n\n/** WEBPACK FOOTER **\n ** ./client/ui.js\n **/","/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function() {'use strict';var l=this;function p(b,e){var a=b.split(\".\"),c=l;!(a[0]in c)&&c.execScript&&c.execScript(\"var \"+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&void 0!==e?c[d]=e:c=c[d]?c[d]:c[d]={}};var q=\"undefined\"!==typeof Uint8Array&&\"undefined\"!==typeof Uint16Array&&\"undefined\"!==typeof Uint32Array&&\"undefined\"!==typeof DataView;function t(b){var e=b.length,a=0,c=Number.POSITIVE_INFINITY,d,f,g,h,k,m,r,n,s,J;for(n=0;n<e;++n)b[n]>a&&(a=b[n]),b[n]<c&&(c=b[n]);d=1<<a;f=new (q?Uint32Array:Array)(d);g=1;h=0;for(k=2;g<=a;){for(n=0;n<e;++n)if(b[n]===g){m=0;r=h;for(s=0;s<g;++s)m=m<<1|r&1,r>>=1;J=g<<16|n;for(s=m;s<d;s+=k)f[s]=J;++h}++g;h<<=1;k<<=1}return[f,a,c]};function u(b,e){this.g=[];this.h=32768;this.c=this.f=this.d=this.k=0;this.input=q?new Uint8Array(b):b;this.l=!1;this.i=v;this.q=!1;if(e||!(e={}))e.index&&(this.d=e.index),e.bufferSize&&(this.h=e.bufferSize),e.bufferType&&(this.i=e.bufferType),e.resize&&(this.q=e.resize);switch(this.i){case w:this.a=32768;this.b=new (q?Uint8Array:Array)(32768+this.h+258);break;case v:this.a=0;this.b=new (q?Uint8Array:Array)(this.h);this.e=this.v;this.m=this.s;this.j=this.t;break;default:throw Error(\"invalid inflate mode\");\n}}var w=0,v=1;\nu.prototype.u=function(){for(;!this.l;){var b=x(this,3);b&1&&(this.l=!0);b>>>=1;switch(b){case 0:var e=this.input,a=this.d,c=this.b,d=this.a,f=e.length,g=void 0,h=void 0,k=c.length,m=void 0;this.c=this.f=0;if(a+1>=f)throw Error(\"invalid uncompressed block header: LEN\");g=e[a++]|e[a++]<<8;if(a+1>=f)throw Error(\"invalid uncompressed block header: NLEN\");h=e[a++]|e[a++]<<8;if(g===~h)throw Error(\"invalid uncompressed block header: length verify\");if(a+g>e.length)throw Error(\"input buffer is broken\");switch(this.i){case w:for(;d+\ng>c.length;){m=k-d;g-=m;if(q)c.set(e.subarray(a,a+m),d),d+=m,a+=m;else for(;m--;)c[d++]=e[a++];this.a=d;c=this.e();d=this.a}break;case v:for(;d+g>c.length;)c=this.e({o:2});break;default:throw Error(\"invalid inflate mode\");}if(q)c.set(e.subarray(a,a+g),d),d+=g,a+=g;else for(;g--;)c[d++]=e[a++];this.d=a;this.a=d;this.b=c;break;case 1:this.j(y,z);break;case 2:A(this);break;default:throw Error(\"unknown BTYPE: \"+b);}}return this.m()};\nvar B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=q?new Uint16Array(B):B,D=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],E=q?new Uint16Array(D):D,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],G=q?new Uint8Array(F):F,H=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],I=q?new Uint16Array(H):H,K=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,\n13],L=q?new Uint8Array(K):K,M=new (q?Uint8Array:Array)(288),N,O;N=0;for(O=M.length;N<O;++N)M[N]=143>=N?8:255>=N?9:279>=N?7:8;var y=t(M),P=new (q?Uint8Array:Array)(30),Q,R;Q=0;for(R=P.length;Q<R;++Q)P[Q]=5;var z=t(P);function x(b,e){for(var a=b.f,c=b.c,d=b.input,f=b.d,g=d.length,h;c<e;){if(f>=g)throw Error(\"input buffer is broken\");a|=d[f++]<<c;c+=8}h=a&(1<<e)-1;b.f=a>>>e;b.c=c-e;b.d=f;return h}\nfunction S(b,e){for(var a=b.f,c=b.c,d=b.input,f=b.d,g=d.length,h=e[0],k=e[1],m,r;c<k&&!(f>=g);)a|=d[f++]<<c,c+=8;m=h[a&(1<<k)-1];r=m>>>16;b.f=a>>r;b.c=c-r;b.d=f;return m&65535}\nfunction A(b){function e(a,b,c){var e,d=this.p,f,g;for(g=0;g<a;)switch(e=S(this,b),e){case 16:for(f=3+x(this,2);f--;)c[g++]=d;break;case 17:for(f=3+x(this,3);f--;)c[g++]=0;d=0;break;case 18:for(f=11+x(this,7);f--;)c[g++]=0;d=0;break;default:d=c[g++]=e}this.p=d;return c}var a=x(b,5)+257,c=x(b,5)+1,d=x(b,4)+4,f=new (q?Uint8Array:Array)(C.length),g,h,k,m;for(m=0;m<d;++m)f[C[m]]=x(b,3);if(!q){m=d;for(d=f.length;m<d;++m)f[C[m]]=0}g=t(f);h=new (q?Uint8Array:Array)(a);k=new (q?Uint8Array:Array)(c);b.p=0;\nb.j(t(e.call(b,a,g,h)),t(e.call(b,c,g,k)))}u.prototype.j=function(b,e){var a=this.b,c=this.a;this.n=b;for(var d=a.length-258,f,g,h,k;256!==(f=S(this,b));)if(256>f)c>=d&&(this.a=c,a=this.e(),c=this.a),a[c++]=f;else{g=f-257;k=E[g];0<G[g]&&(k+=x(this,G[g]));f=S(this,e);h=I[f];0<L[f]&&(h+=x(this,L[f]));c>=d&&(this.a=c,a=this.e(),c=this.a);for(;k--;)a[c]=a[c++-h]}for(;8<=this.c;)this.c-=8,this.d--;this.a=c};\nu.prototype.t=function(b,e){var a=this.b,c=this.a;this.n=b;for(var d=a.length,f,g,h,k;256!==(f=S(this,b));)if(256>f)c>=d&&(a=this.e(),d=a.length),a[c++]=f;else{g=f-257;k=E[g];0<G[g]&&(k+=x(this,G[g]));f=S(this,e);h=I[f];0<L[f]&&(h+=x(this,L[f]));c+k>d&&(a=this.e(),d=a.length);for(;k--;)a[c]=a[c++-h]}for(;8<=this.c;)this.c-=8,this.d--;this.a=c};\nu.prototype.e=function(){var b=new (q?Uint8Array:Array)(this.a-32768),e=this.a-32768,a,c,d=this.b;if(q)b.set(d.subarray(32768,b.length));else{a=0;for(c=b.length;a<c;++a)b[a]=d[a+32768]}this.g.push(b);this.k+=b.length;if(q)d.set(d.subarray(e,e+32768));else for(a=0;32768>a;++a)d[a]=d[e+a];this.a=32768;return d};\nu.prototype.v=function(b){var e,a=this.input.length/this.d+1|0,c,d,f,g=this.input,h=this.b;b&&(\"number\"===typeof b.o&&(a=b.o),\"number\"===typeof b.r&&(a+=b.r));2>a?(c=(g.length-this.d)/this.n[2],f=258*(c/2)|0,d=f<h.length?h.length+f:h.length<<1):d=h.length*a;q?(e=new Uint8Array(d),e.set(h)):e=h;return this.b=e};\nu.prototype.m=function(){var b=0,e=this.b,a=this.g,c,d=new (q?Uint8Array:Array)(this.k+(this.a-32768)),f,g,h,k;if(0===a.length)return q?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);f=0;for(g=a.length;f<g;++f){c=a[f];h=0;for(k=c.length;h<k;++h)d[b++]=c[h]}f=32768;for(g=this.a;f<g;++f)d[b++]=e[f];this.g=[];return this.buffer=d};\nu.prototype.s=function(){var b,e=this.a;q?this.q?(b=new Uint8Array(e),b.set(this.b.subarray(0,e))):b=this.b.subarray(0,e):(this.b.length>e&&(this.b.length=e),b=this.b);return this.buffer=b};p(\"Zlib.RawInflate\",u);p(\"Zlib.RawInflate.prototype.decompress\",u.prototype.u);var T={ADAPTIVE:v,BLOCK:w},U,V,W,X;if(Object.keys)U=Object.keys(T);else for(V in U=[],W=0,T)U[W++]=V;W=0;for(X=U.length;W<X;++W)V=U[W],p(\"Zlib.RawInflate.BufferType.\"+V,T[V]);}).call(this); //@ sourceMappingURL=rawinflate.min.js.map\n\n}.call(window));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/imports-loader?this=>window!./client/libs/rawinflate/rawinflate.min.js\n ** module id = 19\n ** module chunks = 3\n **/","/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n(function(window, document, Laya) {\r\n    var __un = Laya.un,\r\n        __uns = Laya.uns,\r\n        __static = Laya.static,\r\n        __class = Laya.class,\r\n        __getset = Laya.getset,\r\n        __newvec = Laya.__newvec;\r\n\r\n    var Browser = laya.utils.Browser,\r\n        Byte = laya.utils.Byte,\r\n        ColorFilter = laya.filters.ColorFilter,\r\n        Ease = laya.utils.Ease;\r\n    var Event = laya.events.Event,\r\n        EventDispatcher = laya.events.EventDispatcher,\r\n        Graphics = laya.display.Graphics,\r\n        HTMLDivElement = laya.html.dom.HTMLDivElement;\r\n    var Handler = laya.utils.Handler,\r\n        HitArea = laya.utils.HitArea,\r\n        Input = laya.display.Input,\r\n        Log = laya.utils.Log,\r\n        Node = laya.display.Node;\r\n    var Point = laya.maths.Point,\r\n        Rectangle = laya.maths.Rectangle,\r\n        Render = laya.renders.Render,\r\n        Sound = laya.media.Sound;\r\n    var SoundManager = laya.media.SoundManager,\r\n        Sprite = laya.display.Sprite,\r\n        Stage = laya.display.Stage,\r\n        Text = laya.display.Text;\r\n    var Texture = laya.resource.Texture,\r\n        Tween = laya.utils.Tween,\r\n        Utils = laya.utils.Utils;\r\n    Laya.interface('fairygui.IUISource');\r\n    Laya.interface('fairygui.IColorGear');\r\n    Laya.interface('fairygui.IAnimationGear');\r\n    //class fairygui.action.ControllerAction\r\n    var ControllerAction = (function() {\r\n        function ControllerAction() {\r\n            this.fromPage = null;\r\n            this.toPage = null;\r\n        }\r\n\r\n        __class(ControllerAction, 'fairygui.action.ControllerAction');\r\n        var __proto = ControllerAction.prototype;\r\n        __proto.run = function(controller, prevPage, curPage) {\r\n            if ((this.fromPage == null || this.fromPage.length == 0 || this.fromPage.indexOf(prevPage) != -1) &&\r\n                (this.toPage == null || this.toPage.length == 0 || this.toPage.indexOf(curPage) != -1))\r\n                this.enter(controller);\r\n            else\r\n                this.leave(controller);\r\n        }\r\n\r\n        __proto.enter = function(controller) {}\r\n        __proto.leave = function(controller) {}\r\n        __proto.setup = function(xml) {\r\n            var str;\r\n            str = xml.getAttribute('fromPage');\r\n            if (str)\r\n                this.fromPage = str.split(\",\");\r\n            str = xml.getAttribute('toPage');\r\n            if (str)\r\n                this.toPage = str.split(\",\");\r\n        }\r\n\r\n        ControllerAction.createAction = function(type) {\r\n            switch (type) {\r\n                case \"play_transition\":\r\n                    return new PlayTransitionAction();\r\n                case \"change_page\":\r\n                    return new ChangePageAction();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        return ControllerAction;\r\n    })()\r\n\r\n\r\n    //class fairygui.AssetProxy\r\n    var AssetProxy = (function() {\r\n        function AssetProxy() {\r\n            this._asset = null;\r\n            this._asset = Laya.loader;\r\n        }\r\n\r\n        __class(AssetProxy, 'fairygui.AssetProxy');\r\n        var __proto = AssetProxy.prototype;\r\n        __proto.getRes = function(url) {\r\n            return this._asset.getRes(url);\r\n        }\r\n\r\n        __proto.load = function(url, complete, progress, type, priority, cache) {\r\n            (priority === void 0) && (priority = 1);\r\n            (cache === void 0) && (cache = true);\r\n            this._asset.load(url, complete, progress, type, priority, cache);\r\n        }\r\n\r\n        __proto.setAsset = function(asset) {\r\n            this._asset = asset;\r\n        }\r\n\r\n        __getset(1, AssetProxy, 'inst', function() {\r\n            if (fairygui.AssetProxy._inst == null)\r\n                AssetProxy._inst = new AssetProxy();\r\n            return fairygui.AssetProxy._inst;\r\n        });\r\n\r\n        AssetProxy._inst = null\r\n        return AssetProxy;\r\n    })()\r\n\r\n\r\n    //class fairygui.AsyncOperation\r\n    var AsyncOperation = (function() {\r\n        function AsyncOperation() {\r\n            this.callback = null;\r\n            this._itemList = null;\r\n            this._objectPool = null;\r\n            this._index = 0;\r\n            this._itemList = [];\r\n            this._objectPool = [];\r\n        }\r\n\r\n        __class(AsyncOperation, 'fairygui.AsyncOperation');\r\n        var __proto = AsyncOperation.prototype;\r\n        __proto.createObject = function(pkgName, resName) {\r\n            var pkg = UIPackage.getByName(pkgName);\r\n            if (pkg) {\r\n                var pi = pkg.getItemByName(resName);\r\n                if (!pi)\r\n                    throw new Error(\"resource not found: \" + resName);\r\n                this.internalCreateObject(pi);\r\n            } else\r\n                throw new Error(\"package not found: \" + pkgName);\r\n        }\r\n\r\n        __proto.createObjectFromURL = function(url) {\r\n            var pi = UIPackage.getItemByURL(url);\r\n            if (pi)\r\n                this.internalCreateObject(pi);\r\n            else\r\n                throw new Error(\"resource not found: \" + url);\r\n        }\r\n\r\n        __proto.cancel = function() {\r\n            Laya.timer.clear(this, this.run);\r\n            this._itemList.length = 0;\r\n            if (this._objectPool.length > 0) {\r\n                var obj;\r\n                /*for each*/\r\n                for (var $each_obj in this._objectPool) {\r\n                    obj = this._objectPool[$each_obj];\r\n                    obj.dispose();\r\n                }\r\n                this._objectPool.length = 0;\r\n            }\r\n        }\r\n\r\n        __proto.internalCreateObject = function(item) {\r\n            this._itemList.length = 0;\r\n            this._objectPool.length = 0;\r\n            this.collectComponentChildren(item);\r\n            this._itemList.push(new DisplayListItem(item, null));\r\n            this._index = 0;\r\n            Laya.timer.frameLoop(1, this, this.run);\r\n        }\r\n\r\n        __proto.collectComponentChildren = function(item) {\r\n            item.owner.getItemAsset(item);\r\n            var cnt = item.displayList.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var di = item.displayList[i];\r\n                if (di.packageItem != null && di.packageItem.type == /*fairygui.PackageItemType.Component*/ 4)\r\n                    this.collectComponentChildren(di.packageItem);\r\n                else if (di.type == \"list\") {\r\n                    var defaultItem = null;\r\n                    di.listItemCount = 0;\r\n                    var col = di.desc.childNodes;\r\n                    var length = col.length;\r\n                    for (var j = 0; j < length; j++) {\r\n                        var cxml = col[j];\r\n                        if (cxml.nodeName != \"item\")\r\n                            continue;\r\n                        var url = cxml.getAttribute(\"url\");\r\n                        if (!url) {\r\n                            if (defaultItem == null)\r\n                                defaultItem = di.desc.getAttribute(\"defaultItem\");\r\n                            url = defaultItem;\r\n                            if (!url)\r\n                                continue;\r\n                        };\r\n                        var pi = UIPackage.getItemByURL(url);\r\n                        if (pi) {\r\n                            if (pi.type == /*fairygui.PackageItemType.Component*/ 4)\r\n                                this.collectComponentChildren(pi);\r\n                            this._itemList.push(new DisplayListItem(pi, null));\r\n                            di.listItemCount++;\r\n                        }\r\n                    }\r\n                }\r\n                this._itemList.push(di);\r\n            }\r\n        }\r\n\r\n        __proto.run = function() {\r\n            var obj;\r\n            var di;\r\n            var poolStart = 0;\r\n            var k = 0;\r\n            var t = Browser.now();\r\n            var frameTime = UIConfig1.frameTimeForAsyncUIConstruction;\r\n            var totalItems = this._itemList.length;\r\n            while (this._index < totalItems) {\r\n                di = this._itemList[this._index];\r\n                if (di.packageItem != null) {\r\n                    obj = UIObjectFactory.newObject(di.packageItem);\r\n                    obj.packageItem = di.packageItem;\r\n                    this._objectPool.push(obj);\r\n                    UIPackage._constructing++;\r\n                    if (di.packageItem.type == /*fairygui.PackageItemType.Component*/ 4) {\r\n                        poolStart = this._objectPool.length - di.packageItem.displayList.length - 1;\r\n                        (obj).constructFromResource2(this._objectPool, poolStart);\r\n                        this._objectPool.splice(poolStart, di.packageItem.displayList.length);\r\n                    } else {\r\n                        obj.constructFromResource();\r\n                    }\r\n                    UIPackage._constructing--;\r\n                } else {\r\n                    obj = UIObjectFactory.newObject2(di.type);\r\n                    this._objectPool.push(obj);\r\n                    if (di.type == \"list\" && di.listItemCount > 0) {\r\n                        poolStart = this._objectPool.length - di.listItemCount - 1;\r\n                        for (k = 0; k < di.listItemCount; k++)\r\n                            (obj).itemPool.returnObject(this._objectPool[k + poolStart]);\r\n                        this._objectPool.splice(poolStart, di.listItemCount);\r\n                    }\r\n                }\r\n                this._index++;\r\n                if ((this._index % 5 == 0) && Browser.now() - t >= frameTime)\r\n                    return;\r\n            }\r\n            Laya.timer.clear(this, this.run);\r\n            var result = this._objectPool[0];\r\n            this._itemList.length = 0;\r\n            this._objectPool.length = 0;\r\n            if (this.callback != null)\r\n                this.callback.runWith(result);\r\n        }\r\n\r\n        return AsyncOperation;\r\n    })()\r\n\r\n\r\n    //class fairygui.AutoSizeType\r\n    var AutoSizeType = (function() {\r\n        function AutoSizeType() {}\r\n        __class(AutoSizeType, 'fairygui.AutoSizeType');\r\n        AutoSizeType.parse = function(value) {\r\n            switch (value) {\r\n                case \"none\":\r\n                    return 0;\r\n                case \"both\":\r\n                    return 1;\r\n                case \"height\":\r\n                    return 2;\r\n                default:\r\n                    return 0;\r\n            }\r\n        }\r\n\r\n        AutoSizeType.None = 0;\r\n        AutoSizeType.Both = 1;\r\n        AutoSizeType.Height = 2;\r\n        return AutoSizeType;\r\n    })()\r\n\r\n\r\n    //class fairygui.ButtonMode\r\n    var ButtonMode = (function() {\r\n        function ButtonMode() {}\r\n        __class(ButtonMode, 'fairygui.ButtonMode');\r\n        ButtonMode.parse = function(value) {\r\n            switch (value) {\r\n                case \"Common\":\r\n                    return 0;\r\n                case \"Check\":\r\n                    return 1;\r\n                case \"Radio\":\r\n                    return 2;\r\n                default:\r\n                    return 0;\r\n            }\r\n        }\r\n\r\n        ButtonMode.Common = 0;\r\n        ButtonMode.Check = 1;\r\n        ButtonMode.Radio = 2;\r\n        return ButtonMode;\r\n    })()\r\n\r\n\r\n    //class fairygui.ChildrenRenderOrder\r\n    var ChildrenRenderOrder = (function() {\r\n        function ChildrenRenderOrder() {}\r\n        __class(ChildrenRenderOrder, 'fairygui.ChildrenRenderOrder');\r\n        ChildrenRenderOrder.parse = function(value) {\r\n            switch (value) {\r\n                case \"ascent\":\r\n                    return 0;\r\n                case \"descent\":\r\n                    return 1;\r\n                case \"arch\":\r\n                    return 2;\r\n                default:\r\n                    return 0;\r\n            }\r\n        }\r\n\r\n        ChildrenRenderOrder.Ascent = 0;\r\n        ChildrenRenderOrder.Descent = 1;\r\n        ChildrenRenderOrder.Arch = 2;\r\n        return ChildrenRenderOrder;\r\n    })()\r\n\r\n\r\n    //class fairygui.display.BitmapFont\r\n    var BitmapFont1 = (function() {\r\n        function BitmapFont() {\r\n            this.id = null;\r\n            this.size = 0;\r\n            this.ttf = false;\r\n            this.glyphs = null;\r\n            this.resizable = false;\r\n            this.glyphs = {};\r\n        }\r\n\r\n        __class(BitmapFont, 'fairygui.display.BitmapFont', null, 'BitmapFont1');\r\n        return BitmapFont;\r\n    })()\r\n\r\n\r\n    //class fairygui.display.BMGlyph\r\n    var BMGlyph = (function() {\r\n        function BMGlyph() {\r\n            this.x = 0;\r\n            this.y = 0;\r\n            this.offsetX = 0;\r\n            this.offsetY = 0;\r\n            this.width = 0;\r\n            this.height = 0;\r\n            this.advance = 0;\r\n            this.lineHeight = 0;\r\n            this.channel = 0;\r\n            this.texture = null;\r\n        }\r\n\r\n        __class(BMGlyph, 'fairygui.display.BMGlyph');\r\n        return BMGlyph;\r\n    })()\r\n\r\n\r\n    //class fairygui.display.Frame\r\n    var Frame = (function() {\r\n        function Frame() {\r\n            this.rect = null;\r\n            this.addDelay = 0;\r\n            this.texture = null;\r\n            this.rect = new Rectangle();\r\n        }\r\n\r\n        __class(Frame, 'fairygui.display.Frame');\r\n        return Frame;\r\n    })()\r\n\r\n\r\n    //class fairygui.display.PlayState\r\n    var PlayState = (function() {\r\n        function PlayState() {\r\n            this.reachEnding = false;\r\n            this.reversed = false;\r\n            this.repeatedCount = 0;\r\n            this._curFrame = 0;\r\n            this._curFrameDelay = 0;\r\n            this._lastUpdateSeq = 0;\r\n        }\r\n\r\n        __class(PlayState, 'fairygui.display.PlayState');\r\n        var __proto = PlayState.prototype;\r\n        __proto.update = function(mc) {\r\n            var elapsed = NaN;\r\n            var frameId = Laya.timer.currFrame;\r\n            if (frameId - this._lastUpdateSeq != 1)\r\n                elapsed = 0;\r\n            else\r\n                elapsed = Laya.timer.delta;\r\n            this._lastUpdateSeq = frameId;\r\n            this.reachEnding = false;\r\n            this._curFrameDelay += elapsed;\r\n            var interval = mc.interval + mc.frames[this._curFrame].addDelay + ((this._curFrame == 0 && this.repeatedCount > 0) ? mc.repeatDelay : 0);\r\n            if (this._curFrameDelay < interval)\r\n                return;\r\n            this._curFrameDelay -= interval;\r\n            if (this._curFrameDelay > mc.interval)\r\n                this._curFrameDelay = mc.interval;\r\n            if (mc.swing) {\r\n                if (this.reversed) {\r\n                    this._curFrame--;\r\n                    if (this._curFrame <= 0) {\r\n                        this._curFrame = 0;\r\n                        this.repeatedCount++;\r\n                        this.reversed = !this.reversed;\r\n                    }\r\n                } else {\r\n                    this._curFrame++;\r\n                    if (this._curFrame > mc.frameCount - 1) {\r\n                        this._curFrame = Math.max(0, mc.frameCount - 2);\r\n                        this.repeatedCount++;\r\n                        this.reachEnding = true;\r\n                        this.reversed = !this.reversed;\r\n                    }\r\n                }\r\n            } else {\r\n                this._curFrame++;\r\n                if (this._curFrame > mc.frameCount - 1) {\r\n                    this._curFrame = 0;\r\n                    this.repeatedCount++;\r\n                    this.reachEnding = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.rewind = function() {\r\n            this._curFrame = 0;\r\n            this._curFrameDelay = 0;\r\n            this.reversed = false;\r\n            this.reachEnding = false;\r\n        }\r\n\r\n        __proto.reset = function() {\r\n            this._curFrame = 0;\r\n            this._curFrameDelay = 0;\r\n            this.repeatedCount = 0;\r\n            this.reachEnding = false;\r\n            this.reversed = false;\r\n        }\r\n\r\n        __proto.copy = function(src) {\r\n            this._curFrame = src._curFrame;\r\n            this._curFrameDelay = src._curFrameDelay;\r\n            this.repeatedCount = src.repeatedCount;\r\n            this.reachEnding = src.reachEnding;\r\n            this.reversed = src.reversed;\r\n        }\r\n\r\n        __getset(0, __proto, 'currentFrame', function() {\r\n            return this._curFrame;\r\n        }, function(value) {\r\n            this._curFrame = value;\r\n            this._curFrameDelay = 0;\r\n        });\r\n\r\n        return PlayState;\r\n    })()\r\n\r\n\r\n    //class fairygui.DisplayListItem\r\n    var DisplayListItem = (function() {\r\n        function DisplayListItem(packageItem, type) {\r\n            this.packageItem = null;\r\n            this.type = null;\r\n            this.desc = null;\r\n            this.listItemCount = 0;\r\n            this.packageItem = packageItem;\r\n            this.type = type;\r\n        }\r\n\r\n        __class(DisplayListItem, 'fairygui.DisplayListItem');\r\n        return DisplayListItem;\r\n    })()\r\n\r\n\r\n    //class fairygui.DragDropManager\r\n    var DragDropManager = (function() {\r\n        function DragDropManager() {\r\n            this._agent = null;\r\n            this._sourceData = null;\r\n            this._agent = new GLoader();\r\n            this._agent.draggable = true;\r\n            this._agent.touchable = false;\r\n            this._agent.setSize(100, 100);\r\n            this._agent.setPivot(0.5, 0.5, true);\r\n            this._agent.align = \"center\";\r\n            this._agent.verticalAlign = \"middle\";\r\n            this._agent.sortingOrder = 1000000;\r\n            this._agent.on( /*fairygui.Events.DRAG_END*/ \"fui_drag_end\", this, this.__dragEnd);\r\n        }\r\n\r\n        __class(DragDropManager, 'fairygui.DragDropManager');\r\n        var __proto = DragDropManager.prototype;\r\n        __proto.startDrag = function(source, icon, sourceData, touchPointID) {\r\n            (touchPointID === void 0) && (touchPointID = -1);\r\n            if (this._agent.parent != null)\r\n                return;\r\n            this._sourceData = sourceData;\r\n            this._agent.url = icon;\r\n            GRoot.inst.addChild(this._agent);\r\n            var pt = GRoot.inst.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY);\r\n            this._agent.setXY(pt.x, pt.y);\r\n            this._agent.startDrag(touchPointID);\r\n        }\r\n\r\n        __proto.cancel = function() {\r\n            if (this._agent.parent != null) {\r\n                this._agent.stopDrag();\r\n                GRoot.inst.removeChild(this._agent);\r\n                this._sourceData = null;\r\n            }\r\n        }\r\n\r\n        __proto.__dragEnd = function(evt) {\r\n            if (this._agent.parent == null)\r\n                return;\r\n            GRoot.inst.removeChild(this._agent);\r\n            var sourceData = this._sourceData;\r\n            this._sourceData = null;\r\n            var obj = GObject.cast(evt.target);\r\n            while (obj != null) {\r\n                if (obj.displayObject.hasListener( /*fairygui.Events.DROP*/ \"fui_drop\")) {\r\n                    obj.requestFocus();\r\n                    obj.displayObject.event( /*fairygui.Events.DROP*/ \"fui_drop\", [sourceData, Events.createEvent( /*fairygui.Events.DROP*/ \"fui_drop\", obj.displayObject, evt)]);\r\n                    return;\r\n                }\r\n                obj = obj.parent;\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'dragAgent', function() {\r\n            return this._agent;\r\n        });\r\n\r\n        __getset(0, __proto, 'dragging', function() {\r\n            return this._agent.parent != null;\r\n        });\r\n\r\n        __getset(1, DragDropManager, 'inst', function() {\r\n            if (fairygui.DragDropManager._inst == null)\r\n                fairygui.DragDropManager._inst = new DragDropManager();\r\n            return fairygui.DragDropManager._inst;\r\n        });\r\n\r\n        DragDropManager._inst = null\r\n        return DragDropManager;\r\n    })()\r\n\r\n\r\n    //class fairygui.Events\r\n    var Events = (function() {\r\n        function Events() {};\r\n        __class(Events, 'fairygui.Events');\r\n        Events.createEvent = function(type, target, source) {\r\n            fairygui.Events.$event.setTo(type, target, source ? source.target : target);\r\n            if (source) {\r\n                fairygui.Events.$event.touchId = source.touchId;\r\n                fairygui.Events.$event.nativeEvent = source.nativeEvent;\r\n            } else {\r\n                fairygui.Events.$event.nativeEvent = null;\r\n            }\r\n            fairygui.Events.$event._stoped = false;\r\n            return fairygui.Events.$event;\r\n        }\r\n\r\n        Events.dispatch = function(type, target, source) {\r\n            target.event(type, fairygui.Events.createEvent(type, target, source));\r\n        }\r\n\r\n        Events.STATE_CHANGED = \"fui_state_changed\";\r\n        Events.XY_CHANGED = \"fui_xy_changed\";\r\n        Events.SIZE_CHANGED = \"fui_size_changed\";\r\n        Events.SIZE_DELAY_CHANGE = \"fui_size_delay_change\";\r\n        Events.CLICK_ITEM = \"fui_click_item\";\r\n        Events.SCROLL = \"fui_scroll\";\r\n        Events.SCROLL_END = \"fui_scroll_end\";\r\n        Events.DROP = \"fui_drop\";\r\n        Events.FOCUS_CHANGED = \"fui_focus_changed\";\r\n        Events.DRAG_START = \"fui_drag_start\";\r\n        Events.DRAG_MOVE = \"fui_drag_move\";\r\n        Events.DRAG_END = \"fui_drag_end\";\r\n        Events.PULL_DOWN_RELEASE = \"fui_pull_down_release\";\r\n        Events.PULL_UP_RELEASE = \"fui_pull_up_release\";\r\n        Events.GEAR_STOP = \"fui_gear_stop\";\r\n        __static(Events, ['$event', function() { return this.$event = new Event(); }]);\r\n        return Events;\r\n    })()\r\n\r\n\r\n    //class fairygui.FlipType\r\n    var FlipType = (function() {\r\n        function FlipType() {}\r\n        __class(FlipType, 'fairygui.FlipType');\r\n        FlipType.parse = function(value) {\r\n            switch (value) {\r\n                case \"hz\":\r\n                    return /*CLASS CONST:fairygui.FlipType.Horizontal*/ 1;\r\n                case \"vt\":\r\n                    return /*CLASS CONST:fairygui.FlipType.Vertical*/ 2;\r\n                case \"both\":\r\n                    return /*CLASS CONST:fairygui.FlipType.Both*/ 3;\r\n                default:\r\n                    return /*CLASS CONST:fairygui.FlipType.None*/ 0;\r\n            }\r\n        }\r\n\r\n        FlipType.None = 0;\r\n        FlipType.Horizontal = 1;\r\n        FlipType.Vertical = 2;\r\n        FlipType.Both = 3;\r\n        return FlipType;\r\n    })()\r\n\r\n\r\n    //class fairygui.GObject\r\n    var GObject = (function() {\r\n        function GObject() {\r\n            this.data = null;\r\n            this.packageItem = null;\r\n            this._x = 0;\r\n            this._y = 0;\r\n            this._alpha = 1;\r\n            this._rotation = 0;\r\n            this._visible = true;\r\n            this._touchable = true;\r\n            this._grayed = false;\r\n            this._draggable = false;\r\n            this._scaleX = 1;\r\n            this._scaleY = 1;\r\n            this._skewX = 0;\r\n            this._skewY = 0;\r\n            this._pivotX = 0;\r\n            this._pivotY = 0;\r\n            this._pivotAsAnchor = false;\r\n            this._pivotOffsetX = 0;\r\n            this._pivotOffsetY = 0;\r\n            this._sortingOrder = 0;\r\n            this._internalVisible = true;\r\n            this._handlingController = false;\r\n            this._focusable = false;\r\n            this._tooltips = null;\r\n            this._pixelSnapping = false;\r\n            this._relations = null;\r\n            this._group = null;\r\n            this._gears = null;\r\n            this._dragBounds = null;\r\n            this._displayObject = null;\r\n            this._yOffset = 0;\r\n            this._sizeImplType = 0;\r\n            this.minWidth = 0;\r\n            this.minHeight = 0;\r\n            this.maxWidth = 0;\r\n            this.maxHeight = 0;\r\n            this.sourceWidth = 0;\r\n            this.sourceHeight = 0;\r\n            this.initWidth = 0;\r\n            this.initHeight = 0;\r\n            this._parent = null;\r\n            this._width = 0;\r\n            this._height = 0;\r\n            this._rawWidth = 0;\r\n            this._rawHeight = 0;\r\n            this._id = null;\r\n            this._name = null;\r\n            this._underConstruct = false;\r\n            this._gearLocked = false;\r\n            this._sizePercentInGroup = 0;\r\n            this._touchDownPoint = null;;\r\n            this._id = \"\" + fairygui.GObject._gInstanceCounter++;\r\n            this._name = \"\";\r\n            this.createDisplayObject();\r\n            this._relations = new Relations(this);\r\n            this._gears = __newvec(8, null);\r\n        }\r\n\r\n        __class(GObject, 'fairygui.GObject');\r\n        var __proto = GObject.prototype;\r\n        __proto.setXY = function(xv, yv) {\r\n            if (this._x != xv || this._y != yv) {\r\n                var dx = xv - this._x;\r\n                var dy = yv - this._y;\r\n                this._x = xv;\r\n                this._y = yv;\r\n                this.handleXYChanged();\r\n                if ((this instanceof fairygui.GGroup))\r\n                    (this).moveChildren(dx, dy);\r\n                this.updateGear(1);\r\n                if (this._parent && !((this._parent instanceof fairygui.GList))) {\r\n                    this._parent.setBoundsChangedFlag();\r\n                    if (this._group != null)\r\n                        this._group.setBoundsChangedFlag();\r\n                    this.displayObject.event( /*fairygui.Events.XY_CHANGED*/ \"fui_xy_changed\");\r\n                }\r\n                if (GObject.draggingObject == this && !GObject.sUpdateInDragging)\r\n                    this.localToGlobalRect(0, 0, this.width, this.height, GObject.sGlobalRect);\r\n            }\r\n        }\r\n\r\n        __proto.center = function(restraint) {\r\n            (restraint === void 0) && (restraint = false);\r\n            var r;\r\n            if (this._parent != null)\r\n                r = this.parent;\r\n            else\r\n                r = this.root;\r\n            this.setXY((r.width - this.width) / 2, (r.height - this.height) / 2);\r\n            if (restraint) {\r\n                this.addRelation(r, /*fairygui.RelationType.Center_Center*/ 3);\r\n                this.addRelation(r, /*fairygui.RelationType.Middle_Middle*/ 10);\r\n            }\r\n        }\r\n\r\n        __proto.setSize = function(wv, hv, ignorePivot) {\r\n            (ignorePivot === void 0) && (ignorePivot = false);\r\n            if (this._rawWidth != wv || this._rawHeight != hv) {\r\n                this._rawWidth = wv;\r\n                this._rawHeight = hv;\r\n                if (wv < this.minWidth)\r\n                    wv = this.minWidth;\r\n                if (hv < this.minHeight)\r\n                    hv = this.minHeight;\r\n                if (this.maxWidth > 0 && wv > this.maxWidth)\r\n                    wv = this.maxWidth;\r\n                if (this.maxHeight > 0 && hv > this.maxHeight)\r\n                    hv = this.maxHeight;\r\n                var dWidth = wv - this._width;\r\n                var dHeight = hv - this._height;\r\n                this._width = wv;\r\n                this._height = hv;\r\n                this.handleSizeChanged();\r\n                if (this._pivotX != 0 || this._pivotY != 0) {\r\n                    if (!this._pivotAsAnchor) {\r\n                        if (!ignorePivot)\r\n                            this.setXY(this.x - this._pivotX * dWidth, this.y - this._pivotY * dHeight);\r\n                        this.updatePivotOffset();\r\n                    } else\r\n                        this.applyPivot();\r\n                }\r\n                if ((this instanceof fairygui.GGroup))\r\n                    (this).resizeChildren(dWidth, dHeight);\r\n                this.updateGear(2);\r\n                if (this._parent) {\r\n                    this._relations.onOwnerSizeChanged(dWidth, dHeight);\r\n                    this._parent.setBoundsChangedFlag();\r\n                    if (this._group != null)\r\n                        this._group.setBoundsChangedFlag(true);\r\n                }\r\n                this.displayObject.event( /*fairygui.Events.SIZE_CHANGED*/ \"fui_size_changed\");\r\n            }\r\n        }\r\n\r\n        __proto.ensureSizeCorrect = function() {}\r\n        __proto.setScale = function(sx, sy) {\r\n            if (this._scaleX != sx || this._scaleY != sy) {\r\n                this._scaleX = sx;\r\n                this._scaleY = sy;\r\n                this.handleScaleChanged();\r\n                this.applyPivot();\r\n                this.updateGear(2);\r\n            }\r\n        }\r\n\r\n        __proto.setSkew = function(sx, sy) {\r\n            if (this._skewX != sx || this._skewY != sy) {\r\n                this._skewX = sx;\r\n                this._skewY = sy;\r\n                if (this._displayObject != null) {\r\n                    this._displayObject.skew(-sx, sy);\r\n                    this.applyPivot();\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.setPivot = function(xv, yv, asAnchor) {\r\n            (yv === void 0) && (yv = 0);\r\n            (asAnchor === void 0) && (asAnchor = false);\r\n            if (this._pivotX != xv || this._pivotY != yv || this._pivotAsAnchor != asAnchor) {\r\n                this._pivotX = xv;\r\n                this._pivotY = yv;\r\n                this._pivotAsAnchor = asAnchor;\r\n                this.updatePivotOffset();\r\n                this.handleXYChanged();\r\n            }\r\n        }\r\n\r\n        __proto.internalSetPivot = function(xv, yv, asAnchor) {\r\n            this._pivotX = xv;\r\n            this._pivotY = yv;\r\n            this._pivotAsAnchor = asAnchor;\r\n            if (this._pivotAsAnchor)\r\n                this.handleXYChanged();\r\n        }\r\n\r\n        __proto.updatePivotOffset = function() {\r\n            if (this._displayObject != null) {\r\n                if (this._displayObject.transform && (this._pivotX != 0 || this._pivotY != 0)) {\r\n                    if (this._sizeImplType == 0) {\r\n                        fairygui.GObject.sHelperPoint.x = this._pivotX * this._width;\r\n                        fairygui.GObject.sHelperPoint.y = this._pivotY * this._height;\r\n                    } else {\r\n                        fairygui.GObject.sHelperPoint.x = this._pivotX * this.sourceWidth;\r\n                        fairygui.GObject.sHelperPoint.y = this._pivotY * this.sourceHeight;\r\n                    };\r\n                    var pt = this._displayObject.transform.transformPoint(fairygui.GObject.sHelperPoint);\r\n                    this._pivotOffsetX = this._pivotX * this._width - pt.x;\r\n                    this._pivotOffsetY = this._pivotY * this._height - pt.y;\r\n                } else {\r\n                    this._pivotOffsetX = 0;\r\n                    this._pivotOffsetY = 0;\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.applyPivot = function() {\r\n            if (this._pivotX != 0 || this._pivotY != 0) {\r\n                this.updatePivotOffset();\r\n                this.handleXYChanged();\r\n            }\r\n        }\r\n\r\n        __proto.updateAlpha = function() {\r\n            if (this._displayObject)\r\n                this._displayObject.alpha = this._alpha;\r\n            this.updateGear(3);\r\n        }\r\n\r\n        __proto.requestFocus = function() {\r\n            var p = this;\r\n            while (p && !p._focusable)\r\n                p = p.parent;\r\n            if (p != null)\r\n                this.root.focus = p;\r\n        }\r\n\r\n        __proto.getGear = function(index) {\r\n            var gear = this._gears[index];\r\n            if (gear == null) {\r\n                switch (index) {\r\n                    case 0:\r\n                        gear = new GearDisplay(this);\r\n                        break;\r\n                    case 1:\r\n                        gear = new GearXY(this);\r\n                        break;\r\n                    case 2:\r\n                        gear = new GearSize(this);\r\n                        break;\r\n                    case 3:\r\n                        gear = new GearLook(this);\r\n                        break;\r\n                    case 4:\r\n                        gear = new GearColor(this);\r\n                        break;\r\n                    case 5:\r\n                        gear = new GearAnimation(this);\r\n                        break;\r\n                    case 6:\r\n                        gear = new GearText(this);\r\n                        break;\r\n                    case 7:\r\n                        gear = new GearIcon(this);\r\n                        break;\r\n                    default:\r\n                        throw new Error(\"FairyGUI: invalid gear index!\");\r\n                }\r\n                this._gears[index] = gear;\r\n            }\r\n            return gear;\r\n        }\r\n\r\n        __proto.updateGear = function(index) {\r\n            if (this._underConstruct || this._gearLocked)\r\n                return;\r\n            var gear = this._gears[index];\r\n            if (gear != null && gear.controller != null)\r\n                gear.updateState();\r\n        }\r\n\r\n        __proto.checkGearController = function(index, c) {\r\n            return this._gears[index] != null && this._gears[index].controller == c;\r\n        }\r\n\r\n        __proto.updateGearFromRelations = function(index, dx, dy) {\r\n            if (this._gears[index] != null)\r\n                this._gears[index].updateFromRelations(dx, dy);\r\n        }\r\n\r\n        __proto.addDisplayLock = function() {\r\n            var gearDisplay = (this._gears[0]);\r\n            if (gearDisplay && gearDisplay.controller) {\r\n                var ret = gearDisplay.addLock();\r\n                this.checkGearDisplay();\r\n                return ret;\r\n            } else\r\n                return 0;\r\n        }\r\n\r\n        __proto.releaseDisplayLock = function(token) {\r\n            var gearDisplay = (this._gears[0]);\r\n            if (gearDisplay && gearDisplay.controller) {\r\n                gearDisplay.releaseLock(token);\r\n                this.checkGearDisplay();\r\n            }\r\n        }\r\n\r\n        __proto.checkGearDisplay = function() {\r\n            if (this._handlingController)\r\n                return;\r\n            var connected = this._gears[0] == null || (this._gears[0]).connected;\r\n            if (connected != this._internalVisible) {\r\n                this._internalVisible = connected;\r\n                if (this._parent)\r\n                    this._parent.childStateChanged(this);\r\n            }\r\n        }\r\n\r\n        __proto.addRelation = function(target, relationType, usePercent) {\r\n            (usePercent === void 0) && (usePercent = false);\r\n            this._relations.add(target, relationType, usePercent);\r\n        }\r\n\r\n        __proto.removeRelation = function(target, relationType) {\r\n            (relationType === void 0) && (relationType = 0);\r\n            this._relations.remove(target, relationType);\r\n        }\r\n\r\n        __proto.removeFromParent = function() {\r\n            if (this._parent)\r\n                this._parent.removeChild(this);\r\n        }\r\n\r\n        __proto.dispose = function() {\r\n            this.removeFromParent();\r\n            this._relations.dispose();\r\n            this._displayObject.destroy();\r\n        }\r\n\r\n        __proto.onClick = function(thisObj, listener, args) {\r\n            this.on( /*laya.events.Event.CLICK*/ \"click\", thisObj, listener, args);\r\n        }\r\n\r\n        __proto.offClick = function(thisObj, listener) {\r\n            this.off( /*laya.events.Event.CLICK*/ \"click\", thisObj, listener);\r\n        }\r\n\r\n        __proto.hasClickListener = function() {\r\n            return this._displayObject.hasListener( /*laya.events.Event.CLICK*/ \"click\");\r\n        }\r\n\r\n        __proto.on = function(type, thisObject, listener, args) {\r\n            this._displayObject.on(type, thisObject, listener, args);\r\n        }\r\n\r\n        __proto.off = function(type, thisObject, listener) {\r\n            this._displayObject.off(type, thisObject, listener);\r\n        }\r\n\r\n        __proto.startDrag = function(touchPointID) {\r\n            (touchPointID === void 0) && (touchPointID = -1);\r\n            if (this._displayObject.stage == null)\r\n                return;\r\n            this.dragBegin();\r\n        }\r\n\r\n        __proto.stopDrag = function() {\r\n            this.dragEnd();\r\n        }\r\n\r\n        __proto.localToGlobal = function(ax, ay, resultPoint) {\r\n            (ax === void 0) && (ax = 0);\r\n            (ay === void 0) && (ay = 0);\r\n            if (this._pivotAsAnchor) {\r\n                ax += this._pivotX * this._width;\r\n                ay += this._pivotY * this._height;\r\n            }\r\n            if (!resultPoint) {\r\n                resultPoint = fairygui.GObject.sHelperPoint;\r\n                resultPoint.x = ax;\r\n                resultPoint.y = ay;\r\n                return this._displayObject.localToGlobal(resultPoint, true);\r\n            } else {\r\n                resultPoint.x = ax;\r\n                resultPoint.y = ay;\r\n                return this._displayObject.localToGlobal(resultPoint, false);\r\n            }\r\n        }\r\n\r\n        __proto.globalToLocal = function(ax, ay, resultPoint) {\r\n            (ax === void 0) && (ax = 0);\r\n            (ay === void 0) && (ay = 0);\r\n            if (!resultPoint) {\r\n                resultPoint = fairygui.GObject.sHelperPoint;\r\n                resultPoint.x = ax;\r\n                resultPoint.y = ay;\r\n                resultPoint = this._displayObject.globalToLocal(resultPoint, true);\r\n            } else {\r\n                resultPoint.x = ax;\r\n                resultPoint.y = ay;\r\n                this._displayObject.globalToLocal(resultPoint, false);\r\n            }\r\n            if (this._pivotAsAnchor) {\r\n                resultPoint.x -= this._pivotX * this._width;\r\n                resultPoint.y -= this._pivotY * this._height;\r\n            }\r\n            return resultPoint;\r\n        }\r\n\r\n        __proto.localToGlobalRect = function(ax, ay, aWidth, aHeight, resultRect) {\r\n            (ax === void 0) && (ax = 0);\r\n            (ay === void 0) && (ay = 0);\r\n            (aWidth === void 0) && (aWidth = 0);\r\n            (aHeight === void 0) && (aHeight = 0);\r\n            if (resultRect == null)\r\n                resultRect = new Rectangle();\r\n            var pt = this.localToGlobal(ax, ay);\r\n            resultRect.x = pt.x;\r\n            resultRect.y = pt.y;\r\n            pt = this.localToGlobal(ax + aWidth, ay + aHeight);\r\n            resultRect.width = pt.x - resultRect.x;\r\n            resultRect.height = pt.y - resultRect.y;\r\n            return resultRect;\r\n        }\r\n\r\n        __proto.globalToLocalRect = function(ax, ay, aWidth, aHeight, resultRect) {\r\n            (ax === void 0) && (ax = 0);\r\n            (ay === void 0) && (ay = 0);\r\n            (aWidth === void 0) && (aWidth = 0);\r\n            (aHeight === void 0) && (aHeight = 0);\r\n            if (resultRect == null)\r\n                resultRect = new Rectangle();\r\n            var pt = this.globalToLocal(ax, ay);\r\n            resultRect.x = pt.x;\r\n            resultRect.y = pt.y;\r\n            pt = this.globalToLocal(ax + aWidth, ay + aHeight);\r\n            resultRect.width = pt.x - resultRect.x;\r\n            resultRect.height = pt.y - resultRect.y;\r\n            return resultRect;\r\n        }\r\n\r\n        __proto.handleControllerChanged = function(c) {\r\n            this._handlingController = true;\r\n            for (var i = 0; i < 8; i++) {\r\n                var gear = this._gears[i];\r\n                if (gear != null && gear.controller == c)\r\n                    gear.apply();\r\n            }\r\n            this._handlingController = false;\r\n            this.checkGearDisplay();\r\n        }\r\n\r\n        __proto.createDisplayObject = function() {\r\n            this._displayObject = new Sprite();\r\n            this._displayObject[\"$owner\"] = this;\r\n        }\r\n\r\n        __proto.handleXYChanged = function() {\r\n            var xv = this._x;\r\n            var yv = this._y + this._yOffset;\r\n            if (this._pivotAsAnchor) {\r\n                xv -= this._pivotX * this._width;\r\n                yv -= this._pivotY * this._height;\r\n            }\r\n            if (this._pixelSnapping) {\r\n                xv = Math.round(xv);\r\n                yv = Math.round(yv);\r\n            }\r\n            this._displayObject.pos(xv + this._pivotOffsetX, yv + this._pivotOffsetY);\r\n        }\r\n\r\n        __proto.handleSizeChanged = function() {\r\n            if (this._displayObject != null) {\r\n                if (this._sizeImplType == 0 || this.sourceWidth == 0 || this.sourceHeight == 0)\r\n                    this._displayObject.size(this._width, this._height);\r\n                else\r\n                    this._displayObject.scale(this._width / this.sourceWidth * this._scaleX,\r\n                        this._height / this.sourceHeight * this._scaleY);\r\n            }\r\n        }\r\n\r\n        __proto.handleScaleChanged = function() {\r\n            if (this._displayObject != null) {\r\n                if (this._sizeImplType == 0 || this.sourceWidth == 0 || this.sourceHeight == 0)\r\n                    this._displayObject.scale(this._scaleX, this._scaleY);\r\n                else\r\n                    this._displayObject.scale(this._width / this.sourceWidth * this._scaleX,\r\n                        this._height / this.sourceHeight * this._scaleY);\r\n            }\r\n        }\r\n\r\n        __proto.handleGrayedChanged = function() {\r\n            if (this._displayObject) {\r\n                if (this._grayed)\r\n                    this._displayObject.filters = [GObject.grayFilter];\r\n                else\r\n                    this._displayObject.filters = null;\r\n            }\r\n        }\r\n\r\n        __proto.constructFromResource = function() {}\r\n        __proto.setup_beforeAdd = function(xml) {\r\n            var str;\r\n            var arr;\r\n            this._id = xml.getAttribute(\"id\");\r\n            this._name = xml.getAttribute(\"name\");\r\n            str = xml.getAttribute(\"xy\");\r\n            arr = str.split(\",\");\r\n            this.setXY(parseInt(arr[0]), parseInt(arr[1]));\r\n            str = xml.getAttribute(\"size\");\r\n            if (str) {\r\n                arr = str.split(\",\");\r\n                this.initWidth = parseInt(arr[0]);\r\n                this.initHeight = parseInt(arr[1]);\r\n                this.setSize(this.initWidth, this.initHeight, true);\r\n            }\r\n            str = xml.getAttribute(\"restrictSize\");\r\n            if (str) {\r\n                arr = str.split(\",\");\r\n                this.minWidth = parseInt(arr[0]);\r\n                this.maxWidth = parseInt(arr[1]);\r\n                this.minHeight = parseInt(arr[2]);\r\n                this.maxHeight = parseInt(arr[3]);\r\n            }\r\n            str = xml.getAttribute(\"scale\");\r\n            if (str) {\r\n                arr = str.split(\",\");\r\n                this.setScale(parseFloat(arr[0]), parseFloat(arr[1]));\r\n            }\r\n            str = xml.getAttribute(\"skew\");\r\n            if (str) {\r\n                arr = str.split(\",\");\r\n                this.setSkew(parseFloat(arr[0]), parseFloat(arr[1]));\r\n            }\r\n            str = xml.getAttribute(\"rotation\");\r\n            if (str)\r\n                this.rotation = parseInt(str);\r\n            str = xml.getAttribute(\"pivot\");\r\n            if (str) {\r\n                arr = str.split(\",\");\r\n                str = xml.getAttribute(\"anchor\");\r\n                this.setPivot(parseFloat(arr[0]), parseFloat(arr[1]), str == \"true\");\r\n            }\r\n            str = xml.getAttribute(\"alpha\");\r\n            if (str)\r\n                this.alpha = parseFloat(str);\r\n            if (xml.getAttribute(\"touchable\") == \"false\")\r\n                this.touchable = false;\r\n            if (xml.getAttribute(\"visible\") == \"false\")\r\n                this.visible = false;\r\n            if (xml.getAttribute(\"grayed\") == \"true\")\r\n                this.grayed = true;\r\n            this.tooltips = xml.getAttribute(\"tooltips\");\r\n            str = xml.getAttribute(\"blend\");\r\n            if (str)\r\n                this.blendMode = str;\r\n            str = xml.getAttribute('filter');\r\n            if (str) {\r\n                switch (str) {\r\n                    case \"color\":\r\n                        str = xml.getAttribute('filterData');\r\n                        arr = str.split(\",\");\r\n                        var cm = new ColorMatrix();\r\n                        cm.adjustBrightness(parseFloat(arr[0]));\r\n                        cm.adjustContrast(parseFloat(arr[1]));\r\n                        cm.adjustSaturation(parseFloat(arr[2]));\r\n                        cm.adjustHue(parseFloat(arr[3]));\r\n                        var cf = new ColorFilter(cm);\r\n                        this.filters = [cf];\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.setup_afterAdd = function(xml) {\r\n            var str = xml.getAttribute(\"group\");\r\n            if (str)\r\n                this._group = this._parent.getChildById(str);\r\n            var col = xml.childNodes;\r\n            var length1 = col.length;\r\n            for (var i1 = 0; i1 < length1; i1++) {\r\n                var cxml = col[i1];\r\n                if (cxml.nodeType != 1)\r\n                    continue;\r\n                var index = fairygui.GObject.GearXMLKeys[cxml.nodeName];\r\n                if (index != undefined)\r\n                    this.getGear(index).setup(cxml);\r\n            }\r\n        }\r\n\r\n        __proto.initDrag = function() {\r\n            if (this._draggable)\r\n                this.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__begin);\r\n            else\r\n                this.off( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__begin);\r\n        }\r\n\r\n        __proto.dragBegin = function() {\r\n            if (fairygui.GObject.draggingObject != null)\r\n                fairygui.GObject.draggingObject.stopDrag();\r\n            fairygui.GObject.sGlobalDragStart.x = Laya.stage.mouseX;\r\n            fairygui.GObject.sGlobalDragStart.y = Laya.stage.mouseY;\r\n            this.localToGlobalRect(0, 0, this.width, this.height, fairygui.GObject.sGlobalRect);\r\n            fairygui.GObject.draggingObject = this;\r\n            Laya.stage.on( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__moving2);\r\n            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__end2);\r\n        }\r\n\r\n        __proto.dragEnd = function() {\r\n            if (fairygui.GObject.draggingObject == this) {\r\n                Laya.stage.off( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__moving2);\r\n                Laya.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__end2);\r\n                fairygui.GObject.draggingObject = null;\r\n            }\r\n            fairygui.GObject.sDraggingQuery = false;\r\n        }\r\n\r\n        __proto.reset = function() {\r\n            Laya.stage.off( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__moving);\r\n            Laya.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__end);\r\n        }\r\n\r\n        __proto.__begin = function() {\r\n            if (this._touchDownPoint == null)\r\n                this._touchDownPoint = new Point();\r\n            this._touchDownPoint.x = Laya.stage.mouseX;\r\n            this._touchDownPoint.y = Laya.stage.mouseY;\r\n            Laya.stage.on( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__moving);\r\n            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__end);\r\n        }\r\n\r\n        __proto.__end = function() {\r\n            this.reset();\r\n        }\r\n\r\n        __proto.__moving = function(evt) {\r\n            var sensitivity = UIConfig1.touchDragSensitivity;\r\n            if (this._touchDownPoint != null &&\r\n                Math.abs(this._touchDownPoint.x - Laya.stage.mouseX) < sensitivity &&\r\n                Math.abs(this._touchDownPoint.y - Laya.stage.mouseY) < sensitivity)\r\n                return;\r\n            this.reset();\r\n            fairygui.GObject.sDraggingQuery = true;\r\n            Events.dispatch( /*fairygui.Events.DRAG_START*/ \"fui_drag_start\", this._displayObject, evt);\r\n            if (fairygui.GObject.sDraggingQuery)\r\n                this.dragBegin();\r\n        }\r\n\r\n        __proto.__moving2 = function(evt) {\r\n            var xx = Laya.stage.mouseX - fairygui.GObject.sGlobalDragStart.x + fairygui.GObject.sGlobalRect.x;\r\n            var yy = Laya.stage.mouseY - fairygui.GObject.sGlobalDragStart.y + fairygui.GObject.sGlobalRect.y;\r\n            if (this._dragBounds != null) {\r\n                var rect = GRoot.inst.localToGlobalRect(this._dragBounds.x, this._dragBounds.y,\r\n                    this._dragBounds.width, this._dragBounds.height, fairygui.GObject.sDragHelperRect);\r\n                if (xx < rect.x)\r\n                    xx = rect.x;\r\n                else if (xx + fairygui.GObject.sGlobalRect.width > rect.right) {\r\n                    xx = rect.right - fairygui.GObject.sGlobalRect.width;\r\n                    if (xx < rect.x)\r\n                        xx = rect.x;\r\n                }\r\n                if (yy < rect.y)\r\n                    yy = rect.y;\r\n                else if (yy + fairygui.GObject.sGlobalRect.height > rect.bottom) {\r\n                    yy = rect.bottom - fairygui.GObject.sGlobalRect.height;\r\n                    if (yy < rect.y)\r\n                        yy = rect.y;\r\n                }\r\n            }\r\n            GObject.sUpdateInDragging = true;\r\n            var pt = this.parent.globalToLocal(xx, yy, fairygui.GObject.sHelperPoint);\r\n            this.setXY(Math.round(pt.x), Math.round(pt.y));\r\n            GObject.sUpdateInDragging = false;\r\n            Events.dispatch( /*fairygui.Events.DRAG_MOVE*/ \"fui_drag_move\", this._displayObject, evt);\r\n        }\r\n\r\n        __proto.__end2 = function(evt) {\r\n            if (fairygui.GObject.draggingObject == this) {\r\n                this.stopDrag();\r\n                Events.dispatch( /*fairygui.Events.DRAG_END*/ \"fui_drag_end\", this._displayObject, evt);\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'actualHeight', function() {\r\n            return this.height * Math.abs(this._scaleY);\r\n        });\r\n\r\n        __getset(0, __proto, 'id', function() {\r\n            return this._id;\r\n        });\r\n\r\n        __getset(0, __proto, 'name', function() {\r\n            return this._name;\r\n        }, function(value) {\r\n            this._name = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'rotation', function() {\r\n            return this._rotation;\r\n        }, function(value) {\r\n            if (this._rotation != value) {\r\n                this._rotation = value;\r\n                if (this._displayObject != null) {\r\n                    this._displayObject.rotation = this.normalizeRotation;\r\n                    this.applyPivot();\r\n                }\r\n                this.updateGear(3);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'width', function() {\r\n            this.ensureSizeCorrect();\r\n            if (this._relations.sizeDirty)\r\n                this._relations.ensureRelationsSizeCorrect();\r\n            return this._width;\r\n        }, function(value) {\r\n            this.setSize(value, this._rawHeight);\r\n        });\r\n\r\n        __getset(0, __proto, 'x', function() {\r\n            return this._x;\r\n        }, function(value) {\r\n            this.setXY(value, this._y);\r\n        });\r\n\r\n        __getset(0, __proto, 'draggable', function() {\r\n            return this._draggable;\r\n        }, function(value) {\r\n            if (this._draggable != value) {\r\n                this._draggable = value;\r\n                this.initDrag();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'y', function() {\r\n            return this._y;\r\n        }, function(value) {\r\n            this.setXY(this._x, value);\r\n        });\r\n\r\n        __getset(0, __proto, 'pixelSnapping', function() {\r\n            return this._pixelSnapping;\r\n        }, function(value) {\r\n            if (this._pixelSnapping != value) {\r\n                this._pixelSnapping = value;\r\n                this.handleXYChanged();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'height', function() {\r\n            this.ensureSizeCorrect();\r\n            if (this._relations.sizeDirty)\r\n                this._relations.ensureRelationsSizeCorrect();\r\n            return this._height;\r\n        }, function(value) {\r\n            this.setSize(this._rawWidth, value);\r\n        });\r\n\r\n        __getset(0, __proto, 'asButton', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'actualWidth', function() {\r\n            return this.width * Math.abs(this._scaleX);\r\n        });\r\n\r\n        __getset(0, __proto, 'blendMode', function() {\r\n            return this._displayObject.blendMode;\r\n        }, function(value) {\r\n            this._displayObject.blendMode = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'scaleX', function() {\r\n            return this._scaleX;\r\n        }, function(value) {\r\n            this.setScale(value, this._scaleY);\r\n        });\r\n\r\n        __getset(0, __proto, 'scaleY', function() {\r\n            return this._scaleY;\r\n        }, function(value) {\r\n            this.setScale(this._scaleX, value);\r\n        });\r\n\r\n        __getset(0, __proto, 'skewX', function() {\r\n            return this._skewX;\r\n        }, function(value) {\r\n            this.setScale(value, this._skewY);\r\n        });\r\n\r\n        __getset(0, __proto, 'skewY', function() {\r\n            return this._skewY;\r\n        }, function(value) {\r\n            this.setSkew(this._skewX, value);\r\n        });\r\n\r\n        __getset(0, __proto, 'pivotX', function() {\r\n            return this._pivotX;\r\n        }, function(value) {\r\n            this.setPivot(value, this._pivotY);\r\n        });\r\n\r\n        __getset(0, __proto, 'asLoader', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'asTextInput', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'displayObject', function() {\r\n            return this._displayObject;\r\n        });\r\n\r\n        __getset(0, __proto, 'normalizeRotation', function() {\r\n            var rot = this._rotation % 360;\r\n            if (rot > 180)\r\n                rot = rot - 360;\r\n            else if (rot < -180)\r\n                rot = 360 + rot;\r\n            return rot;\r\n        });\r\n\r\n        __getset(0, __proto, 'pivotY', function() {\r\n            return this._pivotY;\r\n        }, function(value) {\r\n            this.setPivot(this._pivotX, value);\r\n        });\r\n\r\n        __getset(0, __proto, 'touchable', function() {\r\n            return this._touchable;\r\n        }, function(value) {\r\n            if (this._touchable != value) {\r\n                this._touchable = value;\r\n                this.updateGear(3);\r\n                if (((this instanceof fairygui.GImage)) || ((this instanceof fairygui.GMovieClip)) ||\r\n                    ((this instanceof fairygui.GTextField)) && !((this instanceof fairygui.GTextInput)) && !((this instanceof fairygui.GRichTextField)))\r\n                    return;\r\n                if (this._displayObject != null)\r\n                    this._displayObject.mouseEnabled = this._touchable;\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'alpha', function() {\r\n            return this._alpha;\r\n        }, function(value) {\r\n            if (this._alpha != value) {\r\n                this._alpha = value;\r\n                this.updateAlpha();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'grayed', function() {\r\n            return this._grayed;\r\n        }, function(value) {\r\n            if (this._grayed != value) {\r\n                this._grayed = value;\r\n                this.handleGrayedChanged();\r\n                this.updateGear(3);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'dragBounds', function() {\r\n            return this._dragBounds;\r\n        }, function(value) {\r\n            this._dragBounds = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'asProgress', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'enabled', function() {\r\n            return !this._grayed && this._touchable;\r\n        }, function(value) {\r\n            this.grayed = !value;\r\n            this.touchable = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'sortingOrder', function() {\r\n            return this._sortingOrder;\r\n        }, function(value) {\r\n            if (value < 0)\r\n                value = 0;\r\n            if (this._sortingOrder != value) {\r\n                var old = this._sortingOrder;\r\n                this._sortingOrder = value;\r\n                if (this._parent != null)\r\n                    this._parent.childSortingOrderChanged(this, old, this._sortingOrder);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'visible', function() {\r\n            return this._visible;\r\n        }, function(value) {\r\n            if (this._visible != value) {\r\n                this._visible = value;\r\n                if (this._displayObject)\r\n                    this._displayObject.visible = this._visible;\r\n                if (this._parent) {\r\n                    this._parent.childStateChanged(this);\r\n                    this._parent.setBoundsChangedFlag();\r\n                }\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'finalVisible', function() {\r\n            return this._visible && this._internalVisible && (!this._group || this._group.finalVisible) &&\r\n                !this._displayObject._$P[\"maskParent\"];\r\n        });\r\n\r\n        __getset(0, __proto, 'asGraph', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'gearSize', function() {\r\n            return (this.getGear(2));\r\n        });\r\n\r\n        __getset(0, __proto, 'focusable', function() {\r\n            return this._focusable;\r\n        }, function(value) {\r\n            this._focusable = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'focused', function() {\r\n            return this.root.focus == this;\r\n        });\r\n\r\n        __getset(0, __proto, 'tooltips', function() {\r\n            return this._tooltips;\r\n        }, function(value) {\r\n            this._tooltips = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'dragging', function() {\r\n            return fairygui.GObject.draggingObject == this;\r\n        });\r\n\r\n        __getset(0, __proto, 'group', function() {\r\n            return this._group;\r\n        }, function(value) {\r\n            if (this._group != value) {\r\n                if (this._group != null)\r\n                    this._group.setBoundsChangedFlag(true);\r\n                this._group = value;\r\n                if (this._group != null)\r\n                    this._group.setBoundsChangedFlag(true);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'filters', function() {\r\n            return this._displayObject.filters;\r\n        }, function(value) {\r\n            this._displayObject.filters = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'inContainer', function() {\r\n            return this._displayObject != null && this._displayObject.parent != null;\r\n        });\r\n\r\n        __getset(0, __proto, 'resourceURL', function() {\r\n            if (this.packageItem != null)\r\n                return \"ui://\" + this.packageItem.owner.id + this.packageItem.id;\r\n            else\r\n                return null;\r\n        });\r\n\r\n        __getset(0, __proto, 'onStage', function() {\r\n            return this._displayObject != null && this._displayObject.stage != null;\r\n        });\r\n\r\n        __getset(0, __proto, 'gearXY', function() {\r\n            return (this.getGear(1));\r\n        });\r\n\r\n        __getset(0, __proto, 'root', function() {\r\n            if ((this instanceof fairygui.GRoot))\r\n                return (this);\r\n            var p = this._parent;\r\n            while (p) {\r\n                if ((p instanceof fairygui.GRoot))\r\n                    return (p);\r\n                p = p.parent;\r\n            }\r\n            return GRoot.inst;\r\n        });\r\n\r\n        __getset(0, __proto, 'gearLook', function() {\r\n            return (this.getGear(3));\r\n        });\r\n\r\n        __getset(0, __proto, 'asCom', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'relations', function() {\r\n            return this._relations;\r\n        });\r\n\r\n        __getset(0, __proto, 'parent', function() {\r\n            return this._parent;\r\n        }, function(val) {\r\n            this._parent = val;\r\n        });\r\n\r\n        __getset(0, __proto, 'asLabel', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'asImage', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'asTextField', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'asGroup', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'asRichTextField', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'asList', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'asSlider', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'asComboBox', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'asMovieClip', function() {\r\n            return this;\r\n        });\r\n\r\n        __getset(0, __proto, 'text', function() {\r\n            return null;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'icon', function() {\r\n            return null;\r\n        }, function(value) {});\r\n\r\n        GObject.cast = function(sprite) {\r\n            return (sprite[\"$owner\"]);\r\n        }\r\n\r\n        GObject.draggingObject = null\r\n        GObject._gInstanceCounter = 0;\r\n        GObject.sDraggingQuery = false;\r\n        GObject.sUpdateInDragging = false;\r\n        __static(GObject, ['grayFilter', function() { return this.grayFilter = new ColorFilter([0.3086, 0.6094, 0.082, 0, 0, 0.3086, 0.6094, 0.082, 0, 0, 0.3086, 0.6094, 0.082, 0, 0, 0, 0, 0, 1, 0]); }, 'GearXMLKeys', function() {\r\n                return this.GearXMLKeys = {\r\n                    \"gearDisplay\": 0,\r\n                    \"gearXY\": 1,\r\n                    \"gearSize\": 2,\r\n                    \"gearLook\": 3,\r\n                    \"gearColor\": 4,\r\n                    \"gearAni\": 5,\r\n                    \"gearText\": 6,\r\n                    \"gearIcon\": 7\r\n                };\r\n            }, 'sGlobalDragStart', function() { return this.sGlobalDragStart = new Point(); }, 'sGlobalRect', function() { return this.sGlobalRect = new Rectangle(); }, 'sHelperPoint', function() { return this.sHelperPoint = new Point(); }, 'sDragHelperRect', function() { return this.sDragHelperRect = new Rectangle(); }\r\n\r\n        ]);\r\n        return GObject;\r\n    })()\r\n\r\n\r\n    //class fairygui.GearBase\r\n    var GearBase = (function() {\r\n        function GearBase(owner) {\r\n            this._tween = false;\r\n            this._easeType = null;\r\n            this._tweenTime = 0.3;\r\n            this._delay = 0;\r\n            this._displayLockToken = 0;\r\n            this._owner = null;\r\n            this._controller = null;\r\n            this._owner = owner;\r\n            this._easeType = Ease.quadOut;\r\n        }\r\n\r\n        __class(GearBase, 'fairygui.GearBase');\r\n        var __proto = GearBase.prototype;\r\n        __proto.setup = function(xml) {\r\n            this._controller = this._owner.parent.getController(xml.getAttribute(\"controller\"));\r\n            if (this._controller == null)\r\n                return;\r\n            this.init();\r\n            var str;\r\n            str = xml.getAttribute(\"tween\");\r\n            if (str)\r\n                this._tween = true;\r\n            str = xml.getAttribute(\"ease\");\r\n            if (str)\r\n                this._easeType = ToolSet.parseEaseType(str);\r\n            str = xml.getAttribute(\"duration\");\r\n            if (str)\r\n                this._tweenTime = parseFloat(str);\r\n            str = xml.getAttribute(\"delay\");\r\n            if (str)\r\n                this._delay = parseFloat(str);\r\n            if ((this instanceof fairygui.GearDisplay)) {\r\n                str = xml.getAttribute(\"pages\");\r\n                if (str) {\r\n                    var arr = str.split(\",\");\r\n                    (this).pages = arr;\r\n                }\r\n            } else {\r\n                var pages;\r\n                var values;\r\n                str = xml.getAttribute(\"pages\");\r\n                if (str)\r\n                    pages = str.split(\",\");\r\n                if (pages) {\r\n                    str = xml.getAttribute(\"values\");\r\n                    if (str != null)\r\n                        values = str.split(\"|\");\r\n                    else\r\n                        values = [];\r\n                    for (var i = 0; i < pages.length; i++)\r\n                        this.addStatus(pages[i], values[i]);\r\n                }\r\n                str = xml.getAttribute(\"default\");\r\n                if (str)\r\n                    this.addStatus(null, str);\r\n            }\r\n        }\r\n\r\n        __proto.updateFromRelations = function(dx, dy) {}\r\n        __proto.addStatus = function(pageId, value) {}\r\n        __proto.init = function() {}\r\n        __proto.apply = function() {}\r\n        __proto.updateState = function() {}\r\n        __getset(0, __proto, 'controller', function() {\r\n            return this._controller;\r\n        }, function(val) {\r\n            if (val != this._controller) {\r\n                this._controller = val;\r\n                if (this._controller)\r\n                    this.init();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'tween', function() {\r\n            return this._tween;\r\n        }, function(val) {\r\n            this._tween = val;\r\n        });\r\n\r\n        __getset(0, __proto, 'delay', function() {\r\n            return this._delay;\r\n        }, function(val) {\r\n            this._delay = val;\r\n        });\r\n\r\n        __getset(0, __proto, 'tweenTime', function() {\r\n            return this._tweenTime;\r\n        }, function(value) {\r\n            this._tweenTime = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'easeType', function() {\r\n            return this._easeType;\r\n        }, function(value) {\r\n            this._easeType = value;\r\n        });\r\n\r\n        GearBase.disableAllTweenEffect = false;\r\n        return GearBase;\r\n    })()\r\n\r\n\r\n    //class fairygui.GObjectPool\r\n    var GObjectPool = (function() {\r\n        function GObjectPool() {\r\n            this._pool = null;\r\n            this._count = 0;\r\n            this._pool = {};\r\n        }\r\n\r\n        __class(GObjectPool, 'fairygui.GObjectPool');\r\n        var __proto = GObjectPool.prototype;\r\n        __proto.clear = function() {\r\n            var length1 = this._pool.length;\r\n            for (var i1 = 0; i1 < length1; i1++) {\r\n                var arr = this._pool[i1];\r\n                var cnt = arr.length;\r\n                for (var i = 0; i < cnt; i++)\r\n                    arr[i].dispose();\r\n            }\r\n            this._pool = {};\r\n            this._count = 0;\r\n        }\r\n\r\n        __proto.getObject = function(url) {\r\n            url = UIPackage.normalizeURL(url);\r\n            if (url == null)\r\n                return null;\r\n            var arr = this._pool[url];\r\n            if (arr != null && arr.length > 0) {\r\n                this._count--;\r\n                return arr.shift();\r\n            };\r\n            var child = UIPackage.createObjectFromURL(url);\r\n            return child;\r\n        }\r\n\r\n        __proto.returnObject = function(obj) {\r\n            var url = obj.resourceURL;\r\n            if (!url)\r\n                return;\r\n            var arr = this._pool[url];\r\n            if (arr == null) {\r\n                arr = [];\r\n                this._pool[url] = arr;\r\n            }\r\n            this._count++;\r\n            arr.push(obj);\r\n        }\r\n\r\n        __getset(0, __proto, 'count', function() {\r\n            return this._count;\r\n        });\r\n\r\n        return GObjectPool;\r\n    })()\r\n\r\n\r\n    //class fairygui.GroupLayoutType\r\n    var GroupLayoutType = (function() {\r\n        function GroupLayoutType() {}\r\n        __class(GroupLayoutType, 'fairygui.GroupLayoutType');\r\n        GroupLayoutType.parse = function(value) {\r\n            switch (value) {\r\n                case \"none\":\r\n                    return 0;\r\n                case \"hz\":\r\n                    return 1;\r\n                case \"vt\":\r\n                    return 2;\r\n                default:\r\n                    return 0;\r\n            }\r\n        }\r\n\r\n        GroupLayoutType.None = 0;\r\n        GroupLayoutType.Horizontal = 1;\r\n        GroupLayoutType.Vertical = 2;\r\n        return GroupLayoutType;\r\n    })()\r\n\r\n\r\n    //class fairygui.ListLayoutType\r\n    var ListLayoutType = (function() {\r\n        function ListLayoutType() {}\r\n        __class(ListLayoutType, 'fairygui.ListLayoutType');\r\n        ListLayoutType.parse = function(value) {\r\n            switch (value) {\r\n                case \"column\":\r\n                    return 0;\r\n                case \"row\":\r\n                    return 1;\r\n                case \"flow_hz\":\r\n                    return 2;\r\n                case \"flow_vt\":\r\n                    return 3;\r\n                case \"pagination\":\r\n                    return 4;\r\n                default:\r\n                    return 0;\r\n            }\r\n        }\r\n\r\n        ListLayoutType.SingleColumn = 0;\r\n        ListLayoutType.SingleRow = 1;\r\n        ListLayoutType.FlowHorizontal = 2;\r\n        ListLayoutType.FlowVertical = 3;\r\n        ListLayoutType.Pagination = 4;\r\n        return ListLayoutType;\r\n    })()\r\n\r\n\r\n    //class fairygui.ListSelectionMode\r\n    var ListSelectionMode = (function() {\r\n        function ListSelectionMode() {}\r\n        __class(ListSelectionMode, 'fairygui.ListSelectionMode');\r\n        ListSelectionMode.parse = function(value) {\r\n            switch (value) {\r\n                case \"single\":\r\n                    return 0;\r\n                case \"multiple\":\r\n                    return 1;\r\n                case \"multipleSingleClick\":\r\n                    return 2;\r\n                case \"none\":\r\n                    return 3;\r\n                default:\r\n                    return 0;\r\n            }\r\n        }\r\n\r\n        ListSelectionMode.Single = 0;\r\n        ListSelectionMode.Multiple = 1;\r\n        ListSelectionMode.Multiple_SingleClick = 2;\r\n        ListSelectionMode.None = 3;\r\n        return ListSelectionMode;\r\n    })()\r\n\r\n\r\n    //class fairygui.LoaderFillType\r\n    var LoaderFillType = (function() {\r\n        function LoaderFillType() {}\r\n        __class(LoaderFillType, 'fairygui.LoaderFillType');\r\n        LoaderFillType.parse = function(value) {\r\n            switch (value) {\r\n                case \"none\":\r\n                    return 0;\r\n                case \"scale\":\r\n                    return 1;\r\n                case \"scaleMatchHeight\":\r\n                    return 2;\r\n                case \"scaleMatchWidth\":\r\n                    return 3;\r\n                case \"scaleFree\":\r\n                    return 4;\r\n                default:\r\n                    return 0;\r\n            }\r\n        }\r\n\r\n        LoaderFillType.None = 0;\r\n        LoaderFillType.Scale = 1;\r\n        LoaderFillType.ScaleMatchHeight = 2;\r\n        LoaderFillType.ScaleMatchWidth = 3;\r\n        LoaderFillType.ScaleFree = 4;\r\n        return LoaderFillType;\r\n    })()\r\n\r\n\r\n    //class fairygui.Margin\r\n    var Margin = (function() {\r\n        function Margin() {\r\n            this.left = 0;\r\n            this.right = 0;\r\n            this.top = 0;\r\n            this.bottom = 0;\r\n        }\r\n\r\n        __class(Margin, 'fairygui.Margin');\r\n        var __proto = Margin.prototype;\r\n        __proto.parse = function(str) {\r\n            if (!str) {\r\n                this.left = 0;\r\n                this.right = 0;\r\n                this.top = 0;\r\n                this.bottom = 0;\r\n                return;\r\n            };\r\n            var arr = str.split(\",\");\r\n            if (arr.length == 1) {\r\n                var k = parseInt(arr[0]);\r\n                this.top = k;\r\n                this.bottom = k;\r\n                this.left = k;\r\n                this.right = k;\r\n            } else {\r\n                this.top = parseInt(arr[0]);\r\n                this.bottom = parseInt(arr[1]);\r\n                this.left = parseInt(arr[2]);\r\n                this.right = parseInt(arr[3]);\r\n            }\r\n        }\r\n\r\n        __proto.copy = function(source) {\r\n            this.top = source.top;\r\n            this.bottom = source.bottom;\r\n            this.left = source.left;\r\n            this.right = source.right;\r\n        }\r\n\r\n        return Margin;\r\n    })()\r\n\r\n\r\n    //class fairygui.OverflowType\r\n    var OverflowType = (function() {\r\n        function OverflowType() {}\r\n        __class(OverflowType, 'fairygui.OverflowType');\r\n        OverflowType.parse = function(value) {\r\n            switch (value) {\r\n                case \"visible\":\r\n                    return 0;\r\n                case \"hidden\":\r\n                    return 1;\r\n                case \"scroll\":\r\n                    return 2;\r\n                case \"scale\":\r\n                    return 3;\r\n                case \"scaleFree\":\r\n                    return 4;\r\n                default:\r\n                    return 0;\r\n            }\r\n        }\r\n\r\n        OverflowType.Visible = 0;\r\n        OverflowType.Hidden = 1;\r\n        OverflowType.Scroll = 2;\r\n        OverflowType.Scale = 3;\r\n        OverflowType.ScaleFree = 4;\r\n        return OverflowType;\r\n    })()\r\n\r\n\r\n    //class fairygui.PackageItem\r\n    var PackageItem = (function() {\r\n        function PackageItem() {\r\n            this.owner = null;\r\n            this.type = 0;\r\n            this.id = null;\r\n            this.name = null;\r\n            this.width = 0;\r\n            this.height = 0;\r\n            this.file = null;\r\n            this.decoded = false;\r\n            this.scale9Grid = null;\r\n            this.scaleByTile = false;\r\n            this.tileGridIndice = 0;\r\n            this.smoothing = false;\r\n            this.texture = null;\r\n            this.interval = 0;\r\n            this.repeatDelay = 0;\r\n            this.swing = false;\r\n            this.frames = null;\r\n            this.componentData = null;\r\n            this.displayList = null;\r\n            this.extensionType = null;\r\n            this.sound = null;\r\n            this.bitmapFont = null;\r\n        }\r\n\r\n        __class(PackageItem, 'fairygui.PackageItem');\r\n        var __proto = PackageItem.prototype;\r\n        __proto.load = function() {\r\n            return this.owner.getItemAsset(this);\r\n        }\r\n\r\n        __proto.toString = function() {\r\n            return this.name;\r\n        }\r\n\r\n        return PackageItem;\r\n    })()\r\n\r\n\r\n    //class fairygui.PackageItemType\r\n    var PackageItemType = (function() {\r\n        function PackageItemType() {}\r\n        __class(PackageItemType, 'fairygui.PackageItemType');\r\n        PackageItemType.parse = function(value) {\r\n            switch (value) {\r\n                case \"image\":\r\n                    return 0;\r\n                case \"movieclip\":\r\n                    return 2;\r\n                case \"sound\":\r\n                    return 3;\r\n                case \"component\":\r\n                    return 4;\r\n                case \"swf\":\r\n                    return 1;\r\n                case \"font\":\r\n                    return 6;\r\n                case \"atlas\":\r\n                    return 7;\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        PackageItemType.Image = 0;\r\n        PackageItemType.Swf = 1;\r\n        PackageItemType.MovieClip = 2;\r\n        PackageItemType.Sound = 3;\r\n        PackageItemType.Component = 4;\r\n        PackageItemType.Misc = 5;\r\n        PackageItemType.Font = 6;\r\n        PackageItemType.Atlas = 7;\r\n        return PackageItemType;\r\n    })()\r\n\r\n\r\n    //class fairygui.PageOption\r\n    var PageOption = (function() {\r\n        function PageOption() {\r\n            this._controller = null;\r\n            this._id = null;\r\n        }\r\n\r\n        __class(PageOption, 'fairygui.PageOption');\r\n        var __proto = PageOption.prototype;\r\n        __proto.clear = function() {\r\n            this._id = null;\r\n        }\r\n\r\n        __getset(0, __proto, 'controller', null, function(val) {\r\n            this._controller = val;\r\n        });\r\n\r\n        __getset(0, __proto, 'index', function() {\r\n            if (this._id)\r\n                return this._controller.getPageIndexById(this._id);\r\n            else\r\n                return -1;\r\n        }, function(pageIndex) {\r\n            this._id = this._controller.getPageId(pageIndex);\r\n        });\r\n\r\n        __getset(0, __proto, 'name', function() {\r\n            if (this._id)\r\n                return this._controller.getPageNameById(this._id);\r\n            else\r\n                return null;\r\n        }, function(pageName) {\r\n            this._id = this._controller.getPageIdByName(pageName);\r\n        });\r\n\r\n        __getset(0, __proto, 'id', function() {\r\n            return this._id;\r\n        }, function(id) {\r\n            this._id = id;\r\n        });\r\n\r\n        return PageOption;\r\n    })()\r\n\r\n\r\n    //class fairygui.PopupMenu\r\n    var PopupMenu = (function() {\r\n        function PopupMenu(resourceURL) {\r\n            this._contentPane = null;\r\n            this._list = null;\r\n            if (!resourceURL) {\r\n                resourceURL = UIConfig1.popupMenu;\r\n                if (!resourceURL)\r\n                    throw \"UIConfig.popupMenu not defined\";\r\n            }\r\n            this._contentPane = UIPackage.createObjectFromURL(resourceURL).asCom;\r\n            this._contentPane.on( /*laya.events.Event.DISPLAY*/ \"display\", this, this.__addedToStage);\r\n            this._list = (this._contentPane.getChild(\"list\"));\r\n            this._list.removeChildrenToPool();\r\n            this._list.addRelation(this._contentPane, /*fairygui.RelationType.Width*/ 14);\r\n            this._list.removeRelation(this._contentPane, /*fairygui.RelationType.Height*/ 15);\r\n            this._contentPane.addRelation(this._list, /*fairygui.RelationType.Height*/ 15);\r\n            this._list.on( /*fairygui.Events.CLICK_ITEM*/ \"fui_click_item\", this, this.__clickItem);\r\n        }\r\n\r\n        __class(PopupMenu, 'fairygui.PopupMenu');\r\n        var __proto = PopupMenu.prototype;\r\n        __proto.dispose = function() {\r\n            this._contentPane.dispose();\r\n        }\r\n\r\n        __proto.addItem = function(caption, handler) {\r\n            var item = this._list.addItemFromPool().asButton;\r\n            item.title = caption;\r\n            item.data = handler;\r\n            item.grayed = false;\r\n            var c = item.getController(\"checked\");\r\n            if (c != null)\r\n                c.selectedIndex = 0;\r\n            return item;\r\n        }\r\n\r\n        __proto.addItemAt = function(caption, index, handler) {\r\n            var item = this._list.getFromPool().asButton;\r\n            this._list.addChildAt(item, index);\r\n            item.title = caption;\r\n            item.data = handler;\r\n            item.grayed = false;\r\n            var c = item.getController(\"checked\");\r\n            if (c != null)\r\n                c.selectedIndex = 0;\r\n            return item;\r\n        }\r\n\r\n        __proto.addSeperator = function() {\r\n            if (UIConfig1.popupMenu_seperator == null)\r\n                throw \"UIConfig.popupMenu_seperator not defined\";\r\n            this.list.addItemFromPool(UIConfig1.popupMenu_seperator);\r\n        }\r\n\r\n        __proto.getItemName = function(index) {\r\n            var item = this._list.getChildAt(index);\r\n            return item.name;\r\n        }\r\n\r\n        __proto.setItemText = function(name, caption) {\r\n            var item = this._list.getChild(name).asButton;\r\n            item.title = caption;\r\n        }\r\n\r\n        __proto.setItemVisible = function(name, visible) {\r\n            var item = this._list.getChild(name).asButton;\r\n            if (item.visible != visible) {\r\n                item.visible = visible;\r\n                this._list.setBoundsChangedFlag();\r\n            }\r\n        }\r\n\r\n        __proto.setItemGrayed = function(name, grayed) {\r\n            var item = this._list.getChild(name).asButton;\r\n            item.grayed = grayed;\r\n        }\r\n\r\n        __proto.setItemCheckable = function(name, checkable) {\r\n            var item = this._list.getChild(name).asButton;\r\n            var c = item.getController(\"checked\");\r\n            if (c != null) {\r\n                if (checkable) {\r\n                    if (c.selectedIndex == 0)\r\n                        c.selectedIndex = 1;\r\n                } else\r\n                    c.selectedIndex = 0;\r\n            }\r\n        }\r\n\r\n        __proto.setItemChecked = function(name, checked) {\r\n            var item = this._list.getChild(name).asButton;\r\n            var c = item.getController(\"checked\");\r\n            if (c != null)\r\n                c.selectedIndex = checked ? 2 : 1;\r\n        }\r\n\r\n        __proto.isItemChecked = function(name) {\r\n            var item = this._list.getChild(name).asButton;\r\n            var c = item.getController(\"checked\");\r\n            if (c != null)\r\n                return c.selectedIndex == 2;\r\n            else\r\n                return false;\r\n        }\r\n\r\n        __proto.removeItem = function(name) {\r\n            var item = this._list.getChild(name);\r\n            if (item != null) {\r\n                var index = this._list.getChildIndex(item);\r\n                this._list.removeChildToPoolAt(index);\r\n                return true;\r\n            } else\r\n                return false;\r\n        }\r\n\r\n        __proto.clearItems = function() {\r\n            this._list.removeChildrenToPool();\r\n        }\r\n\r\n        __proto.show = function(target, downward) {\r\n            var r = target != null ? target.root : GRoot.inst;\r\n            r.showPopup(this.contentPane, ((target instanceof fairygui.GRoot)) ? null : target, downward);\r\n        }\r\n\r\n        __proto.__clickItem = function(itemObject) {\r\n            Laya.timer.once(100, this, this.__clickItem2, [itemObject]);\r\n        }\r\n\r\n        __proto.__clickItem2 = function(itemObject) {\r\n            if (!((itemObject instanceof fairygui.GButton)))\r\n                return;\r\n            if (itemObject.grayed) {\r\n                this._list.selectedIndex = -1;\r\n                return;\r\n            };\r\n            var c = itemObject.asCom.getController(\"checked\");\r\n            if (c != null && c.selectedIndex != 0) {\r\n                if (c.selectedIndex == 1)\r\n                    c.selectedIndex = 2;\r\n                else\r\n                    c.selectedIndex = 1;\r\n            };\r\n            var r = (this._contentPane.parent);\r\n            r.hidePopup(this.contentPane);\r\n            if (itemObject.data != null) {\r\n                (itemObject.data).run();\r\n            }\r\n        }\r\n\r\n        __proto.__addedToStage = function() {\r\n            this._list.selectedIndex = -1;\r\n            this._list.resizeToFit(100000, 10);\r\n        }\r\n\r\n        __getset(0, __proto, 'itemCount', function() {\r\n            return this._list.numChildren;\r\n        });\r\n\r\n        __getset(0, __proto, 'contentPane', function() {\r\n            return this._contentPane;\r\n        });\r\n\r\n        __getset(0, __proto, 'list', function() {\r\n            return this._list;\r\n        });\r\n\r\n        return PopupMenu;\r\n    })()\r\n\r\n\r\n    //class fairygui.ProgressTitleType\r\n    var ProgressTitleType = (function() {\r\n        function ProgressTitleType() {}\r\n        __class(ProgressTitleType, 'fairygui.ProgressTitleType');\r\n        ProgressTitleType.parse = function(value) {\r\n            switch (value) {\r\n                case \"percent\":\r\n                    return 0;\r\n                case \"valueAndmax\":\r\n                    return 1;\r\n                case \"value\":\r\n                    return 2;\r\n                case \"max\":\r\n                    return 3;\r\n                default:\r\n                    return 0;\r\n            }\r\n        }\r\n\r\n        ProgressTitleType.Percent = 0;\r\n        ProgressTitleType.ValueAndMax = 1;\r\n        ProgressTitleType.Value = 2;\r\n        ProgressTitleType.Max = 3;\r\n        return ProgressTitleType;\r\n    })()\r\n\r\n\r\n    //class fairygui.RelationItem\r\n    var RelationItem = (function() {\r\n        var RelationDef;\r\n\r\n        function RelationItem(owner) {\r\n            this._owner = null;\r\n            this._target = null;\r\n            this._defs = null;\r\n            this._targetX = NaN;\r\n            this._targetY = NaN;\r\n            this._targetWidth = NaN;\r\n            this._targetHeight = NaN;\r\n            this._owner = owner;\r\n            this._defs = [];\r\n        }\r\n\r\n        __class(RelationItem, 'fairygui.RelationItem');\r\n        var __proto = RelationItem.prototype;\r\n        __proto.add = function(relationType, usePercent) {\r\n            if (relationType == /*fairygui.RelationType.Size*/ 24) {\r\n                this.add( /*fairygui.RelationType.Width*/ 14, usePercent);\r\n                this.add( /*fairygui.RelationType.Height*/ 15, usePercent);\r\n                return;\r\n            };\r\n            var length = this._defs.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var def = this._defs[i];\r\n                if (def.type == relationType)\r\n                    return;\r\n            }\r\n            this.internalAdd(relationType, usePercent);\r\n        }\r\n\r\n        __proto.internalAdd = function(relationType, usePercent) {\r\n            if (relationType == /*fairygui.RelationType.Size*/ 24) {\r\n                this.internalAdd( /*fairygui.RelationType.Width*/ 14, usePercent);\r\n                this.internalAdd( /*fairygui.RelationType.Height*/ 15, usePercent);\r\n                return;\r\n            };\r\n            var info = new RelationDef();\r\n            info.percent = usePercent;\r\n            info.type = relationType;\r\n            this._defs.push(info);\r\n            if (usePercent || relationType == /*fairygui.RelationType.Left_Center*/ 1 || relationType == /*fairygui.RelationType.Center_Center*/ 3 || relationType == /*fairygui.RelationType.Right_Center*/ 5 ||\r\n                relationType == /*fairygui.RelationType.Top_Middle*/ 8 || relationType == /*fairygui.RelationType.Middle_Middle*/ 10 || relationType == /*fairygui.RelationType.Bottom_Middle*/ 12)\r\n                this._owner.pixelSnapping = true;\r\n        }\r\n\r\n        __proto.remove = function(relationType) {\r\n            (relationType === void 0) && (relationType = 0);\r\n            if (relationType == /*fairygui.RelationType.Size*/ 24) {\r\n                this.remove( /*fairygui.RelationType.Width*/ 14);\r\n                this.remove( /*fairygui.RelationType.Height*/ 15);\r\n                return;\r\n            };\r\n            var dc = this._defs.length;\r\n            for (var k = 0; k < dc; k++) {\r\n                if (this._defs[k].type == relationType) {\r\n                    this._defs.splice(k, 1);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.copyFrom = function(source) {\r\n            this.target = source.target;\r\n            this._defs.length = 0;\r\n            var length = source._defs.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var info = source._defs[i];\r\n                var info2 = new RelationDef();\r\n                info2.copyFrom(info);\r\n                this._defs.push(info2);\r\n            }\r\n        }\r\n\r\n        __proto.dispose = function() {\r\n            if (this._target != null) {\r\n                this.releaseRefTarget(this._target);\r\n                this._target = null;\r\n            }\r\n        }\r\n\r\n        __proto.applyOnSelfResized = function(dWidth, dHeight) {\r\n            var ox = this._owner.x;\r\n            var oy = this._owner.y;\r\n            var length = this._defs.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var info = this._defs[i];\r\n                switch (info.type) {\r\n                    case /*fairygui.RelationType.Center_Center*/ 3:\r\n                    case /*fairygui.RelationType.Right_Center*/ 5:\r\n                        this._owner.x -= dWidth / 2;\r\n                        break;\r\n                    case /*fairygui.RelationType.Right_Left*/ 4:\r\n                    case /*fairygui.RelationType.Right_Right*/ 6:\r\n                        this._owner.x -= dWidth;\r\n                        break;\r\n                    case /*fairygui.RelationType.Middle_Middle*/ 10:\r\n                    case /*fairygui.RelationType.Bottom_Middle*/ 12:\r\n                        this._owner.y -= dHeight / 2;\r\n                        break;\r\n                    case /*fairygui.RelationType.Bottom_Top*/ 11:\r\n                    case /*fairygui.RelationType.Bottom_Bottom*/ 13:\r\n                        this._owner.y -= dHeight;\r\n                        break;\r\n                }\r\n            }\r\n            if (ox != this._owner.x || oy != this._owner.y) {\r\n                ox = this._owner.x - ox;\r\n                oy = this._owner.y - oy;\r\n                this._owner.updateGearFromRelations(1, ox, oy);\r\n                if (this._owner.parent != null) {\r\n                    var len = this._owner.parent._transitions.length;\r\n                    if (len > 0) {\r\n                        for (i = 0; i < len; ++i) {\r\n                            this._owner.parent._transitions[i].updateFromRelations(this._owner.id, ox, oy);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.applyOnXYChanged = function(info, dx, dy) {\r\n            switch (info.type) {\r\n                case /*fairygui.RelationType.Left_Left*/ 0:\r\n                case /*fairygui.RelationType.Left_Center*/ 1:\r\n                case /*fairygui.RelationType.Left_Right*/ 2:\r\n                case /*fairygui.RelationType.Center_Center*/ 3:\r\n                case /*fairygui.RelationType.Right_Left*/ 4:\r\n                case /*fairygui.RelationType.Right_Center*/ 5:\r\n                case /*fairygui.RelationType.Right_Right*/ 6:\r\n                    this._owner.x += dx;\r\n                    break;\r\n                case /*fairygui.RelationType.Top_Top*/ 7:\r\n                case /*fairygui.RelationType.Top_Middle*/ 8:\r\n                case /*fairygui.RelationType.Top_Bottom*/ 9:\r\n                case /*fairygui.RelationType.Middle_Middle*/ 10:\r\n                case /*fairygui.RelationType.Bottom_Top*/ 11:\r\n                case /*fairygui.RelationType.Bottom_Middle*/ 12:\r\n                case /*fairygui.RelationType.Bottom_Bottom*/ 13:\r\n                    this._owner.y += dy;\r\n                    break;\r\n                case /*fairygui.RelationType.Width*/ 14:\r\n                case /*fairygui.RelationType.Height*/ 15:\r\n                    break;\r\n                case /*fairygui.RelationType.LeftExt_Left*/ 16:\r\n                case /*fairygui.RelationType.LeftExt_Right*/ 17:\r\n                    this._owner.x += dx;\r\n                    this._owner.width = this._owner._rawWidth - dx;\r\n                    break;\r\n                case /*fairygui.RelationType.RightExt_Left*/ 18:\r\n                case /*fairygui.RelationType.RightExt_Right*/ 19:\r\n                    this._owner.width = this._owner._rawWidth + dx;\r\n                    break;\r\n                case /*fairygui.RelationType.TopExt_Top*/ 20:\r\n                case /*fairygui.RelationType.TopExt_Bottom*/ 21:\r\n                    this._owner.y += dy;\r\n                    this._owner.height = this._owner._rawHeight - dy;\r\n                    break;\r\n                case /*fairygui.RelationType.BottomExt_Top*/ 22:\r\n                case /*fairygui.RelationType.BottomExt_Bottom*/ 23:\r\n                    this._owner.height = this._owner._rawHeight + dy;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        __proto.applyOnSizeChanged = function(info) {\r\n            var targetX = NaN,\r\n                targetY = NaN;\r\n            if (this._target != this._owner.parent) {\r\n                targetX = this._target.x;\r\n                targetY = this._target.y;\r\n            } else {\r\n                targetX = 0;\r\n                targetY = 0;\r\n            };\r\n            var v = NaN,\r\n                tmp = NaN;\r\n            switch (info.type) {\r\n                case /*fairygui.RelationType.Left_Left*/ 0:\r\n                    if (info.percent && this._target == this._owner.parent) {\r\n                        v = this._owner.x - targetX;\r\n                        if (info.percent)\r\n                            v = v / this._targetWidth * this._target._width;\r\n                        this._owner.x = targetX + v;\r\n                    }\r\n                    break;\r\n                case /*fairygui.RelationType.Left_Center*/ 1:\r\n                    v = this._owner.x - (targetX + this._targetWidth / 2);\r\n                    if (info.percent)\r\n                        v = v / this._targetWidth * this._target._width;\r\n                    this._owner.x = targetX + this._target._width / 2 + v;\r\n                    break;\r\n                case /*fairygui.RelationType.Left_Right*/ 2:\r\n                    v = this._owner.x - (targetX + this._targetWidth);\r\n                    if (info.percent)\r\n                        v = v / this._targetWidth * this._target._width;\r\n                    this._owner.x = targetX + this._target._width + v;\r\n                    break;\r\n                case /*fairygui.RelationType.Center_Center*/ 3:\r\n                    v = this._owner.x + this._owner._rawWidth / 2 - (targetX + this._targetWidth / 2);\r\n                    if (info.percent)\r\n                        v = v / this._targetWidth * this._target._width;\r\n                    this._owner.x = targetX + this._target._width / 2 + v - this._owner._rawWidth / 2;\r\n                    break;\r\n                case /*fairygui.RelationType.Right_Left*/ 4:\r\n                    v = this._owner.x + this._owner._rawWidth - targetX;\r\n                    if (info.percent)\r\n                        v = v / this._targetWidth * this._target._width;\r\n                    this._owner.x = targetX + v - this._owner._rawWidth;\r\n                    break;\r\n                case /*fairygui.RelationType.Right_Center*/ 5:\r\n                    v = this._owner.x + this._owner._rawWidth - (targetX + this._targetWidth / 2);\r\n                    if (info.percent)\r\n                        v = v / this._targetWidth * this._target._width;\r\n                    this._owner.x = targetX + this._target._width / 2 + v - this._owner._rawWidth;\r\n                    break;\r\n                case /*fairygui.RelationType.Right_Right*/ 6:\r\n                    v = this._owner.x + this._owner._rawWidth - (targetX + this._targetWidth);\r\n                    if (info.percent)\r\n                        v = v / this._targetWidth * this._target._width;\r\n                    this._owner.x = targetX + this._target._width + v - this._owner._rawWidth;\r\n                    break;\r\n                case /*fairygui.RelationType.Top_Top*/ 7:\r\n                    if (info.percent && this._target == this._owner.parent) {\r\n                        v = this._owner.y - targetY;\r\n                        if (info.percent)\r\n                            v = v / this._targetHeight * this._target._height;\r\n                        this._owner.y = targetY + v;\r\n                    }\r\n                    break;\r\n                case /*fairygui.RelationType.Top_Middle*/ 8:\r\n                    v = this._owner.y - (targetY + this._targetHeight / 2);\r\n                    if (info.percent)\r\n                        v = v / this._targetHeight * this._target._height;\r\n                    this._owner.y = targetY + this._target._height / 2 + v;\r\n                    break;\r\n                case /*fairygui.RelationType.Top_Bottom*/ 9:\r\n                    v = this._owner.y - (targetY + this._targetHeight);\r\n                    if (info.percent)\r\n                        v = v / this._targetHeight * this._target._height;\r\n                    this._owner.y = targetY + this._target._height + v;\r\n                    break;\r\n                case /*fairygui.RelationType.Middle_Middle*/ 10:\r\n                    v = this._owner.y + this._owner._rawHeight / 2 - (targetY + this._targetHeight / 2);\r\n                    if (info.percent)\r\n                        v = v / this._targetHeight * this._target._height;\r\n                    this._owner.y = targetY + this._target._height / 2 + v - this._owner._rawHeight / 2;\r\n                    break;\r\n                case /*fairygui.RelationType.Bottom_Top*/ 11:\r\n                    v = this._owner.y + this._owner._rawHeight - targetY;\r\n                    if (info.percent)\r\n                        v = v / this._targetHeight * this._target._height;\r\n                    this._owner.y = targetY + v - this._owner._rawHeight;\r\n                    break;\r\n                case /*fairygui.RelationType.Bottom_Middle*/ 12:\r\n                    v = this._owner.y + this._owner._rawHeight - (targetY + this._targetHeight / 2);\r\n                    if (info.percent)\r\n                        v = v / this._targetHeight * this._target._height;\r\n                    this._owner.y = targetY + this._target._height / 2 + v - this._owner._rawHeight;\r\n                    break;\r\n                case /*fairygui.RelationType.Bottom_Bottom*/ 13:\r\n                    v = this._owner.y + this._owner._rawHeight - (targetY + this._targetHeight);\r\n                    if (info.percent)\r\n                        v = v / this._targetHeight * this._target._height;\r\n                    this._owner.y = targetY + this._target._height + v - this._owner._rawHeight;\r\n                    break;\r\n                case /*fairygui.RelationType.Width*/ 14:\r\n                    if (this._owner._underConstruct && this._owner == this._target.parent)\r\n                        v = this._owner.sourceWidth - this._target.initWidth;\r\n                    else\r\n                        v = this._owner._rawWidth - this._targetWidth;\r\n                    if (info.percent)\r\n                        v = v / this._targetWidth * this._target._width;\r\n                    if (this._target == this._owner.parent)\r\n                        this._owner.setSize(this._target._width + v, this._owner._rawHeight, true);\r\n                    else\r\n                        this._owner.width = this._target._width + v;\r\n                    break;\r\n                case /*fairygui.RelationType.Height*/ 15:\r\n                    if (this._owner._underConstruct && this._owner == this._target.parent)\r\n                        v = this._owner.sourceHeight - this._target.initHeight;\r\n                    else\r\n                        v = this._owner._rawHeight - this._targetHeight;\r\n                    if (info.percent)\r\n                        v = v / this._targetHeight * this._target._height;\r\n                    if (this._target == this._owner.parent)\r\n                        this._owner.setSize(this._owner._rawWidth, this._target._height + v, true);\r\n                    else\r\n                        this._owner.height = this._target._height + v;\r\n                    break;\r\n                case /*fairygui.RelationType.LeftExt_Left*/ 16:\r\n                    break;\r\n                case /*fairygui.RelationType.LeftExt_Right*/ 17:\r\n                    v = this._owner.x - (targetX + this._targetWidth);\r\n                    if (info.percent)\r\n                        v = v / this._targetWidth * this._target._width;\r\n                    tmp = this._owner.x;\r\n                    this._owner.x = targetX + this._target._width + v;\r\n                    this._owner.width = this._owner._rawWidth - (this._owner.x - tmp);\r\n                    break;\r\n                case /*fairygui.RelationType.RightExt_Left*/ 18:\r\n                    break;\r\n                case /*fairygui.RelationType.RightExt_Right*/ 19:\r\n                    if (this._owner._underConstruct && this._owner == this._target.parent)\r\n                        v = this._owner.sourceWidth - (targetX + this._target.initWidth);\r\n                    else\r\n                        v = this._owner.width - (targetX + this._targetWidth);\r\n                    if (this._owner != this._target.parent)\r\n                        v += this._owner.x;\r\n                    if (info.percent)\r\n                        v = v / this._targetWidth * this._target._width;\r\n                    if (this._owner != this._target.parent)\r\n                        this._owner.width = targetX + this._target._width + v - this._owner.x;\r\n                    else\r\n                        this._owner.width = targetX + this._target._width + v;\r\n                    break;\r\n                case /*fairygui.RelationType.TopExt_Top*/ 20:\r\n                    break;\r\n                case /*fairygui.RelationType.TopExt_Bottom*/ 21:\r\n                    v = this._owner.y - (targetY + this._targetHeight);\r\n                    if (info.percent)\r\n                        v = v / this._targetHeight * this._target._height;\r\n                    tmp = this._owner.y;\r\n                    this._owner.y = targetY + this._target._height + v;\r\n                    this._owner.height = this._owner._rawHeight - (this._owner.y - tmp);\r\n                    break;\r\n                case /*fairygui.RelationType.BottomExt_Top*/ 22:\r\n                    break;\r\n                case /*fairygui.RelationType.BottomExt_Bottom*/ 23:\r\n                    if (this._owner._underConstruct && this._owner == this._target.parent)\r\n                        v = this._owner.sourceHeight - (targetY + this._target.initHeight);\r\n                    else\r\n                        v = this._owner._rawHeight - (targetY + this._targetHeight);\r\n                    if (this._owner != this._target.parent)\r\n                        v += this._owner.y;\r\n                    if (info.percent)\r\n                        v = v / this._targetHeight * this._target._height;\r\n                    if (this._owner != this._target.parent)\r\n                        this._owner.height = targetY + this._target._height + v - this._owner.y;\r\n                    else\r\n                        this._owner.height = targetY + this._target._height + v;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        __proto.addRefTarget = function(target) {\r\n            if (target != this._owner.parent)\r\n                target.on( /*fairygui.Events.XY_CHANGED*/ \"fui_xy_changed\", this, this.__targetXYChanged);\r\n            target.on( /*fairygui.Events.SIZE_CHANGED*/ \"fui_size_changed\", this, this.__targetSizeChanged);\r\n            target.on( /*fairygui.Events.SIZE_DELAY_CHANGE*/ \"fui_size_delay_change\", this, this.__targetSizeWillChange);\r\n            this._targetX = this._target.x;\r\n            this._targetY = this._target.y;\r\n            this._targetWidth = this._target._width;\r\n            this._targetHeight = this._target._height;\r\n        }\r\n\r\n        __proto.releaseRefTarget = function(target) {\r\n            target.off( /*fairygui.Events.XY_CHANGED*/ \"fui_xy_changed\", this, this.__targetXYChanged);\r\n            target.off( /*fairygui.Events.SIZE_CHANGED*/ \"fui_size_changed\", this, this.__targetSizeChanged);\r\n            target.off( /*fairygui.Events.SIZE_DELAY_CHANGE*/ \"fui_size_delay_change\", this, this.__targetSizeWillChange);\r\n        }\r\n\r\n        __proto.__targetXYChanged = function() {\r\n            if (this._owner.relations.handling != null || this._owner.group != null && this._owner.group._updating) {\r\n                this._targetX = this._target.x;\r\n                this._targetY = this._target.y;\r\n                return;\r\n            }\r\n            this._owner.relations.handling = this._target;\r\n            var ox = this._owner.x;\r\n            var oy = this._owner.y;\r\n            var dx = this._target.x - this._targetX;\r\n            var dy = this._target.y - this._targetY;\r\n            var length = this._defs.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var info = this._defs[i];\r\n                this.applyOnXYChanged(info, dx, dy);\r\n            }\r\n            this._targetX = this._target.x;\r\n            this._targetY = this._target.y;\r\n            if (ox != this._owner.x || oy != this._owner.y) {\r\n                ox = this._owner.x - ox;\r\n                oy = this._owner.y - oy;\r\n                this._owner.updateGearFromRelations(1, ox, oy);\r\n                if (this._owner.parent != null) {\r\n                    var len = this._owner.parent._transitions.length;\r\n                    if (len > 0) {\r\n                        for (i = 0; i < len; ++i) {\r\n                            this._owner.parent._transitions[i].updateFromRelations(this._owner.id, ox, oy);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this._owner.relations.handling = null;\r\n        }\r\n\r\n        __proto.__targetSizeChanged = function() {\r\n            if (this._owner.relations.handling != null)\r\n                return;\r\n            this._owner.relations.handling = this._target;\r\n            var ox = this._owner.x;\r\n            var oy = this._owner.y;\r\n            var ow = this._owner._rawWidth;\r\n            var oh = this._owner._rawHeight;\r\n            var length = this._defs.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var info = this._defs[i];\r\n                this.applyOnSizeChanged(info);\r\n            }\r\n            this._targetWidth = this._target._width;\r\n            this._targetHeight = this._target._height;\r\n            if (ox != this._owner.x || oy != this._owner.y) {\r\n                ox = this._owner.x - ox;\r\n                oy = this._owner.y - oy;\r\n                this._owner.updateGearFromRelations(1, ox, oy);\r\n                if (this._owner.parent != null) {\r\n                    var len = this._owner.parent._transitions.length;\r\n                    if (len > 0) {\r\n                        for (i = 0; i < len; ++i) {\r\n                            this._owner.parent._transitions[i].updateFromRelations(this._owner.id, ox, oy);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (ow != this._owner._rawWidth || oh != this._owner._rawHeight) {\r\n                ow = this._owner._rawWidth - ow;\r\n                oh = this._owner._rawHeight - oh;\r\n                this._owner.updateGearFromRelations(2, ow, oh);\r\n            }\r\n            this._owner.relations.handling = null;\r\n        }\r\n\r\n        __proto.__targetSizeWillChange = function() {\r\n            this._owner.relations.sizeDirty = true;\r\n        }\r\n\r\n        __getset(0, __proto, 'owner', function() {\r\n            return this._owner;\r\n        });\r\n\r\n        __getset(0, __proto, 'target', function() {\r\n            return this._target;\r\n        }, function(value) {\r\n            if (this._target != value) {\r\n                if (this._target)\r\n                    this.releaseRefTarget(this._target);\r\n                this._target = value;\r\n                if (this._target)\r\n                    this.addRefTarget(this._target);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'isEmpty', function() {\r\n            return this._defs.length == 0;\r\n        });\r\n\r\n        RelationItem.__init$ = function() {\r\n            //class RelationDef\r\n            RelationDef = (function() {\r\n                function RelationDef() {\r\n                    this.percent = false;\r\n                    this.type = NaN;\r\n                }\r\n                __class(RelationDef, '');\r\n                var __proto = RelationDef.prototype;\r\n                __proto.copyFrom = function(source) {\r\n                    this.percent = source.percent;\r\n                    this.type = source.type;\r\n                }\r\n                return RelationDef;\r\n            })()\r\n        }\r\n\r\n        return RelationItem;\r\n    })()\r\n\r\n\r\n    //class fairygui.Relations\r\n    var Relations = (function() {\r\n        function Relations(owner) {\r\n            this._owner = null;\r\n            this._items = null;\r\n            this.handling = null;\r\n            this.sizeDirty = false;\r\n            this._owner = owner;\r\n            this._items = [];\r\n        }\r\n\r\n        __class(Relations, 'fairygui.Relations');\r\n        var __proto = Relations.prototype;\r\n        __proto.add = function(target, relationType, usePercent) {\r\n            (usePercent === void 0) && (usePercent = false);\r\n            var length = this._items.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var item = this._items[i];\r\n                if (item.target == target) {\r\n                    item.add(relationType, usePercent);\r\n                    return;\r\n                }\r\n            };\r\n            var newItem = new RelationItem(this._owner);\r\n            newItem.target = target;\r\n            newItem.add(relationType, usePercent);\r\n            this._items.push(newItem);\r\n        }\r\n\r\n        __proto.addItems = function(target, sidePairs) {\r\n            var arr = sidePairs.split(\",\");\r\n            var s;\r\n            var usePercent = false;\r\n            var i = NaN;\r\n            var newItem = new RelationItem(this._owner);\r\n            newItem.target = target;\r\n            for (i = 0; i < 2; i++) {\r\n                s = arr[i];\r\n                if (!s)\r\n                    continue;\r\n                if (s.charAt(s.length - 1) == \"%\") {\r\n                    s = s.substr(0, s.length - 1);\r\n                    usePercent = true;\r\n                } else\r\n                    usePercent = false;\r\n                var j = s.indexOf(\"-\");\r\n                if (j == -1)\r\n                    s = s + \"-\" + s;\r\n                var t = fairygui.Relations.RELATION_NAMES.indexOf(s);\r\n                if (t == -1)\r\n                    throw \"invalid relation type\";\r\n                newItem.internalAdd(t, usePercent);\r\n            }\r\n            this._items.push(newItem);\r\n        }\r\n\r\n        __proto.remove = function(target, relationType) {\r\n            (relationType === void 0) && (relationType = 0);\r\n            var cnt = this._items.length;\r\n            var i = 0;\r\n            while (i < cnt) {\r\n                var item = this._items[i];\r\n                if (item.target == target) {\r\n                    item.remove(relationType);\r\n                    if (item.isEmpty) {\r\n                        item.dispose();\r\n                        this._items.splice(i, 1);\r\n                        cnt--;\r\n                    } else\r\n                        i++;\r\n                } else\r\n                    i++;\r\n            }\r\n        }\r\n\r\n        __proto.contains = function(target) {\r\n            var length = this._items.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var item = this._items[i];\r\n                if (item.target == target)\r\n                    return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        __proto.clearFor = function(target) {\r\n            var cnt = this._items.length;\r\n            var i = 0;\r\n            while (i < cnt) {\r\n                var item = this._items[i];\r\n                if (item.target == target) {\r\n                    item.dispose();\r\n                    this._items.splice(i, 1);\r\n                    cnt--;\r\n                } else\r\n                    i++;\r\n            }\r\n        }\r\n\r\n        __proto.clearAll = function() {\r\n            var length = this._items.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var item = this._items[i];\r\n                item.dispose();\r\n            }\r\n            this._items.length = 0;\r\n        }\r\n\r\n        __proto.copyFrom = function(source) {\r\n            this.clearAll();\r\n            var arr = source._items;\r\n            var length = arr.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var ri = arr[i];\r\n                var item = new RelationItem(this._owner);\r\n                item.copyFrom(ri);\r\n                this._items.push(item);\r\n            }\r\n        }\r\n\r\n        __proto.dispose = function() {\r\n            this.clearAll();\r\n        }\r\n\r\n        __proto.onOwnerSizeChanged = function(dWidth, dHeight) {\r\n            if (this._items.length == 0)\r\n                return;\r\n            var length = this._items.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var item = this._items[i];\r\n                item.applyOnSelfResized(dWidth, dHeight);\r\n            }\r\n        }\r\n\r\n        __proto.ensureRelationsSizeCorrect = function() {\r\n            if (this._items.length == 0)\r\n                return;\r\n            this.sizeDirty = false;\r\n            var length = this._items.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var item = this._items[i];\r\n                item.target.ensureSizeCorrect();\r\n            }\r\n        }\r\n\r\n        __proto.setup = function(xml) {\r\n            var col = xml.childNodes;\r\n            var length = col.length;\r\n            var targetId;\r\n            var target;\r\n            for (var i = 0; i < length; i++) {\r\n                var cxml = col[i];\r\n                if (cxml.nodeName != \"relation\")\r\n                    continue;\r\n                targetId = cxml.getAttribute(\"target\");\r\n                if (this._owner.parent) {\r\n                    if (targetId)\r\n                        target = this._owner.parent.getChildById(targetId);\r\n                    else\r\n                        target = this._owner.parent;\r\n                } else {\r\n                    target = (this._owner).getChildById(targetId);\r\n                }\r\n                if (target)\r\n                    this.addItems(target, cxml.getAttribute(\"sidePair\"));\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'empty', function() {\r\n            return this._items.length == 0;\r\n        });\r\n\r\n        __static(Relations, ['RELATION_NAMES', function() {\r\n            return this.RELATION_NAMES = [\r\n                \"left-left\",\r\n                \"left-center\",\r\n                \"left-right\",\r\n                \"center-center\",\r\n                \"right-left\",\r\n                \"right-center\",\r\n                \"right-right\",\r\n                \"top-top\",\r\n                \"top-middle\",\r\n                \"top-bottom\",\r\n                \"middle-middle\",\r\n                \"bottom-top\",\r\n                \"bottom-middle\",\r\n                \"bottom-bottom\",\r\n                \"width-width\",\r\n                \"height-height\",\r\n                \"leftext-left\",\r\n                \"leftext-right\",\r\n                \"rightext-left\",\r\n                \"rightext-right\",\r\n                \"topext-top\",\r\n                \"topext-bottom\",\r\n                \"bottomext-top\",\r\n                \"bottomext-bottom\"\r\n            ];\r\n        }]);\r\n        return Relations;\r\n    })()\r\n\r\n\r\n    //class fairygui.RelationType\r\n    var RelationType = (function() {\r\n        function RelationType() {}\r\n        __class(RelationType, 'fairygui.RelationType');\r\n        RelationType.Left_Left = 0;\r\n        RelationType.Left_Center = 1;\r\n        RelationType.Left_Right = 2;\r\n        RelationType.Center_Center = 3;\r\n        RelationType.Right_Left = 4;\r\n        RelationType.Right_Center = 5;\r\n        RelationType.Right_Right = 6;\r\n        RelationType.Top_Top = 7;\r\n        RelationType.Top_Middle = 8;\r\n        RelationType.Top_Bottom = 9;\r\n        RelationType.Middle_Middle = 10;\r\n        RelationType.Bottom_Top = 11;\r\n        RelationType.Bottom_Middle = 12;\r\n        RelationType.Bottom_Bottom = 13;\r\n        RelationType.Width = 14;\r\n        RelationType.Height = 15;\r\n        RelationType.LeftExt_Left = 16;\r\n        RelationType.LeftExt_Right = 17;\r\n        RelationType.RightExt_Left = 18;\r\n        RelationType.RightExt_Right = 19;\r\n        RelationType.TopExt_Top = 20;\r\n        RelationType.TopExt_Bottom = 21;\r\n        RelationType.BottomExt_Top = 22;\r\n        RelationType.BottomExt_Bottom = 23;\r\n        RelationType.Size = 24;\r\n        return RelationType;\r\n    })()\r\n\r\n\r\n    //class fairygui.ScrollBarDisplayType\r\n    var ScrollBarDisplayType = (function() {\r\n        function ScrollBarDisplayType() {}\r\n        __class(ScrollBarDisplayType, 'fairygui.ScrollBarDisplayType');\r\n        ScrollBarDisplayType.parse = function(value) {\r\n            switch (value) {\r\n                case \"default\":\r\n                    return 0;\r\n                case \"visible\":\r\n                    return 1;\r\n                case \"auto\":\r\n                    return 2;\r\n                case \"hidden\":\r\n                    return 3;\r\n                default:\r\n                    return 0;\r\n            }\r\n        }\r\n\r\n        ScrollBarDisplayType.Default = 0;\r\n        ScrollBarDisplayType.Visible = 1;\r\n        ScrollBarDisplayType.Auto = 2;\r\n        ScrollBarDisplayType.Hidden = 3;\r\n        return ScrollBarDisplayType;\r\n    })()\r\n\r\n\r\n    //class fairygui.ScrollPane\r\n    var ScrollPane = (function() {\r\n        var TweenHelper;\r\n\r\n        function ScrollPane(owner, scrollType, scrollBarMargin, scrollBarDisplay, flags, vtScrollBarRes, hzScrollBarRes) {\r\n            this._owner = null;\r\n            this._maskContainer = null;\r\n            this._container = null;\r\n            this._alignContainer = null;\r\n            this._viewWidth = 0;\r\n            this._viewHeight = 0;\r\n            this._contentWidth = 0;\r\n            this._contentHeight = 0;\r\n            this._scrollType = 0;\r\n            this._scrollSpeed = 0;\r\n            this._mouseWheelSpeed = 0;\r\n            this._scrollBarMargin = null;\r\n            this._bouncebackEffect = false;\r\n            this._touchEffect = false;\r\n            this._scrollBarDisplayAuto = false;\r\n            this._vScrollNone = false;\r\n            this._hScrollNone = false;\r\n            this._displayOnLeft = false;\r\n            this._snapToItem = false;\r\n            this._displayInDemand = false;\r\n            this._mouseWheelEnabled = false;\r\n            this._pageMode = false;\r\n            this._pageSizeH = NaN;\r\n            this._pageSizeV = NaN;\r\n            this._inertiaDisabled = false;\r\n            this._yPerc = NaN;\r\n            this._xPerc = NaN;\r\n            this._xPos = NaN;\r\n            this._yPos = NaN;\r\n            this._xOverlap = NaN;\r\n            this._yOverlap = NaN;\r\n            this._tweening = NaN;\r\n            this._tweenHelper = null;\r\n            this._tweener = null;\r\n            this._needRefresh = false;\r\n            this._time1 = NaN;\r\n            this._time2 = NaN;\r\n            this._y1 = NaN;\r\n            this._y2 = NaN;\r\n            this._yOffset = NaN;\r\n            this._x1 = NaN;\r\n            this._x2 = NaN;\r\n            this._xOffset = NaN;\r\n            this._holdAreaPoint = null;\r\n            this._isHoldAreaDone = false;\r\n            this._aniFlag = 0;\r\n            this._scrollBarVisible = false;\r\n            this._pageController = null;\r\n            this._hzScrollBar = null;\r\n            this._vtScrollBar = null;\r\n            this.isDragged = false;;\r\n            if (fairygui.ScrollPane._easeTypeFunc == null)\r\n                fairygui.ScrollPane._easeTypeFunc = Ease.cubicOut;\r\n            this._tweenHelper = new TweenHelper();\r\n            this._owner = owner;\r\n            this._maskContainer = new Sprite();\r\n            this._owner.displayObject.addChild(this._maskContainer);\r\n            this._container = this._owner._container;\r\n            this._container.pos(0, 0);\r\n            this._maskContainer.addChild(this._container);\r\n            this._scrollType = scrollType;\r\n            this._scrollBarMargin = scrollBarMargin;\r\n            this._bouncebackEffect = UIConfig1.defaultScrollBounceEffect;\r\n            this._touchEffect = UIConfig1.defaultScrollTouchEffect;\r\n            this._scrollSpeed = UIConfig1.defaultScrollSpeed;\r\n            this._mouseWheelSpeed = this._scrollSpeed * 2;\r\n            this._displayOnLeft = (flags & 1) != 0;\r\n            this._snapToItem = (flags & 2) != 0;\r\n            this._displayInDemand = (flags & 4) != 0;\r\n            this._pageMode = (flags & 8) != 0;\r\n            if (flags & 16)\r\n                this._touchEffect = true;\r\n            else if (flags & 32)\r\n                this._touchEffect = false;\r\n            else\r\n                this._touchEffect = UIConfig1.defaultScrollTouchEffect;\r\n            if (flags & 64)\r\n                this._bouncebackEffect = true;\r\n            else if (flags & 128)\r\n                this._bouncebackEffect = false;\r\n            else\r\n                this._bouncebackEffect = UIConfig1.defaultScrollBounceEffect;\r\n            this._inertiaDisabled = (flags & 256) != 0;\r\n            if ((flags & 512) == 0)\r\n                this._maskContainer.scrollRect = new Rectangle();\r\n            this._xPerc = 0;\r\n            this._yPerc = 0;\r\n            this._xPos = 0\r\n            this._yPos = 0;\r\n            this._xOverlap = 0;\r\n            this._yOverlap = 0;\r\n            this._aniFlag = 0;\r\n            this._scrollBarVisible = true;\r\n            this._mouseWheelEnabled = true;\r\n            this._holdAreaPoint = new Point();\r\n            if (scrollBarDisplay == /*fairygui.ScrollBarDisplayType.Default*/ 0)\r\n                scrollBarDisplay = UIConfig1.defaultScrollBarDisplay;\r\n            if (scrollBarDisplay != /*fairygui.ScrollBarDisplayType.Hidden*/ 3) {\r\n                if (this._scrollType == /*fairygui.ScrollType.Both*/ 2 || this._scrollType == /*fairygui.ScrollType.Vertical*/ 1) {\r\n                    var res = vtScrollBarRes ? vtScrollBarRes : UIConfig1.verticalScrollBar;\r\n                    if (res) {\r\n                        this._vtScrollBar = (UIPackage.createObjectFromURL(res));\r\n                        if (!this._vtScrollBar)\r\n                            throw \"cannot create scrollbar from \" + res;\r\n                        this._vtScrollBar.setScrollPane(this, true);\r\n                        this._owner.displayObject.addChild(this._vtScrollBar.displayObject);\r\n                    }\r\n                }\r\n                if (this._scrollType == /*fairygui.ScrollType.Both*/ 2 || this._scrollType == /*fairygui.ScrollType.Horizontal*/ 0) {\r\n                    res = hzScrollBarRes ? hzScrollBarRes : UIConfig1.horizontalScrollBar;\r\n                    if (res) {\r\n                        this._hzScrollBar = (UIPackage.createObjectFromURL(res));\r\n                        if (!this._hzScrollBar)\r\n                            throw \"cannot create scrollbar from \" + res;\r\n                        this._hzScrollBar.setScrollPane(this, false);\r\n                        this._owner.displayObject.addChild(this._hzScrollBar.displayObject);\r\n                    }\r\n                }\r\n                this._scrollBarDisplayAuto = scrollBarDisplay == /*fairygui.ScrollBarDisplayType.Auto*/ 2;\r\n                if (this._scrollBarDisplayAuto) {\r\n                    this._scrollBarVisible = false;\r\n                    if (this._vtScrollBar)\r\n                        this._vtScrollBar.displayObject.visible = false;\r\n                    if (this._hzScrollBar)\r\n                        this._hzScrollBar.displayObject.visible = false;\r\n                }\r\n            }\r\n            this._contentWidth = 0;\r\n            this._contentHeight = 0;\r\n            this.setSize(owner.width, owner.height);\r\n            this._owner.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__mouseDown);\r\n            this._owner.on( /*laya.events.Event.MOUSE_WHEEL*/ \"mousewheel\", this, this.__mouseWheel);\r\n        }\r\n\r\n        __class(ScrollPane, 'fairygui.ScrollPane');\r\n        var __proto = ScrollPane.prototype;\r\n        __proto.setPercX = function(value, ani) {\r\n            (ani === void 0) && (ani = false);\r\n            this._owner.ensureBoundsCorrect();\r\n            value = ToolSet.clamp01(value);\r\n            if (value != this._xPerc) {\r\n                this._xPerc = value;\r\n                this._xPos = this._xPerc * this._xOverlap;\r\n                this.posChanged(ani);\r\n            }\r\n        }\r\n\r\n        __proto.setPercY = function(value, ani) {\r\n            (ani === void 0) && (ani = false);\r\n            this._owner.ensureBoundsCorrect();\r\n            value = ToolSet.clamp01(value);\r\n            if (value != this._yPerc) {\r\n                this._yPerc = value;\r\n                this._yPos = this._yPerc * this._yOverlap;\r\n                this.posChanged(ani);\r\n            }\r\n        }\r\n\r\n        __proto.setPosX = function(value, ani) {\r\n            (ani === void 0) && (ani = false);\r\n            this._owner.ensureBoundsCorrect();\r\n            value = ToolSet.clamp(value, 0, this._xOverlap);\r\n            if (value != this._xPos) {\r\n                this._xPos = value;\r\n                this._xPerc = this._xOverlap == 0 ? 0 : this._xPos / this._xOverlap;\r\n                this.posChanged(ani);\r\n            }\r\n        }\r\n\r\n        __proto.setPosY = function(value, ani) {\r\n            (ani === void 0) && (ani = false);\r\n            this._owner.ensureBoundsCorrect();\r\n            value = ToolSet.clamp(value, 0, this._yOverlap);\r\n            if (value != this._yPos) {\r\n                this._yPos = value;\r\n                this._yPerc = this._yOverlap == 0 ? 0 : this._yPos / this._yOverlap;\r\n                this.posChanged(ani);\r\n            }\r\n        }\r\n\r\n        __proto.getDeltaX = function(move) {\r\n            return move / (this._contentWidth - this._viewWidth);\r\n        }\r\n\r\n        __proto.getDeltaY = function(move) {\r\n            return move / (this._contentHeight - this._viewHeight);\r\n        }\r\n\r\n        __proto.scrollTop = function(ani) {\r\n            (ani === void 0) && (ani = false);\r\n            this.setPercY(0, ani);\r\n        }\r\n\r\n        __proto.scrollBottom = function(ani) {\r\n            (ani === void 0) && (ani = false);\r\n            this.setPercY(1, ani);\r\n        }\r\n\r\n        __proto.scrollUp = function(speed, ani) {\r\n            (speed === void 0) && (speed = 1);\r\n            (ani === void 0) && (ani = false);\r\n            this.setPercY(this._yPerc - this.getDeltaY(this._scrollSpeed * speed), ani);\r\n        }\r\n\r\n        __proto.scrollDown = function(speed, ani) {\r\n            (speed === void 0) && (speed = 1);\r\n            (ani === void 0) && (ani = false);\r\n            this.setPercY(this._yPerc + this.getDeltaY(this._scrollSpeed * speed), ani);\r\n        }\r\n\r\n        __proto.scrollLeft = function(speed, ani) {\r\n            (speed === void 0) && (speed = 1);\r\n            (ani === void 0) && (ani = false);\r\n            this.setPercX(this._xPerc - this.getDeltaX(this._scrollSpeed * speed), ani);\r\n        }\r\n\r\n        __proto.scrollRight = function(speed, ani) {\r\n            (speed === void 0) && (speed = 1);\r\n            (ani === void 0) && (ani = false);\r\n            this.setPercX(this._xPerc + this.getDeltaX(this._scrollSpeed * speed), ani);\r\n        }\r\n\r\n        __proto.scrollToView = function(target, ani, setFirst) {\r\n            (ani === void 0) && (ani = false);\r\n            (setFirst === void 0) && (setFirst = false);\r\n            this._owner.ensureBoundsCorrect();\r\n            if (this._needRefresh)\r\n                this.refresh();\r\n            var rect;\r\n            if ((target instanceof fairygui.GObject)) {\r\n                if (target.parent != this._owner) {\r\n                    target.parent.localToGlobalRect(target.x, target.y,\r\n                        target.width, target.height, fairygui.ScrollPane.sHelperRect);\r\n                    rect = this._owner.globalToLocalRect(fairygui.ScrollPane.sHelperRect.x, fairygui.ScrollPane.sHelperRect.y,\r\n                        fairygui.ScrollPane.sHelperRect.width, fairygui.ScrollPane.sHelperRect.height, fairygui.ScrollPane.sHelperRect);\r\n                } else {\r\n                    rect = fairygui.ScrollPane.sHelperRect;\r\n                    rect.setTo(target.x, target.y, target.width, target.height);\r\n                }\r\n            } else\r\n                rect = (target);\r\n            if (this._yOverlap > 0) {\r\n                var top = this.posY;\r\n                var bottom = top + this._viewHeight;\r\n                if (setFirst || rect.y < top || rect.height >= this._viewHeight) {\r\n                    if (this._pageMode)\r\n                        this.setPosY(Math.floor(rect.y / this._pageSizeV) * this._pageSizeV, ani);\r\n                    else\r\n                        this.setPosY(rect.y, ani);\r\n                } else if (rect.y + rect.height > bottom) {\r\n                    if (this._pageMode)\r\n                        this.setPosY(Math.floor(rect.y / this._pageSizeV) * this._pageSizeV, ani);\r\n                    else if (rect.height <= this._viewHeight / 2)\r\n                        this.setPosY(rect.y + rect.height * 2 - this._viewHeight, ani);\r\n                    else\r\n                        this.setPosY(rect.y + rect.height - this._viewHeight, ani);\r\n                }\r\n            }\r\n            if (this._xOverlap > 0) {\r\n                var left = this.posX;\r\n                var right = left + this._viewWidth;\r\n                if (setFirst || rect.x < left || rect.width >= this._viewWidth) {\r\n                    if (this._pageMode)\r\n                        this.setPosX(Math.floor(rect.x / this._pageSizeH) * this._pageSizeH, ani);\r\n                    else\r\n                        this.setPosX(rect.x, ani);\r\n                } else if (rect.x + rect.width > right) {\r\n                    if (this._pageMode)\r\n                        this.setPosX(Math.floor(rect.x / this._pageSizeH) * this._pageSizeH, ani);\r\n                    else if (rect.width <= this._viewWidth / 2)\r\n                        this.setPosX(rect.x + rect.width * 2 - this._viewWidth, ani);\r\n                    else\r\n                        this.setPosX(rect.x + rect.width - this._viewWidth, ani);\r\n                }\r\n            }\r\n            if (!ani && this._needRefresh)\r\n                this.refresh();\r\n        }\r\n\r\n        __proto.isChildInView = function(obj) {\r\n            var dist = NaN;\r\n            if (this._yOverlap > 0) {\r\n                dist = obj.y + this._container.y;\r\n                if (dist < -obj.height - 20 || dist > this._viewHeight + 20)\r\n                    return false;\r\n            }\r\n            if (this._xOverlap > 0) {\r\n                dist = obj.x + this._container.x;\r\n                if (dist < -obj.width - 20 || dist > this._viewWidth + 20)\r\n                    return false;\r\n            }\r\n            return true;\r\n        }\r\n\r\n        __proto.cancelDragging = function() {\r\n            this._owner.displayObject.stage.off( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__mouseMove);\r\n            this._owner.displayObject.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseUp);\r\n            this._owner.displayObject.stage.off( /*laya.events.Event.CLICK*/ \"click\", this, this.__click);\r\n            if (ScrollPane.draggingPane == this)\r\n                ScrollPane.draggingPane = null;\r\n            ScrollPane._gestureFlag = 0;\r\n            this.isDragged = false;\r\n            this._maskContainer.mouseEnabled = true;\r\n        }\r\n\r\n        __proto.onOwnerSizeChanged = function() {\r\n            this.setSize(this._owner.width, this._owner.height);\r\n            this.posChanged(false);\r\n        }\r\n\r\n        __proto.handleControllerChanged = function(c) {\r\n            if (this._pageController == c) {\r\n                if (this._scrollType == /*fairygui.ScrollType.Horizontal*/ 0)\r\n                    this.currentPageX = c.selectedIndex;\r\n                else\r\n                    this.currentPageY = c.selectedIndex;\r\n            }\r\n        }\r\n\r\n        __proto.updatePageController = function() {\r\n            if (this._pageController != null && !this._pageController.changing) {\r\n                var index = 0;\r\n                if (this._scrollType == /*fairygui.ScrollType.Horizontal*/ 0)\r\n                    index = this.currentPageX;\r\n                else\r\n                    index = this.currentPageY;\r\n                if (index < this._pageController.pageCount) {\r\n                    var c = this._pageController;\r\n                    this._pageController = null;\r\n                    c.selectedIndex = index;\r\n                    this._pageController = c;\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.adjustMaskContainer = function() {\r\n            var mx = NaN,\r\n                my = NaN;\r\n            if (this._displayOnLeft && this._vtScrollBar != null)\r\n                mx = Math.floor(this._owner.margin.left + this._vtScrollBar.width);\r\n            else\r\n                mx = Math.floor(this._owner.margin.left);\r\n            my = Math.floor(this._owner.margin.top);\r\n            this._maskContainer.pos(mx, my);\r\n            if (this._owner._alignOffset.x != 0 || this._owner._alignOffset.y != 0) {\r\n                if (this._alignContainer == null) {\r\n                    this._alignContainer = new Sprite();\r\n                    this._maskContainer.addChild(this._alignContainer);\r\n                    this._alignContainer.addChild(this._container);\r\n                }\r\n                this._alignContainer.pos(this._owner._alignOffset.x, this._owner._alignOffset.y);\r\n            } else if (this._alignContainer) {\r\n                this._alignContainer.pos(0, 0);\r\n            }\r\n        }\r\n\r\n        __proto.setSize = function(aWidth, aHeight) {\r\n            this.adjustMaskContainer();\r\n            if (this._hzScrollBar) {\r\n                this._hzScrollBar.y = aHeight - this._hzScrollBar.height;\r\n                if (this._vtScrollBar && !this._vScrollNone) {\r\n                    this._hzScrollBar.width = aWidth - this._vtScrollBar.width - this._scrollBarMargin.left - this._scrollBarMargin.right;\r\n                    if (this._displayOnLeft)\r\n                        this._hzScrollBar.x = this._scrollBarMargin.left + this._vtScrollBar.width;\r\n                    else\r\n                        this._hzScrollBar.x = this._scrollBarMargin.left;\r\n                } else {\r\n                    this._hzScrollBar.width = aWidth - this._scrollBarMargin.left - this._scrollBarMargin.right;\r\n                    this._hzScrollBar.x = this._scrollBarMargin.left;\r\n                }\r\n            }\r\n            if (this._vtScrollBar) {\r\n                if (!this._displayOnLeft)\r\n                    this._vtScrollBar.x = aWidth - this._vtScrollBar.width;\r\n                if (this._hzScrollBar)\r\n                    this._vtScrollBar.height = aHeight - this._hzScrollBar.height - this._scrollBarMargin.top - this._scrollBarMargin.bottom;\r\n                else\r\n                    this._vtScrollBar.height = aHeight - this._scrollBarMargin.top - this._scrollBarMargin.bottom;\r\n                this._vtScrollBar.y = this._scrollBarMargin.top;\r\n            }\r\n            this._viewWidth = aWidth;\r\n            this._viewHeight = aHeight;\r\n            if (this._hzScrollBar && !this._hScrollNone)\r\n                this._viewHeight -= this._hzScrollBar.height;\r\n            if (this._vtScrollBar && !this._vScrollNone)\r\n                this._viewWidth -= this._vtScrollBar.width;\r\n            this._viewWidth -= (this._owner.margin.left + this._owner.margin.right);\r\n            this._viewHeight -= (this._owner.margin.top + this._owner.margin.bottom);\r\n            this._viewWidth = Math.max(1, this._viewWidth);\r\n            this._viewHeight = Math.max(1, this._viewHeight);\r\n            this._pageSizeH = this._viewWidth;\r\n            this._pageSizeV = this._viewHeight;\r\n            this.handleSizeChanged();\r\n        }\r\n\r\n        __proto.setContentSize = function(aWidth, aHeight) {\r\n            if (this._contentWidth == aWidth && this._contentHeight == aHeight)\r\n                return;\r\n            this._contentWidth = aWidth;\r\n            this._contentHeight = aHeight;\r\n            this.handleSizeChanged();\r\n        }\r\n\r\n        __proto.changeContentSizeOnScrolling = function(deltaWidth, deltaHeight, deltaPosX, deltaPosY) {\r\n            this._contentWidth += deltaWidth;\r\n            this._contentHeight += deltaHeight;\r\n            if (this.isDragged) {\r\n                if (deltaPosX != 0)\r\n                    this._container.x -= deltaPosX;\r\n                if (deltaPosY != 0)\r\n                    this._container.y -= deltaPosY;\r\n                this.validateHolderPos();\r\n                this._xOffset += deltaPosX;\r\n                this._yOffset += deltaPosY;\r\n                var tmp = this._y2 - this._y1;\r\n                this._y1 = this._container.y;\r\n                this._y2 = this._y1 + tmp;\r\n                tmp = this._x2 - this._x1;\r\n                this._x1 = this._container.x;\r\n                this._x2 = this._x1 + tmp;\r\n                this._yPos = -this._container.y;\r\n                this._xPos = -this._container.x;\r\n            } else if (this._tweening == 2) {\r\n                if (deltaPosX != 0) {\r\n                    this._container.x -= deltaPosX;\r\n                    this._tweenHelper.start.x -= deltaPosX;\r\n                }\r\n                if (deltaPosY != 0) {\r\n                    this._container.y -= deltaPosY;\r\n                    this._tweenHelper.start.y -= deltaPosY;\r\n                }\r\n            }\r\n            this.handleSizeChanged(true);\r\n        }\r\n\r\n        __proto.handleSizeChanged = function(onScrolling) {\r\n            (onScrolling === void 0) && (onScrolling = false);\r\n            if (this._displayInDemand) {\r\n                if (this._vtScrollBar) {\r\n                    if (this._contentHeight <= this._viewHeight) {\r\n                        if (!this._vScrollNone) {\r\n                            this._vScrollNone = true;\r\n                            this._viewWidth += this._vtScrollBar.width;\r\n                        }\r\n                    } else {\r\n                        if (this._vScrollNone) {\r\n                            this._vScrollNone = false;\r\n                            this._viewWidth -= this._vtScrollBar.width;\r\n                        }\r\n                    }\r\n                }\r\n                if (this._hzScrollBar) {\r\n                    if (this._contentWidth <= this._viewWidth) {\r\n                        if (!this._hScrollNone) {\r\n                            this._hScrollNone = true;\r\n                            this._viewHeight += this._hzScrollBar.height;\r\n                        }\r\n                    } else {\r\n                        if (this._hScrollNone) {\r\n                            this._hScrollNone = false;\r\n                            this._viewHeight -= this._hzScrollBar.height;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (this._vtScrollBar) {\r\n                if (this._viewHeight < this._vtScrollBar.minSize)\r\n                    this._vtScrollBar.displayObject.visible = false;\r\n                else {\r\n                    this._vtScrollBar.displayObject.visible = this._scrollBarVisible && !this._vScrollNone;\r\n                    if (this._contentHeight == 0)\r\n                        this._vtScrollBar.displayPerc = 0;\r\n                    else\r\n                        this._vtScrollBar.displayPerc = Math.min(1, this._viewHeight / this._contentHeight);\r\n                }\r\n            }\r\n            if (this._hzScrollBar) {\r\n                if (this._viewWidth < this._hzScrollBar.minSize)\r\n                    this._hzScrollBar.displayObject.visible = false;\r\n                else {\r\n                    this._hzScrollBar.displayObject.visible = this._scrollBarVisible && !this._hScrollNone;\r\n                    if (this._contentWidth == 0)\r\n                        this._hzScrollBar.displayPerc = 0;\r\n                    else\r\n                        this._hzScrollBar.displayPerc = Math.min(1, this._viewWidth / this._contentWidth);\r\n                }\r\n            };\r\n            var rect = this._maskContainer.scrollRect;\r\n            if (rect != null) {\r\n                rect.width = this._viewWidth;\r\n                rect.height = this._viewHeight;\r\n                this._maskContainer.scrollRect = rect;\r\n            }\r\n            if (this._scrollType == /*fairygui.ScrollType.Horizontal*/ 0 || this._scrollType == /*fairygui.ScrollType.Both*/ 2)\r\n                this._xOverlap = Math.ceil(Math.max(0, this._contentWidth - this._viewWidth));\r\n            else\r\n                this._xOverlap = 0;\r\n            if (this._scrollType == /*fairygui.ScrollType.Vertical*/ 1 || this._scrollType == /*fairygui.ScrollType.Both*/ 2)\r\n                this._yOverlap = Math.ceil(Math.max(0, this._contentHeight - this._viewHeight));\r\n            else\r\n                this._yOverlap = 0;\r\n            if (this._tweening == 0 && onScrolling) {\r\n                if (this._xPerc == 0 || this._xPerc == 1) {\r\n                    this._xPos = this._xPerc * this._xOverlap;\r\n                    this._container.x = -this._xPos;\r\n                }\r\n                if (this._yPerc == 0 || this._yPerc == 1) {\r\n                    this._yPos = this._yPerc * this._yOverlap;\r\n                    this._container.y = -this._yPos;\r\n                }\r\n            } else {\r\n                this._xPos = ToolSet.clamp(this._xPos, 0, this._xOverlap);\r\n                this._xPerc = this._xOverlap > 0 ? this._xPos / this._xOverlap : 0;\r\n                this._yPos = ToolSet.clamp(this._yPos, 0, this._yOverlap);\r\n                this._yPerc = this._yOverlap > 0 ? this._yPos / this._yOverlap : 0;\r\n            }\r\n            this.validateHolderPos();\r\n            if (this._vtScrollBar != null)\r\n                this._vtScrollBar.scrollPerc = this._yPerc;\r\n            if (this._hzScrollBar != null)\r\n                this._hzScrollBar.scrollPerc = this._xPerc;\r\n            if (this._pageMode)\r\n                this.updatePageController();\r\n        }\r\n\r\n        __proto.validateHolderPos = function() {\r\n            this._container.x = ToolSet.clamp(this._container.x, -this._xOverlap, 0);\r\n            this._container.y = ToolSet.clamp(this._container.y, -this._yOverlap, 0);\r\n        }\r\n\r\n        __proto.posChanged = function(ani) {\r\n            if (this._aniFlag == 0)\r\n                this._aniFlag = ani ? 1 : -1;\r\n            else if (this._aniFlag == 1 && !ani)\r\n                this._aniFlag = -1;\r\n            this._needRefresh = true;\r\n            Laya.timer.callLater(this, this.refresh);\r\n            if (this._tweening == 2) {\r\n                this.killTween();\r\n            }\r\n        }\r\n\r\n        __proto.killTween = function() {\r\n            if (this._tweening == 1) {\r\n                this._tweener.clear();\r\n                this._tweening = 0;\r\n                this._tweener = null;\r\n                this.syncScrollBar(true);\r\n            } else if (this._tweening == 2) {\r\n                this._tweener.clear();\r\n                this._tweener = null;\r\n                this._tweening = 0;\r\n                this.validateHolderPos();\r\n                this.syncScrollBar(true);\r\n                Events.dispatch( /*fairygui.Events.SCROLL_END*/ \"fui_scroll_end\", this._owner.displayObject);\r\n            }\r\n        }\r\n\r\n        __proto.refresh = function() {\r\n            this._needRefresh = false;\r\n            Laya.timer.clear(this, this.refresh);\r\n            if (this._pageMode) {\r\n                var page = 0;\r\n                var delta = NaN;\r\n                if (this._yOverlap > 0 && this._yPerc != 1 && this._yPerc != 0) {\r\n                    page = Math.floor(this._yPos / this._pageSizeV);\r\n                    delta = this._yPos - page * this._pageSizeV;\r\n                    if (delta > this._pageSizeV / 2)\r\n                        page++;\r\n                    this._yPos = page * this._pageSizeV;\r\n                    if (this._yPos > this._yOverlap) {\r\n                        this._yPos = this._yOverlap;\r\n                        this._yPerc = 1;\r\n                    } else\r\n                        this._yPerc = this._yPos / this._yOverlap;\r\n                }\r\n                if (this._xOverlap > 0 && this._xPerc != 1 && this._xPerc != 0) {\r\n                    page = Math.floor(this._xPos / this._pageSizeH);\r\n                    delta = this._xPos - page * this._pageSizeH;\r\n                    if (delta > this._pageSizeH / 2)\r\n                        page++;\r\n                    this._xPos = page * this._pageSizeH;\r\n                    if (this._xPos > this._xOverlap) {\r\n                        this._xPos = this._xOverlap;\r\n                        this._xPerc = 1;\r\n                    } else\r\n                        this._xPerc = this._xPos / this._xOverlap;\r\n                }\r\n            } else if (this._snapToItem) {\r\n                var pt = this._owner.getSnappingPosition(this._xPerc == 1 ? 0 : this._xPos, this._yPerc == 1 ? 0 : this._yPos, ScrollPane.sHelperPoint);\r\n                if (this._xPerc != 1 && pt.x != this._xPos) {\r\n                    this._xPos = pt.x;\r\n                    this._xPerc = this._xPos / this._xOverlap;\r\n                    if (this._xPerc > 1) {\r\n                        this._xPerc = 1;\r\n                        this._xPos = this._xOverlap;\r\n                    }\r\n                }\r\n                if (this._yPerc != 1 && pt.y != this._yPos) {\r\n                    this._yPos = pt.y;\r\n                    this._yPerc = this._yPos / this._yOverlap;\r\n                    if (this._yPerc > 1) {\r\n                        this._yPerc = 1;\r\n                        this._yPos = this._yOverlap;\r\n                    }\r\n                }\r\n            }\r\n            this.refresh2();\r\n            Events.dispatch( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this._owner.displayObject);\r\n            if (this._needRefresh) {\r\n                this._needRefresh = false;\r\n                Laya.timer.clear(this, this.refresh);\r\n                this.refresh2();\r\n            }\r\n            this._aniFlag = 0;\r\n        }\r\n\r\n        __proto.refresh2 = function() {\r\n            var contentXLoc = Math.floor(this._xPos);\r\n            var contentYLoc = Math.floor(this._yPos);\r\n            if (this._aniFlag == 1 && !this.isDragged) {\r\n                var toX = this._container.x;\r\n                var toY = this._container.y;\r\n                if (this._yOverlap > 0)\r\n                    toY = -contentYLoc;\r\n                else {\r\n                    if (this._container.y != 0)\r\n                        this._container.y = 0;\r\n                }\r\n                if (this._xOverlap > 0)\r\n                    toX = -contentXLoc;\r\n                else {\r\n                    if (this._container.x != 0)\r\n                        this._container.x = 0;\r\n                }\r\n                if (toX != this._container.x || toY != this._container.y) {\r\n                    this.killTween();\r\n                    this._maskContainer.mouseEnabled = false;\r\n                    this._tweening = 1;\r\n                    this._tweener = Tween.to(this._container, { x: toX, y: toY },\r\n                        500,\r\n                        fairygui.ScrollPane._easeTypeFunc,\r\n                        Handler.create(this, this.__tweenComplete));\r\n                    this._tweener.update = Handler.create(this, this.__tweenUpdate, null, false);\r\n                }\r\n            } else {\r\n                if (this._tweener != null)\r\n                    this.killTween();\r\n                if (this.isDragged) {\r\n                    this._xOffset += this._container.x - (-contentXLoc);\r\n                    this._yOffset += this._container.y - (-contentYLoc);\r\n                }\r\n                this._container.pos(-contentXLoc, -contentYLoc);\r\n                if (this.isDragged) {\r\n                    this._y1 = this._y2 = this._container.y;\r\n                    this._x1 = this._x2 = this._container.x;\r\n                }\r\n                if (this._vtScrollBar)\r\n                    this._vtScrollBar.scrollPerc = this._yPerc;\r\n                if (this._hzScrollBar)\r\n                    this._hzScrollBar.scrollPerc = this._xPerc;\r\n            }\r\n            if (this._pageMode)\r\n                this.updatePageController();\r\n        }\r\n\r\n        __proto.syncPos = function() {\r\n            if (this._xOverlap > 0) {\r\n                this._xPos = ToolSet.clamp(-this._container.x, 0, this._xOverlap);\r\n                this._xPerc = this._xPos / this._xOverlap;\r\n            }\r\n            if (this._yOverlap > 0) {\r\n                this._yPos = ToolSet.clamp(-this._container.y, 0, this._yOverlap);\r\n                this._yPerc = this._yPos / this._yOverlap;\r\n            }\r\n            if (this._pageMode)\r\n                this.updatePageController();\r\n        }\r\n\r\n        __proto.syncScrollBar = function(end) {\r\n            (end === void 0) && (end = false);\r\n            if (end) {\r\n                if (this._vtScrollBar) {\r\n                    if (this._scrollBarDisplayAuto)\r\n                        this.showScrollBar(false);\r\n                }\r\n                if (this._hzScrollBar) {\r\n                    if (this._scrollBarDisplayAuto)\r\n                        this.showScrollBar(false);\r\n                }\r\n                this._maskContainer.mouseEnabled = true;\r\n            } else {\r\n                if (this._vtScrollBar) {\r\n                    this._vtScrollBar.scrollPerc = this._yOverlap == 0 ? 0 : ToolSet.clamp(-this._container.y, 0, this._yOverlap) / this._yOverlap;\r\n                    if (this._scrollBarDisplayAuto)\r\n                        this.showScrollBar(true);\r\n                }\r\n                if (this._hzScrollBar) {\r\n                    this._hzScrollBar.scrollPerc = this._xOverlap == 0 ? 0 : ToolSet.clamp(-this._container.x, 0, this._xOverlap) / this._xOverlap;\r\n                    if (this._scrollBarDisplayAuto)\r\n                        this.showScrollBar(true);\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.__mouseDown = function() {\r\n            if (!this._touchEffect)\r\n                return;\r\n            if (this._tweener != null)\r\n                this.killTween();\r\n            this._owner.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, fairygui.ScrollPane.sHelperPoint);\r\n            this._x1 = this._x2 = this._container.x;\r\n            this._y1 = this._y2 = this._container.y;\r\n            this._xOffset = fairygui.ScrollPane.sHelperPoint.x - this._container.x;\r\n            this._yOffset = fairygui.ScrollPane.sHelperPoint.y - this._container.y;\r\n            this._time1 = this._time2 = Laya.timer.currTimer;\r\n            this._holdAreaPoint.x = fairygui.ScrollPane.sHelperPoint.x;\r\n            this._holdAreaPoint.y = fairygui.ScrollPane.sHelperPoint.y;\r\n            this._isHoldAreaDone = false;\r\n            this.isDragged = false;\r\n            this._owner.displayObject.stage.on( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__mouseMove);\r\n            this._owner.displayObject.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseUp);\r\n            this._owner.displayObject.stage.on( /*laya.events.Event.CLICK*/ \"click\", this, this.__click);\r\n        }\r\n\r\n        __proto.__mouseMove = function() {\r\n            if (!this._touchEffect)\r\n                return;\r\n            if (ScrollPane.draggingPane != null && ScrollPane.draggingPane != this || GObject.draggingObject != null)\r\n                return;\r\n            var sensitivity = UIConfig1.touchScrollSensitivity;\r\n            var pt = this._owner.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, fairygui.ScrollPane.sHelperPoint);\r\n            var diff = NaN,\r\n                diff2 = NaN;\r\n            var sv = false,\r\n                sh = false,\r\n                st = false;\r\n            if (this._scrollType == /*fairygui.ScrollType.Vertical*/ 1) {\r\n                if (!this._isHoldAreaDone) {\r\n                    ScrollPane._gestureFlag |= 1;\r\n                    diff = Math.abs(this._holdAreaPoint.y - this._maskContainer.mouseY);\r\n                    if (diff < sensitivity)\r\n                        return;\r\n                    if ((ScrollPane._gestureFlag & 2) != 0) {\r\n                        diff2 = Math.abs(this._holdAreaPoint.x - this._maskContainer.mouseX);\r\n                        if (diff < diff2)\r\n                            return;\r\n                    }\r\n                }\r\n                sv = true;\r\n            } else if (this._scrollType == /*fairygui.ScrollType.Horizontal*/ 0) {\r\n                if (!this._isHoldAreaDone) {\r\n                    ScrollPane._gestureFlag |= 2;\r\n                    diff = Math.abs(this._holdAreaPoint.x - this._maskContainer.mouseX);\r\n                    if (diff < sensitivity)\r\n                        return;\r\n                    if ((ScrollPane._gestureFlag & 1) != 0) {\r\n                        diff2 = Math.abs(this._holdAreaPoint.y - this._maskContainer.mouseY);\r\n                        if (diff < diff2)\r\n                            return;\r\n                    }\r\n                }\r\n                sh = true;\r\n            } else {\r\n                ScrollPane._gestureFlag = 3;\r\n                if (!this._isHoldAreaDone) {\r\n                    diff = Math.abs(this._holdAreaPoint.y - this._maskContainer.mouseY);\r\n                    if (diff < sensitivity) {\r\n                        diff = Math.abs(this._holdAreaPoint.x - this._maskContainer.mouseX);\r\n                        if (diff < sensitivity)\r\n                            return;\r\n                    }\r\n                }\r\n                sv = sh = true;\r\n            };\r\n            var t = Laya.timer.currTimer;\r\n            if (t - this._time2 > 50) {\r\n                this._time2 = this._time1;\r\n                this._time1 = t;\r\n                st = true;\r\n            }\r\n            if (sv) {\r\n                var y = Math.floor(pt.y - this._yOffset);\r\n                if (y > 0) {\r\n                    if (!this._bouncebackEffect || this._inertiaDisabled)\r\n                        this._container.y = 0;\r\n                    else\r\n                        this._container.y = Math.floor(y * 0.5);\r\n                } else if (y < -this._yOverlap) {\r\n                    if (!this._bouncebackEffect || this._inertiaDisabled)\r\n                        this._container.y = -Math.floor(this._yOverlap);\r\n                    else\r\n                        this._container.y = Math.floor((y - this._yOverlap) * 0.5);\r\n                } else {\r\n                    this._container.y = y;\r\n                }\r\n                if (st) {\r\n                    this._y2 = this._y1;\r\n                    this._y1 = this._container.y;\r\n                }\r\n            }\r\n            if (sh) {\r\n                var x = Math.floor(pt.x - this._xOffset);\r\n                if (x > 0) {\r\n                    if (!this._bouncebackEffect || this._inertiaDisabled)\r\n                        this._container.x = 0;\r\n                    else\r\n                        this._container.x = Math.floor(x * 0.5);\r\n                } else if (x < 0 - this._xOverlap || this._inertiaDisabled) {\r\n                    if (!this._bouncebackEffect)\r\n                        this._container.x = -Math.floor(this._xOverlap);\r\n                    else\r\n                        this._container.x = Math.floor((x - this._xOverlap) * 0.5);\r\n                } else {\r\n                    this._container.x = x;\r\n                }\r\n                if (st) {\r\n                    this._x2 = this._x1;\r\n                    this._x1 = this._container.x;\r\n                }\r\n            }\r\n            ScrollPane.draggingPane = this;\r\n            this._maskContainer.mouseEnabled = false;\r\n            this._isHoldAreaDone = true;\r\n            this.isDragged = true;\r\n            this.syncPos();\r\n            this.syncScrollBar();\r\n            Events.dispatch( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this._owner.displayObject);\r\n        }\r\n\r\n        __proto.__mouseUp = function() {\r\n            this._owner.displayObject.stage.off( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__mouseMove);\r\n            this._owner.displayObject.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseUp);\r\n            this._owner.displayObject.stage.off( /*laya.events.Event.CLICK*/ \"click\", this, this.__click);\r\n            if (!this._touchEffect) {\r\n                this.isDragged = false;\r\n                return;\r\n            }\r\n            if (ScrollPane.draggingPane == this)\r\n                ScrollPane.draggingPane = null;\r\n            ScrollPane._gestureFlag = 0;\r\n            if (!this.isDragged || !this._touchEffect || this._inertiaDisabled) {\r\n                this.isDragged = false;\r\n                return;\r\n            }\r\n            this.isDragged = false;\r\n            var time = (Laya.timer.currTimer - this._time2) / 1000;\r\n            if (time == 0)\r\n                time = 0.001;\r\n            var yVelocity = (this._container.y - this._y2) / time * 2 * UIConfig1.defaultTouchScrollSpeedRatio;;\r\n            var xVelocity = (this._container.x - this._x2) / time * 2 * UIConfig1.defaultTouchScrollSpeedRatio;;\r\n            var duration = 0.3;\r\n            this._tweenHelper.start.x = this._container.x;\r\n            this._tweenHelper.start.y = this._container.y;\r\n            var change1 = this._tweenHelper.change1;\r\n            var change2 = this._tweenHelper.change2;\r\n            var endX = 0;\r\n            var endY = 0;\r\n            var page = 0;\r\n            var delta = 0;\r\n            var fireRelease = 0;\r\n            var testPageSize = NaN;\r\n            if (this._scrollType == /*fairygui.ScrollType.Both*/ 2 || this._scrollType == /*fairygui.ScrollType.Horizontal*/ 0) {\r\n                if (this._container.x > UIConfig1.touchDragSensitivity)\r\n                    fireRelease = 1;\r\n                else if (this._container.x < -this._xOverlap - UIConfig1.touchDragSensitivity)\r\n                    fireRelease = 2;\r\n                change1.x = TweenHelper.calculateChange(xVelocity, duration);\r\n                change2.x = 0;\r\n                endX = this._container.x + change1.x;\r\n                if (this._pageMode && endX < 0 && endX > -this._xOverlap) {\r\n                    page = Math.floor(-endX / this._pageSizeH);\r\n                    testPageSize = Math.min(this._pageSizeH, this._contentWidth - (page + 1) * this._pageSizeH);\r\n                    delta = -endX - page * this._pageSizeH;\r\n                    if (Math.abs(change1.x) > this._pageSizeH) {\r\n                        if (delta > testPageSize * 0.5)\r\n                            page++;\r\n                    } else {\r\n                        if (delta > testPageSize * (change1.x < 0 ? 0.3 : 0.7))\r\n                            page++;\r\n                    }\r\n                    endX = -page * this._pageSizeH;\r\n                    if (endX < -this._xOverlap)\r\n                        endX = -this._xOverlap;\r\n                    change1.x = endX - this._container.x;\r\n                }\r\n            } else\r\n                change1.x = change2.x = 0;\r\n            if (this._scrollType == /*fairygui.ScrollType.Both*/ 2 || this._scrollType == /*fairygui.ScrollType.Vertical*/ 1) {\r\n                if (this._container.y > UIConfig1.touchDragSensitivity)\r\n                    fireRelease = 1;\r\n                else if (this._container.y < -this._yOverlap - UIConfig1.touchDragSensitivity)\r\n                    fireRelease = 2;\r\n                change1.y = TweenHelper.calculateChange(yVelocity, duration);\r\n                change2.y = 0;\r\n                endY = this._container.y + change1.y;\r\n                if (this._pageMode && endY < 0 && endY > -this._yOverlap) {\r\n                    page = Math.floor(-endY / this._pageSizeV);\r\n                    testPageSize = Math.min(this._pageSizeV, this._contentHeight - (page + 1) * this._pageSizeV);\r\n                    delta = -endY - page * this._pageSizeV;\r\n                    if (Math.abs(change1.y) > this._pageSizeV) {\r\n                        if (delta > testPageSize * 0.5)\r\n                            page++;\r\n                    } else {\r\n                        if (delta > testPageSize * (change1.y < 0 ? 0.3 : 0.7))\r\n                            page++;\r\n                    }\r\n                    endY = -page * this._pageSizeV;\r\n                    if (endY < -this._yOverlap)\r\n                        endY = -this._yOverlap;\r\n                    change1.y = endY - this._container.y;\r\n                }\r\n            } else\r\n                change1.y = change2.y = 0;\r\n            if (this._snapToItem && !this._pageMode) {\r\n                endX = -endX;\r\n                endY = -endY;\r\n                var pt = this._owner.getSnappingPosition(endX, endY, fairygui.ScrollPane.sHelperPoint);\r\n                endX = -pt.x;\r\n                endY = -pt.y;\r\n                change1.x = endX - this._container.x;\r\n                change1.y = endY - this._container.y;\r\n            }\r\n            if (this._bouncebackEffect) {\r\n                if (endX > 0)\r\n                    change2.x = 0 - this._container.x - change1.x;\r\n                else if (endX < -this._xOverlap)\r\n                    change2.x = -this._xOverlap - this._container.x - change1.x;\r\n                if (endY > 0)\r\n                    change2.y = 0 - this._container.y - change1.y;\r\n                else if (endY < -this._yOverlap)\r\n                    change2.y = -this._yOverlap - this._container.y - change1.y;\r\n            } else {\r\n                if (endX > 0)\r\n                    change1.x = 0 - this._container.x;\r\n                else if (endX < -this._xOverlap)\r\n                    change1.x = -this._xOverlap - this._container.x;\r\n                if (endY > 0)\r\n                    change1.y = 0 - this._container.y;\r\n                else if (endY < -this._yOverlap)\r\n                    change1.y = -this._yOverlap - this._container.y;\r\n            }\r\n            this._tweenHelper.value = 0;\r\n            this._tweenHelper.change1 = change1;\r\n            this._tweenHelper.change2 = change2;\r\n            if (this._tweener != null)\r\n                this.killTween();\r\n            this._tweening = 2;\r\n            this._tweener = Tween.to(this._tweenHelper, { value: 1 },\r\n                duration * 1000,\r\n                fairygui.ScrollPane._easeTypeFunc,\r\n                Handler.create(this, this.__tweenComplete2));\r\n            this._tweener.update = Handler.create(this, this.__tweenUpdate2, null, false);\r\n            if (fireRelease == 1)\r\n                Events.dispatch( /*fairygui.Events.PULL_DOWN_RELEASE*/ \"fui_pull_down_release\", this._owner.displayObject);\r\n            else if (fireRelease == 2)\r\n                Events.dispatch( /*fairygui.Events.PULL_UP_RELEASE*/ \"fui_pull_up_release\", this._owner.displayObject);\r\n        }\r\n\r\n        __proto.__click = function() {\r\n            this.isDragged = false;\r\n        }\r\n\r\n        __proto.__mouseWheel = function(evt) {\r\n            if (!this._mouseWheelEnabled)\r\n                return;\r\n            var pt = this._owner.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, fairygui.ScrollPane.sHelperPoint);\r\n            var delta = evt[\"delta\"];\r\n            if (this._xOverlap > 0 && this._yOverlap == 0) {\r\n                if (delta < 0)\r\n                    this.setPercX(this._xPerc + this.getDeltaX(this._mouseWheelSpeed), false);\r\n                else\r\n                    this.setPercX(this._xPerc - this.getDeltaX(this._mouseWheelSpeed), false);\r\n            } else {\r\n                if (delta < 0)\r\n                    this.setPercY(this._yPerc + this.getDeltaY(this._mouseWheelSpeed), false);\r\n                else\r\n                    this.setPercY(this._yPerc - this.getDeltaY(this._mouseWheelSpeed), false);\r\n            }\r\n        }\r\n\r\n        __proto.__rollOver = function() {\r\n            this.showScrollBar(true);\r\n        }\r\n\r\n        __proto.__rollOut = function() {\r\n            this.showScrollBar(false);\r\n        }\r\n\r\n        __proto.showScrollBar = function(val) {\r\n            if (val) {\r\n                this.__showScrollBar(true);\r\n                Laya.timer.clear(this, this.__showScrollBar);\r\n            } else\r\n                Laya.timer.once(500, this, this.__showScrollBar, [val]);\r\n        }\r\n\r\n        __proto.__showScrollBar = function(val) {\r\n            this._scrollBarVisible = val && this._viewWidth > 0 && this._viewHeight > 0;\r\n            if (this._vtScrollBar)\r\n                this._vtScrollBar.displayObject.visible = this._scrollBarVisible && !this._vScrollNone;\r\n            if (this._hzScrollBar)\r\n                this._hzScrollBar.displayObject.visible = this._scrollBarVisible && !this._hScrollNone;\r\n        }\r\n\r\n        __proto.__tweenUpdate = function() {\r\n            this.syncScrollBar();\r\n            Events.dispatch( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this._owner.displayObject);\r\n        }\r\n\r\n        __proto.__tweenComplete = function() {\r\n            this._tweener = null;\r\n            this._tweening = 0;\r\n            this.validateHolderPos();\r\n            this.syncScrollBar(true);\r\n            Events.dispatch( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this._owner.displayObject);\r\n        }\r\n\r\n        __proto.__tweenUpdate2 = function() {\r\n            this._container.pos(Math.floor(this._tweenHelper.start.x + this._tweenHelper.change1.x * this._tweenHelper.value +\r\n                    this._tweenHelper.change2.x * this._tweenHelper.value * this._tweenHelper.value),\r\n                Math.floor(this._tweenHelper.start.y + this._tweenHelper.change1.y * this._tweenHelper.value +\r\n                    this._tweenHelper.change2.y * this._tweenHelper.value * this._tweenHelper.value));\r\n            this.syncPos();\r\n            this.syncScrollBar();\r\n            Events.dispatch( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this._owner.displayObject);\r\n        }\r\n\r\n        __proto.__tweenComplete2 = function() {\r\n            this._tweener = null;\r\n            this._tweening = 0;\r\n            this.validateHolderPos();\r\n            this.syncPos();\r\n            this.syncScrollBar(true);\r\n            Events.dispatch( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this._owner.displayObject);\r\n            Events.dispatch( /*fairygui.Events.SCROLL_END*/ \"fui_scroll_end\", this._owner.displayObject);\r\n        }\r\n\r\n        __getset(0, __proto, 'viewWidth', function() {\r\n            return this._viewWidth;\r\n        }, function(value) {\r\n            value = value + this._owner.margin.left + this._owner.margin.right;\r\n            if (this._vtScrollBar != null)\r\n                value += this._vtScrollBar.width;\r\n            this._owner.width = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'owner', function() {\r\n            return this._owner;\r\n        });\r\n\r\n        __getset(0, __proto, 'percY', function() {\r\n            return this._yPerc;\r\n        }, function(value) {\r\n            this.setPercY(value, false);\r\n        });\r\n\r\n        __getset(0, __proto, 'scrollSpeed', function() {\r\n            return this._scrollSpeed;\r\n        }, function(val) {\r\n            this._scrollSpeed = this.scrollSpeed;\r\n            if (this._scrollSpeed == 0)\r\n                this._scrollSpeed = UIConfig1.defaultScrollSpeed;\r\n            this._mouseWheelSpeed = this._scrollSpeed * 2;\r\n        });\r\n\r\n        __getset(0, __proto, 'percX', function() {\r\n            return this._xPerc;\r\n        }, function(value) {\r\n            this.setPercX(value, false);\r\n        });\r\n\r\n        __getset(0, __proto, 'bouncebackEffect', function() {\r\n            return this._bouncebackEffect;\r\n        }, function(sc) {\r\n            this._bouncebackEffect = sc;\r\n        });\r\n\r\n        __getset(0, __proto, 'isBottomMost', function() {\r\n            return this._yPerc == 1 || this._yOverlap == 0;\r\n        });\r\n\r\n        __getset(0, __proto, 'touchEffect', function() {\r\n            return this._touchEffect;\r\n        }, function(sc) {\r\n            this._touchEffect = sc;\r\n        });\r\n\r\n        __getset(0, __proto, 'mouseWheelEnabled', function() {\r\n            return this._mouseWheelEnabled;\r\n        }, function(val) {\r\n            this._mouseWheelEnabled = val;\r\n        });\r\n\r\n        __getset(0, __proto, 'viewHeight', function() {\r\n            return this._viewHeight;\r\n        }, function(value) {\r\n            value = value + this._owner.margin.top + this._owner.margin.bottom;\r\n            if (this._hzScrollBar != null)\r\n                value += this._hzScrollBar.height;\r\n            this._owner.height = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'snapToItem', function() {\r\n            return this._snapToItem;\r\n        }, function(value) {\r\n            this._snapToItem = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'posX', function() {\r\n            return this._xPos;\r\n        }, function(value) {\r\n            this.setPosX(value, false);\r\n        });\r\n\r\n        __getset(0, __proto, 'posY', function() {\r\n            return this._yPos;\r\n        }, function(value) {\r\n            this.setPosY(value, false);\r\n        });\r\n\r\n        __getset(0, __proto, 'isRightMost', function() {\r\n            return this._xPerc == 1 || this._xOverlap == 0;\r\n        });\r\n\r\n        __getset(0, __proto, 'currentPageX', function() {\r\n            if (!this._pageMode)\r\n                return 0;\r\n            var page = Math.floor(this._xPos / this._pageSizeH);\r\n            if (this._xPos - page * this._pageSizeH > this._pageSizeH * 0.5)\r\n                page++;\r\n            return page;\r\n        }, function(value) {\r\n            if (this._pageMode && this._xOverlap > 0)\r\n                this.setPosX(value * this._pageSizeH, false);\r\n        });\r\n\r\n        __getset(0, __proto, 'currentPageY', function() {\r\n            if (!this._pageMode)\r\n                return 0;\r\n            var page = Math.floor(this._yPos / this._pageSizeV);\r\n            if (this._yPos - page * this._pageSizeV > this._pageSizeV * 0.5)\r\n                page++;\r\n            return page;\r\n        }, function(value) {\r\n            if (this._pageMode && this._yOverlap > 0)\r\n                this.setPosY(value * this._pageSizeV, false);\r\n        });\r\n\r\n        __getset(0, __proto, 'pageController', function() {\r\n            return this._pageController;\r\n        }, function(value) {\r\n            this._pageController = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'scrollingPosX', function() {\r\n            return ToolSet.clamp(-this._container.x, 0, this._xOverlap);\r\n        });\r\n\r\n        __getset(0, __proto, 'scrollingPosY', function() {\r\n            return ToolSet.clamp(-this._container.y, 0, this._yOverlap);\r\n        });\r\n\r\n        __getset(0, __proto, 'contentWidth', function() {\r\n            return this._contentWidth;\r\n        });\r\n\r\n        __getset(0, __proto, 'contentHeight', function() {\r\n            return this._contentHeight;\r\n        });\r\n\r\n        ScrollPane._easeTypeFunc = null\r\n        ScrollPane.draggingPane = null\r\n        ScrollPane._gestureFlag = 0;\r\n        __static(ScrollPane, ['sHelperRect', function() { return this.sHelperRect = new Rectangle(); }, 'sHelperPoint', function() { return this.sHelperPoint = new Point(); }]);\r\n        ScrollPane.__init$ = function() {\r\n            //class TweenHelper\r\n            TweenHelper = (function() {\r\n                function TweenHelper() {\r\n                    this.value = NaN;\r\n                    this.start = null;\r\n                    this.change1 = null;\r\n                    this.change2 = null;\r\n                    this.start = new Point();\r\n                    this.change1 = new Point();\r\n                    this.change2 = new Point();\r\n                }\r\n                __class(TweenHelper, '');\r\n                TweenHelper.calculateChange = function(velocity, duration) {\r\n                    return (duration * TweenHelper.checkpoint * velocity) / TweenHelper.easeOutCubic(TweenHelper.checkpoint, 0, 1, 1);\r\n                }\r\n                TweenHelper.easeOutCubic = function(t, b, c, d) {\r\n                    return c * ((t = t / d - 1) * t * t + 1) + b;\r\n                }\r\n                TweenHelper.checkpoint = 0.05;\r\n                return TweenHelper;\r\n            })()\r\n        }\r\n\r\n        return ScrollPane;\r\n    })()\r\n\r\n\r\n    //class fairygui.ScrollType\r\n    var ScrollType = (function() {\r\n        function ScrollType() {}\r\n        __class(ScrollType, 'fairygui.ScrollType');\r\n        ScrollType.parse = function(value) {\r\n            switch (value) {\r\n                case \"horizontal\":\r\n                    return 0;\r\n                case \"vertical\":\r\n                    return 1;\r\n                case \"both\":\r\n                    return 2;\r\n                default:\r\n                    return 1;\r\n            }\r\n        }\r\n\r\n        ScrollType.Horizontal = 0;\r\n        ScrollType.Vertical = 1;\r\n        ScrollType.Both = 2;\r\n        return ScrollType;\r\n    })()\r\n\r\n\r\n    //class fairygui.Transition\r\n    var Transition = (function() {\r\n        var TransitionActionType, TransitionItem, TransitionValue;\r\n\r\n        function Transition(owner) {\r\n            this.name = null;\r\n            this.autoPlayRepeat = 1;\r\n            this.autoPlayDelay = 0;\r\n            this._owner = null;\r\n            this._ownerBaseX = 0;\r\n            this._ownerBaseY = 0;\r\n            this._items = null;\r\n            this._totalTimes = 0;\r\n            this._totalTasks = 0;\r\n            this._playing = false;\r\n            this._onComplete = null;\r\n            this._options = 0;\r\n            this._reversed = false;\r\n            this._maxTime = 0;\r\n            this._autoPlay = false;\r\n            this.OPTION_IGNORE_DISPLAY_CONTROLLER = 1;\r\n            this.OPTION_AUTO_STOP_DISABLED = 2;\r\n            this.OPTION_AUTO_STOP_AT_END = 4;\r\n            this.FRAME_RATE = 24;\r\n            this._owner = owner;\r\n            this._items = [];\r\n        }\r\n\r\n        __class(Transition, 'fairygui.Transition');\r\n        var __proto = Transition.prototype;\r\n        __proto.play = function(onComplete, times, delay) {\r\n            (times === void 0) && (times = 1);\r\n            (delay === void 0) && (delay = 0);\r\n            this._play(onComplete, times, delay, false);\r\n        }\r\n\r\n        __proto.playReverse = function(onComplete, times, delay) {\r\n            (times === void 0) && (times = 1);\r\n            (delay === void 0) && (delay = 0);\r\n            this._play(onComplete, times, delay, true);\r\n        }\r\n\r\n        __proto.changeRepeat = function(value) {\r\n            this._totalTimes = value;\r\n        }\r\n\r\n        __proto._play = function(onComplete, times, delay, reversed) {\r\n            (times === void 0) && (times = 1);\r\n            (delay === void 0) && (delay = 0);\r\n            (reversed === void 0) && (reversed = false);\r\n            this.stop();\r\n            this._totalTimes = times;\r\n            this._reversed = reversed;\r\n            this.internalPlay(delay);\r\n            this._playing = this._totalTasks > 0;\r\n            if (this._playing) {\r\n                this._onComplete = onComplete;\r\n                if ((this._options & this.OPTION_IGNORE_DISPLAY_CONTROLLER) != 0) {\r\n                    var cnt = this._items.length;\r\n                    for (var i = 0; i < cnt; i++) {\r\n                        var item = this._items[i];\r\n                        if (item.target != null && item.target != this._owner)\r\n                            item.displayLockToken = item.target.addDisplayLock();\r\n                    }\r\n                }\r\n            } else if (onComplete != null) {\r\n                onComplete.run();\r\n            }\r\n        }\r\n\r\n        __proto.stop = function(setToComplete, processCallback) {\r\n            (setToComplete === void 0) && (setToComplete = true);\r\n            (processCallback === void 0) && (processCallback = false);\r\n            if (this._playing) {\r\n                this._playing = false;\r\n                this._totalTasks = 0;\r\n                this._totalTimes = 0;\r\n                var handler = this._onComplete;\r\n                this._onComplete = null;\r\n                var cnt = this._items.length;\r\n                var i = NaN;\r\n                var item;\r\n                if (this._reversed) {\r\n                    for (i = cnt - 1; i >= 0; i--) {\r\n                        item = this._items[i];\r\n                        if (item.target == null)\r\n                            continue;\r\n                        this.stopItem(item, setToComplete);\r\n                    }\r\n                } else {\r\n                    for (i = 0; i < cnt; i++) {\r\n                        item = this._items[i];\r\n                        if (item.target == null)\r\n                            continue;\r\n                        this.stopItem(item, setToComplete);\r\n                    }\r\n                }\r\n                if (processCallback && handler != null) {\r\n                    handler.run();\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.stopItem = function(item, setToComplete) {\r\n            if (item.displayLockToken != 0) {\r\n                item.target.releaseDisplayLock(item.displayLockToken);\r\n                item.displayLockToken = 0;\r\n            }\r\n            if (item.type == /*TransitionActionType.ColorFilter*/ 12 && item.filterCreated)\r\n                item.target.filters = null;\r\n            if (item.completed)\r\n                return;\r\n            if (item.tweener != null) {\r\n                item.tweener.clear();\r\n                item.tweener = null;\r\n            }\r\n            if (item.type == /*TransitionActionType.Transition*/ 10) {\r\n                var trans = (item.target).getTransition(item.value.s);\r\n                if (trans != null)\r\n                    trans.stop(setToComplete, false);\r\n            } else if (item.type == /*TransitionActionType.Shake*/ 11) {\r\n                Laya.timer.clear(item, item.__shake);\r\n                item.target._gearLocked = true;\r\n                item.target.setXY(item.target.x - item.startValue.f1, item.target.y - item.startValue.f2);\r\n                item.target._gearLocked = false;\r\n            } else {\r\n                if (setToComplete) {\r\n                    if (item.tween) {\r\n                        if (!item.yoyo || item.repeat % 2 == 0)\r\n                            this.applyValue(item, this._reversed ? item.startValue : item.endValue);\r\n                        else\r\n                            this.applyValue(item, this._reversed ? item.endValue : item.startValue);\r\n                    } else if (item.type != /*TransitionActionType.Sound*/ 9)\r\n                        this.applyValue(item, item.value);\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.dispose = function() {\r\n            if (!this._playing)\r\n                return;\r\n            this._playing = false;\r\n            var cnt = this._items.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var item = this._items[i];\r\n                if (item.target == null || item.completed)\r\n                    continue;\r\n                if (item.tweener != null) {\r\n                    item.tweener.clear();\r\n                    item.tweener = null;\r\n                }\r\n                if (item.type == /*TransitionActionType.Transition*/ 10) {\r\n                    var trans = (item.target).getTransition(item.value.s);\r\n                    if (trans != null)\r\n                        trans.dispose();\r\n                } else if (item.type == /*TransitionActionType.Shake*/ 11) {\r\n                    Laya.timer.clear(item, item.__shake);\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.setValue = function(label, __args) {\r\n            var args = [];\r\n            for (var i = 1, sz = arguments.length; i < sz; i++) args.push(arguments[i]);\r\n            var cnt = this._items.length;\r\n            var value;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var item = this._items[i];\r\n                if (item.label == null && item.label2 == null)\r\n                    continue;\r\n                if (item.label == label) {\r\n                    if (item.tween)\r\n                        value = item.startValue;\r\n                    else\r\n                        value = item.value;\r\n                } else if (item.label2 == label) {\r\n                    value = item.endValue;\r\n                } else\r\n                    continue;\r\n                switch (item.type) {\r\n                    case /*TransitionActionType.XY*/ 0:\r\n                    case /*TransitionActionType.Size*/ 1:\r\n                    case /*TransitionActionType.Pivot*/ 3:\r\n                    case /*TransitionActionType.Scale*/ 2:\r\n                    case /*TransitionActionType.Skew*/ 13:\r\n                        value.b1 = true;\r\n                        value.b2 = true;\r\n                        value.f1 = parseFloat(args[0]);\r\n                        value.f2 = parseFloat(args[1]);\r\n                        break;\r\n                    case /*TransitionActionType.Alpha*/ 4:\r\n                        value.f1 = parseFloat(args[0]);\r\n                        break;\r\n                    case /*TransitionActionType.Rotation*/ 5:\r\n                        value.i = parseInt(args[0]);\r\n                        break;\r\n                    case /*TransitionActionType.Color*/ 6:\r\n                        value.s = args[0];\r\n                        break;\r\n                    case /*TransitionActionType.Animation*/ 7:\r\n                        value.i = parseInt(args[0]);\r\n                        if (args.length > 1)\r\n                            value.b = args[1];\r\n                        break;\r\n                    case /*TransitionActionType.Visible*/ 8:\r\n                        value.b = args[0];\r\n                        break;\r\n                    case /*TransitionActionType.Sound*/ 9:\r\n                        value.s = args[0];\r\n                        if (args.length > 1)\r\n                            value.f1 = parseFloat(args[1]);\r\n                        break;\r\n                    case /*TransitionActionType.Transition*/ 10:\r\n                        value.s = args[0];\r\n                        if (args.length > 1)\r\n                            value.i = parseInt(args[1]);\r\n                        break;\r\n                    case /*TransitionActionType.Shake*/ 11:\r\n                        value.f1 = parseFloat(args[0]);\r\n                        if (args.length > 1)\r\n                            value.f2 = parseFloat(args[1]);\r\n                        break;\r\n                    case /*TransitionActionType.ColorFilter*/ 12:\r\n                        value.f1 = parseFloat(args[0]);\r\n                        value.f2 = parseFloat(args[1]);\r\n                        value.f3 = parseFloat(args[2]);\r\n                        value.f4 = parseFloat(args[3]);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.setHook = function(label, callback) {\r\n            var cnt = this._items.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var item = this._items[i];\r\n                if (item.label == label) {\r\n                    item.hook = callback;\r\n                    break;\r\n                } else if (item.label2 == label) {\r\n                    item.hook2 = callback;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.clearHooks = function() {\r\n            var cnt = this._items.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var item = this._items[i];\r\n                item.hook = null;\r\n                item.hook2 = null;\r\n            }\r\n        }\r\n\r\n        __proto.setTarget = function(label, newTarget) {\r\n            var cnt = this._items.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var item = this._items[i];\r\n                if (item.label == label)\r\n                    item.targetId = newTarget.id;\r\n            }\r\n        }\r\n\r\n        __proto.setDuration = function(label, value) {\r\n            var cnt = this._items.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var item = this._items[i];\r\n                if (item.tween && item.label == label)\r\n                    item.duration = value;\r\n            }\r\n        }\r\n\r\n        __proto.updateFromRelations = function(targetId, dx, dy) {\r\n            var cnt = this._items.length;\r\n            if (cnt == 0)\r\n                return;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var item = this._items[i];\r\n                if (item.type == /*TransitionActionType.XY*/ 0 && item.targetId == targetId) {\r\n                    if (item.tween) {\r\n                        item.startValue.f1 += dx;\r\n                        item.startValue.f2 += dy;\r\n                        item.endValue.f1 += dx;\r\n                        item.endValue.f2 += dy;\r\n                    } else {\r\n                        item.value.f1 += dx;\r\n                        item.value.f2 += dy;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.OnOwnerRemovedFromStage = function() {\r\n            if ((this._options & this.OPTION_AUTO_STOP_DISABLED) == 0)\r\n                this.stop((this._options & this.OPTION_AUTO_STOP_AT_END) != 0 ? true : false, false);\r\n        }\r\n\r\n        __proto.internalPlay = function(delay) {\r\n            (delay === void 0) && (delay = 0);\r\n            this._ownerBaseX = this._owner.x;\r\n            this._ownerBaseY = this._owner.y;\r\n            this._totalTasks = 0;\r\n            var cnt = this._items.length;\r\n            var startTime = NaN;\r\n            var item;\r\n            for (var i = 0; i < cnt; i++) {\r\n                item = this._items[i];\r\n                if (item.targetId)\r\n                    item.target = this._owner.getChildById(item.targetId);\r\n                else\r\n                    item.target = this._owner;\r\n                if (item.target == null)\r\n                    continue;\r\n                if (item.tween) {\r\n                    if (this._reversed)\r\n                        startTime = delay + this._maxTime - item.time - item.duration;\r\n                    else\r\n                        startTime = delay + item.time;\r\n                    if (startTime > 0) {\r\n                        this._totalTasks++;\r\n                        item.completed = false;\r\n                        item.tweener = Tween.to(item.value, {}, startTime * 1000, null, Handler.create(this, this.__delayCall, [item]));\r\n                        item.tweener.update = null;\r\n                    } else\r\n                        this.startTween(item);\r\n                } else {\r\n                    if (this._reversed)\r\n                        startTime = delay + this._maxTime - item.time;\r\n                    else\r\n                        startTime = delay + item.time;\r\n                    if (startTime == 0)\r\n                        this.applyValue(item, item.value);\r\n                    else {\r\n                        item.completed = false;\r\n                        this._totalTasks++;\r\n                        item.tweener = Tween.to(item.value, {}, startTime * 1000, null, Handler.create(this, this.__delayCall2, [item]));\r\n                        item.tweener.update = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.prepareValue = function(item, toProps, reversed) {\r\n            (reversed === void 0) && (reversed = false);\r\n            var startValue;\r\n            var endValue;\r\n            if (reversed) {\r\n                startValue = item.endValue;\r\n                endValue = item.startValue;\r\n            } else {\r\n                startValue = item.startValue;\r\n                endValue = item.endValue;\r\n            }\r\n            switch (item.type) {\r\n                case /*TransitionActionType.XY*/ 0:\r\n                case /*TransitionActionType.Size*/ 1:\r\n                    if (item.type == /*TransitionActionType.XY*/ 0) {\r\n                        if (item.target == this._owner) {\r\n                            if (!startValue.b1)\r\n                                startValue.f1 = 0;\r\n                            if (!startValue.b2)\r\n                                startValue.f2 = 0;\r\n                        } else {\r\n                            if (!startValue.b1)\r\n                                startValue.f1 = item.target.x;\r\n                            if (!startValue.b2)\r\n                                startValue.f2 = item.target.y;\r\n                        }\r\n                    } else {\r\n                        if (!startValue.b1)\r\n                            startValue.f1 = item.target.width;\r\n                        if (!startValue.b2)\r\n                            startValue.f2 = item.target.height;\r\n                    }\r\n                    item.value.f1 = startValue.f1;\r\n                    item.value.f2 = startValue.f2;\r\n                    if (!endValue.b1)\r\n                        endValue.f1 = item.value.f1;\r\n                    if (!endValue.b2)\r\n                        endValue.f2 = item.value.f2;\r\n                    item.value.b1 = startValue.b1 || endValue.b1;\r\n                    item.value.b2 = startValue.b2 || endValue.b2;\r\n                    toProps.f1 = endValue.f1;\r\n                    toProps.f2 = endValue.f2;\r\n                    break;\r\n                case /*TransitionActionType.Scale*/ 2:\r\n                case /*TransitionActionType.Skew*/ 13:\r\n                    item.value.f1 = startValue.f1;\r\n                    item.value.f2 = startValue.f2;\r\n                    toProps.f1 = endValue.f1;\r\n                    toProps.f2 = endValue.f2;\r\n                    break;\r\n                case /*TransitionActionType.Alpha*/ 4:\r\n                    item.value.f1 = startValue.f1;\r\n                    toProps.f1 = endValue.f1;\r\n                    break;\r\n                case /*TransitionActionType.Rotation*/ 5:\r\n                    item.value.i = startValue.i;\r\n                    toProps.i = endValue.i;\r\n                    break;\r\n                case /*TransitionActionType.ColorFilter*/ 12:\r\n                    item.value.f1 = startValue.f1;\r\n                    item.value.f2 = startValue.f2;\r\n                    item.value.f3 = startValue.f3;\r\n                    item.value.f4 = startValue.f4;\r\n                    toProps.f1 = endValue.f1;\r\n                    toProps.f2 = endValue.f2;\r\n                    toProps.f3 = endValue.f3;\r\n                    toProps.f4 = endValue.f4;\r\n                    break;\r\n            }\r\n            toProps.dummy = 0;\r\n        }\r\n\r\n        __proto.startTween = function(item) {\r\n            var toProps = {};\r\n            this.prepareValue(item, toProps, this._reversed);\r\n            this.applyValue(item, item.value);\r\n            var completeHandler;\r\n            if (item.repeat != 0) {\r\n                item.tweenTimes = 0;\r\n                completeHandler = Handler.create(this, this.__tweenRepeatComplete, [item]);\r\n            } else\r\n                completeHandler = Handler.create(this, this.__tweenComplete, [item]);\r\n            this._totalTasks++;\r\n            item.completed = false;\r\n            item.tweener = Tween.to(item.value,\r\n                toProps,\r\n                item.duration * 1000,\r\n                item.easeType,\r\n                completeHandler);\r\n            item.tweener.update = Handler.create(this, this.__tweenUpdate, [item], false);\r\n            if (item.hook != null)\r\n                item.hook.run();\r\n        }\r\n\r\n        __proto.__delayCall = function(item) {\r\n            item.tweener = null;\r\n            this._totalTasks--;\r\n            this.startTween(item);\r\n        }\r\n\r\n        __proto.__delayCall2 = function(item) {\r\n            item.tweener = null;\r\n            this._totalTasks--;\r\n            item.completed = true;\r\n            this.applyValue(item, item.value);\r\n            if (item.hook != null)\r\n                item.hook.run();\r\n            this.checkAllComplete();\r\n        }\r\n\r\n        __proto.__tweenUpdate = function(item) {\r\n            this.applyValue(item, item.value);\r\n        }\r\n\r\n        __proto.__tweenComplete = function(item) {\r\n            item.tweener = null;\r\n            this._totalTasks--;\r\n            item.completed = true;\r\n            if (item.hook2 != null)\r\n                item.hook2.run();\r\n            this.checkAllComplete();\r\n        }\r\n\r\n        __proto.__tweenRepeatComplete = function(item) {\r\n            item.tweenTimes++;\r\n            if (item.repeat == -1 || item.tweenTimes < item.repeat + 1) {\r\n                var toProps = {};\r\n                var reversed = false;\r\n                if (item.yoyo) {\r\n                    if (this._reversed)\r\n                        reversed = item.tweenTimes % 2 == 0;\r\n                    else\r\n                        reversed = item.tweenTimes % 2 == 1;\r\n                } else\r\n                    reversed = this._reversed;\r\n                this.prepareValue(item, toProps, reversed);\r\n                item.tweener = Tween.to(item.value,\r\n                    toProps,\r\n                    item.duration * 1000,\r\n                    item.easeType,\r\n                    Handler.create(this, this.__tweenRepeatComplete, [item]));\r\n                item.tweener.update = Handler.create(this, this.__tweenUpdate, [item], false);\r\n            } else\r\n                this.__tweenComplete(item);\r\n        }\r\n\r\n        __proto.__playTransComplete = function(item) {\r\n            this._totalTasks--;\r\n            item.completed = true;\r\n            this.checkAllComplete();\r\n        }\r\n\r\n        __proto.checkAllComplete = function() {\r\n            if (this._playing && this._totalTasks == 0) {\r\n                if (this._totalTimes < 0) {\r\n                    Laya.timer.callLater(this, this.internalPlay);\r\n                } else {\r\n                    this._totalTimes--;\r\n                    if (this._totalTimes > 0)\r\n                        Laya.timer.callLater(this, this.internalPlay);\r\n                    else {\r\n                        this._playing = false;\r\n                        var cnt = this._items.length;\r\n                        for (var i = 0; i < cnt; i++) {\r\n                            var item = this._items[i];\r\n                            if (item.target != null) {\r\n                                if (item.displayLockToken != 0) {\r\n                                    item.target.releaseDisplayLock(item.displayLockToken);\r\n                                    item.displayLockToken = 0;\r\n                                }\r\n                                if (item.filterCreated) {\r\n                                    item.filterCreated = false;\r\n                                    item.target.filters = null;\r\n                                }\r\n                            }\r\n                        }\r\n                        if (this._onComplete != null) {\r\n                            var handler = this._onComplete;\r\n                            this._onComplete = null;\r\n                            handler.run();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.applyValue = function(item, value) {\r\n            item.target._gearLocked = true;\r\n            switch (item.type) {\r\n                case /*TransitionActionType.XY*/ 0:\r\n                    if (item.target == this._owner) {\r\n                        var f1 = 0,\r\n                            f2 = 0;\r\n                        if (!value.b1)\r\n                            f1 = item.target.x;\r\n                        else\r\n                            f1 = value.f1 + this._ownerBaseX;\r\n                        if (!value.b2)\r\n                            f2 = item.target.y;\r\n                        else\r\n                            f2 = value.f2 + this._ownerBaseY;\r\n                        item.target.setXY(f1, f2);\r\n                    } else {\r\n                        if (!value.b1)\r\n                            value.f1 = item.target.x;\r\n                        if (!value.b2)\r\n                            value.f2 = item.target.y;\r\n                        item.target.setXY(value.f1, value.f2);\r\n                    }\r\n                    break;\r\n                case /*TransitionActionType.Size*/ 1:\r\n                    if (!value.b1)\r\n                        value.f1 = item.target.width;\r\n                    if (!value.b2)\r\n                        value.f2 = item.target.height;\r\n                    item.target.setSize(value.f1, value.f2);\r\n                    break;\r\n                case /*TransitionActionType.Pivot*/ 3:\r\n                    item.target.setPivot(value.f1, value.f2);\r\n                    break;\r\n                case /*TransitionActionType.Alpha*/ 4:\r\n                    item.target.alpha = value.f1;\r\n                    break;\r\n                case /*TransitionActionType.Rotation*/ 5:\r\n                    item.target.rotation = value.i;\r\n                    break;\r\n                case /*TransitionActionType.Scale*/ 2:\r\n                    item.target.setScale(value.f1, value.f2);\r\n                    break;\r\n                case /*TransitionActionType.Skew*/ 13:\r\n                    item.target.setSkew(value.f1, value.f2);\r\n                    break;\r\n                case /*TransitionActionType.Color*/ 6:\r\n                    (item.target).color = value.s;\r\n                    break;\r\n                case /*TransitionActionType.Animation*/ 7:\r\n                    if (!value.b1)\r\n                        value.i = (item.target).frame;\r\n                    (item.target).frame = value.i;\r\n                    (item.target).playing = value.b;\r\n                    break;\r\n                case /*TransitionActionType.Visible*/ 8:\r\n                    item.target.visible = value.b;\r\n                    break;\r\n                case /*TransitionActionType.Transition*/ 10:\r\n                    ;\r\n                    var trans = (item.target).getTransition(value.s);\r\n                    if (trans != null) {\r\n                        if (value.i == 0)\r\n                            trans.stop(false, true);\r\n                        else if (trans.playing)\r\n                            trans._totalTimes = value.i;\r\n                        else {\r\n                            item.completed = false;\r\n                            this._totalTasks++;\r\n                            if (this._reversed)\r\n                                trans.playReverse(Handler.create(this, this.__playTransComplete, [item]), item.value.i);\r\n                            else\r\n                                trans.play(Handler.create(this, this.__playTransComplete, [item]), item.value.i);\r\n                        }\r\n                    }\r\n                    break;\r\n                case /*TransitionActionType.Sound*/ 9:\r\n                    ;\r\n                    var pi = UIPackage.getItemByURL(value.s);\r\n                    if (pi)\r\n                        GRoot.inst.playOneShotSound(pi.owner.getItemAssetURL(pi));\r\n                    else\r\n                        GRoot.inst.playOneShotSound(value.s);\r\n                    break;\r\n                case /*TransitionActionType.Shake*/ 11:\r\n                    item.startValue.f1 = 0;\r\n                    item.startValue.f2 = 0;\r\n                    item.startValue.f3 = item.value.f2;\r\n                    item.startValue.i = Laya.timer.currTimer;\r\n                    Laya.timer.frameLoop(1, item, item.__shake, [this]);\r\n                    this._totalTasks++;\r\n                    item.completed = false;\r\n                    break;\r\n                case /*TransitionActionType.ColorFilter*/ 12:\r\n                    ;\r\n                    var arr = item.target.filters;\r\n                    if (!arr || !(((arr[0]) instanceof laya.filters.ColorFilter)))\r\n                        item.filterCreated = true;\r\n                    var cm = new ColorMatrix();\r\n                    cm.adjustBrightness(value.f1);\r\n                    cm.adjustContrast(value.f2);\r\n                    cm.adjustSaturation(value.f3);\r\n                    cm.adjustHue(value.f4);\r\n                    arr = [new ColorFilter(cm)];\r\n                    item.target.filters = arr;\r\n                    break;\r\n            }\r\n            item.target._gearLocked = false;\r\n        }\r\n\r\n        __proto.__shakeItem = function(item) {\r\n            var r = Math.ceil(item.value.f1 * item.startValue.f3 / item.value.f2);\r\n            var rx = (Math.random() * 2 - 1) * r;\r\n            var ry = (Math.random() * 2 - 1) * r;\r\n            rx = rx > 0 ? Math.ceil(rx) : Math.floor(rx);\r\n            ry = ry > 0 ? Math.ceil(ry) : Math.floor(ry);\r\n            item.target._gearLocked = true;\r\n            item.target.setXY(item.target.x - item.startValue.f1 + rx, item.target.y - item.startValue.f2 + ry);\r\n            item.target._gearLocked = false;\r\n            item.startValue.f1 = rx;\r\n            item.startValue.f2 = ry;\r\n            var t = Laya.timer.currTimer;\r\n            item.startValue.f3 -= (t - item.startValue.i) / 1000;\r\n            item.startValue.i = t;\r\n            if (item.startValue.f3 <= 0) {\r\n                item.target._gearLocked = true;\r\n                item.target.setXY(item.target.x - item.startValue.f1, item.target.y - item.startValue.f2);\r\n                item.target._gearLocked = false;\r\n                item.completed = true;\r\n                this._totalTasks--;\r\n                Laya.timer.clear(item, item.__shake);\r\n                this.checkAllComplete();\r\n            }\r\n        }\r\n\r\n        __proto.setup = function(xml) {\r\n            this.name = xml.getAttribute(\"name\");\r\n            var str = xml.getAttribute(\"options\");\r\n            if (str)\r\n                this._options = parseInt(str);\r\n            str = xml.getAttribute(\"autoPlay\");\r\n            if (str)\r\n                this._autoPlay = str == \"true\";\r\n            if (this._autoPlay) {\r\n                str = xml.getAttribute(\"autoPlayRepeat\");\r\n                if (str)\r\n                    this.autoPlayRepeat = parseInt(str);\r\n                str = xml.getAttribute(\"autoPlayDelay\");\r\n                if (str)\r\n                    this.autoPlayDelay = parseFloat(str);\r\n            };\r\n            var col = xml.childNodes;\r\n            var length1 = col.length;\r\n            for (var i1 = 0; i1 < length1; i1++) {\r\n                var cxml = col[i1];\r\n                if (cxml.nodeName != \"item\")\r\n                    continue;\r\n                var item = new TransitionItem();\r\n                this._items.push(item);\r\n                item.time = parseInt(cxml.getAttribute(\"time\")) / this.FRAME_RATE;\r\n                item.targetId = cxml.getAttribute(\"target\");\r\n                str = cxml.getAttribute(\"type\");\r\n                switch (str) {\r\n                    case \"XY\":\r\n                        item.type = /*TransitionActionType.XY*/ 0;\r\n                        break;\r\n                    case \"Size\":\r\n                        item.type = /*TransitionActionType.Size*/ 1;\r\n                        break;\r\n                    case \"Scale\":\r\n                        item.type = /*TransitionActionType.Scale*/ 2;\r\n                        break;\r\n                    case \"Pivot\":\r\n                        item.type = /*TransitionActionType.Pivot*/ 3;\r\n                        break;\r\n                    case \"Alpha\":\r\n                        item.type = /*TransitionActionType.Alpha*/ 4;\r\n                        break;\r\n                    case \"Rotation\":\r\n                        item.type = /*TransitionActionType.Rotation*/ 5;\r\n                        break;\r\n                    case \"Color\":\r\n                        item.type = /*TransitionActionType.Color*/ 6;\r\n                        break;\r\n                    case \"Animation\":\r\n                        item.type = /*TransitionActionType.Animation*/ 7;\r\n                        break;\r\n                    case \"Visible\":\r\n                        item.type = /*TransitionActionType.Visible*/ 8;\r\n                        break;\r\n                    case \"Sound\":\r\n                        item.type = /*TransitionActionType.Sound*/ 9;\r\n                        break;\r\n                    case \"Transition\":\r\n                        item.type = /*TransitionActionType.Transition*/ 10;\r\n                        break;\r\n                    case \"Shake\":\r\n                        item.type = /*TransitionActionType.Shake*/ 11;\r\n                        break;\r\n                    case \"ColorFilter\":\r\n                        item.type = /*TransitionActionType.ColorFilter*/ 12;\r\n                        break;\r\n                    case \"Skew\":\r\n                        item.type = /*TransitionActionType.Skew*/ 13;\r\n                        break;\r\n                    default:\r\n                        item.type = /*TransitionActionType.Unknown*/ 14;\r\n                        break;\r\n                }\r\n                item.tween = cxml.getAttribute(\"tween\") == \"true\";\r\n                item.label = cxml.getAttribute(\"label\");\r\n                if (item.tween) {\r\n                    item.duration = parseInt(cxml.getAttribute(\"duration\")) / this.FRAME_RATE;\r\n                    if (item.time + item.duration > this._maxTime)\r\n                        this._maxTime = item.time + item.duration;\r\n                    str = cxml.getAttribute(\"ease\");\r\n                    if (str)\r\n                        item.easeType = ToolSet.parseEaseType(str);\r\n                    str = cxml.getAttribute(\"repeat\");\r\n                    if (str)\r\n                        item.repeat = parseInt(str);\r\n                    item.yoyo = cxml.getAttribute(\"yoyo\") == \"true\";\r\n                    item.label2 = cxml.getAttribute(\"label2\");\r\n                    var v = cxml.getAttribute(\"endValue\");\r\n                    if (v) {\r\n                        this.decodeValue(item.type, cxml.getAttribute(\"startValue\"), item.startValue);\r\n                        this.decodeValue(item.type, v, item.endValue);\r\n                    } else {\r\n                        item.tween = false;\r\n                        this.decodeValue(item.type, cxml.getAttribute(\"startValue\"), item.value);\r\n                    }\r\n                } else {\r\n                    if (item.time > this._maxTime)\r\n                        this._maxTime = item.time;\r\n                    this.decodeValue(item.type, cxml.getAttribute(\"value\"), item.value);\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.decodeValue = function(type, str, value) {\r\n            var arr;\r\n            switch (type) {\r\n                case /*TransitionActionType.XY*/ 0:\r\n                case /*TransitionActionType.Size*/ 1:\r\n                case /*TransitionActionType.Pivot*/ 3:\r\n                case /*TransitionActionType.Skew*/ 13:\r\n                    arr = str.split(\",\");\r\n                    if (arr[0] == \"-\") {\r\n                        value.b1 = false;\r\n                    } else {\r\n                        value.f1 = parseFloat(arr[0]);\r\n                        value.b1 = true;\r\n                    }\r\n                    if (arr[1] == \"-\") {\r\n                        value.b2 = false;\r\n                    } else {\r\n                        value.f2 = parseFloat(arr[1]);\r\n                        value.b2 = true;\r\n                    }\r\n                    break;\r\n                case /*TransitionActionType.Alpha*/ 4:\r\n                    value.f1 = parseFloat(str);\r\n                    break;\r\n                case /*TransitionActionType.Rotation*/ 5:\r\n                    value.i = parseInt(str);\r\n                    break;\r\n                case /*TransitionActionType.Scale*/ 2:\r\n                    arr = str.split(\",\");\r\n                    value.f1 = parseFloat(arr[0]);\r\n                    value.f2 = parseFloat(arr[1]);\r\n                    break;\r\n                case /*TransitionActionType.Color*/ 6:\r\n                    value.s = str;\r\n                    break;\r\n                case /*TransitionActionType.Animation*/ 7:\r\n                    arr = str.split(\",\");\r\n                    if (arr[0] == \"-\") {\r\n                        value.b1 = false;\r\n                    } else {\r\n                        value.i = parseInt(arr[0]);\r\n                        value.b1 = true;\r\n                    }\r\n                    value.b = arr[1] == \"p\";\r\n                    break;\r\n                case /*TransitionActionType.Visible*/ 8:\r\n                    value.b = str == \"true\";\r\n                    break;\r\n                case /*TransitionActionType.Sound*/ 9:\r\n                    arr = str.split(\",\");\r\n                    value.s = arr[0];\r\n                    if (arr.length > 1) {\r\n                        var intv = parseInt(arr[1]);\r\n                        if (intv == 0 || intv == 100)\r\n                            value.f1 = 1;\r\n                        else\r\n                            value.f1 = intv / 100;\r\n                    } else\r\n                        value.f1 = 1;\r\n                    break;\r\n                case /*TransitionActionType.Transition*/ 10:\r\n                    arr = str.split(\",\");\r\n                    value.s = arr[0];\r\n                    if (arr.length > 1)\r\n                        value.i = parseInt(arr[1]);\r\n                    else\r\n                        value.i = 1;\r\n                    break;\r\n                case /*TransitionActionType.Shake*/ 11:\r\n                    arr = str.split(\",\");\r\n                    value.f1 = parseFloat(arr[0]);\r\n                    value.f2 = parseFloat(arr[1]);\r\n                    break;\r\n                case /*TransitionActionType.ColorFilter*/ 12:\r\n                    arr = str.split(\",\");\r\n                    value.f1 = parseFloat(arr[0]);\r\n                    value.f2 = parseFloat(arr[1]);\r\n                    value.f3 = parseFloat(arr[2]);\r\n                    value.f4 = parseFloat(arr[3]);\r\n                    break;\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'autoPlay', function() {\r\n            return this._autoPlay;\r\n        }, function(value) {\r\n            if (this._autoPlay != value) {\r\n                this._autoPlay = value;\r\n                if (this._autoPlay) {\r\n                    if (this._owner.onStage)\r\n                        this.play(null, this.autoPlayRepeat, this.autoPlayDelay);\r\n                } else {\r\n                    if (!this._owner.onStage)\r\n                        this.stop(false, true);\r\n                }\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'playing', function() {\r\n            return this._playing;\r\n        });\r\n\r\n        Transition.__init$ = function() {\r\n            //class TransitionActionType\r\n            TransitionActionType = (function() {\r\n                    function TransitionActionType() {};\r\n                    __class(TransitionActionType, '');\r\n                    TransitionActionType.XY = 0;\r\n                    TransitionActionType.Size = 1;\r\n                    TransitionActionType.Scale = 2;\r\n                    TransitionActionType.Pivot = 3;\r\n                    TransitionActionType.Alpha = 4;\r\n                    TransitionActionType.Rotation = 5;\r\n                    TransitionActionType.Color = 6;\r\n                    TransitionActionType.Animation = 7;\r\n                    TransitionActionType.Visible = 8;\r\n                    TransitionActionType.Sound = 9;\r\n                    TransitionActionType.Transition = 10;\r\n                    TransitionActionType.Shake = 11;\r\n                    TransitionActionType.ColorFilter = 12;\r\n                    TransitionActionType.Skew = 13;\r\n                    TransitionActionType.Unknown = 14;\r\n                    return TransitionActionType;\r\n                })()\r\n                //class TransitionItem\r\n            TransitionItem = (function() {\r\n                    function TransitionItem() {\r\n                        this.time = 0;\r\n                        this.targetId = null;\r\n                        this.type = 0;\r\n                        this.duration = 0;\r\n                        this.value = null;\r\n                        this.startValue = null;\r\n                        this.endValue = null;\r\n                        this.easeType = null;\r\n                        this.repeat = 0;\r\n                        this.yoyo = false;\r\n                        this.tween = false;\r\n                        this.label = null;\r\n                        this.label2 = null;\r\n                        this.hook = null;\r\n                        this.hook2 = null;\r\n                        this.tweenTimes = 0;\r\n                        this.tweener = null;\r\n                        this.completed = false;\r\n                        this.target = null;\r\n                        this.filterCreated = false;\r\n                        this.displayLockToken = 0;\r\n                        this.easeType = Ease.quadOut;\r\n                        this.value = new TransitionValue();\r\n                        this.startValue = new TransitionValue();\r\n                        this.endValue = new TransitionValue();\r\n                    }\r\n                    __class(TransitionItem, '');\r\n                    var __proto = TransitionItem.prototype;\r\n                    __proto.__shake = function(trans) {\r\n                        trans.__shakeItem(this);\r\n                    }\r\n                    return TransitionItem;\r\n                })()\r\n                //class TransitionValue\r\n            TransitionValue = (function() {\r\n                function TransitionValue() {\r\n                    this.f1 = 0;\r\n                    this.f2 = 0;\r\n                    this.f3 = 0;\r\n                    this.f4 = NaN;\r\n                    this.i = 0;\r\n                    this.b = false;\r\n                    this.s = null;\r\n                    this.b1 = true;\r\n                    this.b2 = true;\r\n                }\r\n                __class(TransitionValue, '');\r\n                return TransitionValue;\r\n            })()\r\n        }\r\n\r\n        return Transition;\r\n    })()\r\n\r\n\r\n    //class fairygui.tree.TreeNode\r\n    var TreeNode = (function() {\r\n        function TreeNode(hasChild) {\r\n            this._data = null;\r\n            this._parent = null;\r\n            this._children = null;\r\n            this._expanded = false;\r\n            this._tree = null;\r\n            this._cell = null;\r\n            this._level = 0;\r\n            if (hasChild)\r\n                this._children = [];\r\n        }\r\n\r\n        __class(TreeNode, 'fairygui.tree.TreeNode');\r\n        var __proto = TreeNode.prototype;\r\n        __proto.setCell = function(value) {\r\n            this._cell = value;\r\n        }\r\n\r\n        __proto.setLevel = function(value) {\r\n            this._level = value;\r\n        }\r\n\r\n        __proto.addChild = function(child) {\r\n            this.addChildAt(child, this._children.length);\r\n            return child;\r\n        }\r\n\r\n        __proto.addChildAt = function(child, index) {\r\n            if (!child)\r\n                throw new Error(\"child is null\");\r\n            var numChildren = this._children.length;\r\n            if (index >= 0 && index <= numChildren) {\r\n                if (child._parent == this) {\r\n                    this.setChildIndex(child, index);\r\n                } else {\r\n                    if (child._parent)\r\n                        child._parent.removeChild(child);\r\n                    var cnt = this._children.length;\r\n                    if (index == cnt)\r\n                        this._children.push(child);\r\n                    else\r\n                        this._children.splice(index, 0, child);\r\n                    child._parent = this;\r\n                    child._level = this._level + 1;\r\n                    child.setTree(this._tree);\r\n                    if (this._cell != null && this._cell.parent != null && this._expanded)\r\n                        this._tree.afterInserted(child);\r\n                }\r\n                return child;\r\n            } else {\r\n                throw new Error(\"Invalid child index\");\r\n            }\r\n        }\r\n\r\n        __proto.removeChild = function(child) {\r\n            var childIndex = this._children.indexOf(child);\r\n            if (childIndex != -1) {\r\n                this.removeChildAt(childIndex);\r\n            }\r\n            return child;\r\n        }\r\n\r\n        __proto.removeChildAt = function(index) {\r\n            if (index >= 0 && index < this.numChildren) {\r\n                var child = this._children[index];\r\n                this._children.splice(index, 1);\r\n                child._parent = null;\r\n                if (this._tree != null) {\r\n                    child.setTree(null);\r\n                    this._tree.afterRemoved(child);\r\n                }\r\n                return child;\r\n            } else {\r\n                throw new Error(\"Invalid child index\");\r\n            }\r\n        }\r\n\r\n        __proto.removeChildren = function(beginIndex, endIndex) {\r\n            (beginIndex === void 0) && (beginIndex = 0);\r\n            (endIndex === void 0) && (endIndex = -1);\r\n            if (endIndex < 0 || endIndex >= this.numChildren)\r\n                endIndex = this.numChildren - 1;\r\n            for (var i = beginIndex; i <= endIndex; ++i)\r\n                this.removeChildAt(beginIndex);\r\n        }\r\n\r\n        __proto.getChildAt = function(index) {\r\n            if (index >= 0 && index < this.numChildren)\r\n                return this._children[index];\r\n            else\r\n                throw new Error(\"Invalid child index\");\r\n        }\r\n\r\n        __proto.getChildIndex = function(child) {\r\n            return this._children.indexOf(child);\r\n        }\r\n\r\n        __proto.getPrevSibling = function() {\r\n            if (this._parent == null)\r\n                return null;\r\n            var i = this._parent._children.indexOf(this);\r\n            if (i <= 0)\r\n                return null;\r\n            return this._parent._children[i - 1];\r\n        }\r\n\r\n        __proto.getNextSibling = function() {\r\n            if (this._parent == null)\r\n                return null;\r\n            var i = this._parent._children.indexOf(this);\r\n            if (i < 0 || i >= this._parent._children.length - 1)\r\n                return null;\r\n            return this._parent._children[i + 1];\r\n        }\r\n\r\n        __proto.setChildIndex = function(child, index) {\r\n            var oldIndex = this._children.indexOf(child);\r\n            if (oldIndex == -1)\r\n                throw new Error(\"Not a child of this container\");\r\n            var cnt = this._children.length;\r\n            if (index < 0)\r\n                index = 0;\r\n            else if (index > cnt)\r\n                index = cnt;\r\n            if (oldIndex == index)\r\n                return;\r\n            this._children.splice(oldIndex, 1);\r\n            this._children.splice(index, 0, child);\r\n            if (this._cell != null && this._cell.parent != null && this._expanded)\r\n                this._tree.afterMoved(child);\r\n        }\r\n\r\n        __proto.swapChildren = function(child1, child2) {\r\n            var index1 = this._children.indexOf(child1);\r\n            var index2 = this._children.indexOf(child2);\r\n            if (index1 == -1 || index2 == -1)\r\n                throw new Error(\"Not a child of this container\");\r\n            this.swapChildrenAt(index1, index2);\r\n        }\r\n\r\n        __proto.swapChildrenAt = function(index1, index2) {\r\n            var child1 = this._children[index1];\r\n            var child2 = this._children[index2];\r\n            this.setChildIndex(child1, index2);\r\n            this.setChildIndex(child2, index1);\r\n        }\r\n\r\n        __proto.setTree = function(value) {\r\n            this._tree = value;\r\n            if (this._tree != null && this._tree.treeNodeWillExpand && this._expanded)\r\n                this._tree.treeNodeWillExpand.runWith(this);\r\n            if (this._children != null) {\r\n                var cnt = this._children.length;\r\n                for (var i = 0; i < cnt; i++) {\r\n                    var node = this._children[i];\r\n                    node._level = this._level + 1;\r\n                    node.setTree(value);\r\n                }\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'expanded', function() {\r\n            return this._expanded;\r\n        }, function(value) {\r\n            if (this._children == null)\r\n                return;\r\n            if (this._expanded != value) {\r\n                this._expanded = value;\r\n                if (this._tree != null) {\r\n                    if (this._expanded)\r\n                        this._tree.afterExpanded(this);\r\n                    else\r\n                        this._tree.afterCollapsed(this);\r\n                }\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'tree', function() {\r\n            return this._tree;\r\n        });\r\n\r\n        __getset(0, __proto, 'level', function() {\r\n            return this._level;\r\n        });\r\n\r\n        __getset(0, __proto, 'cell', function() {\r\n            return this._cell;\r\n        });\r\n\r\n        __getset(0, __proto, 'data', function() {\r\n            return this._data;\r\n        }, function(value) {\r\n            this._data = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'parent', function() {\r\n            return this._parent;\r\n        });\r\n\r\n        __getset(0, __proto, 'isFolder', function() {\r\n            return this._children != null;\r\n        });\r\n\r\n        __getset(0, __proto, 'text', function() {\r\n            if (this._cell != null)\r\n                return this._cell.text;\r\n            else\r\n                return null;\r\n        });\r\n\r\n        __getset(0, __proto, 'numChildren', function() {\r\n            return this._children.length;\r\n        });\r\n\r\n        return TreeNode;\r\n    })()\r\n\r\n\r\n    //class fairygui.tree.TreeView\r\n    var TreeView = (function() {\r\n        function TreeView(list) {\r\n            this._list = null;\r\n            this._root = null;\r\n            this._indent = 0;\r\n            this.treeNodeCreateCell = null;\r\n            this.treeNodeRender = null;\r\n            this.treeNodeWillExpand = null;\r\n            this.treeNodeClick = null;\r\n            this._list = list;\r\n            this._list.removeChildrenToPool();\r\n            this._list.on( /*fairygui.Events.CLICK_ITEM*/ \"fui_click_item\", this, this.__clickItem);\r\n            this._root = new TreeNode(true);\r\n            this._root.setTree(this);\r\n            this._root.setCell(this._list);\r\n            this._root.expanded = true;\r\n            this._indent = 15;\r\n        }\r\n\r\n        __class(TreeView, 'fairygui.tree.TreeView');\r\n        var __proto = TreeView.prototype;\r\n        __proto.getSelectedNode = function() {\r\n            if (this._list.selectedIndex != -1)\r\n                return (this._list.getChildAt(this._list.selectedIndex).data);\r\n            else\r\n                return null;\r\n        }\r\n\r\n        __proto.getSelection = function() {\r\n            var sels = this._list.getSelection();\r\n            var cnt = sels.length;\r\n            var ret = [];\r\n            for (var i = 0; i < cnt; i++) {\r\n                var node = (this._list.getChildAt(sels[i]).data);\r\n                ret.push(node);\r\n            }\r\n            return ret;\r\n        }\r\n\r\n        __proto.addSelection = function(node, scrollItToView) {\r\n            (scrollItToView === void 0) && (scrollItToView = false);\r\n            var parentNode = node.parent;\r\n            while (parentNode != null && parentNode != this._root) {\r\n                parentNode.expanded = true;\r\n                parentNode = parentNode.parent;\r\n            }\r\n            if (!node.cell)\r\n                return;\r\n            this._list.addSelection(this._list.getChildIndex(node.cell), scrollItToView);\r\n        }\r\n\r\n        __proto.removeSelection = function(node) {\r\n            if (!node.cell)\r\n                return;\r\n            this._list.removeSelection(this._list.getChildIndex(node.cell));\r\n        }\r\n\r\n        __proto.clearSelection = function() {\r\n            this._list.clearSelection();\r\n        }\r\n\r\n        __proto.getNodeIndex = function(node) {\r\n            return this._list.getChildIndex(node.cell);\r\n        }\r\n\r\n        __proto.updateNode = function(node) {\r\n            if (node.cell == null)\r\n                return;\r\n            if (this.treeNodeRender)\r\n                this.treeNodeRender.runWith(node);\r\n        }\r\n\r\n        __proto.updateNodes = function(nodes) {\r\n            var cnt = nodes.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var node = nodes[i];\r\n                if (node.cell == null)\r\n                    return;\r\n                if (this.treeNodeRender)\r\n                    this.treeNodeRender.runWith(node);\r\n            }\r\n        }\r\n\r\n        __proto.expandAll = function(folderNode) {\r\n            folderNode.expanded = true;\r\n            var cnt = folderNode.numChildren;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var node = folderNode.getChildAt(i);\r\n                if (node.isFolder)\r\n                    this.expandAll(node);\r\n            }\r\n        }\r\n\r\n        __proto.collapseAll = function(folderNode) {\r\n            if (folderNode != this._root)\r\n                folderNode.expanded = false;\r\n            var cnt = folderNode.numChildren;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var node = folderNode.getChildAt(i);\r\n                if (node.isFolder)\r\n                    this.collapseAll(node);\r\n            }\r\n        }\r\n\r\n        __proto.createCell = function(node) {\r\n            if (this.treeNodeCreateCell)\r\n                node.setCell(this.treeNodeCreateCell.runWith(node));\r\n            else\r\n                node.setCell((this._list.itemPool.getObject(this._list.defaultItem)));\r\n            node.cell.data = node;\r\n            var indentObj = node.cell.getChild(\"indent\");\r\n            if (indentObj != null)\r\n                indentObj.width = (node.level - 1) * this._indent;\r\n            var expandButton = (node.cell.getChild(\"expandButton\"));\r\n            if (expandButton) {\r\n                if (node.isFolder) {\r\n                    expandButton.visible = true;\r\n                    expandButton.onClick(this, this.__clickExpandButton);\r\n                    expandButton.data = node;\r\n                    expandButton.selected = node.expanded;\r\n                } else\r\n                    expandButton.visible = false;\r\n            }\r\n            if (this.treeNodeRender)\r\n                this.treeNodeRender.runWith(node);\r\n        }\r\n\r\n        __proto.afterInserted = function(node) {\r\n            this.createCell(node);\r\n            var index = this.getInsertIndexForNode(node);\r\n            this._list.addChildAt(node.cell, index);\r\n            if (this.treeNodeRender)\r\n                this.treeNodeRender.runWith(node);\r\n            if (node.isFolder && node.expanded)\r\n                this.checkChildren(node, index);\r\n        }\r\n\r\n        __proto.getInsertIndexForNode = function(node) {\r\n            var prevNode = node.getPrevSibling();\r\n            if (prevNode == null)\r\n                prevNode = node.parent;\r\n            var insertIndex = this._list.getChildIndex(prevNode.cell) + 1;\r\n            var myLevel = node.level;\r\n            var cnt = this._list.numChildren;\r\n            for (var i = insertIndex; i < cnt; i++) {\r\n                var testNode = (this._list.getChildAt(i).data);\r\n                if (testNode.level <= myLevel)\r\n                    break;\r\n                insertIndex++;\r\n            }\r\n            return insertIndex;\r\n        }\r\n\r\n        __proto.afterRemoved = function(node) {\r\n            this.removeNode(node);\r\n        }\r\n\r\n        __proto.afterExpanded = function(node) {\r\n            if (node != this._root && this.treeNodeWillExpand)\r\n                this.treeNodeWillExpand(node);\r\n            if (node.cell == null)\r\n                return;\r\n            if (node != this._root) {\r\n                if (this.treeNodeRender)\r\n                    this.treeNodeRender.runWith(node);\r\n                var expandButton = (node.cell.getChild(\"expandButton\"));\r\n                if (expandButton)\r\n                    expandButton.selected = true;\r\n            }\r\n            if (node.cell.parent != null)\r\n                this.checkChildren(node, this._list.getChildIndex(node.cell));\r\n        }\r\n\r\n        __proto.afterCollapsed = function(node) {\r\n            if (node != this._root && this.treeNodeWillExpand)\r\n                this.treeNodeWillExpand(node);\r\n            if (node.cell == null)\r\n                return;\r\n            if (node != this._root) {\r\n                if (this.treeNodeRender)\r\n                    this.treeNodeRender.runWith(node);\r\n                var expandButton = (node.cell.getChild(\"expandButton\"));\r\n                if (expandButton)\r\n                    expandButton.selected = false;\r\n            }\r\n            if (node.cell.parent != null)\r\n                this.hideFolderNode(node);\r\n        }\r\n\r\n        __proto.afterMoved = function(node) {\r\n            if (!node.isFolder)\r\n                this._list.removeChild(node.cell);\r\n            else\r\n                this.hideFolderNode(node);\r\n            var index = this.getInsertIndexForNode(node);\r\n            this._list.addChildAt(node.cell, index);\r\n            if (node.isFolder && node.expanded)\r\n                this.checkChildren(node, index);\r\n        }\r\n\r\n        __proto.checkChildren = function(folderNode, index) {\r\n            var cnt = folderNode.numChildren;\r\n            for (var i = 0; i < cnt; i++) {\r\n                index++;\r\n                var node = folderNode.getChildAt(i);\r\n                if (node.cell == null)\r\n                    this.createCell(node);\r\n                if (!node.cell.parent)\r\n                    this._list.addChildAt(node.cell, index);\r\n                if (node.isFolder && node.expanded)\r\n                    index = this.checkChildren(node, index);\r\n            }\r\n            return index;\r\n        }\r\n\r\n        __proto.hideFolderNode = function(folderNode) {\r\n            var cnt = folderNode.numChildren;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var node = folderNode.getChildAt(i);\r\n                if (node.cell && node.cell.parent != null)\r\n                    this._list.removeChild(node.cell);\r\n                if (node.isFolder && node.expanded)\r\n                    this.hideFolderNode(node);\r\n            }\r\n        }\r\n\r\n        __proto.removeNode = function(node) {\r\n            if (node.cell != null) {\r\n                if (node.cell.parent != null)\r\n                    this._list.removeChild(node.cell);\r\n                this._list.returnToPool(node.cell);\r\n                node.cell.data = null;\r\n                node.setCell(null);\r\n            }\r\n            if (node.isFolder) {\r\n                var cnt = node.numChildren;\r\n                for (var i = 0; i < cnt; i++) {\r\n                    var node2 = node.getChildAt(i);\r\n                    this.removeNode(node2);\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.__clickExpandButton = function(evt) {\r\n            evt.stopPropagation();\r\n            var expandButton = (GObject.cast(evt.currentTarget));\r\n            var node = (expandButton.parent.data);\r\n            if (this._list.scrollPane != null) {\r\n                var posY = this._list.scrollPane.posY;\r\n                if (expandButton.selected)\r\n                    node.expanded = true;\r\n                else\r\n                    node.expanded = false;\r\n                this._list.scrollPane.posY = posY;\r\n                this._list.scrollPane.scrollToView(node.cell);\r\n            } else {\r\n                if (expandButton.selected)\r\n                    node.expanded = true;\r\n                else\r\n                    node.expanded = false;\r\n            }\r\n        }\r\n\r\n        __proto.__clickItem = function(item, evt) {\r\n            if (this._list.scrollPane != null)\r\n                var posY = this._list.scrollPane.posY;\r\n            var node = (item.data);\r\n            if (this.treeNodeClick)\r\n                this.treeNodeClick.runWith([node, evt]);\r\n            if (this._list.scrollPane != null) {\r\n                this._list.scrollPane.posY = posY;\r\n                if (node.cell)\r\n                    this._list.scrollPane.scrollToView(node.cell);\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'list', function() {\r\n            return this._list;\r\n        });\r\n\r\n        __getset(0, __proto, 'root', function() {\r\n            return this._root;\r\n        });\r\n\r\n        __getset(0, __proto, 'indent', function() {\r\n            return this._indent;\r\n        }, function(value) {\r\n            this._indent = value;\r\n        });\r\n\r\n        return TreeView;\r\n    })()\r\n\r\n\r\n    //class fairygui.UIConfig\r\n    var UIConfig1 = (function() {\r\n        function UIConfig() {}\r\n        __class(UIConfig, 'fairygui.UIConfig', null, 'UIConfig1');\r\n        UIConfig.defaultFont = \"\";\r\n        UIConfig.windowModalWaiting = null\r\n        UIConfig.globalModalWaiting = null\r\n        UIConfig.modalLayerColor = \"rgba(33,33,33,0.2)\";\r\n        UIConfig.buttonSound = null\r\n        UIConfig.buttonSoundVolumeScale = 1;\r\n        UIConfig.horizontalScrollBar = null\r\n        UIConfig.verticalScrollBar = null\r\n        UIConfig.defaultScrollSpeed = 25;\r\n        UIConfig.defaultTouchScrollSpeedRatio = 1;\r\n        UIConfig.defaultScrollTouchEffect = true;\r\n        UIConfig.defaultScrollBounceEffect = true;\r\n        UIConfig.popupMenu = null\r\n        UIConfig.popupMenu_seperator = null\r\n        UIConfig.loaderErrorSign = null\r\n        UIConfig.tooltipsWin = null\r\n        UIConfig.defaultComboBoxVisibleItemCount = 10;\r\n        UIConfig.touchScrollSensitivity = 20;\r\n        UIConfig.touchDragSensitivity = 10;\r\n        UIConfig.clickDragSensitivity = 2;\r\n        UIConfig.bringWindowToFrontOnClick = true;\r\n        UIConfig.frameTimeForAsyncUIConstruction = 2;\r\n        __static(UIConfig, ['defaultScrollBarDisplay', function() { return this.defaultScrollBarDisplay = /*fairygui.ScrollBarDisplayType.Visible*/ 1; }]);\r\n        return UIConfig;\r\n    })()\r\n\r\n\r\n    //class fairygui.UIObjectFactory\r\n    var UIObjectFactory = (function() {\r\n        function UIObjectFactory() {}\r\n        __class(UIObjectFactory, 'fairygui.UIObjectFactory');\r\n        UIObjectFactory.setPackageItemExtension = function(url, type) {\r\n            if (url == null)\r\n                throw new Error(\"Invaild url: \" + url);\r\n            var pi = UIPackage.getItemByURL(url);\r\n            if (pi != null)\r\n                pi.extensionType = type;\r\n            UIObjectFactory.packageItemExtensions[url] = type;\r\n        }\r\n\r\n        UIObjectFactory.setLoaderExtension = function(type) {\r\n            fairygui.UIObjectFactory.loaderType = type;\r\n        }\r\n\r\n        UIObjectFactory.resolvePackageItemExtension = function(pi) {\r\n            pi.extensionType = UIObjectFactory.packageItemExtensions[\"ui://\" + pi.owner.id + pi.id];\r\n            if (!pi.extensionType)\r\n                pi.extensionType = UIObjectFactory.packageItemExtensions[\"ui://\" + pi.owner.name + \"/\" + pi.name];\r\n        }\r\n\r\n        UIObjectFactory.newObject = function(pi) {\r\n            switch (pi.type) {\r\n                case /*fairygui.PackageItemType.Image*/ 0:\r\n                    return new GImage();\r\n                case /*fairygui.PackageItemType.MovieClip*/ 2:\r\n                    return new GMovieClip();\r\n                case /*fairygui.PackageItemType.Component*/ 4:\r\n                    {\r\n                        var cls = pi.extensionType;\r\n                        if (cls)\r\n                            return new cls();\r\n                        var xml = pi.owner.getItemAsset(pi);\r\n                        var extention = xml.getAttribute(\"extention\");\r\n                        if (extention != null) {\r\n                            switch (extention) {\r\n                                case \"Button\":\r\n                                    return new GButton();\r\n                                case \"Label\":\r\n                                    return new GLabel();\r\n                                case \"ProgressBar\":\r\n                                    return new GProgressBar();\r\n                                case \"Slider\":\r\n                                    return new GSlider();\r\n                                case \"ScrollBar\":\r\n                                    return new GScrollBar();\r\n                                case \"ComboBox\":\r\n                                    return new GComboBox();\r\n                                default:\r\n                                    return new GComponent();\r\n                            }\r\n                        } else\r\n                            return new GComponent();\r\n                    }\r\n            }\r\n            return null;\r\n        }\r\n\r\n        UIObjectFactory.newObject2 = function(type) {\r\n            switch (type) {\r\n                case \"image\":\r\n                    return new GImage();\r\n                case \"movieclip\":\r\n                    return new GMovieClip();\r\n                case \"component\":\r\n                    return new GComponent();\r\n                case \"text\":\r\n                    return new GBasicTextField();\r\n                case \"richtext\":\r\n                    return new GRichTextField();\r\n                case \"inputtext\":\r\n                    return new GTextInput();\r\n                case \"group\":\r\n                    return new GGroup();\r\n                case \"list\":\r\n                    return new GList();\r\n                case \"graph\":\r\n                    return new GGraph();\r\n                case \"loader\":\r\n                    if (fairygui.UIObjectFactory.loaderType != null)\r\n                        return new fairygui.UIObjectFactory.loaderType();\r\n                    else\r\n                        return new GLoader();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        UIObjectFactory.packageItemExtensions = {};\r\n        UIObjectFactory.loaderType = null\r\n        return UIObjectFactory;\r\n    })()\r\n\r\n\r\n    //class fairygui.UIPackage\r\n    var UIPackage = (function() {\r\n        var AtlasSprite;\r\n\r\n        function UIPackage() {\r\n            this._id = null;\r\n            this._name = null;\r\n            this._basePath = null;\r\n            this._items = null;\r\n            this._itemsById = null;\r\n            this._itemsByName = null;\r\n            this._resKey = null;\r\n            this._resData = null;\r\n            this._customId = null;\r\n            this._sprites = null;\r\n            this._hitTestDatas = null;\r\n            this._items = [];\r\n            this._sprites = {};\r\n            this._hitTestDatas = {};\r\n        }\r\n\r\n        __class(UIPackage, 'fairygui.UIPackage');\r\n        var __proto = UIPackage.prototype;\r\n        __proto.create = function(resKey) {\r\n            this._resKey = resKey;\r\n            this.loadPackage();\r\n        }\r\n\r\n        __proto.loadPackage = function() {\r\n            var str;\r\n            var arr;\r\n            this.decompressPackage(AssetProxy.inst.getRes(this._resKey + \".fui\"));\r\n            str = this.getDesc(\"sprites.bytes\");\r\n            arr = str.split( /*CLASS CONST:fairygui.UIPackage.sep1*/ \"\\n\");\r\n            var cnt = arr.length;\r\n            for (var i = 1; i < cnt; i++) {\r\n                str = arr[i];\r\n                if (!str)\r\n                    continue;\r\n                var arr2 = str.split( /*CLASS CONST:fairygui.UIPackage.sep2*/ \" \");\r\n                var sprite = new AtlasSprite();\r\n                var itemId = arr2[0];\r\n                var binIndex = parseInt(arr2[1]);\r\n                if (binIndex >= 0)\r\n                    sprite.atlas = \"atlas\" + binIndex;\r\n                else {\r\n                    var pos = itemId.indexOf(\"_\");\r\n                    if (pos == -1)\r\n                        sprite.atlas = \"atlas_\" + itemId;\r\n                    else\r\n                        sprite.atlas = \"atlas_\" + itemId.substr(0, pos);\r\n                }\r\n                sprite.rect.x = parseInt(arr2[2]);\r\n                sprite.rect.y = parseInt(arr2[3]);\r\n                sprite.rect.width = parseInt(arr2[4]);\r\n                sprite.rect.height = parseInt(arr2[5]);\r\n                sprite.rotated = arr2[6] == \"1\";\r\n                this._sprites[itemId] = sprite;\r\n            }\r\n            str = this.getDesc(\"hittest.bytes\");\r\n            if (str != null) {\r\n                var ba = ToolSet.base64Decode(str);\r\n                ba.endian = /*laya.utils.Byte.BIG_ENDIAN*/ \"bigEndian\";\r\n                while (ba.bytesAvailable) {\r\n                    var hitTestData = new PixelHitTestData();\r\n                    this._hitTestDatas[ba.readUTFString()] = hitTestData;\r\n                    hitTestData.load(ba);\r\n                }\r\n            }\r\n            str = this.getDesc(\"package.xml\");\r\n            var xml = Utils.parseXMLFromString(str);\r\n            var rootNode = xml.firstChild;\r\n            this._id = rootNode.getAttribute(\"id\");\r\n            this._name = rootNode.getAttribute(\"name\");\r\n            var resources = ToolSet.findChildNode(rootNode, \"resources\").childNodes;\r\n            this._itemsById = {};\r\n            this._itemsByName = {};\r\n            var pi;\r\n            var cxml;\r\n            var length1 = resources.length;\r\n            for (var i1 = 0; i1 < length1; i1++) {\r\n                cxml = resources[i1];\r\n                if (cxml.nodeType != 1)\r\n                    continue;\r\n                pi = new PackageItem();\r\n                pi.owner = this;\r\n                pi.type = PackageItemType.parse(cxml.nodeName);\r\n                pi.id = cxml.getAttribute(\"id\");\r\n                pi.name = cxml.getAttribute(\"name\");\r\n                pi.file = cxml.getAttribute(\"file\");\r\n                str = cxml.getAttribute(\"size\");\r\n                if (str) {\r\n                    arr = str.split( /*CLASS CONST:fairygui.UIPackage.sep0*/ \",\");\r\n                    pi.width = parseInt(arr[0]);\r\n                    pi.height = parseInt(arr[1]);\r\n                }\r\n                switch (pi.type) {\r\n                    case /*fairygui.PackageItemType.Image*/ 0:\r\n                        {\r\n                            str = cxml.getAttribute(\"scale\");\r\n                            if (str == \"9grid\") {\r\n                                pi.scale9Grid = new laya.maths.Rectangle();\r\n                                str = cxml.getAttribute(\"scale9grid\");\r\n                                if (str) {\r\n                                    arr = str.split( /*CLASS CONST:fairygui.UIPackage.sep0*/ \",\");\r\n                                    pi.scale9Grid.x = parseInt(arr[0]);\r\n                                    pi.scale9Grid.y = parseInt(arr[1]);\r\n                                    pi.scale9Grid.width = parseInt(arr[2]);\r\n                                    pi.scale9Grid.height = parseInt(arr[3]);\r\n                                    str = cxml.getAttribute(\"gridTile\");\r\n                                    if (str)\r\n                                        pi.tileGridIndice = parseInt(str);\r\n                                }\r\n                            } else if (str == \"tile\") {\r\n                                pi.scaleByTile = true;\r\n                            }\r\n                            str = cxml.getAttribute(\"smoothing\");\r\n                            pi.smoothing = str != \"false\";\r\n                            break;\r\n                        }\r\n                    case /*fairygui.PackageItemType.Component*/ 4:\r\n                        UIObjectFactory.resolvePackageItemExtension(pi);\r\n                        break;\r\n                }\r\n                this._items.push(pi);\r\n                this._itemsById[pi.id] = pi;\r\n                if (pi.name != null)\r\n                    this._itemsByName[pi.name] = pi;\r\n            }\r\n            cnt = this._items.length;\r\n            for (i = 0; i < cnt; i++) {\r\n                pi = this._items[i];\r\n                if (pi.type == /*fairygui.PackageItemType.Font*/ 6) {\r\n                    this.loadFont(pi);\r\n                    fairygui.UIPackage._bitmapFonts[pi.bitmapFont.id] = pi.bitmapFont;\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.decompressPackage = function(buf) {\r\n            this._resData = {};\r\n            var data;\r\n            /*__JS__ */\r\n            var inflater = new Zlib.RawInflate(buf);\r\n            data = inflater.decompress();;\r\n            var source = new Byte(data).readUTFBytes();\r\n            var curr = 0;\r\n            var fn;\r\n            var size = NaN;\r\n            while (true) {\r\n                var pos = source.indexOf(\"|\", curr);\r\n                if (pos == -1)\r\n                    break;\r\n                fn = source.substring(curr, pos);\r\n                curr = pos + 1;\r\n                pos = source.indexOf(\"|\", curr);\r\n                size = parseInt(source.substring(curr, pos));\r\n                curr = pos + 1;\r\n                this._resData[fn] = source.substr(curr, size);\r\n                curr += size;\r\n            }\r\n        }\r\n\r\n        __proto.dispose = function() {\r\n            var cnt = this._items.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var pi = this._items[i];\r\n                if (pi.bitmapFont != null) {\r\n                    delete fairygui.UIPackage._bitmapFonts[pi.bitmapFont.id];\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.createObject = function(resName, userClass) {\r\n            var pi = this._itemsByName[resName];\r\n            if (pi)\r\n                return this.internalCreateObject(pi, userClass);\r\n            else\r\n                return null;\r\n        }\r\n\r\n        __proto.internalCreateObject = function(item, userClass) {\r\n            var g;\r\n            if (item.type == /*fairygui.PackageItemType.Component*/ 4) {\r\n                if (userClass != null)\r\n                    g = new userClass();\r\n                else\r\n                    g = UIObjectFactory.newObject(item);\r\n            } else\r\n                g = UIObjectFactory.newObject(item);\r\n            if (g == null)\r\n                return null;\r\n            fairygui.UIPackage._constructing++;\r\n            g.packageItem = item;\r\n            g.constructFromResource();\r\n            fairygui.UIPackage._constructing--;\r\n            return g;\r\n        }\r\n\r\n        __proto.getItemById = function(itemId) {\r\n            return this._itemsById[itemId];\r\n        }\r\n\r\n        __proto.getItemByName = function(resName) {\r\n            return this._itemsByName[resName];\r\n        }\r\n\r\n        __proto.getItemAssetByName = function(resName) {\r\n            var pi = this._itemsByName[resName];\r\n            if (pi == null) {\r\n                throw \"Resource not found -\" + resName;\r\n            }\r\n            return this.getItemAsset(pi);\r\n        }\r\n\r\n        __proto.getItemAssetURL = function(item) {\r\n            return this._resKey + \"@\" + item.file;;\r\n        }\r\n\r\n        __proto.getItemAsset = function(item) {\r\n            switch (item.type) {\r\n                case /*fairygui.PackageItemType.Image*/ 0:\r\n                    if (!item.decoded) {\r\n                        item.decoded = true;\r\n                        var sprite = this._sprites[item.id];\r\n                        if (sprite != null)\r\n                            item.texture = this.createSpriteTexture(sprite);\r\n                    }\r\n                    return item.texture;\r\n                case /*fairygui.PackageItemType.Atlas*/ 7:\r\n                    if (!item.decoded) {\r\n                        item.decoded = true;\r\n                        var fileName = (item.file != null && item.file.length > 0) ? item.file : (item.id + \".png\");\r\n                        item.texture = AssetProxy.inst.getRes(this._resKey + \"@\" + fileName);\r\n                    }\r\n                    return item.texture;\r\n                case /*fairygui.PackageItemType.Sound*/ 3:\r\n                    if (!item.decoded) {\r\n                        item.decoded = true;\r\n                        item.sound = AssetProxy.inst.getRes(this._resKey + \"@\" + item.file);\r\n                    }\r\n                    return item.sound;\r\n                case /*fairygui.PackageItemType.Font*/ 6:\r\n                    if (!item.decoded) {\r\n                        item.decoded = true;\r\n                        this.loadFont(item);\r\n                    }\r\n                    return item.bitmapFont;\r\n                case /*fairygui.PackageItemType.MovieClip*/ 2:\r\n                    if (!item.decoded) {\r\n                        item.decoded = true;\r\n                        this.loadMovieClip(item);\r\n                    }\r\n                    return item.frames;\r\n                case /*fairygui.PackageItemType.Component*/ 4:\r\n                    if (!item.decoded) {\r\n                        item.decoded = true;\r\n                        var str = this.getDesc(item.id + \".xml\");\r\n                        var xml = Utils.parseXMLFromString(str);\r\n                        item.componentData = xml.firstChild;\r\n                        this.loadComponentChildren(item);\r\n                        this.translateComponent(item);\r\n                    }\r\n                    return item.componentData;\r\n                default:\r\n                    return AssetProxy.inst.getRes(this._resKey + \"@\" + item.id);\r\n            }\r\n        }\r\n\r\n        __proto.getDesc = function(fn) {\r\n            return this._resData[fn];\r\n        }\r\n\r\n        __proto.getPixelHitTestData = function(itemId) {\r\n            return this._hitTestDatas[itemId];\r\n        }\r\n\r\n        __proto.loadComponentChildren = function(item) {\r\n            var listNode = ToolSet.findChildNode(item.componentData, \"displayList\");\r\n            if (listNode != null) {\r\n                var col = listNode.childNodes;\r\n                var dcnt = col.length;\r\n                item.displayList = __newvec(dcnt);\r\n                var di;\r\n                for (var i = 0; i < dcnt; i++) {\r\n                    var cxml = col[i];\r\n                    var tagName = cxml.nodeName;\r\n                    var src = cxml.getAttribute(\"src\");\r\n                    if (src) {\r\n                        var pkgId = cxml.getAttribute(\"pkg\");\r\n                        var pkg;\r\n                        if (pkgId && pkgId != item.owner.id)\r\n                            pkg = fairygui.UIPackage.getById(pkgId);\r\n                        else\r\n                            pkg = item.owner;\r\n                        var pi = pkg != null ? pkg.getItemById(src) : null;\r\n                        if (pi != null)\r\n                            di = new DisplayListItem(pi, null);\r\n                        else\r\n                            di = new DisplayListItem(null, tagName);\r\n                    } else {\r\n                        if (tagName == \"text\" && cxml.getAttribute(\"input\") == \"true\")\r\n                            di = new DisplayListItem(null, \"inputtext\");\r\n                        else\r\n                            di = new DisplayListItem(null, tagName);\r\n                    }\r\n                    di.desc = cxml;\r\n                    item.displayList[i] = di;\r\n                }\r\n            } else\r\n                item.displayList = __newvec(0, null);\r\n        }\r\n\r\n        __proto.translateComponent = function(item) {\r\n            if (fairygui.UIPackage._stringsSource == null)\r\n                return;\r\n            var strings = fairygui.UIPackage._stringsSource[this.id + item.id];\r\n            if (strings == null)\r\n                return;\r\n            var length1 = item.displayList.length;\r\n            var length2 = NaN;\r\n            var value;\r\n            var cxml, dxml, exml;\r\n            var ename;\r\n            var elementId;\r\n            var items;\r\n            var i1 = NaN,\r\n                i2 = NaN,\r\n                j = NaN;\r\n            var str;\r\n            for (i1 = 0; i1 < length1; i1++) {\r\n                cxml = item.displayList[i1].desc;\r\n                ename = cxml.nodeName;\r\n                elementId = cxml.getAttribute(\"id\");\r\n                str = cxml.getAttribute(\"tooltips\");\r\n                if (str) {\r\n                    value = strings[elementId + \"-tips\"];\r\n                    if (value != undefined)\r\n                        cxml.setAttribute(\"tooltips\", value);\r\n                }\r\n                dxml = ToolSet.findChildNode(cxml, \"gearText\");\r\n                if (dxml) {\r\n                    value = strings[elementId + \"-texts\"];\r\n                    if (value != undefined)\r\n                        dxml.setAttribute(\"values\", value);\r\n                    value = strings[elementId + \"-texts_def\"];\r\n                    if (value != undefined)\r\n                        dxml.setAttribute(\"default\", value);\r\n                }\r\n                if (ename == \"text\" || ename == \"richtext\") {\r\n                    value = strings[elementId];\r\n                    if (value != undefined)\r\n                        cxml.setAttribute(\"text\", value);\r\n                    value = strings[elementId + \"-prompt\"];\r\n                    if (value != undefined)\r\n                        cxml.setAttribute(\"prompt\", value);\r\n                } else if (ename == \"list\") {\r\n                    items = cxml.childNodes;\r\n                    length2 = items.length;\r\n                    j = 0;\r\n                    for (i2 = 0; i2 < length2; i2++) {\r\n                        exml = items[i2];\r\n                        if (exml.nodeName != \"item\")\r\n                            continue;\r\n                        value = strings[elementId + \"-\" + j];\r\n                        if (value != undefined)\r\n                            exml.setAttribute(\"title\", value);\r\n                        j++;\r\n                    }\r\n                } else if (ename == \"component\") {\r\n                    dxml = ToolSet.findChildNode(cxml, \"Button\");\r\n                    if (dxml) {\r\n                        value = strings[elementId];\r\n                        if (value != undefined)\r\n                            dxml.setAttribute(\"title\", value);\r\n                        value = strings[elementId + \"-0\"];\r\n                        if (value != undefined)\r\n                            dxml.setAttribute(\"selectedTitle\", value);\r\n                        continue;\r\n                    }\r\n                    dxml = ToolSet.findChildNode(cxml, \"Label\");\r\n                    if (dxml) {\r\n                        value = strings[elementId];\r\n                        if (value != undefined)\r\n                            dxml.setAttribute(\"title\", value);\r\n                        value = strings[elementId + \"-prompt\"];\r\n                        if (value != undefined)\r\n                            dxml.setAttribute(\"prompt\", value);\r\n                        continue;\r\n                    }\r\n                    dxml = ToolSet.findChildNode(cxml, \"ComboBox\");\r\n                    if (dxml) {\r\n                        value = strings[elementId];\r\n                        if (value != undefined)\r\n                            dxml.setAttribute(\"title\", value);\r\n                        items = dxml.childNodes;\r\n                        length2 = items.length;\r\n                        j = 0;\r\n                        for (i2 = 0; i2 < length2; i2++) {\r\n                            exml = items[i2];\r\n                            if (exml.nodeName != \"item\")\r\n                                continue;\r\n                            value = strings[elementId + \"-\" + j];\r\n                            if (value != undefined)\r\n                                exml.setAttribute(\"title\", value);\r\n                            j++;\r\n                        }\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.createSpriteTexture = function(sprite) {\r\n            var atlasItem = this._itemsById[sprite.atlas];\r\n            if (atlasItem != null) {\r\n                var atlasTexture = (this.getItemAsset(atlasItem));\r\n                if (atlasTexture == null)\r\n                    return null;\r\n                else\r\n                    return this.createSubTexture(atlasTexture, sprite.rect);\r\n            } else\r\n                return null;\r\n        }\r\n\r\n        __proto.createSubTexture = function(atlasTexture, clipRect) {\r\n            var texture = Texture.createFromTexture(atlasTexture,\r\n                clipRect.x, clipRect.y, clipRect.width, clipRect.height);\r\n            return texture;\r\n        }\r\n\r\n        __proto.loadMovieClip = function(item) {\r\n            var xml = Utils.parseXMLFromString(this.getDesc(item.id + \".xml\")).firstChild;\r\n            var str;\r\n            var arr;\r\n            str = xml.getAttribute(\"interval\");\r\n            if (str)\r\n                item.interval = parseInt(str);\r\n            str = xml.getAttribute(\"swing\");\r\n            if (str)\r\n                item.swing = str == \"true\";\r\n            str = xml.getAttribute(\"repeatDelay\");\r\n            if (str)\r\n                item.repeatDelay = parseInt(str);\r\n            var frameCount = parseInt(xml.getAttribute(\"frameCount\"));\r\n            item.frames = [];\r\n            var frameNodes = ToolSet.findChildNode(xml, \"frames\").childNodes;\r\n            var i = 0;\r\n            var len = frameNodes.length;\r\n            for (var k = 0; k < len; k++) {\r\n                var frameNode = frameNodes[k];\r\n                if (frameNode.nodeName != \"frame\")\r\n                    continue;\r\n                var frame = new Frame();\r\n                str = frameNode.getAttribute(\"rect\");\r\n                arr = str.split( /*CLASS CONST:fairygui.UIPackage.sep0*/ \",\");\r\n                frame.rect = new Rectangle(parseInt(arr[0]), parseInt(arr[1]), parseInt(arr[2]), parseInt(arr[3]));\r\n                str = frameNode.getAttribute(\"addDelay\");\r\n                if (str)\r\n                    frame.addDelay = parseInt(str);\r\n                item.frames[i] = frame;\r\n                if (frame.rect.width == 0)\r\n                    continue;\r\n                str = frameNode.getAttribute(\"sprite\");\r\n                if (str)\r\n                    str = item.id + \"_\" + str;\r\n                else\r\n                    str = item.id + \"_\" + i;\r\n                var sprite = this._sprites[str];\r\n                if (sprite != null)\r\n                    frame.texture = this.createSpriteTexture(sprite);\r\n                i++;\r\n            }\r\n        }\r\n\r\n        __proto.loadFont = function(item) {\r\n            var font = new BitmapFont1();\r\n            font.id = \"ui://\" + this.id + item.id;\r\n            var str = this.getDesc(item.id + \".fnt\");\r\n            var lines = str.split( /*CLASS CONST:fairygui.UIPackage.sep1*/ \"\\n\");\r\n            var lineCount = lines.length;\r\n            var i = 0;\r\n            var kv = {};\r\n            var ttf = false;\r\n            var size = 0;\r\n            var xadvance = 0;\r\n            var resizable = false;\r\n            var atlasOffsetX = 0,\r\n                atlasOffsetY = 0;\r\n            var charImg;\r\n            var mainTexture;\r\n            var lineHeight = 0;\r\n            for (i = 0; i < lineCount; i++) {\r\n                str = lines[i];\r\n                if (str.length == 0)\r\n                    continue;\r\n                str = ToolSet.trim(str);\r\n                var arr = str.split( /*CLASS CONST:fairygui.UIPackage.sep2*/ \" \");\r\n                for (var j = 1; j < arr.length; j++) {\r\n                    var arr2 = arr[j].split( /*CLASS CONST:fairygui.UIPackage.sep3*/ \"=\");\r\n                    kv[arr2[0]] = arr2[1];\r\n                }\r\n                str = arr[0];\r\n                if (str == \"char\") {\r\n                    var bg = new BMGlyph();\r\n                    bg.x = isNaN(kv.x) ? 0 : parseInt(kv.x);\r\n                    bg.y = isNaN(kv.y) ? 0 : parseInt(kv.y);\r\n                    bg.offsetX = isNaN(kv.xoffset) ? 0 : parseInt(kv.xoffset);\r\n                    bg.offsetY = isNaN(kv.yoffset) ? 0 : parseInt(kv.yoffset);\r\n                    bg.width = isNaN(kv.width) ? 0 : parseInt(kv.width);\r\n                    bg.height = isNaN(kv.height) ? 0 : parseInt(kv.height);\r\n                    bg.advance = isNaN(kv.xadvance) ? 0 : parseInt(kv.xadvance);\r\n                    if (kv.chnl != undefined) {\r\n                        bg.channel = parseInt(kv.chnl);\r\n                        if (bg.channel == 15)\r\n                            bg.channel = 4;\r\n                        else if (bg.channel == 1)\r\n                            bg.channel = 3;\r\n                        else if (bg.channel == 2)\r\n                            bg.channel = 2;\r\n                        else\r\n                            bg.channel = 1;\r\n                    }\r\n                    if (!ttf) {\r\n                        if (kv.img) {\r\n                            charImg = this._itemsById[kv.img];\r\n                            if (charImg != null) {\r\n                                charImg.load();\r\n                                bg.width = charImg.width;\r\n                                bg.height = charImg.height;\r\n                                bg.texture = charImg.texture;\r\n                            }\r\n                        }\r\n                    } else if (mainTexture != null) {\r\n                        bg.texture = this.createSubTexture(mainTexture, new Rectangle(bg.x + atlasOffsetX, bg.y + atlasOffsetY, bg.width, bg.height));\r\n                    }\r\n                    if (ttf)\r\n                        bg.lineHeight = lineHeight;\r\n                    else {\r\n                        if (bg.advance == 0) {\r\n                            if (xadvance == 0)\r\n                                bg.advance = bg.offsetX + bg.width;\r\n                            else\r\n                                bg.advance = xadvance;\r\n                        }\r\n                        bg.lineHeight = bg.offsetY < 0 ? bg.height : (bg.offsetY + bg.height);\r\n                        if (size > 0 && bg.lineHeight < size)\r\n                            bg.lineHeight = size;\r\n                    }\r\n                    font.glyphs[String.fromCharCode(kv.id)] = bg;\r\n                } else if (str == \"info\") {\r\n                    ttf = kv.face != null;\r\n                    if (!isNaN(kv.size))\r\n                        size = parseInt(kv.size);\r\n                    resizable = kv.resizable == \"true\";\r\n                    if (ttf) {\r\n                        var sprite = this._sprites[item.id];\r\n                        if (sprite != null) {\r\n                            atlasOffsetX = sprite.rect.x;\r\n                            atlasOffsetY = sprite.rect.y;\r\n                            var atlasItem = this._itemsById[sprite.atlas];\r\n                            if (atlasItem != null)\r\n                                mainTexture = (this.getItemAsset(atlasItem));\r\n                        }\r\n                    }\r\n                } else if (str == \"common\") {\r\n                    if (!isNaN(kv.lineHeight))\r\n                        lineHeight = parseInt(kv.lineHeight);\r\n                    if (size == 0)\r\n                        size = lineHeight;\r\n                    else if (lineHeight == 0)\r\n                        lineHeight = size;\r\n                    if (!isNaN(kv.xadvance))\r\n                        xadvance = parseInt(kv.xadvance);\r\n                }\r\n            }\r\n            if (size == 0 && bg)\r\n                size = bg.height;\r\n            font.ttf = ttf;\r\n            font.size = size;\r\n            font.resizable = resizable;\r\n            item.bitmapFont = font;\r\n        }\r\n\r\n        __getset(0, __proto, 'id', function() {\r\n            return this._id;\r\n        });\r\n\r\n        __getset(0, __proto, 'name', function() {\r\n            return this._name;\r\n        });\r\n\r\n        __getset(0, __proto, 'customId', function() {\r\n            return this._customId;\r\n        }, function(value) {\r\n            if (this._customId != null)\r\n                delete fairygui.UIPackage._packageInstById[this._customId];\r\n            this._customId = value;\r\n            if (this._customId != null)\r\n                fairygui.UIPackage._packageInstById[this._customId] = this;\r\n        });\r\n\r\n        UIPackage.getById = function(id) {\r\n            return fairygui.UIPackage._packageInstById[id];\r\n        }\r\n\r\n        UIPackage.getByName = function(name) {\r\n            return fairygui.UIPackage._packageInstByName[name];\r\n        }\r\n\r\n        UIPackage.addPackage = function(resKey) {\r\n            var pkg = new UIPackage();\r\n            pkg.create(resKey);\r\n            fairygui.UIPackage._packageInstById[pkg.id] = pkg;\r\n            fairygui.UIPackage._packageInstByName[pkg.name] = pkg;\r\n            pkg.customId = resKey;\r\n            return pkg;\r\n        }\r\n\r\n        UIPackage.removePackage = function(packageId) {\r\n            var pkg = fairygui.UIPackage._packageInstById[packageId];\r\n            pkg.dispose();\r\n            delete fairygui.UIPackage._packageInstById[pkg.id];\r\n            if (pkg._customId != null)\r\n                delete fairygui.UIPackage._packageInstById[pkg._customId];\r\n            delete fairygui.UIPackage._packageInstByName[pkg.name];\r\n        }\r\n\r\n        UIPackage.createObject = function(pkgName, resName, userClass) {\r\n            var pkg = fairygui.UIPackage.getByName(pkgName);\r\n            if (pkg)\r\n                return pkg.createObject(resName, userClass);\r\n            else\r\n                return null;\r\n        }\r\n\r\n        UIPackage.createObjectFromURL = function(url, userClass) {\r\n            var pi = fairygui.UIPackage.getItemByURL(url);\r\n            if (pi)\r\n                return pi.owner.internalCreateObject(pi, userClass);\r\n            else\r\n                return null;\r\n        }\r\n\r\n        UIPackage.getItemURL = function(pkgName, resName) {\r\n            var pkg = fairygui.UIPackage.getByName(pkgName);\r\n            if (!pkg)\r\n                return null;\r\n            var pi = pkg._itemsByName[resName];\r\n            if (!pi)\r\n                return null;\r\n            return \"ui://\" + pkg.id + pi.id;\r\n        }\r\n\r\n        UIPackage.getItemByURL = function(url) {\r\n            var pos1 = url.indexOf(\"//\");\r\n            if (pos1 == -1)\r\n                return null;\r\n            var pos2 = url.indexOf(\"/\", pos1 + 2);\r\n            if (pos2 == -1) {\r\n                if (url.length > 13) {\r\n                    var pkgId = url.substr(5, 8);\r\n                    var pkg = UIPackage.getById(pkgId);\r\n                    if (pkg != null) {\r\n                        var srcId = url.substr(13);\r\n                        return pkg.getItemById(srcId);\r\n                    }\r\n                }\r\n            } else {\r\n                var pkgName = url.substr(pos1 + 2, pos2 - pos1 - 2);\r\n                pkg = UIPackage.getByName(pkgName);\r\n                if (pkg != null) {\r\n                    var srcName = url.substr(pos2 + 1);\r\n                    return pkg.getItemByName(srcName);\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\n        UIPackage.normalizeURL = function(url) {\r\n            if (url == null)\r\n                return null;\r\n            var pos1 = url.indexOf(\"//\");\r\n            if (pos1 == -1)\r\n                return null;\r\n            var pos2 = url.indexOf(\"/\", pos1 + 2);\r\n            if (pos2 == -1)\r\n                return url;\r\n            var pkgName = url.substr(pos1 + 2, pos2 - pos1 - 2);\r\n            var srcName = url.substr(pos2 + 1);\r\n            return UIPackage.getItemURL(pkgName, srcName);\r\n        }\r\n\r\n        UIPackage.getBitmapFontByURL = function(url) {\r\n            return fairygui.UIPackage._bitmapFonts[url];\r\n        }\r\n\r\n        UIPackage.setStringsSource = function(source) {\r\n            fairygui.UIPackage._stringsSource = {};\r\n            var xml = Utils.parseXMLFromString(source);\r\n            var resNode = ToolSet.findChildNode(xml, \"resources\");\r\n            var nodes = resNode.childNodes;\r\n            var length1 = nodes.length;\r\n            for (var i1 = 0; i1 < length1; i1++) {\r\n                var cxml = nodes[i1];\r\n                if (cxml.nodeName == \"string\") {\r\n                    var key = cxml.getAttribute(\"name\");\r\n                    var text = cxml.textContent;\r\n                    var i = key.indexOf(\"-\");\r\n                    if (i == -1)\r\n                        continue;\r\n                    var key2 = key.substr(0, i);\r\n                    var key3 = key.substr(i + 1);\r\n                    var col = fairygui.UIPackage._stringsSource[key2];\r\n                    if (!col) {\r\n                        col = {};\r\n                        fairygui.UIPackage._stringsSource[key2] = col;\r\n                    }\r\n                    col[key3] = text;\r\n                }\r\n            }\r\n        }\r\n\r\n        UIPackage._constructing = 0;\r\n        UIPackage._packageInstById = {};\r\n        UIPackage._packageInstByName = {};\r\n        UIPackage._bitmapFonts = {};\r\n        UIPackage._stringsSource = null;\r\n        UIPackage.sep0 = \",\";\r\n        UIPackage.sep1 = \"\\n\";\r\n        UIPackage.sep2 = \" \";\r\n        UIPackage.sep3 = \"=\";\r\n        UIPackage.__init$ = function() {\r\n            //class AtlasSprite\r\n            AtlasSprite = (function() {\r\n                function AtlasSprite() {\r\n                    this.atlas = null;\r\n                    this.rect = null;\r\n                    this.rotated = false;\r\n                    this.rect = new Rectangle();\r\n                }\r\n                __class(AtlasSprite, '');\r\n                return AtlasSprite;\r\n            })()\r\n        }\r\n\r\n        return UIPackage;\r\n    })()\r\n\r\n\r\n    //class fairygui.utils.PixelHitTestData\r\n    var PixelHitTestData = (function() {\r\n        function PixelHitTestData() {\r\n            this.pixelWidth = 0;\r\n            this.scale = NaN;\r\n            this.pixels = null;\r\n        }\r\n\r\n        __class(PixelHitTestData, 'fairygui.utils.PixelHitTestData');\r\n        var __proto = PixelHitTestData.prototype;\r\n        __proto.load = function(ba) {\r\n            ba.getInt32();\r\n            this.pixelWidth = ba.getInt32();\r\n            this.scale = 1 / ba.readByte();\r\n            var len = ba.getInt32();\r\n            this.pixels = __newvec(len);\r\n            for (var i = 0; i < len; i++) {\r\n                var j = ba.readByte();\r\n                if (j < 0)\r\n                    j += 256;\r\n                this.pixels[i] = j;\r\n            }\r\n        }\r\n\r\n        return PixelHitTestData;\r\n    })()\r\n\r\n\r\n    //class fairygui.utils.ToolSet\r\n    var ToolSet = (function() {\r\n        function ToolSet() {}\r\n        __class(ToolSet, 'fairygui.utils.ToolSet');\r\n        ToolSet.getFileName = function(source) {\r\n            var i = source.lastIndexOf(\"/\");\r\n            if (i != -1)\r\n                source = source.substr(i + 1);\r\n            i = source.lastIndexOf(\"\\\\\");\r\n            if (i != -1)\r\n                source = source.substr(i + 1);\r\n            i = source.lastIndexOf(\".\");\r\n            if (i != -1)\r\n                return source.substring(0, i);\r\n            else\r\n                return source;\r\n        }\r\n\r\n        ToolSet.startsWith = function(source, str, ignoreCase) {\r\n            (ignoreCase === void 0) && (ignoreCase = false);\r\n            if (!source)\r\n                return false;\r\n            else if (source.length < str.length)\r\n                return false;\r\n            else {\r\n                source = source.substring(0, str.length);\r\n                if (!ignoreCase)\r\n                    return source == str;\r\n                else\r\n                    return source.toLowerCase() == str.toLowerCase();\r\n            }\r\n        }\r\n\r\n        ToolSet.endsWith = function(source, str, ignoreCase) {\r\n            (ignoreCase === void 0) && (ignoreCase = false);\r\n            if (!source)\r\n                return false;\r\n            else if (source.length < str.length)\r\n                return false;\r\n            else {\r\n                source = source.substring(source.length - str.length);\r\n                if (!ignoreCase)\r\n                    return source == str;\r\n                else\r\n                    return source.toLowerCase() == str.toLowerCase();\r\n            }\r\n        }\r\n\r\n        ToolSet.trim = function(targetString) {\r\n            return fairygui.utils.ToolSet.trimLeft(fairygui.utils.ToolSet.trimRight(targetString));\r\n        }\r\n\r\n        ToolSet.trimLeft = function(targetString) {\r\n            var tempChar = \"\";\r\n            for (var i = 0; i < targetString.length; i++) {\r\n                tempChar = targetString.charAt(i);\r\n                if (tempChar != \" \" && tempChar != \"\\n\" && tempChar != \"\\r\") {\r\n                    break;\r\n                }\r\n            }\r\n            return targetString.substr(i);\r\n        }\r\n\r\n        ToolSet.trimRight = function(targetString) {\r\n            var tempChar = \"\";\r\n            for (var i = targetString.length - 1; i >= 0; i--) {\r\n                tempChar = targetString.charAt(i);\r\n                if (tempChar != \" \" && tempChar != \"\\n\" && tempChar != \"\\r\") {\r\n                    break;\r\n                }\r\n            }\r\n            return targetString.substring(0, i + 1);\r\n        }\r\n\r\n        ToolSet.convertToHtmlColor = function(argb, hasAlpha) {\r\n            (hasAlpha === void 0) && (hasAlpha = false);\r\n            var alpha;\r\n            if (hasAlpha)\r\n                alpha = (argb >> 24 & 0xFF).toString(16);\r\n            else\r\n                alpha = \"\";\r\n            var red = (argb >> 16 & 0xFF).toString(16);\r\n            var green = (argb >> 8 & 0xFF).toString(16);\r\n            var blue = (argb & 0xFF).toString(16);\r\n            if (alpha.length == 1)\r\n                alpha = \"0\" + alpha;\r\n            if (red.length == 1)\r\n                red = \"0\" + red;\r\n            if (green.length == 1)\r\n                green = \"0\" + green;\r\n            if (blue.length == 1)\r\n                blue = \"0\" + blue;\r\n            return \"#\" + alpha + red + green + blue;\r\n        }\r\n\r\n        ToolSet.convertFromHtmlColor = function(str, hasAlpha) {\r\n            (hasAlpha === void 0) && (hasAlpha = false);\r\n            if (str.length < 1)\r\n                return 0;\r\n            if (str.charAt(0) == \"#\")\r\n                str = str.substr(1);\r\n            if (str.length == 8)\r\n                return (parseInt(str.substr(0, 2), 16) << 24) + parseInt(str.substr(2), 16);\r\n            else if (hasAlpha)\r\n                return 0xFF000000 + parseInt(str, 16);\r\n            else\r\n                return parseInt(str, 16);\r\n        }\r\n\r\n        ToolSet.displayObjectToGObject = function(obj) {\r\n            while (obj != null && !((obj instanceof laya.display.Stage))) {\r\n                if (obj[\"$owner\"])\r\n                    return obj[\"$owner\"];\r\n                obj = obj.parent;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        ToolSet.findChildNode = function(xml, name) {\r\n            var col = xml.childNodes;\r\n            var length1 = col.length;\r\n            if (length1 > 0) {\r\n                for (var i1 = 0; i1 < length1; i1++) {\r\n                    var cxml = col[i1];\r\n                    if (cxml.nodeName == name) {\r\n                        return cxml;\r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\n        ToolSet.encodeHTML = function(str) {\r\n            if (!str)\r\n                return \"\";\r\n            else\r\n                return str.replace(\"&\", \"&amp;\").replace(\"<\", \"&lt;\").replace(\">\", \"&gt;\").replace(\"'\", \"&apos;\");\r\n        }\r\n\r\n        ToolSet.parseUBB = function(text) {\r\n            return fairygui.utils.ToolSet.defaultUBBParser.parse(text);\r\n        }\r\n\r\n        ToolSet.removeUBB = function(text) {\r\n            return fairygui.utils.ToolSet.defaultUBBParser.parse(text, true);\r\n        }\r\n\r\n        ToolSet.parseEaseType = function(value) {\r\n            var ret = ToolSet.EaseMap[value];\r\n            if (!ret)\r\n                ret = Ease.quartOut;\r\n            return ret;\r\n        }\r\n\r\n        ToolSet.clamp = function(value, min, max) {\r\n            if (value < min)\r\n                value = min;\r\n            else if (value > max)\r\n                value = max;\r\n            return value;\r\n        }\r\n\r\n        ToolSet.clamp01 = function(value) {\r\n            if (value > 1)\r\n                value = 1;\r\n            else if (value < 0)\r\n                value = 0;\r\n            return value;\r\n        }\r\n\r\n        ToolSet.base64Decode = function(bstr) {\r\n            var ba = new Byte();\r\n            var code = 0;\r\n            var len = bstr.length;\r\n            for (var i = 0; i < len; i += 4) {\r\n                code = (ToolSet.BASE64_CHARS.indexOf(bstr.charAt(i)) & 0x3F) << 18;\r\n                code += (ToolSet.BASE64_CHARS.indexOf(bstr.charAt(i + 1)) & 0x3F) << 12;\r\n                code += (ToolSet.BASE64_CHARS.indexOf(bstr.charAt(i + 2)) & 0x3F) << 6;\r\n                code += (ToolSet.BASE64_CHARS.indexOf(bstr.charAt(i + 3)) & 0x3F);\r\n                ba.writeByte(code >> 16 & 0xFF);\r\n                ba.writeByte(code >> 8 & 0xFF);\r\n                ba.writeByte(code & 0xFF);\r\n            }\r\n            if ((code & 0x3F) == 0)\r\n                ba.length -= 1;\r\n            if (((code >> 8) & 0x3F) == 0)\r\n                ba.length -= 1;\r\n            ba.pos = 0;\r\n            return ba;\r\n        }\r\n\r\n        ToolSet.BASE64_CHARS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n        __static(ToolSet, ['defaultUBBParser', function() { return this.defaultUBBParser = new UBBParser(); }, 'EaseMap', function() {\r\n                return this.EaseMap = {\r\n                    \"Linear\": Ease.linearNone,\r\n                    \"Elastic.In\": Ease.elasticIn,\r\n                    \"Elastic.Out\": Ease.elasticOut,\r\n                    \"Elastic.InOut\": Ease.elasticInOut,\r\n                    \"Quad.In\": Ease.quadIn,\r\n                    \"Quad.Out\": Ease.quadOut,\r\n                    \"Quad.InOut\": Ease.quadInOut,\r\n                    \"Cube.In\": Ease.cubicIn,\r\n                    \"Cube.Out\": Ease.cubicOut,\r\n                    \"Cube.InOut\": Ease.cubicInOut,\r\n                    \"Quart.In\": Ease.quartIn,\r\n                    \"Quart.Out\": Ease.quartOut,\r\n                    \"Quart.InOut\": Ease.quartInOut,\r\n                    \"Quint.In\": Ease.quintIn,\r\n                    \"Quint.Out\": Ease.quintOut,\r\n                    \"Quint.InOut\": Ease.quintInOut,\r\n                    \"Sine.In\": Ease.sineIn,\r\n                    \"Sine.Out\": Ease.sineOut,\r\n                    \"Sine.InOut\": Ease.sineInOut,\r\n                    \"Bounce.In\": Ease.bounceIn,\r\n                    \"Bounce.Out\": Ease.bounceOut,\r\n                    \"Bounce.InOut\": Ease.bounceInOut,\r\n                    \"Circ.In\": Ease.circIn,\r\n                    \"Circ.Out\": Ease.circOut,\r\n                    \"Circ.InOut\": Ease.circInOut,\r\n                    \"Expo.In\": Ease.quartIn,\r\n                    \"Expo.Out\": Ease.quartOut,\r\n                    \"Expo.InOut\": Ease.quartInOut,\r\n                    \"Back.In\": Ease.backIn,\r\n                    \"Back.Out\": Ease.backOut,\r\n                    \"Back.InOut\": Ease.backInOut\r\n                };\r\n            }\r\n\r\n        ]);\r\n        return ToolSet;\r\n    })()\r\n\r\n\r\n    //class fairygui.utils.UBBParser\r\n    var UBBParser = (function() {\r\n        function UBBParser() {\r\n            this._text = null;\r\n            this._readPos = 0;\r\n            this._handlers = null;\r\n            this.smallFontSize = 12;\r\n            this.normalFontSize = 14;\r\n            this.largeFontSize = 16;\r\n            this.defaultImgWidth = 0;\r\n            this.defaultImgHeight = 0;\r\n            this._handlers = {};\r\n            this._handlers[\"url\"] = this.onTag_URL;\r\n            this._handlers[\"img\"] = this.onTag_IMG;\r\n            this._handlers[\"b\"] = this.onTag_Simple;\r\n            this._handlers[\"i\"] = this.onTag_Simple;\r\n            this._handlers[\"u\"] = this.onTag_Simple;\r\n            this._handlers[\"sup\"] = this.onTag_Simple;\r\n            this._handlers[\"sub\"] = this.onTag_Simple;\r\n            this._handlers[\"color\"] = this.onTag_COLOR;\r\n            this._handlers[\"font\"] = this.onTag_FONT;\r\n            this._handlers[\"size\"] = this.onTag_SIZE;\r\n        }\r\n\r\n        __class(UBBParser, 'fairygui.utils.UBBParser');\r\n        var __proto = UBBParser.prototype;\r\n        __proto.onTag_URL = function(tagName, end, attr) {\r\n            if (!end) {\r\n                if (attr != null)\r\n                    return \"<a href=\\\"\" + attr + \"\\\" target=\\\"_blank\\\">\";\r\n                else {\r\n                    var href = this.getTagText();\r\n                    return \"<a href=\\\"\" + href + \"\\\" target=\\\"_blank\\\">\";\r\n                }\r\n            } else\r\n                return \"</a>\";\r\n        }\r\n\r\n        __proto.onTag_IMG = function(tagName, end, attr) {\r\n            if (!end) {\r\n                var src = this.getTagText(true);\r\n                if (!src)\r\n                    return null;\r\n                if (this.defaultImgWidth)\r\n                    return \"<img src=\\\"\" + src + \"\\\" width=\\\"\" + this.defaultImgWidth + \"\\\" height=\\\"\" + this.defaultImgHeight + \"\\\"/>\";\r\n                else\r\n                    return \"<img src=\\\"\" + src + \"\\\"/>\";\r\n            } else\r\n                return null;\r\n        }\r\n\r\n        __proto.onTag_Simple = function(tagName, end, attr) {\r\n            return end ? (\"</\" + tagName + \">\") : (\"<\" + tagName + \">\");\r\n        }\r\n\r\n        __proto.onTag_COLOR = function(tagName, end, attr) {\r\n            if (!end)\r\n                return \"<font color=\\\"\" + attr + \"\\\">\";\r\n            else\r\n                return \"</font>\";\r\n        }\r\n\r\n        __proto.onTag_FONT = function(tagName, end, attr) {\r\n            if (!end)\r\n                return \"<font face=\\\"\" + attr + \"\\\">\";\r\n            else\r\n                return \"</font>\";\r\n        }\r\n\r\n        __proto.onTag_SIZE = function(tagName, end, attr) {\r\n            if (!end) {\r\n                if (attr == \"normal\")\r\n                    attr = \"\" + this.normalFontSize;\r\n                else if (attr == \"small\")\r\n                    attr = \"\" + this.smallFontSize;\r\n                else if (attr == \"large\")\r\n                    attr = \"\" + this.largeFontSize;\r\n                else if (attr.length && attr.charAt(0) == \"+\")\r\n                    attr = \"\" + (this.smallFontSize + parseInt(attr.substr(1)));\r\n                else if (attr.length && attr.charAt(0) == \"-\")\r\n                    attr = \"\" + (this.smallFontSize - parseInt(attr.substr(1)));\r\n                return \"<font size=\\\"\" + attr + \"\\\">\";\r\n            } else\r\n                return \"</font>\";\r\n        }\r\n\r\n        __proto.getTagText = function(remove) {\r\n            (remove === void 0) && (remove = false);\r\n            var pos = this._text.indexOf(\"[\", this._readPos);\r\n            if (pos == -1)\r\n                return null;\r\n            var ret = this._text.substring(this._readPos, pos);\r\n            if (remove)\r\n                this._readPos = pos;\r\n            return ret;\r\n        }\r\n\r\n        __proto.parse = function(text, remove) {\r\n            (remove === void 0) && (remove = false);\r\n            this._text = text;\r\n            var pos1 = 0,\r\n                pos2 = NaN,\r\n                pos3 = 0;\r\n            var end = false;\r\n            var tag, attr;\r\n            var repl;\r\n            var func;\r\n            while ((pos2 = this._text.indexOf(\"[\", pos1)) != -1) {\r\n                pos1 = pos2;\r\n                pos2 = this._text.indexOf(\"]\", pos1);\r\n                if (pos2 == -1)\r\n                    break;\r\n                end = this._text.charAt(pos1 + 1) == '/';\r\n                tag = this._text.substring(end ? pos1 + 2 : pos1 + 1, pos2);\r\n                pos2++;\r\n                this._readPos = pos2;\r\n                attr = null;\r\n                repl = null;\r\n                pos3 = tag.indexOf(\"=\");\r\n                if (pos3 != -1) {\r\n                    attr = tag.substring(pos3 + 1);\r\n                    tag = tag.substring(0, pos3);\r\n                }\r\n                tag = tag.toLowerCase();\r\n                func = this._handlers[tag];\r\n                if (func != null) {\r\n                    if (!remove) {\r\n                        repl = func.call(this, tag, end, attr);\r\n                        if (repl == null)\r\n                            repl = \"\";\r\n                    } else\r\n                        repl = \"\";\r\n                } else {\r\n                    pos1 = pos2;\r\n                    continue;\r\n                }\r\n                this._text = this._text.substring(0, pos1) + repl + this._text.substring(this._readPos);\r\n            }\r\n            return this._text;\r\n        }\r\n\r\n        __static(UBBParser, ['inst', function() { return this.inst = new UBBParser(); }]);\r\n        return UBBParser;\r\n    })()\r\n\r\n\r\n    //class fairygui.utils.ColorMatrix extends Array\r\n    var ColorMatrix = (function(_super) {\r\n        // initialization:\r\n        function ColorMatrix() {\r\n            ColorMatrix.__super.call(this);\r\n            this.reset();\r\n        }\r\n\r\n        __class(ColorMatrix, 'fairygui.utils.ColorMatrix', Array);\r\n        var __proto = ColorMatrix.prototype;\r\n        // public methods:\r\n        __proto.reset = function() {\r\n            for (var i = 0; i < ColorMatrix.LENGTH; i++) {\r\n                this[i] = ColorMatrix.IDENTITY_MATRIX[i];\r\n            }\r\n        }\r\n\r\n        __proto.invert = function() {\r\n            this.multiplyMatrix([-1, 0, 0, 0, 255,\r\n                0, -1, 0, 0, 255,\r\n                0, 0, -1, 0, 255,\r\n                0, 0, 0, 1, 0\r\n            ]);\r\n        }\r\n\r\n        __proto.adjustColor = function(p_brightness, p_contrast, p_saturation, p_hue) {\r\n            this.adjustHue(p_hue);\r\n            this.adjustContrast(p_contrast);\r\n            this.adjustBrightness(p_brightness);\r\n            this.adjustSaturation(p_saturation);\r\n        }\r\n\r\n        __proto.adjustBrightness = function(p_val) {\r\n            p_val = this.cleanValue(p_val, 1) * 255;\r\n            this.multiplyMatrix([\r\n                1, 0, 0, 0, p_val,\r\n                0, 1, 0, 0, p_val,\r\n                0, 0, 1, 0, p_val,\r\n                0, 0, 0, 1, 0\r\n            ]);\r\n        }\r\n\r\n        __proto.adjustContrast = function(p_val) {\r\n            p_val = this.cleanValue(p_val, 1);\r\n            var s = p_val + 1;\r\n            var o = 128 * (1 - s);\r\n            this.multiplyMatrix([\r\n                s, 0, 0, 0, o,\r\n                0, s, 0, 0, o,\r\n                0, 0, s, 0, o,\r\n                0, 0, 0, 1, 0\r\n            ]);\r\n        }\r\n\r\n        __proto.adjustSaturation = function(p_val) {\r\n            p_val = this.cleanValue(p_val, 1);\r\n            p_val += 1;\r\n            var invSat = 1 - p_val;\r\n            var invLumR = invSat * 0.299;\r\n            var invLumG = invSat * 0.587;\r\n            var invLumB = invSat * 0.114;\r\n            this.multiplyMatrix([\r\n                (invLumR + p_val), invLumG, invLumB, 0, 0,\r\n                invLumR, (invLumG + p_val), invLumB, 0, 0,\r\n                invLumR, invLumG, (invLumB + p_val), 0, 0,\r\n                0, 0, 0, 1, 0\r\n            ]);\r\n        }\r\n\r\n        __proto.adjustHue = function(p_val) {\r\n            p_val = this.cleanValue(p_val, 1);\r\n            p_val *= Math.PI;\r\n            var cos = Math.cos(p_val);\r\n            var sin = Math.sin(p_val);\r\n            this.multiplyMatrix([\r\n                ((0.299 + (cos * (1 - 0.299))) + (sin * -(0.299))), ((0.587 + (cos * -(0.587))) + (sin * -(0.587))), ((0.114 + (cos * -(0.114))) + (sin * (1 - 0.114))), 0, 0,\r\n                ((0.299 + (cos * -(0.299))) + (sin * 0.143)), ((0.587 + (cos * (1 - 0.587))) + (sin * 0.14)), ((0.114 + (cos * -(0.114))) + (sin * -0.283)), 0, 0,\r\n                ((0.299 + (cos * -(0.299))) + (sin * -((1 - 0.299)))), ((0.587 + (cos * -(0.587))) + (sin * 0.587)), ((0.114 + (cos * (1 - 0.114))) + (sin * 0.114)), 0, 0,\r\n                0, 0, 0, 1, 0\r\n            ]);\r\n        }\r\n\r\n        __proto.concat = function(p_matrix) {\r\n            if (p_matrix.length != ColorMatrix.LENGTH) { return; }\r\n            this.multiplyMatrix(p_matrix);\r\n        }\r\n\r\n        __proto.clone = function() {\r\n            var result = new ColorMatrix();\r\n            result.copyMatrix(this);\r\n            return result;\r\n        }\r\n\r\n        __proto.copyMatrix = function(p_matrix) {\r\n            var l = ColorMatrix.LENGTH;\r\n            for (var i = 0; i < l; i++) {\r\n                this[i] = p_matrix[i];\r\n            }\r\n        }\r\n\r\n        __proto.multiplyMatrix = function(p_matrix) {\r\n            var col = [];\r\n            var i = 0;\r\n            for (var y = 0; y < 4; ++y) {\r\n                for (var x = 0; x < 5; ++x) {\r\n                    col[i + x] = p_matrix[i] * this[x] +\r\n                        p_matrix[i + 1] * this[x + 5] +\r\n                        p_matrix[i + 2] * this[x + 10] +\r\n                        p_matrix[i + 3] * this[x + 15] +\r\n                        (x == 4 ? p_matrix[i + 4] : 0);\r\n                }\r\n                i += 5;\r\n            }\r\n            this.copyMatrix(col);\r\n        }\r\n\r\n        __proto.cleanValue = function(p_val, p_limit) {\r\n            return Math.min(p_limit, Math.max(-p_limit, p_val));\r\n        }\r\n\r\n        ColorMatrix.create = function(p_brightness, p_contrast, p_saturation, p_hue) {\r\n            var ret = new ColorMatrix();\r\n            ret.adjustColor(p_brightness, p_contrast, p_saturation, p_hue);\r\n            return ret;\r\n        }\r\n\r\n        ColorMatrix.LUMA_R = 0.299;\r\n        ColorMatrix.LUMA_G = 0.587;\r\n        ColorMatrix.LUMA_B = 0.114;\r\n        __static(ColorMatrix, ['IDENTITY_MATRIX', function() {\r\n            return this.IDENTITY_MATRIX = [\r\n                1, 0, 0, 0, 0,\r\n                0, 1, 0, 0, 0,\r\n                0, 0, 1, 0, 0,\r\n                0, 0, 0, 1, 0\r\n            ];\r\n        }, 'LENGTH', function() { return this.LENGTH = ColorMatrix.IDENTITY_MATRIX.length; }]);\r\n        return ColorMatrix;\r\n    })(Array)\r\n\r\n\r\n    //class fairygui.Controller extends laya.events.EventDispatcher\r\n    var Controller = (function(_super) {\r\n        function Controller() {\r\n            this._name = null;\r\n            this._selectedIndex = 0;\r\n            this._previousIndex = 0;\r\n            this._pageIds = null;\r\n            this._pageNames = null;\r\n            this._actions = null;\r\n            this._parent = null;\r\n            this._autoRadioGroupDepth = false;\r\n            this.changing = false;\r\n            Controller.__super.call(this);\r\n            this._pageIds = [];\r\n            this._pageNames = [];\r\n            this._selectedIndex = -1;\r\n            this._previousIndex = -1;\r\n        }\r\n\r\n        __class(Controller, 'fairygui.Controller', _super);\r\n        var __proto = Controller.prototype;\r\n        //selectedIndex\r\n        __proto.setSelectedIndex = function(value) {\r\n            (value === void 0) && (value = 0);\r\n            if (this._selectedIndex != value) {\r\n                if (value > this._pageIds.length - 1)\r\n                    throw \"index out of bounds: \" + value;\r\n                this.changing = true;\r\n                this._previousIndex = this._selectedIndex;\r\n                this._selectedIndex = value;\r\n                this._parent.applyController(this);\r\n                this.changing = false;\r\n            }\r\n        }\r\n\r\n        //selectedPage\r\n        __proto.setSelectedPage = function(value) {\r\n            var i = this._pageNames.indexOf(value);\r\n            if (i == -1)\r\n                i = 0;\r\n            this.setSelectedIndex(i);\r\n        }\r\n\r\n        __proto.getPageName = function(index) {\r\n            (index === void 0) && (index = 0);\r\n            return this._pageNames[index];\r\n        }\r\n\r\n        __proto.addPage = function(name) {\r\n            (name === void 0) && (name = \"\");\r\n            this.addPageAt(name, this._pageIds.length);\r\n        }\r\n\r\n        __proto.addPageAt = function(name, index) {\r\n            (index === void 0) && (index = 0);\r\n            var nid = \"\" + (fairygui.Controller._nextPageId++);\r\n            if (index == this._pageIds.length) {\r\n                this._pageIds.push(nid);\r\n                this._pageNames.push(name);\r\n            } else {\r\n                this._pageIds.splice(index, 0, nid);\r\n                this._pageNames.splice(index, 0, name);\r\n            }\r\n        }\r\n\r\n        __proto.removePage = function(name) {\r\n            var i = this._pageNames.indexOf(name);\r\n            if (i != -1) {\r\n                this._pageIds.splice(i, 1);\r\n                this._pageNames.splice(i, 1);\r\n                if (this._selectedIndex >= this._pageIds.length)\r\n                    this.selectedIndex = this._selectedIndex - 1;\r\n                else\r\n                    this._parent.applyController(this);\r\n            }\r\n        }\r\n\r\n        __proto.removePageAt = function(index) {\r\n            (index === void 0) && (index = 0);\r\n            this._pageIds.splice(index, 1);\r\n            this._pageNames.splice(index, 1);\r\n            if (this._selectedIndex >= this._pageIds.length)\r\n                this.selectedIndex = this._selectedIndex - 1;\r\n            else\r\n                this._parent.applyController(this);\r\n        }\r\n\r\n        __proto.clearPages = function() {\r\n            this._pageIds.length = 0;\r\n            this._pageNames.length = 0;\r\n            if (this._selectedIndex != -1)\r\n                this.selectedIndex = -1;\r\n            else\r\n                this._parent.applyController(this);\r\n        }\r\n\r\n        __proto.hasPage = function(aName) {\r\n            return this._pageNames.indexOf(aName) != -1;\r\n        }\r\n\r\n        __proto.getPageIndexById = function(aId) {\r\n            return this._pageIds.indexOf(aId);\r\n        }\r\n\r\n        __proto.getPageIdByName = function(aName) {\r\n            var i = this._pageNames.indexOf(aName);\r\n            if (i != -1)\r\n                return this._pageIds[i];\r\n            else\r\n                return null;\r\n        }\r\n\r\n        __proto.getPageNameById = function(aId) {\r\n            var i = this._pageIds.indexOf(aId);\r\n            if (i != -1)\r\n                return this._pageNames[i];\r\n            else\r\n                return null;\r\n        }\r\n\r\n        __proto.getPageId = function(index) {\r\n            (index === void 0) && (index = 0);\r\n            return this._pageIds[index];\r\n        }\r\n\r\n        __proto.runActions = function() {\r\n            if (this._actions) {\r\n                var cnt = this._actions.length;\r\n                for (var i = 0; i < cnt; i++) {\r\n                    this._actions[i].run(this, this.previousPageId, this.selectedPageId);\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.setup = function(xml) {\r\n            this._name = xml.getAttribute(\"name\");\r\n            this._autoRadioGroupDepth = xml.getAttribute(\"autoRadioGroupDepth\") == \"true\";\r\n            var i = 0;\r\n            var k = 0;\r\n            var str = xml.getAttribute(\"pages\");\r\n            if (str) {\r\n                var arr = str.split(\",\");\r\n                var cnt = arr.length;\r\n                for (i = 0; i < cnt; i += 2) {\r\n                    this._pageIds.push(arr[i]);\r\n                    this._pageNames.push(arr[i + 1]);\r\n                }\r\n            };\r\n            var col = xml.childNodes;\r\n            var length1 = col.length;\r\n            if (length1 > 0) {\r\n                if (!this._actions)\r\n                    this._actions = [];\r\n                for (var i1 = 0; i1 < length1; i1++) {\r\n                    var cxml = col[i1];\r\n                    var action = ControllerAction.createAction(cxml.getAttribute('type'));\r\n                    action.setup(cxml);\r\n                    this._actions.push(action);\r\n                }\r\n            }\r\n            str = xml.getAttribute(\"transitions\");\r\n            if (str) {\r\n                if (!this._actions)\r\n                    this._actions = [];\r\n                arr = str.split(\",\");\r\n                cnt = arr.length;\r\n                var ii = 0;\r\n                for (i = 0; i < cnt; i++) {\r\n                    str = arr[i];\r\n                    if (!str)\r\n                        continue;\r\n                    var taction = new PlayTransitionAction();\r\n                    k = str.indexOf(\"=\");\r\n                    taction.transitionName = str.substr(k + 1);\r\n                    str = str.substring(0, k);\r\n                    k = str.indexOf(\"-\");\r\n                    ii = parseInt(str.substring(k + 1));\r\n                    if (ii < this._pageIds.length)\r\n                        taction.toPage = [this._pageIds[ii]];\r\n                    str = str.substring(0, k);\r\n                    if (str != \"*\") {\r\n                        ii = parseInt(str);\r\n                        if (ii < this._pageIds.length)\r\n                            taction.fromPage = [this._pageIds[ii]];\r\n                    }\r\n                    taction.stopOnExit = true;\r\n                    this._actions.push(taction);\r\n                }\r\n            }\r\n            if (this._parent && this._pageIds.length > 0)\r\n                this._selectedIndex = 0;\r\n            else\r\n                this._selectedIndex = -1;\r\n        }\r\n\r\n        __getset(0, __proto, 'oppositePageId', null, function(val) {\r\n            var i = this._pageIds.indexOf(val);\r\n            if (i > 0)\r\n                this.selectedIndex = 0;\r\n            else if (this._pageIds.length > 1)\r\n                this.selectedIndex = 1;\r\n        });\r\n\r\n        __getset(0, __proto, 'name', function() {\r\n            return this._name;\r\n        }, function(value) {\r\n            this._name = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'pageCount', function() {\r\n            return this._pageIds.length;\r\n        });\r\n\r\n        __getset(0, __proto, 'parent', function() {\r\n            return this._parent;\r\n        });\r\n\r\n        __getset(0, __proto, 'selectedIndex', function() {\r\n            return this._selectedIndex;\r\n        }, function(value) {\r\n            if (this._selectedIndex != value) {\r\n                if (value > this._pageIds.length - 1)\r\n                    throw \"index out of bounds: \" + value;\r\n                this.changing = true;\r\n                this._previousIndex = this._selectedIndex;\r\n                this._selectedIndex = value;\r\n                this._parent.applyController(this);\r\n                this.event( /*fairygui.Events.STATE_CHANGED*/ \"fui_state_changed\");\r\n                this.changing = false;\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'selectedPage', function() {\r\n            if (this._selectedIndex == -1)\r\n                return null;\r\n            else\r\n                return this._pageNames[this._selectedIndex];\r\n        }, function(val) {\r\n            var i = this._pageNames.indexOf(val);\r\n            if (i == -1)\r\n                i = 0;\r\n            this.selectedIndex = i;\r\n        });\r\n\r\n        __getset(0, __proto, 'previsousIndex', function() {\r\n            return this._previousIndex;\r\n        });\r\n\r\n        __getset(0, __proto, 'previousPage', function() {\r\n            if (this._previousIndex == -1)\r\n                return null;\r\n            else\r\n                return this._pageNames[this._previousIndex];\r\n        });\r\n\r\n        __getset(0, __proto, 'selectedPageId', function() {\r\n            if (this._selectedIndex == -1)\r\n                return null;\r\n            else\r\n                return this._pageIds[this._selectedIndex];\r\n        }, function(val) {\r\n            var i = this._pageIds.indexOf(val);\r\n            this.selectedIndex = i;\r\n        });\r\n\r\n        __getset(0, __proto, 'previousPageId', function() {\r\n            if (this._previousIndex == -1)\r\n                return null;\r\n            else\r\n                return this._pageIds[this._previousIndex];\r\n        });\r\n\r\n        Controller._nextPageId = 0;\r\n        return Controller;\r\n    })(EventDispatcher)\r\n\r\n\r\n    //class fairygui.utils.PixelHitTest extends laya.utils.HitArea\r\n    var PixelHitTest = (function(_super) {\r\n        function PixelHitTest(data, offsetX, offsetY) {\r\n            this._data = null;\r\n            this.offsetX = 0;\r\n            this.offsetY = 0;\r\n            this.scaleX = NaN;\r\n            this.scaleY = NaN;\r\n            PixelHitTest.__super.call(this);\r\n            (offsetX === void 0) && (offsetX = 0);\r\n            (offsetY === void 0) && (offsetY = 0);\r\n            this._data = data;\r\n            this.offsetX = offsetX;\r\n            this.offsetY = offsetY;\r\n            this.scaleX = 1;\r\n            this.scaleY = 1;\r\n        }\r\n\r\n        __class(PixelHitTest, 'fairygui.utils.PixelHitTest', _super);\r\n        var __proto = PixelHitTest.prototype;\r\n        __proto.isHit = function(x, y) {\r\n            x = Math.floor((x / this.scaleX - this.offsetX) * this._data.scale);\r\n            y = Math.floor((y / this.scaleY - this.offsetY) * this._data.scale);\r\n            if (x < 0 || y < 0 || x >= this._data.pixelWidth)\r\n                return false;\r\n            var pos = y * this._data.pixelWidth + x;\r\n            var pos2 = Math.floor(pos / 8);\r\n            var pos3 = pos % 8;\r\n            if (pos2 >= 0 && pos2 < this._data.pixels.length)\r\n                return ((this._data.pixels[pos2] >> pos3) & 0x1) == 1;\r\n            else\r\n                return false;\r\n        }\r\n\r\n        return PixelHitTest;\r\n    })(HitArea)\r\n\r\n\r\n    //class fairygui.action.ChangePageAction extends fairygui.action.ControllerAction\r\n    var ChangePageAction = (function(_super) {\r\n        function ChangePageAction() {\r\n            this.objectId = null;\r\n            this.controllerName = null;\r\n            this.targetPage = null;\r\n            ChangePageAction.__super.call(this);\r\n        }\r\n\r\n        __class(ChangePageAction, 'fairygui.action.ChangePageAction', _super);\r\n        var __proto = ChangePageAction.prototype;\r\n        __proto.enter = function(controller) {\r\n            if (!this.controllerName)\r\n                return;\r\n            var gcom;\r\n            if (this.objectId)\r\n                gcom = controller.parent.getChildById(this.objectId);\r\n            else\r\n                gcom = controller.parent;\r\n            if (gcom) {\r\n                var cc = gcom.getController(this.controllerName);\r\n                if (cc && cc != controller && !cc.changing)\r\n                    cc.selectedPageId = this.targetPage;\r\n            }\r\n        }\r\n\r\n        __proto.setup = function(xml) {\r\n            _super.prototype.setup.call(this, xml);\r\n            this.objectId = xml.getAttribute(\"objectId\");\r\n            this.controllerName = xml.getAttribute(\"controller\");\r\n            this.targetPage = xml.getAttribute(\"targetPage\");\r\n        }\r\n\r\n        return ChangePageAction;\r\n    })(ControllerAction)\r\n\r\n\r\n    //class fairygui.action.PlayTransitionAction extends fairygui.action.ControllerAction\r\n    var PlayTransitionAction = (function(_super) {\r\n        function PlayTransitionAction() {\r\n            this.transitionName = null;\r\n            this.repeat = 1;\r\n            this.delay = 0;\r\n            this.stopOnExit = false;\r\n            this._currentTransition = null;\r\n            PlayTransitionAction.__super.call(this);\r\n        }\r\n\r\n        __class(PlayTransitionAction, 'fairygui.action.PlayTransitionAction', _super);\r\n        var __proto = PlayTransitionAction.prototype;\r\n        __proto.enter = function(controller) {\r\n            var trans = controller.parent.getTransition(this.transitionName);\r\n            if (trans) {\r\n                if (this._currentTransition && this._currentTransition.playing)\r\n                    trans.changeRepeat(this.repeat);\r\n                else\r\n                    trans.play(null, this.repeat, this.delay);\r\n                this._currentTransition = trans;\r\n            }\r\n        }\r\n\r\n        __proto.leave = function(controller) {\r\n            if (this.stopOnExit && this._currentTransition) {\r\n                this._currentTransition.stop();\r\n                this._currentTransition = null;\r\n            }\r\n        }\r\n\r\n        __proto.setup = function(xml) {\r\n            _super.prototype.setup.call(this, xml);\r\n            this.transitionName = xml.getAttribute(\"transition\");\r\n            var str;\r\n            str = xml.getAttribute(\"repeat\");\r\n            if (str)\r\n                this.repeat = parseInt(str);\r\n            str = xml.getAttribute(\"delay\");\r\n            if (str)\r\n                this.delay = parseFloat(str);\r\n            this.stopOnExit = xml.getAttribute(\"stopOnExit\") == \"true\";\r\n        }\r\n\r\n        return PlayTransitionAction;\r\n    })(ControllerAction)\r\n\r\n\r\n    //class fairygui.GTextField extends fairygui.GObject\r\n    var GTextField = (function(_super) {\r\n        function GTextField() {\r\n            this._gearColor = null;\r\n            GTextField.__super.call(this);\r\n            this._gearColor = new GearColor(this);\r\n        }\r\n\r\n        __class(GTextField, 'fairygui.GTextField', _super);\r\n        var __proto = GTextField.prototype;\r\n        Laya.imps(__proto, { \"fairygui.IColorGear\": true })\r\n        __proto.handleControllerChanged = function(c) {\r\n            _super.prototype.handleControllerChanged.call(this, c);\r\n            if (this._gearColor.controller == c)\r\n                this._gearColor.apply();\r\n        }\r\n\r\n        __proto.setup_beforeAdd = function(xml) {\r\n            _super.prototype.setup_beforeAdd.call(this, xml);\r\n            var str;\r\n            str = xml.getAttribute(\"font\");\r\n            if (str)\r\n                this.font = str;\r\n            str = xml.getAttribute(\"fontSize\");\r\n            if (str)\r\n                this.fontSize = parseInt(str);\r\n            str = xml.getAttribute(\"color\");\r\n            if (str)\r\n                this.color = str;\r\n            str = xml.getAttribute(\"align\");\r\n            if (str)\r\n                this.align = str;\r\n            str = xml.getAttribute(\"vAlign\");\r\n            if (str)\r\n                this.valign = str;\r\n            str = xml.getAttribute(\"leading\");\r\n            if (str)\r\n                this.leading = parseInt(str);\r\n            else\r\n                this.leading = 3;\r\n            str = xml.getAttribute(\"letterSpacing\");\r\n            if (str)\r\n                this.letterSpacing = parseInt(str);\r\n            this.ubbEnabled = xml.getAttribute(\"ubb\") == \"true\";\r\n            this.italic = xml.getAttribute(\"italic\") == \"true\";\r\n            this.bold = xml.getAttribute(\"bold\") == \"true\";\r\n            this.underline = xml.getAttribute(\"underline\") == \"true\";\r\n            this.singleLine = xml.getAttribute(\"singleLine\") == \"true\";\r\n            str = xml.getAttribute(\"strokeColor\");\r\n            if (str) {\r\n                this.strokeColor = str;\r\n                str = xml.getAttribute(\"strokeSize\");\r\n                if (str)\r\n                    this.stroke = parseInt(str) + 1;\r\n                else\r\n                    this.stroke = 2;\r\n            }\r\n        }\r\n\r\n        __proto.setup_afterAdd = function(xml) {\r\n            _super.prototype.setup_afterAdd.call(this, xml);\r\n            var str = xml.getAttribute(\"text\");\r\n            if (str != null && str.length > 0)\r\n                this.text = str;\r\n        }\r\n\r\n        __getset(0, __proto, 'color', function() {\r\n            return null;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'font', function() {\r\n            return null;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'leading', function() {\r\n            return 0;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'fontSize', function() {\r\n            return 0;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'bold', function() {\r\n            return false;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'letterSpacing', function() {\r\n            return 0;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'align', function() {\r\n            return null;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'valign', function() {\r\n            return null;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'italic', function() {\r\n            return false;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'underline', function() {\r\n            return false;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'singleLine', function() {\r\n            return false;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'stroke', function() {\r\n            return 0;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'strokeColor', function() {\r\n            return null;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'ubbEnabled', function() {\r\n            return false;\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'textWidth', function() {\r\n            return 0;\r\n        });\r\n\r\n        __getset(0, __proto, 'gearColor', function() {\r\n            return this._gearColor;\r\n        });\r\n\r\n        return GTextField;\r\n    })(GObject)\r\n\r\n\r\n    //class fairygui.GComponent extends fairygui.GObject\r\n    var GComponent = (function(_super) {\r\n        function GComponent() {\r\n            this._sortingChildCount = 0;\r\n            this._opaque = false;\r\n            this._applyingController = null;\r\n            this._margin = null;\r\n            this._trackBounds = false;\r\n            this._boundsChanged = false;\r\n            this._childrenRenderOrder = 0;\r\n            this._apexIndex = 0;\r\n            this._buildingDisplayList = false;\r\n            this._children = null;\r\n            this._controllers = null;\r\n            this._transitions = null;\r\n            this._container = null;\r\n            this._scrollPane = null;\r\n            this._alignOffset = null;\r\n            GComponent.__super.call(this);\r\n            this._children = [];\r\n            this._controllers = [];\r\n            this._transitions = [];\r\n            this._margin = new Margin();\r\n            this._alignOffset = new Point();\r\n        }\r\n\r\n        __class(GComponent, 'fairygui.GComponent', _super);\r\n        var __proto = GComponent.prototype;\r\n        __proto.createDisplayObject = function() {\r\n            _super.prototype.createDisplayObject.call(this);\r\n            this._displayObject.mouseEnabled = true;\r\n            this._displayObject.mouseThrough = true;\r\n            this._container = this._displayObject;\r\n        }\r\n\r\n        __proto.dispose = function() {\r\n            var i = 0;\r\n            var transCnt = this._transitions.length;\r\n            for (i = 0; i < transCnt; ++i) {\r\n                var trans = this._transitions[i];\r\n                trans.dispose();\r\n            };\r\n            var numChildren = this._children.length;\r\n            for (i = numChildren - 1; i >= 0; --i) {\r\n                var obj = this._children[i];\r\n                obj.parent = null;\r\n                obj.dispose();\r\n            }\r\n            this._boundsChanged = false;\r\n            _super.prototype.dispose.call(this);\r\n        }\r\n\r\n        __proto.addChild = function(child) {\r\n            this.addChildAt(child, this._children.length);\r\n            return child;\r\n        }\r\n\r\n        __proto.addChildAt = function(child, index) {\r\n            (index === void 0) && (index = 0);\r\n            if (!child)\r\n                throw \"child is null\";\r\n            var numChildren = this._children.length;\r\n            if (index >= 0 && index <= numChildren) {\r\n                if (child.parent == this) {\r\n                    this.setChildIndex(child, index);\r\n                } else {\r\n                    child.removeFromParent();\r\n                    child.parent = this;\r\n                    var cnt = this._children.length;\r\n                    if (child.sortingOrder != 0) {\r\n                        this._sortingChildCount++;\r\n                        index = this.getInsertPosForSortingChild(child);\r\n                    } else if (this._sortingChildCount > 0) {\r\n                        if (index > (cnt - this._sortingChildCount))\r\n                            index = cnt - this._sortingChildCount;\r\n                    }\r\n                    if (index == cnt)\r\n                        this._children.push(child);\r\n                    else\r\n                        this._children.splice(index, 0, child);\r\n                    this.childStateChanged(child);\r\n                    this.setBoundsChangedFlag();\r\n                }\r\n                return child;\r\n            } else {\r\n                throw \"Invalid child index\";\r\n            }\r\n        }\r\n\r\n        __proto.getInsertPosForSortingChild = function(target) {\r\n            var cnt = this._children.length;\r\n            var i = 0;\r\n            for (i = 0; i < cnt; i++) {\r\n                var child = this._children[i];\r\n                if (child == target)\r\n                    continue;\r\n                if (target.sortingOrder < child.sortingOrder)\r\n                    break;\r\n            }\r\n            return i;\r\n        }\r\n\r\n        __proto.removeChild = function(child, dispose) {\r\n            (dispose === void 0) && (dispose = false);\r\n            var childIndex = this._children.indexOf(child);\r\n            if (childIndex != -1) {\r\n                this.removeChildAt(childIndex, dispose);\r\n            }\r\n            return child;\r\n        }\r\n\r\n        __proto.removeChildAt = function(index, dispose) {\r\n            (dispose === void 0) && (dispose = false);\r\n            if (index >= 0 && index < this.numChildren) {\r\n                var child = this._children[index];\r\n                child.parent = null;\r\n                if (child.sortingOrder != 0)\r\n                    this._sortingChildCount--;\r\n                this._children.splice(index, 1);\r\n                child.group = null;\r\n                if (child.inContainer) {\r\n                    this._container.removeChild(child.displayObject);\r\n                    if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Arch*/ 2)\r\n                        Laya.timer.callLater(this, this.buildNativeDisplayList);\r\n                }\r\n                if (dispose)\r\n                    child.dispose();\r\n                this.setBoundsChangedFlag();\r\n                return child;\r\n            } else {\r\n                throw \"Invalid child index\";\r\n            }\r\n        }\r\n\r\n        __proto.removeChildren = function(beginIndex, endIndex, dispose) {\r\n            (beginIndex === void 0) && (beginIndex = 0);\r\n            (endIndex === void 0) && (endIndex = -1);\r\n            (dispose === void 0) && (dispose = false);\r\n            if (endIndex < 0 || endIndex >= this.numChildren)\r\n                endIndex = this.numChildren - 1;\r\n            for (var i = beginIndex; i <= endIndex; ++i)\r\n                this.removeChildAt(beginIndex, dispose);\r\n        }\r\n\r\n        __proto.getChildAt = function(index) {\r\n            (index === void 0) && (index = 0);\r\n            if (index >= 0 && index < this.numChildren)\r\n                return this._children[index];\r\n            else\r\n                throw \"Invalid child index\";\r\n        }\r\n\r\n        __proto.getChild = function(name) {\r\n            var cnt = this._children.length;\r\n            for (var i = 0; i < cnt; ++i) {\r\n                if (this._children[i].name == name)\r\n                    return this._children[i];\r\n            }\r\n            return null;\r\n        }\r\n\r\n        __proto.getVisibleChild = function(name) {\r\n            var cnt = this._children.length;\r\n            for (var i = 0; i < cnt; ++i) {\r\n                var child = this._children[i];\r\n                if (child.finalVisible && child.name == name)\r\n                    return child;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        __proto.getChildInGroup = function(name, group) {\r\n            var cnt = this._children.length;\r\n            for (var i = 0; i < cnt; ++i) {\r\n                var child = this._children[i];\r\n                if (child.group == group && child.name == name)\r\n                    return child;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        __proto.getChildById = function(id) {\r\n            var cnt = this._children.length;\r\n            for (var i = 0; i < cnt; ++i) {\r\n                if (this._children[i]._id == id)\r\n                    return this._children[i];\r\n            }\r\n            return null;\r\n        }\r\n\r\n        __proto.getChildIndex = function(child) {\r\n            return this._children.indexOf(child);\r\n        }\r\n\r\n        __proto.setChildIndex = function(child, index) {\r\n            (index === void 0) && (index = 0);\r\n            var oldIndex = this._children.indexOf(child);\r\n            if (oldIndex == -1)\r\n                throw \"Not a child of this container\";\r\n            if (child.sortingOrder != 0)\r\n                return;\r\n            var cnt = this._children.length;\r\n            if (this._sortingChildCount > 0) {\r\n                if (index > (cnt - this._sortingChildCount - 1))\r\n                    index = cnt - this._sortingChildCount - 1;\r\n            }\r\n            this._setChildIndex(child, oldIndex, index);\r\n        }\r\n\r\n        __proto.setChildIndexBefore = function(child, index) {\r\n            var oldIndex = this._children.indexOf(child);\r\n            if (oldIndex == -1)\r\n                throw \"Not a child of this container\";\r\n            if (child.sortingOrder != 0)\r\n                return oldIndex;\r\n            var cnt = this._children.length;\r\n            if (this._sortingChildCount > 0) {\r\n                if (index > (cnt - this._sortingChildCount - 1))\r\n                    index = cnt - this._sortingChildCount - 1;\r\n            }\r\n            if (oldIndex < index)\r\n                return this._setChildIndex(child, oldIndex, index - 1);\r\n            else\r\n                return this._setChildIndex(child, oldIndex, index);\r\n        }\r\n\r\n        __proto._setChildIndex = function(child, oldIndex, index) {\r\n            var cnt = this._children.length;\r\n            if (index > cnt)\r\n                index = cnt;\r\n            if (oldIndex == index)\r\n                return oldIndex;\r\n            this._children.splice(oldIndex, 1);\r\n            this._children.splice(index, 0, child);\r\n            if (child.inContainer) {\r\n                var displayIndex = 0;\r\n                var g;\r\n                var i = 0;\r\n                if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Ascent*/ 0) {\r\n                    for (i = 0; i < index; i++) {\r\n                        g = this._children[i];\r\n                        if (g.inContainer)\r\n                            displayIndex++;\r\n                    }\r\n                    if (displayIndex == this._container.numChildren)\r\n                        displayIndex--;\r\n                    this._container.setChildIndex(child.displayObject, displayIndex);\r\n                } else if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Descent*/ 1) {\r\n                    for (i = cnt - 1; i > index; i--) {\r\n                        g = this._children[i];\r\n                        if (g.inContainer)\r\n                            displayIndex++;\r\n                    }\r\n                    if (displayIndex == this._container.numChildren)\r\n                        displayIndex--;\r\n                    this._container.setChildIndex(child.displayObject, displayIndex);\r\n                } else {\r\n                    Laya.timer.callLater(this, this.buildNativeDisplayList);\r\n                }\r\n                this.setBoundsChangedFlag();\r\n            }\r\n            return index;\r\n        }\r\n\r\n        __proto.swapChildren = function(child1, child2) {\r\n            var index1 = this._children.indexOf(child1);\r\n            var index2 = this._children.indexOf(child2);\r\n            if (index1 == -1 || index2 == -1)\r\n                throw \"Not a child of this container\";\r\n            this.swapChildrenAt(index1, index2);\r\n        }\r\n\r\n        __proto.swapChildrenAt = function(index1, index2) {\r\n            (index2 === void 0) && (index2 = 0);\r\n            var child1 = this._children[index1];\r\n            var child2 = this._children[index2];\r\n            this.setChildIndex(child1, index2);\r\n            this.setChildIndex(child2, index1);\r\n        }\r\n\r\n        __proto.isAncestorOf = function(child) {\r\n            if (child == null)\r\n                return false;\r\n            var p = child.parent;\r\n            while (p) {\r\n                if (p == this)\r\n                    return true;\r\n                p = p.parent;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        __proto.addController = function(controller) {\r\n            this._controllers.push(controller);\r\n            controller._parent = this;\r\n            this.applyController(controller);\r\n        }\r\n\r\n        __proto.getControllerAt = function(index) {\r\n            return this._controllers[index];\r\n        }\r\n\r\n        __proto.getController = function(name) {\r\n            var cnt = this._controllers.length;\r\n            for (var i = 0; i < cnt; ++i) {\r\n                var c = this._controllers[i];\r\n                if (c.name == name)\r\n                    return c;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        __proto.removeController = function(c) {\r\n            var index = this._controllers.indexOf(c);\r\n            if (index == -1)\r\n                throw new Error(\"controller not exists\");\r\n            c._parent = null;\r\n            this._controllers.splice(index, 1);\r\n            var length = this._children.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var child = this._children[i];\r\n                child.handleControllerChanged(c);\r\n            }\r\n        }\r\n\r\n        __proto.childStateChanged = function(child) {\r\n            if (this._buildingDisplayList)\r\n                return;\r\n            var cnt = this._children.length;\r\n            if ((child instanceof fairygui.GGroup)) {\r\n                for (var i = 0; i < cnt; i++) {\r\n                    var g = this._children[i];\r\n                    if (g.group == child)\r\n                        this.childStateChanged(g);\r\n                }\r\n                return;\r\n            }\r\n            if (!child.displayObject)\r\n                return;\r\n            if (child.finalVisible && child.displayObject != this._displayObject.mask) {\r\n                if (!child.displayObject.parent) {\r\n                    var index = 0\r\n                    if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Ascent*/ 0) {\r\n                        for (i = 0; i < cnt; i++) {\r\n                            g = this._children[i];\r\n                            if (g == child)\r\n                                break;\r\n                            if (g.displayObject != null && g.displayObject.parent != null)\r\n                                index++;\r\n                        }\r\n                        this._container.addChildAt(child.displayObject, index);\r\n                    } else if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Descent*/ 1) {\r\n                        for (i = cnt - 1; i >= 0; i--) {\r\n                            g = this._children[i];\r\n                            if (g == child)\r\n                                break;\r\n                            if (g.displayObject != null && g.displayObject.parent != null)\r\n                                index++;\r\n                        }\r\n                        this._container.addChildAt(child.displayObject, index);\r\n                    } else {\r\n                        this._container.addChild(child.displayObject);\r\n                        Laya.timer.callLater(this, this.buildNativeDisplayList);\r\n                    }\r\n                }\r\n            } else {\r\n                if (child.displayObject.parent) {\r\n                    this._container.removeChild(child.displayObject);\r\n                    if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Arch*/ 2)\r\n                        Laya.timer.callLater(this, this.buildNativeDisplayList);\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.buildNativeDisplayList = function() {\r\n            var cnt = this._children.length;\r\n            if (cnt == 0)\r\n                return;\r\n            var i = 0;\r\n            var child;\r\n            switch (this._childrenRenderOrder) {\r\n                case /*fairygui.ChildrenRenderOrder.Ascent*/ 0:\r\n                    {\r\n                        for (i = 0; i < cnt; i++) {\r\n                            child = this._children[i];\r\n                            if (child.displayObject != null && child.finalVisible)\r\n                                this._container.addChild(child.displayObject);\r\n                        }\r\n                    }\r\n                    break;\r\n                case /*fairygui.ChildrenRenderOrder.Descent*/ 1:\r\n                    {\r\n                        for (i = cnt - 1; i >= 0; i--) {\r\n                            child = this._children[i];\r\n                            if (child.displayObject != null && child.finalVisible)\r\n                                this._container.addChild(child.displayObject);\r\n                        }\r\n                    }\r\n                    break;\r\n                case /*fairygui.ChildrenRenderOrder.Arch*/ 2:\r\n                    {\r\n                        for (i = 0; i < this._apexIndex; i++) {\r\n                            child = this._children[i];\r\n                            if (child.displayObject != null && child.finalVisible)\r\n                                this._container.addChild(child.displayObject);\r\n                        }\r\n                        for (i = cnt - 1; i >= this._apexIndex; i--) {\r\n                            child = this._children[i];\r\n                            if (child.displayObject != null && child.finalVisible)\r\n                                this._container.addChild(child.displayObject);\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n\r\n        __proto.applyController = function(c) {\r\n            this._applyingController = c;\r\n            var child;\r\n            var length = this._children.length;\r\n            for (var i = 0; i < length; i++) {\r\n                child = this._children[i];\r\n                child.handleControllerChanged(c);\r\n            }\r\n            this._applyingController = null;\r\n            c.runActions();\r\n        }\r\n\r\n        __proto.applyAllControllers = function() {\r\n            var cnt = this._controllers.length;\r\n            for (var i = 0; i < cnt; ++i) {\r\n                this.applyController(this._controllers[i]);\r\n            }\r\n        }\r\n\r\n        __proto.adjustRadioGroupDepth = function(obj, c) {\r\n            var cnt = this._children.length;\r\n            var i = NaN;\r\n            var child;\r\n            var myIndex = -1,\r\n                maxIndex = -1;\r\n            for (i = 0; i < cnt; i++) {\r\n                child = this._children[i];\r\n                if (child == obj) {\r\n                    myIndex = i;\r\n                } else if (((child instanceof fairygui.GButton)) &&\r\n                    (child).relatedController == c) {\r\n                    if (i > maxIndex)\r\n                        maxIndex = i;\r\n                }\r\n            }\r\n            if (myIndex < maxIndex) {\r\n                if (this._applyingController != null)\r\n                    this._children[maxIndex].handleControllerChanged(this._applyingController);\r\n                this.swapChildrenAt(myIndex, maxIndex);\r\n            }\r\n        }\r\n\r\n        __proto.getTransitionAt = function(index) {\r\n            return this._transitions[index];\r\n        }\r\n\r\n        __proto.getTransition = function(transName) {\r\n            var cnt = this._transitions.length;\r\n            for (var i = 0; i < cnt; ++i) {\r\n                var trans = this._transitions[i];\r\n                if (trans.name == transName)\r\n                    return trans;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        __proto.isChildInView = function(child) {\r\n            if (this._displayObject.scrollRect != null) {\r\n                return child.x + child.width >= 0 && child.x <= this.width &&\r\n                    child.y + child.height >= 0 && child.y <= this.height;\r\n            } else if (this._scrollPane != null) {\r\n                return this._scrollPane.isChildInView(child);\r\n            } else\r\n                return true;\r\n        }\r\n\r\n        __proto.getFirstChildInView = function() {\r\n            var cnt = this._children.length;\r\n            for (var i = 0; i < cnt; ++i) {\r\n                var child = this._children[i];\r\n                if (this.isChildInView(child))\r\n                    return i;\r\n            }\r\n            return -1;\r\n        }\r\n\r\n        __proto.updateHitArea = function() {\r\n            if ((this._displayObject.hitArea instanceof fairygui.utils.PixelHitTest)) {\r\n                var hitTest = (this._displayObject.hitArea);\r\n                if (this.sourceWidth != 0)\r\n                    hitTest.scaleX = this.width / this.sourceWidth;\r\n                if (this.sourceHeight != 0)\r\n                    hitTest.scaleY = this.height / this.sourceHeight;\r\n            } else {\r\n                if (this._displayObject.hitArea == null)\r\n                    this._displayObject.hitArea = new Rectangle();\r\n                this._displayObject.hitArea.setTo(0, 0, this.width, this.height);\r\n            }\r\n        }\r\n\r\n        __proto.updateMask = function() {\r\n            var rect = this._displayObject.scrollRect;\r\n            if (rect == null)\r\n                rect = new Rectangle();\r\n            rect.x = this._margin.left;\r\n            rect.y = this._margin.top;\r\n            rect.width = this.width - this._margin.right;\r\n            rect.height = this.height - this._margin.bottom;\r\n            this._displayObject.scrollRect = rect;\r\n        }\r\n\r\n        __proto.setupScroll = function(scrollBarMargin, scroll, scrollBarDisplay, flags, vtScrollBarRes, hzScrollBarRes) {\r\n            if (this._displayObject == this._container) {\r\n                this._container = new Sprite();\r\n                this._displayObject.addChild(this._container);\r\n            }\r\n            this._scrollPane = new ScrollPane(this, scroll, scrollBarMargin, scrollBarDisplay, flags, vtScrollBarRes, hzScrollBarRes);\r\n        }\r\n\r\n        __proto.setupOverflow = function(overflow) {\r\n            if (overflow == /*fairygui.OverflowType.Hidden*/ 1) {\r\n                if (this._displayObject == this._container) {\r\n                    this._container = new Sprite();\r\n                    this._displayObject.addChild(this._container);\r\n                }\r\n                this.updateMask();\r\n                this._container.pos(this._margin.left, this._margin.top);\r\n            } else if (this._margin.left != 0 || this._margin.top != 0) {\r\n                if (this._displayObject == this._container) {\r\n                    this._container = new Sprite();\r\n                    this._displayObject.addChild(this._container);\r\n                }\r\n                this._container.pos(this._margin.left, this._margin.top);\r\n            }\r\n        }\r\n\r\n        __proto.handleSizeChanged = function() {\r\n            _super.prototype.handleSizeChanged.call(this);\r\n            if (this._scrollPane)\r\n                this._scrollPane.onOwnerSizeChanged();\r\n            else if (this._displayObject.scrollRect != null)\r\n                this.updateMask();\r\n            if (this._displayObject.hitArea != null)\r\n                this.updateHitArea();\r\n        }\r\n\r\n        __proto.handleGrayedChanged = function() {\r\n            var c = this.getController(\"grayed\");\r\n            if (c != null) {\r\n                c.selectedIndex = this.grayed ? 1 : 0;\r\n                return;\r\n            };\r\n            var v = this.grayed;\r\n            var cnt = this._children.length;\r\n            for (var i = 0; i < cnt; ++i) {\r\n                this._children[i].grayed = v;\r\n            }\r\n        }\r\n\r\n        __proto.handleControllerChanged = function(c) {\r\n            _super.prototype.handleControllerChanged.call(this, c);\r\n            if (this._scrollPane != null)\r\n                this._scrollPane.handleControllerChanged(c);\r\n        }\r\n\r\n        __proto.setBoundsChangedFlag = function() {\r\n            if (!this._scrollPane && !this._trackBounds)\r\n                return;\r\n            if (!this._boundsChanged) {\r\n                this._boundsChanged = true;\r\n                Laya.timer.callLater(this, this.__render);\r\n            }\r\n        }\r\n\r\n        __proto.__render = function() {\r\n            if (this._boundsChanged) {\r\n                var i1 = 0;\r\n                var len = this._children.length;\r\n                var child\r\n                for (i1 = 0; i1 < len; i1++) {\r\n                    child = this._children[i1];\r\n                    child.ensureSizeCorrect();\r\n                }\r\n                this.updateBounds();\r\n            }\r\n        }\r\n\r\n        __proto.ensureBoundsCorrect = function() {\r\n            var i1 = 0;\r\n            var len = this._children.length;\r\n            var child\r\n            for (i1 = 0; i1 < len; i1++) {\r\n                child = this._children[i1];\r\n                child.ensureSizeCorrect();\r\n            }\r\n            if (this._boundsChanged)\r\n                this.updateBounds();\r\n        }\r\n\r\n        __proto.updateBounds = function() {\r\n            var ax = 0,\r\n                ay = 0,\r\n                aw = 0,\r\n                ah = 0;\r\n            var len = this._children.length;\r\n            if (len > 0) {\r\n                ax = Number.POSITIVE_INFINITY, ay = Number.POSITIVE_INFINITY;\r\n                var ar = Number.NEGATIVE_INFINITY,\r\n                    ab = Number.NEGATIVE_INFINITY;\r\n                var tmp = 0;\r\n                var i1 = 0;\r\n                for (i1 = 0; i1 < len; i1++) {\r\n                    var child = this._children[i1];\r\n                    tmp = child.x;\r\n                    if (tmp < ax)\r\n                        ax = tmp;\r\n                    tmp = child.y;\r\n                    if (tmp < ay)\r\n                        ay = tmp;\r\n                    tmp = child.x + child.actualWidth;\r\n                    if (tmp > ar)\r\n                        ar = tmp;\r\n                    tmp = child.y + child.actualHeight;\r\n                    if (tmp > ab)\r\n                        ab = tmp;\r\n                }\r\n                aw = ar - ax;\r\n                ah = ab - ay;\r\n            }\r\n            this.setBounds(ax, ay, aw, ah);\r\n        }\r\n\r\n        __proto.setBounds = function(ax, ay, aw, ah) {\r\n            this._boundsChanged = false;\r\n            if (this._scrollPane)\r\n                this._scrollPane.setContentSize(Math.round(ax + aw), Math.round(ay + ah));\r\n        }\r\n\r\n        __proto.getSnappingPosition = function(xValue, yValue, resultPoint) {\r\n            if (!resultPoint)\r\n                resultPoint = new Point();\r\n            var cnt = this._children.length;\r\n            if (cnt == 0) {\r\n                resultPoint.x = 0;\r\n                resultPoint.y = 0;\r\n                return resultPoint;\r\n            }\r\n            this.ensureBoundsCorrect();\r\n            var obj = null;\r\n            var prev = null;\r\n            var i = 0;\r\n            if (yValue != 0) {\r\n                for (; i < cnt; i++) {\r\n                    obj = this._children[i];\r\n                    if (yValue < obj.y) {\r\n                        if (i == 0) {\r\n                            yValue = 0;\r\n                            break;\r\n                        } else {\r\n                            prev = this._children[i - 1];\r\n                            if (yValue < prev.y + prev.actualHeight / 2)\r\n                                yValue = prev.y;\r\n                            else\r\n                                yValue = obj.y;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (i == cnt)\r\n                    yValue = obj.y;\r\n            }\r\n            if (xValue != 0) {\r\n                if (i > 0)\r\n                    i--;\r\n                for (; i < cnt; i++) {\r\n                    obj = this._children[i];\r\n                    if (xValue < obj.x) {\r\n                        if (i == 0) {\r\n                            xValue = 0;\r\n                            break;\r\n                        } else {\r\n                            prev = this._children[i - 1];\r\n                            if (xValue < prev.x + prev.actualWidth / 2)\r\n                                xValue = prev.x;\r\n                            else\r\n                                xValue = obj.x;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (i == cnt)\r\n                    xValue = obj.x;\r\n            }\r\n            resultPoint.x = xValue;\r\n            resultPoint.y = yValue;\r\n            return resultPoint;\r\n        }\r\n\r\n        __proto.childSortingOrderChanged = function(child, oldValue, newValue) {\r\n            (newValue === void 0) && (newValue = 0);\r\n            if (newValue == 0) {\r\n                this._sortingChildCount--;\r\n                this.setChildIndex(child, this._children.length);\r\n            } else {\r\n                if (oldValue == 0)\r\n                    this._sortingChildCount++;\r\n                var oldIndex = this._children.indexOf(child);\r\n                var index = this.getInsertPosForSortingChild(child);\r\n                if (oldIndex < index)\r\n                    this._setChildIndex(child, oldIndex, index - 1);\r\n                else\r\n                    this._setChildIndex(child, oldIndex, index);\r\n            }\r\n        }\r\n\r\n        __proto.constructFromResource = function() {\r\n            this.constructFromResource2(null, 0);\r\n        }\r\n\r\n        __proto.constructFromResource2 = function(objectPool, poolIndex) {\r\n            var xml = this.packageItem.owner.getItemAsset(this.packageItem);\r\n            this._underConstruct = true;\r\n            var str;\r\n            var arr;\r\n            str = xml.getAttribute(\"size\");\r\n            arr = str.split(\",\");\r\n            this.sourceWidth = parseInt(arr[0]);\r\n            this.sourceHeight = parseInt(arr[1]);\r\n            this.initWidth = this.sourceWidth;\r\n            this.initHeight = this.sourceHeight;\r\n            this.setSize(this.sourceWidth, this.sourceHeight);\r\n            str = xml.getAttribute(\"restrictSize\");\r\n            if (str) {\r\n                arr = str.split(\",\");\r\n                this.minWidth = parseInt(arr[0]);\r\n                this.maxWidth = parseInt(arr[1]);\r\n                this.minHeight = parseInt(arr[2]);\r\n                this.maxHeight = parseInt(arr[3]);\r\n            }\r\n            str = xml.getAttribute(\"pivot\");\r\n            if (str) {\r\n                arr = str.split(\",\");\r\n                str = xml.getAttribute(\"anchor\");\r\n                this.internalSetPivot(parseFloat(arr[0]), parseFloat(arr[1]), str == \"true\");\r\n            }\r\n            str = xml.getAttribute(\"opaque\");\r\n            this.opaque = str != \"false\";\r\n            str = xml.getAttribute(\"hitTest\");\r\n            if (str) {\r\n                arr = str.split(\",\");\r\n                var hitTestData = this.packageItem.owner.getPixelHitTestData(arr[0]);\r\n                if (hitTestData != null) {\r\n                    this._displayObject.hitArea = new PixelHitTest(hitTestData, parseInt(arr[1]), parseInt(arr[2]));\r\n                    this._displayObject.mouseThrough = false;\r\n                    this._displayObject.hitTestPrior = true;\r\n                }\r\n            };\r\n            var overflow = 0;\r\n            str = xml.getAttribute(\"overflow\");\r\n            if (str)\r\n                overflow = OverflowType.parse(str);\r\n            else\r\n                overflow = /*fairygui.OverflowType.Visible*/ 0;\r\n            str = xml.getAttribute(\"margin\");\r\n            if (str)\r\n                this._margin.parse(str);\r\n            if (overflow == /*fairygui.OverflowType.Scroll*/ 2) {\r\n                var scroll = 0;\r\n                str = xml.getAttribute(\"scroll\");\r\n                if (str)\r\n                    scroll = ScrollType.parse(str);\r\n                else\r\n                    scroll = /*fairygui.ScrollType.Vertical*/ 1;\r\n                var scrollBarDisplay = 0;\r\n                str = xml.getAttribute(\"scrollBar\");\r\n                if (str)\r\n                    scrollBarDisplay = ScrollBarDisplayType.parse(str);\r\n                else\r\n                    scrollBarDisplay = /*fairygui.ScrollBarDisplayType.Default*/ 0;\r\n                var scrollBarFlags = NaN;\r\n                str = xml.getAttribute(\"scrollBarFlags\");\r\n                if (str)\r\n                    scrollBarFlags = parseInt(str);\r\n                else\r\n                    scrollBarFlags = 0;\r\n                var scrollBarMargin = new Margin();\r\n                str = xml.getAttribute(\"scrollBarMargin\");\r\n                if (str)\r\n                    scrollBarMargin.parse(str);\r\n                var vtScrollBarRes;\r\n                var hzScrollBarRes;\r\n                str = xml.getAttribute(\"scrollBarRes\");\r\n                if (str) {\r\n                    arr = str.split(\",\");\r\n                    vtScrollBarRes = arr[0];\r\n                    hzScrollBarRes = arr[1];\r\n                }\r\n                this.setupScroll(scrollBarMargin, scroll, scrollBarDisplay, scrollBarFlags, vtScrollBarRes, hzScrollBarRes);\r\n            } else\r\n                this.setupOverflow(overflow);\r\n            this._buildingDisplayList = true;\r\n            var col = xml.childNodes;\r\n            var length1 = 0;\r\n            if (col)\r\n                length1 = col.length;\r\n            var i = 0;\r\n            var controller;\r\n            for (i = 0; i < length1; i++) {\r\n                var cxml = col[i];\r\n                if (cxml.nodeName == \"controller\") {\r\n                    controller = new Controller();\r\n                    this._controllers.push(controller);\r\n                    controller._parent = this;\r\n                    controller.setup(cxml);\r\n                }\r\n            };\r\n            var child;\r\n            var displayList = this.packageItem.displayList;\r\n            var childCount = displayList.length;\r\n            for (i = 0; i < childCount; i++) {\r\n                var di = displayList[i];\r\n                if (objectPool != null) {\r\n                    child = objectPool[poolIndex + i];\r\n                } else if (di.packageItem) {\r\n                    child = UIObjectFactory.newObject(di.packageItem);\r\n                    child.packageItem = di.packageItem;\r\n                    child.constructFromResource();\r\n                } else\r\n                    child = UIObjectFactory.newObject2(di.type);\r\n                child._underConstruct = true;\r\n                child.setup_beforeAdd(di.desc);\r\n                child.parent = this;\r\n                this._children.push(child);\r\n            }\r\n            this.relations.setup(xml);\r\n            for (i = 0; i < childCount; i++)\r\n                this._children[i].relations.setup(displayList[i].desc);\r\n            for (i = 0; i < childCount; i++) {\r\n                child = this._children[i];\r\n                child.setup_afterAdd(displayList[i].desc);\r\n                child._underConstruct = false;\r\n            }\r\n            str = xml.getAttribute(\"mask\");\r\n            if (str)\r\n                this.mask = this.getChildById(str).displayObject;\r\n            var trans;\r\n            for (i = 0; i < length1; i++) {\r\n                cxml = col[i];\r\n                if (cxml.nodeName == \"transition\") {\r\n                    trans = new Transition(this);\r\n                    this._transitions.push(trans);\r\n                    trans.setup(cxml);\r\n                }\r\n            }\r\n            if (this._transitions.length > 0) {\r\n                this.displayObject.on( /*laya.events.Event.DISPLAY*/ \"display\", this, this.___added);\r\n                this.displayObject.on( /*laya.events.Event.UNDISPLAY*/ \"undisplay\", this, this.___removed);\r\n            }\r\n            this.applyAllControllers();\r\n            this._buildingDisplayList = false;\r\n            this._underConstruct = false;\r\n            this.buildNativeDisplayList();\r\n            this.setBoundsChangedFlag();\r\n            this.constructFromXML(xml);\r\n        }\r\n\r\n        __proto.constructFromXML = function(xml) {}\r\n        __proto.setup_afterAdd = function(xml) {\r\n            _super.prototype.setup_afterAdd.call(this, xml);\r\n            var str;\r\n            if (this.scrollPane) {\r\n                str = xml.getAttribute(\"pageController\");\r\n                if (str)\r\n                    this.scrollPane.pageController = this.parent.getController(str);\r\n            }\r\n            str = xml.getAttribute(\"controller\");\r\n            if (str) {\r\n                var arr = str.split(\",\");\r\n                for (var i = 0; i < arr.length; i += 2) {\r\n                    var cc = this.getController(arr[i]);\r\n                    if (cc)\r\n                        cc.selectedPageId = arr[i + 1];\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.___added = function() {\r\n            var cnt = this._transitions.length;\r\n            for (var i = 0; i < cnt; ++i) {\r\n                var trans = this._transitions[i];\r\n                if (trans.autoPlay)\r\n                    trans.play(null, trans.autoPlayRepeat, trans.autoPlayDelay);\r\n            }\r\n        }\r\n\r\n        __proto.___removed = function() {\r\n            var cnt = this._transitions.length;\r\n            for (var i = 0; i < cnt; ++i) {\r\n                this._transitions[i].OnOwnerRemovedFromStage();\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'numChildren', function() {\r\n            return this._children.length;\r\n        });\r\n\r\n        __getset(0, __proto, 'displayListContainer', function() {\r\n            return this._container;\r\n        });\r\n\r\n        __getset(0, __proto, 'childrenRenderOrder', function() {\r\n            return this._childrenRenderOrder;\r\n        }, function(value) {\r\n            if (this._childrenRenderOrder != value) {\r\n                this._childrenRenderOrder = value;\r\n                this.buildNativeDisplayList();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'opaque', function() {\r\n            return this._displayObject.hitArea != null;\r\n        }, function(value) {\r\n            if (value) {\r\n                this.updateHitArea();\r\n                this._displayObject.mouseThrough = false;\r\n            } else {\r\n                this._displayObject.hitArea = null;\r\n                this._displayObject.mouseThrough = true;\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'controllers', function() {\r\n            return this._controllers;\r\n        });\r\n\r\n        __getset(0, __proto, 'scrollPane', function() {\r\n            return this._scrollPane;\r\n        });\r\n\r\n        __getset(0, __proto, 'margin', function() {\r\n            return this._margin;\r\n        }, function(value) {\r\n            this._margin.copy(value);\r\n            if (this._displayObject.scrollRect != null) {\r\n                this._container.pos(this._margin.left + this._alignOffset.x, this._margin.top + this._alignOffset.y);\r\n            }\r\n            this.handleSizeChanged();\r\n        });\r\n\r\n        __getset(0, __proto, 'apexIndex', function() {\r\n            return this._apexIndex;\r\n        }, function(value) {\r\n            if (this._apexIndex != value) {\r\n                this._apexIndex = value;\r\n                if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Arch*/ 2)\r\n                    this.buildNativeDisplayList();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'mask', function() {\r\n            return this._displayObject.mask;\r\n        }, function(value) {\r\n            this._displayObject.mask = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'viewWidth', function() {\r\n            if (this._scrollPane != null)\r\n                return this._scrollPane.viewWidth;\r\n            else\r\n                return this.width - this._margin.left - this._margin.right;\r\n        }, function(value) {\r\n            if (this._scrollPane != null)\r\n                this._scrollPane.viewWidth = value;\r\n            else\r\n                this.width = value + this._margin.left + this._margin.right;\r\n        });\r\n\r\n        __getset(0, __proto, 'viewHeight', function() {\r\n            if (this._scrollPane != null)\r\n                return this._scrollPane.viewHeight;\r\n            else\r\n                return this.height - this._margin.top - this._margin.bottom;\r\n        }, function(value) {\r\n            if (this._scrollPane != null)\r\n                this._scrollPane.viewHeight = value;\r\n            else\r\n                this.height = value + this._margin.top + this._margin.bottom;\r\n        });\r\n\r\n        return GComponent;\r\n    })(GObject)\r\n\r\n\r\n    //class fairygui.GearAnimation extends fairygui.GearBase\r\n    var GearAnimation = (function(_super) {\r\n        var GearAnimationValue;\r\n\r\n        function GearAnimation(owner) {\r\n            this._storage = null;\r\n            this._default = null;\r\n            GearAnimation.__super.call(this, owner);\r\n        }\r\n\r\n        __class(GearAnimation, 'fairygui.GearAnimation', _super);\r\n        var __proto = GearAnimation.prototype;\r\n        __proto.init = function() {\r\n            this._default = new GearAnimationValue((this._owner).playing,\r\n                (this._owner).frame);\r\n            this._storage = {};\r\n        }\r\n\r\n        __proto.addStatus = function(pageId, value) {\r\n            if (value == \"-\")\r\n                return;\r\n            var gv;\r\n            if (pageId == null)\r\n                gv = this._default;\r\n            else {\r\n                gv = new GearAnimationValue();\r\n                this._storage[pageId] = gv;\r\n            };\r\n            var arr = value.split(\",\");\r\n            gv.frame = parseInt(arr[0]);\r\n            gv.playing = arr[1] == \"p\";\r\n        }\r\n\r\n        __proto.apply = function() {\r\n            this._owner._gearLocked = true;\r\n            var gv = this._storage[this._controller.selectedPageId];\r\n            if (!gv)\r\n                gv = this._default;\r\n            (this._owner).frame = gv.frame;\r\n            (this._owner).playing = gv.playing;\r\n            this._owner._gearLocked = false;\r\n        }\r\n\r\n        __proto.updateState = function() {\r\n            var mc = (this._owner);\r\n            var gv = this._storage[this._controller.selectedPageId];\r\n            if (!gv) {\r\n                gv = new GearAnimationValue();\r\n                this._storage[this._controller.selectedPageId] = gv;\r\n            }\r\n            gv.frame = mc.frame;\r\n            gv.playing = mc.playing;\r\n        }\r\n\r\n        GearAnimation.__init$ = function() {\r\n            //class GearAnimationValue\r\n            GearAnimationValue = (function() {\r\n                function GearAnimationValue(playing, frame) {\r\n                    this.playing = false;\r\n                    this.frame = NaN;\r\n                    (playing === void 0) && (playing = true);\r\n                    (frame === void 0) && (frame = 0);\r\n                    this.playing = playing;\r\n                    this.frame = frame;\r\n                }\r\n                __class(GearAnimationValue, '');\r\n                return GearAnimationValue;\r\n            })()\r\n        }\r\n\r\n        return GearAnimation;\r\n    })(GearBase)\r\n\r\n\r\n    //class fairygui.GearColor extends fairygui.GearBase\r\n    var GearColor = (function(_super) {\r\n        var GearColorValue;\r\n\r\n        function GearColor(owner) {\r\n            this._storage = null;\r\n            this._default = null;\r\n            GearColor.__super.call(this, owner);\r\n        }\r\n\r\n        __class(GearColor, 'fairygui.GearColor', _super);\r\n        var __proto = GearColor.prototype;\r\n        __proto.init = function() {\r\n            if (this._owner[\"strokeColor\"] != undefined)\r\n                this._default = new GearColorValue(this._owner[\"color\"], this._owner[\"strokeColor\"]);\r\n            else\r\n                this._default = new GearColorValue(this._owner[\"color\"], null);\r\n            this._storage = {};\r\n        }\r\n\r\n        __proto.addStatus = function(pageId, value) {\r\n            if (value == \"-\")\r\n                return;\r\n            var pos = value.indexOf(\",\");\r\n            var col1;\r\n            var col2;\r\n            if (pos == -1) {\r\n                col1 = value;\r\n                col2 = null;\r\n            } else {\r\n                col1 = value.substr(0, pos);\r\n                col2 = value.substr(pos + 1);\r\n            }\r\n            if (pageId == null) {\r\n                this._default.color = col1;\r\n                this._default.strokeColor = col2;\r\n            } else\r\n                this._storage[pageId] = new GearColorValue(col1, col2);\r\n        }\r\n\r\n        __proto.apply = function() {\r\n            this._owner._gearLocked = true;\r\n            var gv = this._storage[this._controller.selectedPageId];\r\n            if (!gv)\r\n                gv = this._default;\r\n            (this._owner).color = gv.color;\r\n            if (this._owner[\"strokeColor\"] != undefined && gv.strokeColor != null)\r\n                this._owner[\"strokeColor\"] = gv.strokeColor;\r\n            this._owner._gearLocked = false;\r\n        }\r\n\r\n        __proto.updateState = function() {\r\n            var gv = this._storage[this._controller.selectedPageId];\r\n            if (!gv) {\r\n                gv = new GearColorValue(null, null);\r\n                this._storage[this._controller.selectedPageId] = gv;\r\n            }\r\n            gv.color = (this._owner).color;\r\n            if (this._owner[\"strokeColor\"] != undefined)\r\n                gv.strokeColor = this._owner[\"strokeColor\"];\r\n        }\r\n\r\n        GearColor.__init$ = function() {\r\n            //class GearColorValue\r\n            GearColorValue = (function() {\r\n                function GearColorValue(color, strokeColor) {\r\n                    this.color = null;\r\n                    this.strokeColor = null;\r\n                    this.color = color;\r\n                    this.strokeColor = strokeColor;\r\n                }\r\n                __class(GearColorValue, '');\r\n                return GearColorValue;\r\n            })()\r\n        }\r\n\r\n        return GearColor;\r\n    })(GearBase)\r\n\r\n\r\n    //class fairygui.GearDisplay extends fairygui.GearBase\r\n    var GearDisplay = (function(_super) {\r\n        function GearDisplay(owner) {\r\n            this.pages = null;\r\n            this._visible = 0;\r\n            GearDisplay.__super.call(this, owner);\r\n            this._displayLockToken = 1;\r\n        }\r\n\r\n        __class(GearDisplay, 'fairygui.GearDisplay', _super);\r\n        var __proto = GearDisplay.prototype;\r\n        __proto.init = function() {\r\n            this.pages = null;\r\n        }\r\n\r\n        __proto.addLock = function() {\r\n            this._visible++;\r\n            return this._displayLockToken;\r\n        }\r\n\r\n        __proto.releaseLock = function(token) {\r\n            if (token == this._displayLockToken)\r\n                this._visible--;\r\n        }\r\n\r\n        __proto.apply = function() {\r\n            this._displayLockToken++;\r\n            if (this._displayLockToken <= 0)\r\n                this._displayLockToken = 1;\r\n            if (this.pages == null || this.pages.length == 0 ||\r\n                this.pages.indexOf(this._controller.selectedPageId) != -1)\r\n                this._visible = 1;\r\n            else\r\n                this._visible = 0;\r\n        }\r\n\r\n        __getset(0, __proto, 'connected', function() {\r\n            return this._controller == null || this._visible > 0;\r\n        });\r\n\r\n        return GearDisplay;\r\n    })(GearBase)\r\n\r\n\r\n    //class fairygui.GearIcon extends fairygui.GearBase\r\n    var GearIcon = (function(_super) {\r\n        function GearIcon(owner) {\r\n            this._storage = null;\r\n            this._default = null;\r\n            GearIcon.__super.call(this, owner);\r\n        }\r\n\r\n        __class(GearIcon, 'fairygui.GearIcon', _super);\r\n        var __proto = GearIcon.prototype;\r\n        __proto.init = function() {\r\n            this._default = this._owner.icon;\r\n            this._storage = {};\r\n        }\r\n\r\n        __proto.addStatus = function(pageId, value) {\r\n            if (pageId == null)\r\n                this._default = value;\r\n            else\r\n                this._storage[pageId] = value;\r\n        }\r\n\r\n        __proto.apply = function() {\r\n            this._owner._gearLocked = true;\r\n            var data = this._storage[this._controller.selectedPageId];\r\n            if (data != undefined)\r\n                this._owner.icon = String(data);\r\n            else\r\n                this._owner.icon = this._default;\r\n            this._owner._gearLocked = false;\r\n        }\r\n\r\n        __proto.updateState = function() {\r\n            this._storage[this._controller.selectedPageId] = this._owner.icon;\r\n        }\r\n\r\n        return GearIcon;\r\n    })(GearBase)\r\n\r\n\r\n    //class fairygui.GearLook extends fairygui.GearBase\r\n    var GearLook = (function(_super) {\r\n        var GearLookValue;\r\n\r\n        function GearLook(owner) {\r\n            this.tweener = null;\r\n            this._storage = null;\r\n            this._default = null;\r\n            this._tweenValue = null;\r\n            this._tweenTarget = null;\r\n            GearLook.__super.call(this, owner);\r\n        }\r\n\r\n        __class(GearLook, 'fairygui.GearLook', _super);\r\n        var __proto = GearLook.prototype;\r\n        __proto.init = function() {\r\n            this._default = new GearLookValue(this._owner.alpha, this._owner.rotation, this._owner.grayed, this._owner.touchable);\r\n            this._storage = {};\r\n        }\r\n\r\n        __proto.addStatus = function(pageId, value) {\r\n            if (value == \"-\")\r\n                return;\r\n            var arr = value.split(\",\");\r\n            var gv;\r\n            if (pageId == null)\r\n                gv = this._default;\r\n            else {\r\n                gv = new GearLookValue();\r\n                this._storage[pageId] = gv;\r\n            }\r\n            gv.alpha = parseFloat(arr[0]);\r\n            gv.rotation = parseInt(arr[1]);\r\n            gv.grayed = arr[2] == \"1\" ? true : false;\r\n            if (arr.length < 4)\r\n                gv.touchable = this._owner.touchable;\r\n            else\r\n                gv.touchable = arr[3] == \"1\" ? true : false;\r\n        }\r\n\r\n        __proto.apply = function() {\r\n            var gv = this._storage[this._controller.selectedPageId];\r\n            if (!gv)\r\n                gv = this._default;\r\n            if (this._tween && !UIPackage._constructing && !GearBase.disableAllTweenEffect) {\r\n                this._owner._gearLocked = true;\r\n                this._owner.grayed = gv.grayed;\r\n                this._owner.touchable = gv.touchable;\r\n                this._owner._gearLocked = false;\r\n                if (this.tweener != null) {\r\n                    if (this._tweenTarget.alpha != gv.alpha || this._tweenTarget.rotation != gv.rotation) {\r\n                        this.tweener.complete();\r\n                        this.tweener = null;\r\n                    } else\r\n                        return;\r\n                };\r\n                var a = gv.alpha != this._owner.alpha;\r\n                var b = gv.rotation != this._owner.rotation;\r\n                if (a || b) {\r\n                    if (this._owner.checkGearController(0, this._controller))\r\n                        this._displayLockToken = this._owner.addDisplayLock();\r\n                    this._tweenTarget = gv;\r\n                    if (this._tweenValue == null)\r\n                        this._tweenValue = new Point();\r\n                    this._tweenValue.x = this._owner.alpha;\r\n                    this._tweenValue.y = this._owner.rotation;\r\n                    this.tweener = Tween.to(this._tweenValue, { x: gv.alpha, y: gv.rotation },\r\n                        this._tweenTime * 1000,\r\n                        this._easeType,\r\n                        Handler.create(this, this.__tweenComplete),\r\n                        this._delay * 1000);\r\n                    this.tweener.update = Handler.create(this, this.__tweenUpdate, [a, b], false);\r\n                }\r\n            } else {\r\n                this._owner._gearLocked = true;\r\n                this._owner.grayed = gv.grayed;\r\n                this._owner.alpha = gv.alpha;\r\n                this._owner.rotation = gv.rotation;\r\n                this._owner.touchable = gv.touchable;\r\n                this._owner._gearLocked = false;\r\n            }\r\n        }\r\n\r\n        __proto.__tweenUpdate = function(a, b) {\r\n            this._owner._gearLocked = true;\r\n            if (a)\r\n                this._owner.alpha = this._tweenValue.x;\r\n            if (b)\r\n                this._owner.rotation = this._tweenValue.y;\r\n            this._owner._gearLocked = false;\r\n        }\r\n\r\n        __proto.__tweenComplete = function() {\r\n            if (this._displayLockToken != 0) {\r\n                this._owner.releaseDisplayLock(this._displayLockToken);\r\n                this._displayLockToken = 0;\r\n            }\r\n            this.tweener = null;\r\n            this._owner.displayObject.event( /*fairygui.Events.GEAR_STOP*/ \"fui_gear_stop\");\r\n        }\r\n\r\n        __proto.updateState = function() {\r\n            var gv = this._storage[this._controller.selectedPageId];\r\n            if (!gv) {\r\n                gv = new GearLookValue();\r\n                this._storage[this._controller.selectedPageId] = gv;\r\n            }\r\n            gv.alpha = this._owner.alpha;\r\n            gv.rotation = this._owner.rotation;\r\n            gv.grayed = this._owner.grayed;\r\n            gv.touchable = this._owner.touchable;\r\n        }\r\n\r\n        GearLook.__init$ = function() {\r\n            //class GearLookValue\r\n            GearLookValue = (function() {\r\n                function GearLookValue(alpha, rotation, grayed, touchable) {\r\n                    this.alpha = NaN;\r\n                    this.rotation = NaN;\r\n                    this.grayed = false;\r\n                    this.touchable = false;\r\n                    (alpha === void 0) && (alpha = 0);\r\n                    (rotation === void 0) && (rotation = 0);\r\n                    (grayed === void 0) && (grayed = false);\r\n                    (touchable === void 0) && (touchable = true);\r\n                    this.alpha = alpha;\r\n                    this.rotation = rotation;\r\n                    this.grayed = grayed;\r\n                    this.touchable = touchable;\r\n                }\r\n                __class(GearLookValue, '');\r\n                return GearLookValue;\r\n            })()\r\n        }\r\n\r\n        return GearLook;\r\n    })(GearBase)\r\n\r\n\r\n    //class fairygui.GGraph extends fairygui.GObject\r\n    var GGraph = (function(_super) {\r\n        function GGraph() {\r\n            this._type = NaN;\r\n            this._lineSize = NaN;\r\n            this._lineColor = null;\r\n            this._fillColor = null;\r\n            GGraph.__super.call(this);\r\n            this._type = 0;\r\n            this._lineSize = 1;\r\n            this._lineColor = \"#000000\"\r\n            this._fillColor = \"#FFFFFF\";\r\n        }\r\n\r\n        __class(GGraph, 'fairygui.GGraph', _super);\r\n        var __proto = GGraph.prototype;\r\n        Laya.imps(__proto, { \"fairygui.IColorGear\": true })\r\n        __proto.drawRect = function(lineSize, lineColor, fillColor) {\r\n            this._type = 1;\r\n            this._lineSize = lineSize;\r\n            this._lineColor = lineColor;\r\n            this._fillColor = fillColor;\r\n            this.drawCommon();\r\n        }\r\n\r\n        __proto.drawEllipse = function(lineSize, lineColor, fillColor) {\r\n            this._type = 2;\r\n            this._lineSize = lineSize;\r\n            this._lineColor = lineColor;\r\n            this._fillColor = fillColor;\r\n            this.drawCommon();\r\n        }\r\n\r\n        __proto.drawCommon = function() {\r\n            this._displayObject.mouseEnabled = this.touchable;\r\n            var gr = this._displayObject.graphics;\r\n            gr.clear();\r\n            var w = this.width;\r\n            var h = this.height;\r\n            if (w == 0 || h == 0)\r\n                return;\r\n            var fillColor = this._fillColor;\r\n            var lineColor = this._lineColor;\r\n            if (Render.isWebGL && ToolSet.startsWith(fillColor, \"rgba\")) {\r\n                var arr = fillColor.substring(5, fillColor.lastIndexOf(\")\")).split(\",\");\r\n                var a = parseFloat(arr[3]);\r\n                if (a == 0)\r\n                    fillColor = null;\r\n                else {\r\n                    fillColor = Utils.toHexColor((parseInt(arr[0]) << 16) + (parseInt(arr[1]) << 8) + parseInt(arr[2]));\r\n                    this.alpha = a;\r\n                }\r\n            }\r\n            if (this._type == 1)\r\n                gr.drawRect(0, 0, w, h, fillColor, this._lineSize > 0 ? lineColor : null, this._lineSize);\r\n            else\r\n                gr.drawCircle(w / 2, h / 2, w / 2, fillColor, this._lineSize > 0 ? lineColor : null, this._lineSize);\r\n            this._displayObject.repaint();\r\n        }\r\n\r\n        __proto.replaceMe = function(target) {\r\n            if (!this._parent)\r\n                throw \"parent not set\";\r\n            target.name = this.name;\r\n            target.alpha = this.alpha;\r\n            target.rotation = this.rotation;\r\n            target.visible = this.visible;\r\n            target.touchable = this.touchable;\r\n            target.grayed = this.grayed;\r\n            target.setXY(this.x, this.y);\r\n            target.setSize(this.width, this.height);\r\n            var index = this._parent.getChildIndex(this);\r\n            this._parent.addChildAt(target, index);\r\n            target.relations.copyFrom(this.relations);\r\n            this._parent.removeChild(this, true);\r\n        }\r\n\r\n        __proto.addBeforeMe = function(target) {\r\n            if (this._parent == null)\r\n                throw \"parent not set\";\r\n            var index = this._parent.getChildIndex(this);\r\n            this._parent.addChildAt(target, index);\r\n        }\r\n\r\n        __proto.addAfterMe = function(target) {\r\n            if (this._parent == null)\r\n                throw \"parent not set\";\r\n            var index = this._parent.getChildIndex(this);\r\n            index++;\r\n            this._parent.addChildAt(target, index);\r\n        }\r\n\r\n        __proto.setNativeObject = function(obj) {\r\n            this._type = 0;\r\n            this._displayObject.mouseEnabled = this.touchable;\r\n            this._displayObject.graphics.clear();\r\n            this._displayObject.addChild(obj);\r\n        }\r\n\r\n        __proto.createDisplayObject = function() {\r\n            _super.prototype.createDisplayObject.call(this);\r\n            this._displayObject.mouseEnabled = false;\r\n        }\r\n\r\n        __proto.handleSizeChanged = function() {\r\n            _super.prototype.handleSizeChanged.call(this);\r\n            if (this._type != 0)\r\n                this.drawCommon();\r\n        }\r\n\r\n        __proto.setup_beforeAdd = function(xml) {\r\n            _super.prototype.setup_beforeAdd.call(this, xml);\r\n            var type = xml.getAttribute(\"type\");\r\n            if (type && type != \"empty\") {\r\n                var str;\r\n                str = xml.getAttribute(\"lineSize\");\r\n                if (str)\r\n                    this._lineSize = parseInt(str);\r\n                str = xml.getAttribute(\"lineColor\");\r\n                if (str) {\r\n                    var c = ToolSet.convertFromHtmlColor(str, true);\r\n                    var a = ((c >> 24) & 0xFF) / 0xFF;\r\n                    if (a != 1)\r\n                        this._lineColor = \"rgba(\" + ((c >> 16) & 0xFF) + \",\" + ((c >> 8) & 0xFF) + \",\" + (c & 0xFF) + \",\" + a + \")\";\r\n                    else\r\n                        this._lineColor = Utils.toHexColor(c & 0xFFFFFF);\r\n                }\r\n                str = xml.getAttribute(\"fillColor\");\r\n                if (str) {\r\n                    c = ToolSet.convertFromHtmlColor(str, true);\r\n                    a = ((c >> 24) & 0xFF) / 0xFF;\r\n                    if (a != 1)\r\n                        this._fillColor = \"rgba(\" + ((c >> 16) & 0xFF) + \",\" + ((c >> 8) & 0xFF) + \",\" + (c & 0xFF) + \",\" + a + \")\";\r\n                    else\r\n                        this._fillColor = Utils.toHexColor(c & 0xFFFFFF);\r\n                }\r\n                if (type == \"rect\")\r\n                    this._type = 1;\r\n                else\r\n                    this._type = 2;\r\n                this.drawCommon();\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'color', function() {\r\n            return this._fillColor;\r\n        }, function(value) {\r\n            this._fillColor = value;\r\n            if (this._type != 0)\r\n                this.drawCommon();\r\n        });\r\n\r\n        return GGraph;\r\n    })(GObject)\r\n\r\n\r\n    //class fairygui.GGroup extends fairygui.GObject\r\n    var GGroup = (function(_super) {\r\n        function GGroup() {\r\n            this._layout = 0;\r\n            this._lineGap = 0;\r\n            this._columnGap = 0;\r\n            this._percentReady = false;\r\n            this._boundsChanged = false;\r\n            this._updating = 0;\r\n            GGroup.__super.call(this);\r\n        }\r\n\r\n        __class(GGroup, 'fairygui.GGroup', _super);\r\n        var __proto = GGroup.prototype;\r\n        __proto.setBoundsChangedFlag = function(childSizeChanged) {\r\n            (childSizeChanged === void 0) && (childSizeChanged = false);\r\n            if (this._updating == 0 && this.parent != null) {\r\n                if (childSizeChanged)\r\n                    this._percentReady = false;\r\n                if (!this._boundsChanged) {\r\n                    this._boundsChanged = true;\r\n                    if (this._layout != /*fairygui.GroupLayoutType.None*/ 0)\r\n                        Laya.timer.callLater(this, this.ensureBoundsCorrect);\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.ensureBoundsCorrect = function() {\r\n            if (this._boundsChanged)\r\n                this.updateBounds();\r\n        }\r\n\r\n        __proto.updateBounds = function() {\r\n            Laya.timer.clear(this, this.ensureBoundsCorrect);\r\n            this._boundsChanged = false;\r\n            if (this.parent == null)\r\n                return;\r\n            this.handleLayout();\r\n            var cnt = this._parent.numChildren;\r\n            var i = 0;\r\n            var child;\r\n            var ax = Number.MAX_VALUE,\r\n                ay = Number.MAX_VALUE;\r\n            var ar = Number.MIN_VALUE,\r\n                ab = Number.MIN_VALUE;\r\n            var tmp = 0;\r\n            var empty = true;\r\n            for (i = 0; i < cnt; i++) {\r\n                child = this._parent.getChildAt(i);\r\n                if (child.group == this) {\r\n                    tmp = child.x;\r\n                    if (tmp < ax)\r\n                        ax = tmp;\r\n                    tmp = child.y;\r\n                    if (tmp < ay)\r\n                        ay = tmp;\r\n                    tmp = child.x + child.width;\r\n                    if (tmp > ar)\r\n                        ar = tmp;\r\n                    tmp = child.y + child.height;\r\n                    if (tmp > ab)\r\n                        ab = tmp;\r\n                    empty = false;\r\n                }\r\n            }\r\n            if (!empty) {\r\n                this._updating = 1;\r\n                this.setXY(ax, ay);\r\n                this._updating = 2;\r\n                this.setSize(ar - ax, ab - ay);\r\n            } else {\r\n                this._updating = 2;\r\n                this.setSize(0, 0);\r\n            }\r\n            this._updating = 0;\r\n        }\r\n\r\n        __proto.handleLayout = function() {\r\n            this._updating |= 1;\r\n            var child;\r\n            var i = 0;\r\n            var cnt = 0;\r\n            if (this._layout == /*fairygui.GroupLayoutType.Horizontal*/ 1) {\r\n                var curX = NaN;\r\n                cnt = this.parent.numChildren;\r\n                for (i = 0; i < cnt; i++) {\r\n                    child = this.parent.getChildAt(i);\r\n                    if (child.group != this)\r\n                        continue;\r\n                    if (isNaN(curX))\r\n                        curX = Math.floor(child.x);\r\n                    else\r\n                        child.x = curX;\r\n                    if (child.width != 0)\r\n                        curX += Math.floor(child.width + this._columnGap);\r\n                }\r\n                if (!this._percentReady)\r\n                    this.updatePercent();\r\n            } else if (this._layout == /*fairygui.GroupLayoutType.Vertical*/ 2) {\r\n                var curY = NaN;\r\n                cnt = this.parent.numChildren;\r\n                for (i = 0; i < cnt; i++) {\r\n                    child = this.parent.getChildAt(i);\r\n                    if (child.group != this)\r\n                        continue;\r\n                    if (isNaN(curY))\r\n                        curY = Math.floor(child.y);\r\n                    else\r\n                        child.y = curY;\r\n                    if (child.height != 0)\r\n                        curY += Math.floor(child.height + this._lineGap);\r\n                }\r\n                if (!this._percentReady)\r\n                    this.updatePercent();\r\n            }\r\n            this._updating &= 2;\r\n        }\r\n\r\n        __proto.updatePercent = function() {\r\n            this._percentReady = true;\r\n            var cnt = this.parent.numChildren;\r\n            var i = 0;\r\n            var child;\r\n            var size = 0;\r\n            if (this._layout == /*fairygui.GroupLayoutType.Horizontal*/ 1) {\r\n                for (i = 0; i < cnt; i++) {\r\n                    child = this.parent.getChildAt(i);\r\n                    if (child.group != this)\r\n                        continue;\r\n                    size += child.width;\r\n                }\r\n                for (i = 0; i < cnt; i++) {\r\n                    child = this.parent.getChildAt(i);\r\n                    if (child.group != this)\r\n                        continue;\r\n                    if (size > 0)\r\n                        child._sizePercentInGroup = child.width / size;\r\n                    else\r\n                        child._sizePercentInGroup = 0;\r\n                }\r\n            } else {\r\n                for (i = 0; i < cnt; i++) {\r\n                    child = this.parent.getChildAt(i);\r\n                    if (child.group != this)\r\n                        continue;\r\n                    size += child.height;\r\n                }\r\n                for (i = 0; i < cnt; i++) {\r\n                    child = this.parent.getChildAt(i);\r\n                    if (child.group != this)\r\n                        continue;\r\n                    if (size > 0)\r\n                        child._sizePercentInGroup = child.height / size;\r\n                    else\r\n                        child._sizePercentInGroup = 0;\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.moveChildren = function(dx, dy) {\r\n            if ((this._updating & 1) != 0 || this.parent == null)\r\n                return;\r\n            this._updating |= 1;\r\n            var cnt = this.parent.numChildren;\r\n            var i = 0;\r\n            var child;\r\n            for (i = 0; i < cnt; i++) {\r\n                child = this.parent.getChildAt(i);\r\n                if (child.group == this) {\r\n                    child.setXY(child.x + dx, child.y + dy);\r\n                }\r\n            }\r\n            this._updating &= 2;\r\n        }\r\n\r\n        __proto.resizeChildren = function(dw, dh) {\r\n            if (this._layout == /*fairygui.GroupLayoutType.None*/ 0 || (this._updating & 2) != 0 || this.parent == null)\r\n                return;\r\n            this._updating |= 2;\r\n            if (!this._percentReady)\r\n                this.updatePercent();\r\n            var cnt = this.parent.numChildren;\r\n            var i = 0;\r\n            var j = 0;\r\n            var child;\r\n            var last = -1;\r\n            var numChildren = 0;\r\n            var lineSize = 0;\r\n            var remainSize = 0;\r\n            var found = false;\r\n            for (i = 0; i < cnt; i++) {\r\n                child = this.parent.getChildAt(i);\r\n                if (child.group != this)\r\n                    continue;\r\n                last = i;\r\n                numChildren++;\r\n            }\r\n            if (this._layout == /*fairygui.GroupLayoutType.Horizontal*/ 1) {\r\n                remainSize = lineSize = this.width - (numChildren - 1) * this._columnGap;\r\n                var curX = NaN;\r\n                var nw = NaN;\r\n                for (i = 0; i < cnt; i++) {\r\n                    child = this.parent.getChildAt(i);\r\n                    if (child.group != this)\r\n                        continue;\r\n                    if (isNaN(curX))\r\n                        curX = Math.floor(child.x);\r\n                    else\r\n                        child.x = curX;\r\n                    if (last == i)\r\n                        nw = remainSize;\r\n                    else\r\n                        nw = Math.round(child._sizePercentInGroup * lineSize);\r\n                    child.setSize(nw, child._rawHeight + dh, true);\r\n                    remainSize -= child.width;\r\n                    if (last == i) {\r\n                        if (remainSize >= 1) {\r\n                            for (j = 0; j <= i; j++) {\r\n                                child = this.parent.getChildAt(j);\r\n                                if (child.group != this)\r\n                                    continue;\r\n                                if (!found) {\r\n                                    nw = child.width + remainSize;\r\n                                    if ((child.maxWidth == 0 || nw < child.maxWidth) &&\r\n                                        (child.minWidth == 0 || nw > child.minWidth)) {\r\n                                        child.setSize(nw, child.height, true);\r\n                                        found = true;\r\n                                    }\r\n                                } else\r\n                                    child.x += remainSize;\r\n                            }\r\n                        }\r\n                    } else\r\n                        curX += (child.width + this._columnGap);\r\n                }\r\n            } else if (this._layout == /*fairygui.GroupLayoutType.Vertical*/ 2) {\r\n                remainSize = lineSize = this.height - (numChildren - 1) * this._lineGap;\r\n                var curY = NaN;\r\n                var nh = NaN;\r\n                for (i = 0; i < cnt; i++) {\r\n                    child = this.parent.getChildAt(i);\r\n                    if (child.group != this)\r\n                        continue;\r\n                    if (isNaN(curY))\r\n                        curY = Math.floor(child.y);\r\n                    else\r\n                        child.y = curY;\r\n                    if (last == i)\r\n                        nh = remainSize;\r\n                    else\r\n                        nh = Math.round(child._sizePercentInGroup * lineSize);\r\n                    child.setSize(child._rawWidth + dw, nh, true);\r\n                    remainSize -= child.height;\r\n                    if (last == i) {\r\n                        if (remainSize >= 1) {\r\n                            for (j = 0; j <= i; j++) {\r\n                                child = this.parent.getChildAt(j);\r\n                                if (child.group != this)\r\n                                    continue;\r\n                                if (!found) {\r\n                                    nh = child.height + remainSize;\r\n                                    if ((child.maxHeight == 0 || nh < child.maxHeight) &&\r\n                                        (child.minHeight == 0 || nh > child.minHeight)) {\r\n                                        child.setSize(child.width, nh, true);\r\n                                        found = true;\r\n                                    }\r\n                                } else\r\n                                    child.y += remainSize;\r\n                            }\r\n                        }\r\n                    } else\r\n                        curY += (child.height + this._lineGap);\r\n                }\r\n            }\r\n            this._updating &= 1;\r\n        }\r\n\r\n        __proto.updateAlpha = function() {\r\n            _super.prototype.updateAlpha.call(this);\r\n            if (this._underConstruct)\r\n                return;\r\n            var cnt = this._parent.numChildren;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var child = this._parent.getChildAt(i);\r\n                if (child.group == this)\r\n                    child.alpha = this.alpha;\r\n            }\r\n        }\r\n\r\n        __proto.setup_beforeAdd = function(xml) {\r\n            _super.prototype.setup_beforeAdd.call(this, xml);\r\n            var str;\r\n            str = xml.getAttribute(\"layout\");\r\n            if (str != null) {\r\n                this._layout = GroupLayoutType.parse(str);\r\n                str = xml.getAttribute(\"lineGap\");\r\n                if (str)\r\n                    this._lineGap = parseInt(str);\r\n                str = xml.getAttribute(\"colGap\");\r\n                if (str)\r\n                    this._columnGap = parseInt(str);\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'layout', function() {\r\n            return this._layout;\r\n        }, function(value) {\r\n            if (this._layout != value) {\r\n                this._layout = value;\r\n                this.setBoundsChangedFlag(true);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'columnGap', function() {\r\n            return this._columnGap;\r\n        }, function(value) {\r\n            if (this._columnGap != value) {\r\n                this._columnGap = value;\r\n                this.setBoundsChangedFlag();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'lineGap', function() {\r\n            return this._lineGap;\r\n        }, function(value) {\r\n            if (this._lineGap != value) {\r\n                this._lineGap = value;\r\n                this.setBoundsChangedFlag();\r\n            }\r\n        });\r\n\r\n        return GGroup;\r\n    })(GObject)\r\n\r\n\r\n    //class fairygui.GearSize extends fairygui.GearBase\r\n    var GearSize = (function(_super) {\r\n        var GearSizeValue;\r\n\r\n        function GearSize(owner) {\r\n            this.tweener = null;\r\n            this._storage = null;\r\n            this._default = null;\r\n            this._tweenValue = null;\r\n            this._tweenTarget = null;\r\n            GearSize.__super.call(this, owner);\r\n        }\r\n\r\n        __class(GearSize, 'fairygui.GearSize', _super);\r\n        var __proto = GearSize.prototype;\r\n        __proto.init = function() {\r\n            this._default = new GearSizeValue(this._owner.width, this._owner.height,\r\n                this._owner.scaleX, this._owner.scaleY);\r\n            this._storage = {};\r\n        }\r\n\r\n        __proto.addStatus = function(pageId, value) {\r\n            if (value == \"-\")\r\n                return;\r\n            var arr = value.split(\",\");\r\n            var gv;\r\n            if (pageId == null)\r\n                gv = this._default;\r\n            else {\r\n                gv = new GearSizeValue();\r\n                this._storage[pageId] = gv;\r\n            }\r\n            gv.width = parseInt(arr[0]);\r\n            gv.height = parseInt(arr[1]);\r\n            if (arr.length > 2) {\r\n                gv.scaleX = parseFloat(arr[2]);\r\n                gv.scaleY = parseFloat(arr[3]);\r\n            }\r\n        }\r\n\r\n        __proto.apply = function() {\r\n            var gv = this._storage[this._controller.selectedPageId];\r\n            if (!gv)\r\n                gv = this._default;\r\n            if (this._tween && !UIPackage._constructing && !GearBase.disableAllTweenEffect) {\r\n                if (this.tweener != null) {\r\n                    if (this._tweenTarget.width != gv.width || this._tweenTarget.height != gv.height ||\r\n                        this._tweenTarget.scaleX != gv.scaleX || this._tweenTarget.scaleY != gv.scaleY) {\r\n                        this.tweener.complete();\r\n                        this.tweener = null;\r\n                    } else\r\n                        return;\r\n                };\r\n                var a = gv.width != this._owner.width || gv.height != this._owner.height;\r\n                var b = gv.scaleX != this._owner.scaleX || gv.scaleY != this._owner.scaleY;\r\n                if (a || b) {\r\n                    if (this._owner.checkGearController(0, this._controller))\r\n                        this._displayLockToken = this._owner.addDisplayLock();\r\n                    this._tweenTarget = gv;\r\n                    if (this._tweenValue == null)\r\n                        this._tweenValue = new GearSizeValue();\r\n                    this._tweenValue.width = this._owner.width;\r\n                    this._tweenValue.height = this._owner.height;\r\n                    this._tweenValue.scaleX = this._owner.scaleX;\r\n                    this._tweenValue.scaleY = this._owner.scaleY;\r\n                    this.tweener = Tween.to(this._tweenValue, { width: gv.width, height: gv.height, scaleX: gv.scaleX, scaleY: gv.scaleY },\r\n                        this._tweenTime * 1000,\r\n                        this._easeType,\r\n                        Handler.create(this, this.__tweenComplete),\r\n                        this._delay * 1000);\r\n                    this.tweener.update = Handler.create(this, this.__tweenUpdate, [a, b], false);\r\n                }\r\n            } else {\r\n                this._owner._gearLocked = true;\r\n                this._owner.setSize(gv.width, gv.height, this._owner.checkGearController(1, this._controller));\r\n                this._owner.setScale(gv.scaleX, gv.scaleY);\r\n                this._owner._gearLocked = false;\r\n            }\r\n        }\r\n\r\n        __proto.__tweenUpdate = function(a, b) {\r\n            this._owner._gearLocked = true;\r\n            if (a)\r\n                this._owner.setSize(this._tweenValue.width, this._tweenValue.height, this._owner.checkGearController(1, this._controller));\r\n            if (b)\r\n                this._owner.setScale(this._tweenValue.scaleX, this._tweenValue.scaleY);\r\n            this._owner._gearLocked = false;\r\n        }\r\n\r\n        __proto.__tweenComplete = function() {\r\n            if (this._displayLockToken != 0) {\r\n                this._owner.releaseDisplayLock(this._displayLockToken);\r\n                this._displayLockToken = 0;\r\n            }\r\n            this.tweener = null;\r\n            this._owner.displayObject.event( /*fairygui.Events.GEAR_STOP*/ \"fui_gear_stop\");\r\n        }\r\n\r\n        __proto.updateState = function() {\r\n            var gv = this._storage[this._controller.selectedPageId];\r\n            if (!gv) {\r\n                gv = new GearSizeValue();\r\n                this._storage[this._controller.selectedPageId] = gv;\r\n            }\r\n            gv.width = this._owner.width;\r\n            gv.height = this._owner.height;\r\n            gv.scaleX = this._owner.scaleX;\r\n            gv.scaleY = this._owner.scaleY;\r\n        }\r\n\r\n        __proto.updateFromRelations = function(dx, dy) {\r\n            if (this._controller == null || this._storage == null)\r\n                return;\r\n            for (var key in this._storage) {\r\n                var gv = this._storage[key];\r\n                gv.width += dx;\r\n                gv.height += dy;\r\n            }\r\n            this._default.width += dx;\r\n            this._default.height += dy;\r\n            this.updateState();\r\n        }\r\n\r\n        GearSize.__init$ = function() {\r\n            //class GearSizeValue\r\n            GearSizeValue = (function() {\r\n                function GearSizeValue(width, height, scaleX, scaleY) {\r\n                    this.width = NaN;\r\n                    this.height = NaN;\r\n                    this.scaleX = NaN;\r\n                    this.scaleY = NaN;\r\n                    (width === void 0) && (width = 0);\r\n                    (height === void 0) && (height = 0);\r\n                    (scaleX === void 0) && (scaleX = 0);\r\n                    (scaleY === void 0) && (scaleY = 0);\r\n                    this.width = width;\r\n                    this.height = height;\r\n                    this.scaleX = scaleX;\r\n                    this.scaleY = scaleY;\r\n                }\r\n                __class(GearSizeValue, '');\r\n                return GearSizeValue;\r\n            })()\r\n        }\r\n\r\n        return GearSize;\r\n    })(GearBase)\r\n\r\n\r\n    //class fairygui.GImage extends fairygui.GObject\r\n    var GImage = (function(_super) {\r\n        function GImage() {\r\n            this.image = null;\r\n            this._color = null;\r\n            this._flip = 0;\r\n            GImage.__super.call(this);\r\n            this._color = \"#FFFFFF\";\r\n        }\r\n\r\n        __class(GImage, 'fairygui.GImage', _super);\r\n        var __proto = GImage.prototype;\r\n        Laya.imps(__proto, { \"fairygui.IColorGear\": true })\r\n        __proto.applyColor = function() {}\r\n        __proto.createDisplayObject = function() {\r\n            this._displayObject = this.image = new Image1();\r\n            this.image.mouseEnabled = false;\r\n            this._displayObject[\"$owner\"] = this;\r\n        }\r\n\r\n        __proto.constructFromResource = function() {\r\n            this.packageItem.load();\r\n            this.sourceWidth = this.packageItem.width;\r\n            this.sourceHeight = this.packageItem.height;\r\n            this.initWidth = this.sourceWidth;\r\n            this.initHeight = this.sourceHeight;\r\n            this.image.scale9Grid = this.packageItem.scale9Grid;\r\n            this.image.scaleByTile = this.packageItem.scaleByTile;\r\n            this.image.tileGridIndice = this.packageItem.tileGridIndice;\r\n            this.image.tex = this.packageItem.texture;\r\n            this.setSize(this.sourceWidth, this.sourceHeight);\r\n        }\r\n\r\n        __proto.handleXYChanged = function() {\r\n            _super.prototype.handleXYChanged.call(this);\r\n            if (this._flip != /*fairygui.FlipType.None*/ 0) {\r\n                if (this.scaleX == -1)\r\n                    this.image.x += this.width;\r\n                if (this.scaleY == -1)\r\n                    this.image.y += this.height;\r\n            }\r\n        }\r\n\r\n        __proto.handleSizeChanged = function() {\r\n            if (this.image.tex != null) {\r\n                this.image.scaleTexture(this.width / this.sourceWidth, this.height / this.sourceHeight);\r\n            }\r\n        }\r\n\r\n        __proto.setup_beforeAdd = function(xml) {\r\n            _super.prototype.setup_beforeAdd.call(this, xml);\r\n            var str;\r\n            str = xml.getAttribute(\"color\");\r\n            if (str)\r\n                this.color = str;\r\n            str = xml.getAttribute(\"flip\");\r\n            if (str)\r\n                this.flip = FlipType.parse(str);\r\n        }\r\n\r\n        __getset(0, __proto, 'color', function() {\r\n            return this._color;\r\n        }, function(value) {\r\n            if (this._color != value) {\r\n                this._color = value;\r\n                this.updateGear(4);\r\n                this.applyColor();\r\n            }\r\n        });\r\n\r\n        //not supported yet\r\n        __getset(0, __proto, 'flip', function() {\r\n            return this._flip;\r\n        }, function(value) {\r\n            if (this._flip != value) {\r\n                this._flip = value;\r\n                var sx = 1,\r\n                    sy = 1;\r\n                if (this._flip == /*fairygui.FlipType.Horizontal*/ 1 || this._flip == /*fairygui.FlipType.Both*/ 3)\r\n                    sx = -1;\r\n                if (this._flip == /*fairygui.FlipType.Vertical*/ 2 || this._flip == /*fairygui.FlipType.Both*/ 3)\r\n                    sy = -1;\r\n                this.setScale(sx, sy);\r\n                this.handleXYChanged();\r\n            }\r\n        });\r\n\r\n        return GImage;\r\n    })(GObject)\r\n\r\n\r\n    //class fairygui.GearText extends fairygui.GearBase\r\n    var GearText = (function(_super) {\r\n        function GearText(owner) {\r\n            this._storage = null;\r\n            this._default = null;\r\n            GearText.__super.call(this, owner);\r\n        }\r\n\r\n        __class(GearText, 'fairygui.GearText', _super);\r\n        var __proto = GearText.prototype;\r\n        __proto.init = function() {\r\n            this._default = this._owner.text;\r\n            this._storage = {};\r\n        }\r\n\r\n        __proto.addStatus = function(pageId, value) {\r\n            if (pageId == null)\r\n                this._default = value;\r\n            else\r\n                this._storage[pageId] = value;\r\n        }\r\n\r\n        __proto.apply = function() {\r\n            this._owner._gearLocked = true;\r\n            var data = this._storage[this._controller.selectedPageId];\r\n            if (data != undefined)\r\n                this._owner.text = String(data);\r\n            else\r\n                this._owner.text = this._default;\r\n            this._owner._gearLocked = false;\r\n        }\r\n\r\n        __proto.updateState = function() {\r\n            this._storage[this._controller.selectedPageId] = this._owner.text;\r\n        }\r\n\r\n        return GearText;\r\n    })(GearBase)\r\n\r\n\r\n    //class fairygui.GearXY extends fairygui.GearBase\r\n    var GearXY = (function(_super) {\r\n        function GearXY(owner) {\r\n            this.tweener = null;\r\n            this._storage = null;\r\n            this._default = null;\r\n            this._tweenValue = null;\r\n            this._tweenTarget = null;\r\n            GearXY.__super.call(this, owner);\r\n        }\r\n\r\n        __class(GearXY, 'fairygui.GearXY', _super);\r\n        var __proto = GearXY.prototype;\r\n        __proto.init = function() {\r\n            this._default = new Point(this._owner.x, this._owner.y);\r\n            this._storage = {};\r\n        }\r\n\r\n        __proto.addStatus = function(pageId, value) {\r\n            if (value == \"-\")\r\n                return;\r\n            var arr = value.split(\",\");\r\n            var pt;\r\n            if (pageId == null)\r\n                pt = this._default;\r\n            else {\r\n                pt = new Point();\r\n                this._storage[pageId] = pt;\r\n            }\r\n            pt.x = parseInt(arr[0]);\r\n            pt.y = parseInt(arr[1]);\r\n        }\r\n\r\n        __proto.apply = function() {\r\n            var pt = this._storage[this._controller.selectedPageId];\r\n            if (!pt)\r\n                pt = this._default;\r\n            if (this._tween && !UIPackage._constructing && !GearBase.disableAllTweenEffect) {\r\n                if (this.tweener) {\r\n                    if (this._tweenTarget.x != pt.x || this._tweenTarget.y != pt.y) {\r\n                        this.tweener.complete();\r\n                        this.tweener = null;\r\n                    } else\r\n                        return;\r\n                }\r\n                if (this._owner.x != pt.x || this._owner.y != pt.y) {\r\n                    if (this._owner.checkGearController(0, this._controller))\r\n                        this._displayLockToken = this._owner.addDisplayLock();\r\n                    this._tweenTarget = pt;\r\n                    if (this._tweenValue == null)\r\n                        this._tweenValue = new Point();\r\n                    this._tweenValue.x = this._owner.x;\r\n                    this._tweenValue.y = this._owner.y;\r\n                    this.tweener = Tween.to(this._tweenValue, { x: pt.x, y: pt.y },\r\n                        this._tweenTime * 1000,\r\n                        this._easeType,\r\n                        Handler.create(this, this.__tweenComplete),\r\n                        this._delay * 1000);\r\n                    this.tweener.update = Handler.create(this, this.__tweenUpdate, null, false);\r\n                }\r\n            } else {\r\n                this._owner._gearLocked = true;\r\n                this._owner.setXY(pt.x, pt.y);\r\n                this._owner._gearLocked = false;\r\n            }\r\n        }\r\n\r\n        __proto.__tweenUpdate = function() {\r\n            this._owner._gearLocked = true;\r\n            this._owner.setXY(this._tweenValue.x, this._tweenValue.y);\r\n            this._owner._gearLocked = false;\r\n        }\r\n\r\n        __proto.__tweenComplete = function() {\r\n            if (this._displayLockToken != 0) {\r\n                this._owner.releaseDisplayLock(this._displayLockToken);\r\n                this._displayLockToken = 0;\r\n            }\r\n            this.tweener = null;\r\n            this._owner.displayObject.event( /*fairygui.Events.GEAR_STOP*/ \"fui_gear_stop\");\r\n        }\r\n\r\n        __proto.updateState = function() {\r\n            var pt = this._storage[this._controller.selectedPageId];\r\n            if (!pt) {\r\n                pt = new Point();\r\n                this._storage[this._controller.selectedPageId] = pt;\r\n            }\r\n            pt.x = this._owner.x;\r\n            pt.y = this._owner.y;\r\n        }\r\n\r\n        __proto.updateFromRelations = function(dx, dy) {\r\n            if (this._controller == null || this._storage == null)\r\n                return;\r\n            for (var key in this._storage) {\r\n                var pt = this._storage[key];\r\n                pt.x += dx;\r\n                pt.y += dy;\r\n            }\r\n            this._default.x += dx;\r\n            this._default.y += dy;\r\n            this.updateState();\r\n        }\r\n\r\n        return GearXY;\r\n    })(GearBase)\r\n\r\n\r\n    //class fairygui.GLoader extends fairygui.GObject\r\n    var GLoader = (function(_super) {\r\n        function GLoader() {\r\n            this._url = null;\r\n            this._align = null;\r\n            this._valign = null;\r\n            this._autoSize = false;\r\n            this._fill = 0;\r\n            this._showErrorSign = false;\r\n            this._playing = false;\r\n            this._frame = 0;\r\n            this._color = null;\r\n            this._contentItem = null;\r\n            this._contentSourceWidth = 0;\r\n            this._contentSourceHeight = 0;\r\n            this._contentWidth = 0;\r\n            this._contentHeight = 0;\r\n            this._content = null;\r\n            this._errorSign = null;\r\n            this._updatingLayout = false;\r\n            GLoader.__super.call(this);\r\n            this._playing = true;\r\n            this._url = \"\";\r\n            this._fill = /*fairygui.LoaderFillType.None*/ 0;\r\n            this._align = \"left\";\r\n            this._valign = \"top\";\r\n            this._showErrorSign = true;\r\n            this._color = \"#FFFFFF\";\r\n        }\r\n\r\n        __class(GLoader, 'fairygui.GLoader', _super);\r\n        var __proto = GLoader.prototype;\r\n        Laya.imps(__proto, { \"fairygui.IAnimationGear\": true, \"fairygui.IColorGear\": true })\r\n        __proto.createDisplayObject = function() {\r\n            _super.prototype.createDisplayObject.call(this);\r\n            this._displayObject.mouseEnabled = true;\r\n        }\r\n\r\n        __proto.dispose = function() {\r\n            if (this._contentItem == null && ((this._content instanceof fairygui.display.Image))) {\r\n                var texture = (this._content).tex;\r\n                if (texture != null)\r\n                    this.freeExternal(texture);\r\n            }\r\n            _super.prototype.dispose.call(this);\r\n        }\r\n\r\n        __proto.applyColor = function() {}\r\n        __proto.loadContent = function() {\r\n            this.clearContent();\r\n            if (!this._url)\r\n                return;\r\n            if (ToolSet.startsWith(this._url, \"ui://\"))\r\n                this.loadFromPackage(this._url);\r\n            else\r\n                this.loadExternal();\r\n        }\r\n\r\n        __proto.loadFromPackage = function(itemURL) {\r\n            this._contentItem = UIPackage.getItemByURL(itemURL);\r\n            if (this._contentItem != null) {\r\n                this._contentItem.load();\r\n                if (this._autoSize)\r\n                    this.setSize(this._contentItem.width, this._contentItem.height);\r\n                if (this._contentItem.type == /*fairygui.PackageItemType.Image*/ 0) {\r\n                    if (this._contentItem.texture == null) {\r\n                        this.setErrorState();\r\n                    } else {\r\n                        if (!((this._content instanceof fairygui.display.Image))) {\r\n                            this._content = new Image1();\r\n                            this._displayObject.addChild(this._content);\r\n                        } else\r\n                            this._displayObject.addChild(this._content);\r\n                        (this._content).tex = this._contentItem.texture;\r\n                        (this._content).scale9Grid = this._contentItem.scale9Grid;\r\n                        (this._content).scaleByTile = this._contentItem.scaleByTile;\r\n                        (this._content).tileGridIndice = this._contentItem.tileGridIndice;\r\n                        this._contentSourceWidth = this._contentItem.width;\r\n                        this._contentSourceHeight = this._contentItem.height;\r\n                        this.updateLayout();\r\n                    }\r\n                } else if (this._contentItem.type == /*fairygui.PackageItemType.MovieClip*/ 2) {\r\n                    if (!((this._content instanceof fairygui.display.MovieClip))) {\r\n                        this._content = new MovieClip1();\r\n                        this._displayObject.addChild(this._content);\r\n                    } else\r\n                        this._displayObject.addChild(this._content);\r\n                    this._contentSourceWidth = this._contentItem.width;\r\n                    this._contentSourceHeight = this._contentItem.height;\r\n                    (this._content).interval = this._contentItem.interval;\r\n                    (this._content).swing = this._contentItem.swing;\r\n                    (this._content).repeatDelay = this._contentItem.repeatDelay;\r\n                    (this._content).frames = this._contentItem.frames;\r\n                    (this._content).boundsRect = new Rectangle(0, 0, this._contentSourceWidth, this._contentSourceHeight);\r\n                    this.updateLayout();\r\n                } else\r\n                    this.setErrorState();\r\n            } else\r\n                this.setErrorState();\r\n        }\r\n\r\n        __proto.loadExternal = function() {\r\n            AssetProxy.inst.load(this._url, Handler.create(this, this.__getResCompleted));\r\n        }\r\n\r\n        __proto.freeExternal = function(texture) {}\r\n        __proto.onExternalLoadSuccess = function(texture) {\r\n            if (!((this._content instanceof fairygui.display.Image))) {\r\n                this._content = new Image1();\r\n                this._displayObject.addChild(this._content);\r\n            } else\r\n                this._displayObject.addChild(this._content);\r\n            (this._content).tex = texture;\r\n            (this._content).scale9Grid = null;\r\n            (this._content).scaleByTile = false;\r\n            this._contentSourceWidth = texture.width;\r\n            this._contentSourceHeight = texture.height;\r\n            this.updateLayout();\r\n        }\r\n\r\n        __proto.onExternalLoadFailed = function() {\r\n            this.setErrorState();\r\n        }\r\n\r\n        __proto.__getResCompleted = function(tex) {\r\n            if (tex != null)\r\n                this.onExternalLoadSuccess(tex);\r\n            else\r\n                this.onExternalLoadFailed();\r\n        }\r\n\r\n        __proto.setErrorState = function() {\r\n            if (!this._showErrorSign)\r\n                return;\r\n            if (this._errorSign == null) {\r\n                if (UIConfig1.loaderErrorSign != null) {\r\n                    this._errorSign = fairygui.GLoader._errorSignPool.getObject(UIConfig1.loaderErrorSign);\r\n                }\r\n            }\r\n            if (this._errorSign != null) {\r\n                this._errorSign.setSize(this.width, this.height);\r\n                this._displayObject.addChild(this._errorSign.displayObject);\r\n            }\r\n        }\r\n\r\n        __proto.clearErrorState = function() {\r\n            if (this._errorSign != null) {\r\n                this._displayObject.removeChild(this._errorSign.displayObject);\r\n                fairygui.GLoader._errorSignPool.returnObject(this._errorSign);\r\n                this._errorSign = null;\r\n            }\r\n        }\r\n\r\n        __proto.updateLayout = function() {\r\n            if (this._content == null) {\r\n                if (this._autoSize) {\r\n                    this._updatingLayout = true;\r\n                    this.setSize(50, 30);\r\n                    this._updatingLayout = false;\r\n                }\r\n                return;\r\n            }\r\n            this._content.x = 0;\r\n            this._content.y = 0;\r\n            this._content.scaleX = 1;\r\n            this._content.scaleY = 1;\r\n            this._contentWidth = this._contentSourceWidth;\r\n            this._contentHeight = this._contentSourceHeight;\r\n            if (this._autoSize) {\r\n                this._updatingLayout = true;\r\n                if (this._contentWidth == 0)\r\n                    this._contentWidth = 50;\r\n                if (this._contentHeight == 0)\r\n                    this._contentHeight = 30;\r\n                this.setSize(this._contentWidth, this._contentHeight);\r\n                this._updatingLayout = false;\r\n                if (this._contentWidth == this._width && this._contentHeight == this._height)\r\n                    return;\r\n            };\r\n            var sx = 1,\r\n                sy = 1;\r\n            if (this._fill != /*fairygui.LoaderFillType.None*/ 0) {\r\n                sx = this.width / this._contentSourceWidth;\r\n                sy = this.height / this._contentSourceHeight;\r\n                if (sx != 1 || sy != 1) {\r\n                    if (this._fill == /*fairygui.LoaderFillType.ScaleMatchHeight*/ 2)\r\n                        sx = sy;\r\n                    else if (this._fill == /*fairygui.LoaderFillType.ScaleMatchWidth*/ 3)\r\n                        sy = sx;\r\n                    else if (this._fill == /*fairygui.LoaderFillType.Scale*/ 1) {\r\n                        if (sx > sy)\r\n                            sx = sy;\r\n                        else\r\n                            sy = sx;\r\n                    }\r\n                    this._contentWidth = this._contentSourceWidth * sx;\r\n                    this._contentHeight = this._contentSourceHeight * sy;\r\n                }\r\n            }\r\n            if ((this._content instanceof fairygui.display.Image))\r\n                (this._content).scaleTexture(sx, sy);\r\n            else\r\n                this._content.scale(sx, sy);\r\n            if (this._align == \"center\")\r\n                this._content.x = Math.floor((this.width - this._contentWidth) / 2);\r\n            else if (this._align == \"right\")\r\n                this._content.x = this.width - this._contentWidth;\r\n            if (this._valign == \"middle\")\r\n                this._content.y = Math.floor((this.height - this._contentHeight) / 2);\r\n            else if (this._valign == \"bottom\")\r\n                this._content.y = this.height - this._contentHeight;\r\n        }\r\n\r\n        __proto.clearContent = function() {\r\n            this.clearErrorState();\r\n            if (this._content != null && this._content.parent != null)\r\n                this._displayObject.removeChild(this._content);\r\n            if (this._contentItem == null && ((this._content instanceof fairygui.display.Image))) {\r\n                var texture = (this._content).tex;\r\n                if (texture != null)\r\n                    this.freeExternal(texture);\r\n            }\r\n            this._contentItem = null;\r\n        }\r\n\r\n        __proto.handleSizeChanged = function() {\r\n            _super.prototype.handleSizeChanged.call(this);\r\n            if (!this._updatingLayout)\r\n                this.updateLayout();\r\n        }\r\n\r\n        __proto.setup_beforeAdd = function(xml) {\r\n            _super.prototype.setup_beforeAdd.call(this, xml);\r\n            var str;\r\n            str = xml.getAttribute(\"url\");\r\n            if (str)\r\n                this._url = str;\r\n            str = xml.getAttribute(\"align\");\r\n            if (str)\r\n                this._align = str;\r\n            str = xml.getAttribute(\"vAlign\");\r\n            if (str)\r\n                this._valign = str;\r\n            str = xml.getAttribute(\"fill\");\r\n            if (str)\r\n                this._fill = LoaderFillType.parse(str);\r\n            this._autoSize = xml.getAttribute(\"autoSize\") == \"true\";\r\n            str = xml.getAttribute(\"errorSign\");\r\n            if (str)\r\n                this._showErrorSign = str == \"true\";\r\n            this._playing = xml.getAttribute(\"playing\") != \"false\";\r\n            str = xml.getAttribute(\"color\");\r\n            if (str)\r\n                this.color = str;\r\n            if (this._url)\r\n                this.loadContent();\r\n        }\r\n\r\n        __getset(0, __proto, 'frame', function() {\r\n            return this._frame;\r\n        }, function(value) {\r\n            if (this._frame != value) {\r\n                this._frame = value;\r\n                if ((this._content instanceof fairygui.display.MovieClip))\r\n                    (this._content).currentFrame = value;\r\n                this.updateGear(5);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'url', function() {\r\n            return this._url;\r\n        }, function(value) {\r\n            if (this._url == value)\r\n                return;\r\n            this._url = value;\r\n            this.loadContent();\r\n            this.updateGear(7);\r\n        });\r\n\r\n        __getset(0, __proto, 'align', function() {\r\n            return this._align;\r\n        }, function(value) {\r\n            if (this._align != value) {\r\n                this._align = value;\r\n                this.updateLayout();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'color', function() {\r\n            return this._color;\r\n        }, function(value) {\r\n            if (this._color != value) {\r\n                this._color = value;\r\n                this.updateGear(4);\r\n                this.applyColor();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'fill', function() {\r\n            return this._fill;\r\n        }, function(value) {\r\n            if (this._fill != value) {\r\n                this._fill = value;\r\n                this.updateLayout();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'verticalAlign', function() {\r\n            return this._valign;\r\n        }, function(value) {\r\n            if (this._valign != value) {\r\n                this._valign = value;\r\n                this.updateLayout();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'icon', function() {\r\n            return this._url;\r\n        }, function(value) {\r\n            this.url = value;\r\n        });\r\n\r\n        //todo:\r\n        __getset(0, __proto, 'showErrorSign', function() {\r\n            return this._showErrorSign;\r\n        }, function(value) {\r\n            this._showErrorSign = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'autoSize', function() {\r\n            return this._autoSize;\r\n        }, function(value) {\r\n            if (this._autoSize != value) {\r\n                this._autoSize = value;\r\n                this.updateLayout();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'playing', function() {\r\n            return this._playing;\r\n        }, function(value) {\r\n            if (this._playing != value) {\r\n                this._playing = value;\r\n                if ((this._content instanceof fairygui.display.MovieClip))\r\n                    (this._content).playing = value;\r\n                this.updateGear(5);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'content', function() {\r\n            return this._content;\r\n        });\r\n\r\n        __static(GLoader, ['_errorSignPool', function() { return this._errorSignPool = new GObjectPool(); }]);\r\n        return GLoader;\r\n    })(GObject)\r\n\r\n\r\n    //class fairygui.GMovieClip extends fairygui.GObject\r\n    var GMovieClip = (function(_super) {\r\n        function GMovieClip() {\r\n            this.movieClip = null;\r\n            GMovieClip.__super.call(this);\r\n            this._sizeImplType = 1;\r\n        }\r\n\r\n        __class(GMovieClip, 'fairygui.GMovieClip', _super);\r\n        var __proto = GMovieClip.prototype;\r\n        Laya.imps(__proto, { \"fairygui.IAnimationGear\": true, \"fairygui.IColorGear\": true })\r\n        __proto.createDisplayObject = function() {\r\n            this._displayObject = this.movieClip = new MovieClip1();\r\n            this.movieClip.mouseEnabled = false;\r\n            this._displayObject[\"$owner\"] = this;\r\n        }\r\n\r\n        //startend-1times0endAt-1end\r\n        __proto.setPlaySettings = function(start, end, times, endAt, endHandler) {\r\n            (start === void 0) && (start = 0);\r\n            (end === void 0) && (end = -1);\r\n            (times === void 0) && (times = 0);\r\n            (endAt === void 0) && (endAt = -1);\r\n            this.movieClip.setPlaySettings(start, end, times, endAt, endHandler);\r\n        }\r\n\r\n        __proto.constructFromResource = function() {\r\n            this.sourceWidth = this.packageItem.width;\r\n            this.sourceHeight = this.packageItem.height;\r\n            this.initWidth = this.sourceWidth;\r\n            this.initHeight = this.sourceHeight;\r\n            this.setSize(this.sourceWidth, this.sourceHeight);\r\n            this.packageItem.load();\r\n            this.movieClip.interval = this.packageItem.interval;\r\n            this.movieClip.swing = this.packageItem.swing;\r\n            this.movieClip.repeatDelay = this.packageItem.repeatDelay;\r\n            this.movieClip.frames = this.packageItem.frames;\r\n            this.movieClip.boundsRect = new Rectangle(0, 0, this.sourceWidth, this.sourceHeight);\r\n        }\r\n\r\n        __proto.setup_beforeAdd = function(xml) {\r\n            _super.prototype.setup_beforeAdd.call(this, xml);\r\n            var str;\r\n            str = xml.getAttribute(\"frame\");\r\n            if (str)\r\n                this.movieClip.currentFrame = parseInt(str);\r\n            str = xml.getAttribute(\"playing\");\r\n            this.movieClip.playing = str != \"false\";\r\n            str = xml.getAttribute(\"color\");\r\n            if (str)\r\n                this.color = str;\r\n        }\r\n\r\n        __getset(0, __proto, 'color', function() {\r\n            return \"#FFFFFF\";\r\n        }, function(value) {});\r\n\r\n        __getset(0, __proto, 'playing', function() {\r\n            return this.movieClip.playing;\r\n        }, function(value) {\r\n            if (this.movieClip.playing != value) {\r\n                this.movieClip.playing = value;\r\n                this.updateGear(5);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'frame', function() {\r\n            return this.movieClip.currentFrame;\r\n        }, function(value) {\r\n            if (this.movieClip.currentFrame != value) {\r\n                this.movieClip.currentFrame = value;\r\n                this.updateGear(5);\r\n            }\r\n        });\r\n\r\n        return GMovieClip;\r\n    })(GObject)\r\n\r\n\r\n    //class fairygui.GBasicTextField extends fairygui.GTextField\r\n    var GBasicTextField = (function(_super) {\r\n        var LineInfo, TextExt;\r\n\r\n        function GBasicTextField() {\r\n            this.textField = null;\r\n            this._font = null;\r\n            this._color = null;\r\n            this._text = null;\r\n            this._ubbEnabled = false;\r\n            this._singleLine = false;\r\n            this._letterSpacing = 0;\r\n            this._autoSize = 0;\r\n            this._widthAutoSize = false;\r\n            this._heightAutoSize = false;\r\n            this._updatingSize = false;\r\n            this._textWidth = 0;\r\n            this._textHeight = 0;\r\n            this._bitmapFont = null;\r\n            this._lines = null;\r\n            GBasicTextField.__super.call(this);\r\n            this._text = \"\";\r\n            this._color = \"#000000\";\r\n            this.textField.align = \"left\";\r\n            this.textField.font = UIConfig1.defaultFont;\r\n            this._autoSize = /*fairygui.AutoSizeType.Both*/ 1;\r\n            this._widthAutoSize = this._heightAutoSize = true;\r\n            this.textField[\"_sizeDirty\"] = false;\r\n        }\r\n\r\n        __class(GBasicTextField, 'fairygui.GBasicTextField', _super);\r\n        var __proto = GBasicTextField.prototype;\r\n        __proto.createDisplayObject = function() {\r\n            this._displayObject = this.textField = new TextExt(this);\r\n            this._displayObject[\"$owner\"] = this;\r\n            this._displayObject.mouseEnabled = false;\r\n        }\r\n\r\n        __proto.setAutoSize = function(value) {\r\n            this._autoSize = value;\r\n            this._widthAutoSize = value == /*fairygui.AutoSizeType.Both*/ 1;\r\n            this._heightAutoSize = value == /*fairygui.AutoSizeType.Both*/ 1 || value == /*fairygui.AutoSizeType.Height*/ 2;\r\n            this.textField.wordWrap = !this._widthAutoSize;\r\n            if (!this._underConstruct) {\r\n                if (!this._heightAutoSize)\r\n                    this.textField.size(this.width, this.height);\r\n                else if (!this._widthAutoSize)\r\n                    this.textField.width = this.width;\r\n            }\r\n        }\r\n\r\n        __proto.ensureSizeCorrect = function() {\r\n            if (!this._underConstruct && this.textField[\"_isChanged\"])\r\n                this.textField.typeset();\r\n        }\r\n\r\n        __proto.typeset = function() {\r\n            if (this._bitmapFont != null)\r\n                this.renderWithBitmapFont();\r\n            else if (this._widthAutoSize || this._heightAutoSize)\r\n                this.updateSize();\r\n        }\r\n\r\n        __proto.updateSize = function() {\r\n            this._textWidth = Math.ceil(this.textField.textWidth);\r\n            this._textHeight = Math.ceil(this.textField.textHeight);\r\n            var w = NaN,\r\n                h = 0;\r\n            if (this._widthAutoSize) {\r\n                w = this._textWidth;\r\n                if (this.textField.width != w) {\r\n                    this.textField.width = w;\r\n                    if (this.textField.align != \"left\")\r\n                        this.textField[\"baseTypeset\"]();\r\n                }\r\n            } else\r\n                w = this.width;\r\n            if (this._heightAutoSize) {\r\n                h = this._textHeight;\r\n                if (!this._widthAutoSize) {\r\n                    if (this.textField.height != this._textHeight)\r\n                        this.textField.height = this._textHeight;\r\n                }\r\n            } else {\r\n                h = this.height;\r\n                if (this._textHeight > h)\r\n                    this._textHeight = h;\r\n                if (this.textField.height != this._textHeight)\r\n                    this.textField.height = this._textHeight;\r\n            }\r\n            this._updatingSize = true;\r\n            this.setSize(w, h);\r\n            this._updatingSize = false;\r\n        }\r\n\r\n        __proto.renderWithBitmapFont = function() {\r\n            var gr = this._displayObject.graphics;\r\n            gr.clear();\r\n            if (!this._lines)\r\n                this._lines = [];\r\n            else\r\n                LineInfo.returnList(this._lines);\r\n            var letterSpacing = this.letterSpacing;\r\n            var lineSpacing = this.leading - 1;\r\n            var rectWidth = this.width - /*CLASS CONST:fairygui.GBasicTextField.GUTTER_X*/ 2 * 2;\r\n            var lineWidth = 0,\r\n                lineHeight = 0,\r\n                lineTextHeight = 0;\r\n            var glyphWidth = 0,\r\n                glyphHeight = 0;\r\n            var wordChars = 0,\r\n                wordStart = 0,\r\n                wordEnd = 0;\r\n            var lastLineHeight = 0;\r\n            var lineBuffer = \"\";\r\n            var lineY = /*CLASS CONST:fairygui.GBasicTextField.GUTTER_Y*/ 2;\r\n            var line;\r\n            var wordWrap = !this._widthAutoSize && !this._singleLine;\r\n            var fontSize = this.fontSize;\r\n            var fontScale = this._bitmapFont.resizable ? fontSize / this._bitmapFont.size : 1;\r\n            this._textWidth = 0;\r\n            this._textHeight = 0;\r\n            var textLength = this._text.length;\r\n            for (var offset = 0; offset < textLength; ++offset) {\r\n                var ch = this._text.charAt(offset);\r\n                var cc = ch.charCodeAt(0);\r\n                if (cc == 10) {\r\n                    lineBuffer += ch;\r\n                    line = LineInfo.borrow();\r\n                    line.width = lineWidth;\r\n                    if (lineTextHeight == 0) {\r\n                        if (lastLineHeight == 0)\r\n                            lastLineHeight = fontSize;\r\n                        if (lineHeight == 0)\r\n                            lineHeight = lastLineHeight;\r\n                        lineTextHeight = lineHeight;\r\n                    }\r\n                    line.height = lineHeight;\r\n                    lastLineHeight = lineHeight;\r\n                    line.textHeight = lineTextHeight;\r\n                    line.text = lineBuffer;\r\n                    line.y = lineY;\r\n                    lineY += (line.height + lineSpacing);\r\n                    if (line.width > this._textWidth)\r\n                        this._textWidth = line.width;\r\n                    this._lines.push(line);\r\n                    lineBuffer = \"\";\r\n                    lineWidth = 0;\r\n                    lineHeight = 0;\r\n                    lineTextHeight = 0;\r\n                    wordChars = 0;\r\n                    wordStart = 0;\r\n                    wordEnd = 0;\r\n                    continue;\r\n                }\r\n                if (cc >= 65 && cc <= 90 || cc >= 97 && cc <= 122) {\r\n                    if (wordChars == 0)\r\n                        wordStart = lineWidth;\r\n                    wordChars++;\r\n                } else {\r\n                    if (wordChars > 0)\r\n                        wordEnd = lineWidth;\r\n                    wordChars = 0;\r\n                }\r\n                if (cc == 32) {\r\n                    glyphWidth = Math.ceil(fontSize / 2);\r\n                    glyphHeight = fontSize;\r\n                } else {\r\n                    var glyph = this._bitmapFont.glyphs[ch];\r\n                    if (glyph) {\r\n                        glyphWidth = Math.ceil(glyph.advance * fontScale);\r\n                        glyphHeight = Math.ceil(glyph.lineHeight * fontScale);\r\n                    } else {\r\n                        glyphWidth = 0;\r\n                        glyphHeight = 0;\r\n                    }\r\n                }\r\n                if (glyphHeight > lineTextHeight)\r\n                    lineTextHeight = glyphHeight;\r\n                if (glyphHeight > lineHeight)\r\n                    lineHeight = glyphHeight;\r\n                if (lineWidth != 0)\r\n                    lineWidth += letterSpacing;\r\n                lineWidth += glyphWidth;\r\n                if (!wordWrap || lineWidth <= rectWidth) {\r\n                    lineBuffer += ch;\r\n                } else {\r\n                    line = LineInfo.borrow();\r\n                    line.height = lineHeight;\r\n                    line.textHeight = lineTextHeight;\r\n                    if (lineBuffer.length == 0) {\r\n                        line.text = ch;\r\n                    } else if (wordChars > 0 && wordEnd > 0) {\r\n                        lineBuffer += ch;\r\n                        var len = lineBuffer.length - wordChars;\r\n                        line.text = ToolSet.trimRight(lineBuffer.substr(0, len));\r\n                        line.width = wordEnd;\r\n                        lineBuffer = lineBuffer.substr(len);\r\n                        lineWidth -= wordStart;\r\n                    } else {\r\n                        line.text = lineBuffer;\r\n                        line.width = lineWidth - (glyphWidth + letterSpacing);\r\n                        lineBuffer = ch;\r\n                        lineWidth = glyphWidth;\r\n                        lineHeight = glyphHeight;\r\n                        lineTextHeight = glyphHeight;\r\n                    }\r\n                    line.y = lineY;\r\n                    lineY += (line.height + lineSpacing);\r\n                    if (line.width > this._textWidth)\r\n                        this._textWidth = line.width;\r\n                    wordChars = 0;\r\n                    wordStart = 0;\r\n                    wordEnd = 0;\r\n                    this._lines.push(line);\r\n                }\r\n            }\r\n            if (lineBuffer.length > 0) {\r\n                line = LineInfo.borrow();\r\n                line.width = lineWidth;\r\n                if (lineHeight == 0)\r\n                    lineHeight = lastLineHeight;\r\n                if (lineTextHeight == 0)\r\n                    lineTextHeight = lineHeight;\r\n                line.height = lineHeight;\r\n                line.textHeight = lineTextHeight;\r\n                line.text = lineBuffer;\r\n                line.y = lineY;\r\n                if (line.width > this._textWidth)\r\n                    this._textWidth = line.width;\r\n                this._lines.push(line);\r\n            }\r\n            if (this._textWidth > 0)\r\n                this._textWidth += /*CLASS CONST:fairygui.GBasicTextField.GUTTER_X*/ 2 * 2;\r\n            var count = this._lines.length;\r\n            if (count == 0) {\r\n                this._textHeight = 0;\r\n            } else {\r\n                line = this._lines[this._lines.length - 1];\r\n                this._textHeight = line.y + line.height + /*CLASS CONST:fairygui.GBasicTextField.GUTTER_Y*/ 2;\r\n            };\r\n            var w = NaN,\r\n                h = 0;\r\n            if (this._widthAutoSize) {\r\n                if (this._textWidth == 0)\r\n                    w = 0;\r\n                else\r\n                    w = this._textWidth;\r\n            } else\r\n                w = this.width;\r\n            if (this._heightAutoSize) {\r\n                if (this._textHeight == 0)\r\n                    h = 0;\r\n                else\r\n                    h = this._textHeight;\r\n            } else\r\n                h = this.height;\r\n            this._updatingSize = true;\r\n            this.setSize(w, h);\r\n            this._updatingSize = false;\r\n            this.doAlign();\r\n            if (w == 0 || h == 0)\r\n                return;\r\n            var charX = /*CLASS CONST:fairygui.GBasicTextField.GUTTER_X*/ 2;\r\n            var lineIndent = 0;\r\n            var charIndent = 0;\r\n            rectWidth = this.width - /*CLASS CONST:fairygui.GBasicTextField.GUTTER_X*/ 2 * 2;\r\n            var lineCount = this._lines.length;\r\n            for (var i = 0; i < lineCount; i++) {\r\n                line = this._lines[i];\r\n                charX = /*CLASS CONST:fairygui.GBasicTextField.GUTTER_X*/ 2;\r\n                if (this.align == \"center\")\r\n                    lineIndent = (rectWidth - line.width) / 2;\r\n                else if (this.align == \"right\")\r\n                    lineIndent = rectWidth - line.width;\r\n                else\r\n                    lineIndent = 0;\r\n                textLength = line.text.length;\r\n                for (var j = 0; j < textLength; j++) {\r\n                    ch = line.text.charAt(j);\r\n                    cc = ch.charCodeAt(0);\r\n                    if (cc == 10)\r\n                        continue;\r\n                    if (cc == 32) {\r\n                        charX += this._letterSpacing + Math.ceil(fontSize / 2);\r\n                        continue;\r\n                    }\r\n                    glyph = this._bitmapFont.glyphs[ch];\r\n                    if (glyph != null) {\r\n                        charIndent = (line.height + line.textHeight) / 2 - Math.ceil(glyph.lineHeight * fontScale);\r\n                        gr.drawTexture(glyph.texture,\r\n                            charX + lineIndent + Math.ceil(glyph.offsetX * fontScale),\r\n                            line.y + charIndent + Math.ceil(glyph.offsetY * fontScale),\r\n                            glyph.texture.width * fontScale,\r\n                            glyph.texture.height * fontScale);\r\n                        charX += letterSpacing + Math.ceil(glyph.advance * fontScale);\r\n                    } else {\r\n                        charX += letterSpacing;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        //line loop\r\n        __proto.handleSizeChanged = function() {\r\n            if (this._updatingSize)\r\n                return;\r\n            if (this._underConstruct)\r\n                this.textField.size(this.width, this.height);\r\n            else {\r\n                if (this._bitmapFont != null) {\r\n                    if (!this._widthAutoSize)\r\n                        this.textField[\"setChanged\"]();\r\n                    else\r\n                        this.doAlign();\r\n                } else {\r\n                    if (!this._widthAutoSize) {\r\n                        if (!this._heightAutoSize)\r\n                            this.textField.size(this.width, this.height);\r\n                        else\r\n                            this.textField.width = this.width;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.handleGrayedChanged = function() {\r\n            fairygui.GObject.prototype.handleGrayedChanged.call(this);\r\n            if (this.grayed)\r\n                this.textField.color = \"#AAAAAA\";\r\n            else\r\n                this.textField.color = this._color;\r\n        }\r\n\r\n        __proto.doAlign = function() {\r\n            if (this.valign == \"top\" || this._textHeight == 0)\r\n                this._yOffset = /*CLASS CONST:fairygui.GBasicTextField.GUTTER_Y*/ 2;\r\n            else {\r\n                var dh = this.height - this._textHeight;\r\n                if (dh < 0)\r\n                    dh = 0;\r\n                if (this.valign == \"middle\")\r\n                    this._yOffset = Math.floor(dh / 2);\r\n                else\r\n                    this._yOffset = Math.floor(dh);\r\n            }\r\n            this.handleXYChanged();\r\n        }\r\n\r\n        __proto.setup_beforeAdd = function(xml) {\r\n            _super.prototype.setup_beforeAdd.call(this, xml);\r\n            var str;\r\n            str = xml.getAttribute(\"autoSize\");\r\n            if (str)\r\n                this.setAutoSize(AutoSizeType.parse(str));\r\n        }\r\n\r\n        __getset(0, __proto, 'bold', function() {\r\n            return this.textField.bold;\r\n        }, function(value) {\r\n            this.textField.bold = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'letterSpacing', function() {\r\n            return this._letterSpacing;\r\n        }, function(value) {\r\n            this._letterSpacing = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'align', function() {\r\n            return this.textField.align;\r\n        }, function(value) {\r\n            this.textField.align = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'text', function() {\r\n            return this._text;\r\n        }, function(value) {\r\n            this._text = value;\r\n            if (this._text == null)\r\n                this._text = \"\";\r\n            if (this._bitmapFont == null) {\r\n                if (this._widthAutoSize)\r\n                    this.textField.width = 10000;\r\n                if (this._ubbEnabled)\r\n                    this.textField.text = ToolSet.removeUBB(ToolSet.encodeHTML(this._text));\r\n                else\r\n                    this.textField.text = this._text;\r\n            } else {\r\n                this.textField.text = \"\";\r\n                this.textField[\"setChanged\"]();\r\n            }\r\n            if (this.parent && this.parent._underConstruct)\r\n                this.textField.typeset();\r\n        });\r\n\r\n        __getset(0, __proto, 'color', function() {\r\n            return this._color;\r\n        }, function(value) {\r\n            if (this._color != value) {\r\n                this._color = value;\r\n                if (this._gearColor.controller)\r\n                    this._gearColor.updateState();\r\n                if (this.grayed)\r\n                    this.textField.color = \"#AAAAAA\";\r\n                else\r\n                    this.textField.color = this._color;\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'font', function() {\r\n            return this.textField.font;\r\n        }, function(value) {\r\n            this._font = value;\r\n            if (ToolSet.startsWith(this._font, \"ui://\")) {\r\n                this._bitmapFont = UIPackage.getBitmapFontByURL(this._font);\r\n                this.textField[\"setChanged\"]();\r\n            } else {\r\n                this._bitmapFont = null;\r\n                if (this._font)\r\n                    this.textField.font = this._font;\r\n                else\r\n                    this.textField.font = UIConfig1.defaultFont;\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'leading', function() {\r\n            return this.textField.leading;\r\n        }, function(value) {\r\n            this.textField.leading = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'fontSize', function() {\r\n            return this.textField.fontSize;\r\n        }, function(value) {\r\n            this.textField.fontSize = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'valign', function() {\r\n            return this.textField.valign;\r\n        }, function(value) {\r\n            this.textField.valign = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'italic', function() {\r\n            return this.textField.italic;\r\n        }, function(value) {\r\n            this.textField.italic = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'underline', function() {\r\n            return this.textField.underline;\r\n        }, function(value) {\r\n            this.textField.underline = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'singleLine', function() {\r\n            return this._singleLine;\r\n        }, function(value) {\r\n            this._singleLine = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'stroke', function() {\r\n            return this.textField.stroke;\r\n        }, function(value) {\r\n            this.textField.stroke = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'strokeColor', function() {\r\n            return this.textField.strokeColor;\r\n        }, function(value) {\r\n            this.textField.strokeColor = value;\r\n            this.updateGear(4);\r\n        });\r\n\r\n        __getset(0, __proto, 'ubbEnabled', function() {\r\n            return this._ubbEnabled;\r\n        }, function(value) {\r\n            this._ubbEnabled = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'autoSize', function() {\r\n            return this._autoSize;\r\n        }, function(value) {\r\n            if (this._autoSize != value) {\r\n                this.setAutoSize(value);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'textWidth', function() {\r\n            if (this.textField[\"_isChanged\"])\r\n                this.textField.typeset();\r\n            return this._textWidth;\r\n        });\r\n\r\n        GBasicTextField.GUTTER_X = 2;\r\n        GBasicTextField.GUTTER_Y = 2;\r\n        GBasicTextField.__init$ = function() {\r\n            //class LineInfo\r\n            LineInfo = (function() {\r\n                    function LineInfo() {\r\n                        this.width = 0;\r\n                        this.height = 0;\r\n                        this.textHeight = 0;\r\n                        this.text = null;\r\n                        this.y = 0;\r\n                    }\r\n                    __class(LineInfo, '');\r\n                    LineInfo.borrow = function() {\r\n                        if (LineInfo.pool.length) {\r\n                            var ret = LineInfo.pool.pop();\r\n                            ret.width = 0;\r\n                            ret.height = 0;\r\n                            ret.textHeight = 0;\r\n                            ret.text = null;\r\n                            ret.y = 0;\r\n                            return ret;\r\n                        } else\r\n                            return new LineInfo();\r\n                    }\r\n                    LineInfo.returns = function(value) {\r\n                        LineInfo.pool.push(value);\r\n                    }\r\n                    LineInfo.returnList = function(value) {\r\n                        var length = value.length;\r\n                        for (var i = 0; i < length; i++) {\r\n                            var li = value[i];\r\n                            LineInfo.pool.push(li);\r\n                        }\r\n                        value.length = 0;\r\n                    }\r\n                    LineInfo.pool = [];\r\n                    return LineInfo;\r\n                })()\r\n                //class TextExt extends laya.display.Text\r\n            TextExt = (function(_super) {\r\n                function TextExt(owner) {\r\n                    this._owner = null;\r\n                    this._lock = false;\r\n                    this._sizeDirty = false;\r\n                    TextExt.__super.call(this);\r\n                    this._owner = owner;\r\n                }\r\n                __class(TextExt, '', _super);\r\n                var __proto = TextExt.prototype;\r\n                __proto.baseTypeset = function() {\r\n                    this._lock = true;\r\n                    this.typeset();\r\n                    this._lock = false;\r\n                }\r\n                __proto.typeset = function() {\r\n                    this._sizeDirty = true;\r\n                    _super.prototype.typeset.call(this);\r\n                    if (!this._lock)\r\n                        this._owner.typeset();\r\n                    if (this._isChanged) {\r\n                        Laya.timer.clear(this, this.typeset);\r\n                        this._isChanged = false;\r\n                    }\r\n                    this._sizeDirty = false;\r\n                }\r\n                __proto.setChanged = function() {\r\n                    this.isChanged = true;\r\n                }\r\n                __getset(0, __proto, 'isChanged', null, function(value) {\r\n                    if (value && !this._sizeDirty) {\r\n                        if (this._owner.autoSize != /*fairygui.AutoSizeType.None*/ 0 && this._owner.parent) {\r\n                            this._sizeDirty = true;\r\n                            this.event( /*fairygui.Events.SIZE_DELAY_CHANGE*/ \"fui_size_delay_change\");\r\n                        }\r\n                    }\r\n                    _super.prototype._$set_isChanged.call(this, value);\r\n                });\r\n                return TextExt;\r\n            })(Text)\r\n        }\r\n\r\n        return GBasicTextField;\r\n    })(GTextField)\r\n\r\n\r\n    //class fairygui.GButton extends fairygui.GComponent\r\n    var GButton = (function(_super) {\r\n        function GButton() {\r\n            this._titleObject = null;\r\n            this._iconObject = null;\r\n            this._relatedController = null;\r\n            this._mode = 0;\r\n            this._selected = false;\r\n            this._title = null;\r\n            this._selectedTitle = null;\r\n            this._icon = null;\r\n            this._selectedIcon = null;\r\n            this._sound = null;\r\n            this._soundVolumeScale = 0;\r\n            this._pageOption = null;\r\n            this._buttonController = null;\r\n            this._changeStateOnClick = false;\r\n            this._linkedPopup = null;\r\n            this._downEffect = 0;\r\n            this._downEffectValue = 0;\r\n            this._downScaled = false;\r\n            this._down = false;\r\n            this._over = false;\r\n            GButton.__super.call(this);\r\n            this._mode = /*fairygui.ButtonMode.Common*/ 0;\r\n            this._title = \"\";\r\n            this._icon = \"\";\r\n            this._sound = UIConfig1.buttonSound;\r\n            this._soundVolumeScale = UIConfig1.buttonSoundVolumeScale;\r\n            this._pageOption = new PageOption();\r\n            this._changeStateOnClick = true;\r\n            this._downEffectValue = 0.8;\r\n        }\r\n\r\n        __class(GButton, 'fairygui.GButton', _super);\r\n        var __proto = GButton.prototype;\r\n        __proto.fireClick = function(downEffect) {\r\n            (downEffect === void 0) && (downEffect = true);\r\n            if (downEffect && this._mode == /*fairygui.ButtonMode.Common*/ 0) {\r\n                this.setState( /*CLASS CONST:fairygui.GButton.OVER*/ \"over\");\r\n                Laya.timer.once(100, this, this.setState, [ /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\"]);\r\n                Laya.timer.once(200, this, this.setState, [ /*CLASS CONST:fairygui.GButton.UP*/ \"up\"]);\r\n            }\r\n            this.__click(Events.createEvent( /*laya.events.Event.CLICK*/ \"click\", this.displayObject));\r\n        }\r\n\r\n        __proto.setState = function(val) {\r\n            if (this._buttonController)\r\n                this._buttonController.selectedPage = val;\r\n            if (this._downEffect == 1) {\r\n                var cnt = this.numChildren;\r\n                if (val == /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\" || val == /*CLASS CONST:fairygui.GButton.SELECTED_OVER*/ \"selectedOver\" || val == /*CLASS CONST:fairygui.GButton.SELECTED_DISABLED*/ \"selectedDisabled\") {\r\n                    var r = this._downEffectValue * 255;\r\n                    var color = Utils.toHexColor((r << 16) + (r << 8) + r);\r\n                    for (var i = 0; i < cnt; i++) {\r\n                        var obj = this.getChildAt(i);\r\n                        if (((obj instanceof fairygui.GImage)) || ((obj instanceof fairygui.GLoader)) ||\r\n                            ((obj instanceof fairygui.GMovieClip)))\r\n                            (obj).color = color;\r\n                    }\r\n                } else {\r\n                    for (i = 0; i < cnt; i++) {\r\n                        obj = this.getChildAt(i);\r\n                        if (((obj instanceof fairygui.GImage)) || ((obj instanceof fairygui.GLoader)) ||\r\n                            ((obj instanceof fairygui.GMovieClip)))\r\n                            (obj).color = \"#FFFFFF\";\r\n                    }\r\n                }\r\n            } else if (this._downEffect == 2) {\r\n                if (val == /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\" || val == /*CLASS CONST:fairygui.GButton.SELECTED_OVER*/ \"selectedOver\" || val == /*CLASS CONST:fairygui.GButton.SELECTED_DISABLED*/ \"selectedDisabled\") {\r\n                    if (!this._downScaled) {\r\n                        this.setScale(this.scaleX * this._downEffectValue, this.scaleY * this._downEffectValue);\r\n                        this._downScaled = true;\r\n                    }\r\n                } else {\r\n                    if (this._downScaled) {\r\n                        this.setScale(this.scaleX / this._downEffectValue, this.scaleY / this._downEffectValue);\r\n                        this._downScaled = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.handleControllerChanged = function(c) {\r\n            _super.prototype.handleControllerChanged.call(this, c);\r\n            if (this._relatedController == c)\r\n                this.selected = this._pageOption.id == c.selectedPageId;\r\n        }\r\n\r\n        __proto.handleGrayedChanged = function() {\r\n            if (this._buttonController && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\")) {\r\n                if (this.grayed) {\r\n                    if (this._selected && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.SELECTED_DISABLED*/ \"selectedDisabled\"))\r\n                        this.setState( /*CLASS CONST:fairygui.GButton.SELECTED_DISABLED*/ \"selectedDisabled\");\r\n                    else\r\n                        this.setState( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\");\r\n                } else if (this._selected)\r\n                    this.setState( /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\");\r\n                else\r\n                    this.setState( /*CLASS CONST:fairygui.GButton.UP*/ \"up\");\r\n            } else\r\n                _super.prototype.handleGrayedChanged.call(this);\r\n        }\r\n\r\n        __proto.constructFromXML = function(xml) {\r\n            _super.prototype.constructFromXML.call(this, xml);\r\n            xml = ToolSet.findChildNode(xml, \"Button\");\r\n            var str;\r\n            str = xml.getAttribute(\"mode\");\r\n            if (str)\r\n                this._mode = ButtonMode.parse(str);\r\n            str = xml.getAttribute(\"sound\");\r\n            if (str)\r\n                this._sound = str;\r\n            str = xml.getAttribute(\"volume\");\r\n            if (str)\r\n                this._soundVolumeScale = parseInt(str) / 100;\r\n            str = xml.getAttribute(\"downEffect\");\r\n            if (str) {\r\n                this._downEffect = str == \"dark\" ? 1 : (str == \"scale\" ? 2 : 0);\r\n                str = xml.getAttribute(\"downEffectValue\");\r\n                this._downEffectValue = parseFloat(str);\r\n                if (this._downEffect == 2)\r\n                    this.setPivot(0.5, 0.5);\r\n            }\r\n            this._buttonController = this.getController(\"button\");\r\n            this._titleObject = this.getChild(\"title\");\r\n            this._iconObject = this.getChild(\"icon\");\r\n            if (this._titleObject != null)\r\n                this._title = this._titleObject.text;\r\n            if (this._iconObject != null)\r\n                this._icon = this._iconObject.icon;\r\n            if (this._mode == /*fairygui.ButtonMode.Common*/ 0)\r\n                this.setState( /*CLASS CONST:fairygui.GButton.UP*/ \"up\");\r\n            this.on( /*laya.events.Event.ROLL_OVER*/ \"mouseover\", this, this.__rollover);\r\n            this.on( /*laya.events.Event.ROLL_OUT*/ \"mouseout\", this, this.__rollout);\r\n            this.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__mousedown);\r\n            this.on( /*laya.events.Event.CLICK*/ \"click\", this, this.__click);\r\n        }\r\n\r\n        __proto.setup_afterAdd = function(xml) {\r\n            _super.prototype.setup_afterAdd.call(this, xml);\r\n            xml = ToolSet.findChildNode(xml, \"Button\");\r\n            if (xml) {\r\n                var str;\r\n                str = xml.getAttribute(\"title\");\r\n                if (str)\r\n                    this.title = str;\r\n                str = xml.getAttribute(\"icon\");\r\n                if (str)\r\n                    this.icon = str;\r\n                str = xml.getAttribute(\"selectedTitle\");\r\n                if (str)\r\n                    this.selectedTitle = str;\r\n                str = xml.getAttribute(\"selectedIcon\");\r\n                if (str)\r\n                    this.selectedIcon = str;\r\n                str = xml.getAttribute(\"titleColor\");\r\n                if (str)\r\n                    this.titleColor = str;\r\n                str = xml.getAttribute(\"titleFontSize\");\r\n                if (str)\r\n                    this.titleFontSize = parseInt(str);\r\n                str = xml.getAttribute(\"sound\");\r\n                if (str != null)\r\n                    this._sound = str;\r\n                str = xml.getAttribute(\"volume\");\r\n                if (str)\r\n                    this._soundVolumeScale = parseInt(str) / 100;\r\n                str = xml.getAttribute(\"controller\");\r\n                if (str)\r\n                    this._relatedController = this._parent.getController(str);\r\n                else\r\n                    this._relatedController = null;\r\n                this._pageOption.id = xml.getAttribute(\"page\");\r\n                this.selected = xml.getAttribute(\"checked\") == \"true\";\r\n            }\r\n        }\r\n\r\n        __proto.__rollover = function() {\r\n            if (!this._buttonController || !this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.OVER*/ \"over\"))\r\n                return;\r\n            this._over = true;\r\n            if (this._down)\r\n                return;\r\n            if (this.grayed && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\"))\r\n                return;\r\n            this.setState(this._selected ? /*CLASS CONST:fairygui.GButton.SELECTED_OVER*/ \"selectedOver\" : /*CLASS CONST:fairygui.GButton.OVER*/ \"over\");\r\n        }\r\n\r\n        __proto.__rollout = function() {\r\n            if (!this._buttonController || !this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.OVER*/ \"over\"))\r\n                return;\r\n            this._over = false;\r\n            if (this._down)\r\n                return;\r\n            if (this.grayed && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\"))\r\n                return;\r\n            this.setState(this._selected ? /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\" : /*CLASS CONST:fairygui.GButton.UP*/ \"up\");\r\n        }\r\n\r\n        __proto.__mousedown = function(evt) {\r\n            this._down = true;\r\n            GRoot.inst.checkPopups(evt.target);\r\n            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseup);\r\n            if (this._mode == /*fairygui.ButtonMode.Common*/ 0) {\r\n                if (this.grayed && this._buttonController && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\"))\r\n                    this.setState( /*CLASS CONST:fairygui.GButton.SELECTED_DISABLED*/ \"selectedDisabled\");\r\n                else\r\n                    this.setState( /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\");\r\n            }\r\n            if (this._linkedPopup != null) {\r\n                if ((this._linkedPopup instanceof fairygui.Window))\r\n                    (this._linkedPopup).toggleStatus();\r\n                else\r\n                    this.root.togglePopup(this._linkedPopup, this);\r\n            }\r\n        }\r\n\r\n        __proto.__mouseup = function() {\r\n            if (this._down) {\r\n                Laya.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseup);\r\n                this._down = false;\r\n                if (this._mode == /*fairygui.ButtonMode.Common*/ 0) {\r\n                    if (this.grayed && this._buttonController && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\"))\r\n                        this.setState( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\");\r\n                    else if (this._over)\r\n                        this.setState( /*CLASS CONST:fairygui.GButton.OVER*/ \"over\");\r\n                    else\r\n                        this.setState( /*CLASS CONST:fairygui.GButton.UP*/ \"up\");\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.__click = function(evt) {\r\n            if (this._sound) {\r\n                var pi = UIPackage.getItemByURL(this._sound);\r\n                if (pi)\r\n                    GRoot.inst.playOneShotSound(pi.owner.getItemAssetURL(pi));\r\n                else\r\n                    GRoot.inst.playOneShotSound(this._sound);\r\n            }\r\n            if (this._mode == /*fairygui.ButtonMode.Check*/ 1) {\r\n                if (this._changeStateOnClick) {\r\n                    this.selected = !this._selected;\r\n                    Events.dispatch( /*fairygui.Events.STATE_CHANGED*/ \"fui_state_changed\", this.displayObject, evt);\r\n                }\r\n            } else if (this._mode == /*fairygui.ButtonMode.Radio*/ 2) {\r\n                if (this._changeStateOnClick && !this._selected) {\r\n                    this.selected = true;\r\n                    Events.dispatch( /*fairygui.Events.STATE_CHANGED*/ \"fui_state_changed\", this.displayObject, evt);\r\n                }\r\n            } else {\r\n                if (this._relatedController)\r\n                    this._relatedController.selectedPageId = this._pageOption.id;\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'relatedController', function() {\r\n            return this._relatedController;\r\n        }, function(val) {\r\n            if (val != this._relatedController) {\r\n                this._relatedController = val;\r\n                this._pageOption.controller = val;\r\n                this._pageOption.clear();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'icon', function() {\r\n            return this._icon;\r\n        }, function(value) {\r\n            this._icon = value;\r\n            value = (this._selected && this._selectedIcon) ? this._selectedIcon : this._icon;\r\n            if (this._iconObject != null)\r\n                this._iconObject.icon = value;\r\n            this.updateGear(7);\r\n        });\r\n\r\n        __getset(0, __proto, 'titleFontSize', function() {\r\n            if ((this._titleObject instanceof fairygui.GTextField))\r\n                return (this._titleObject).fontSize;\r\n            else if ((this._titleObject instanceof fairygui.GLabel))\r\n                return (this._titleObject).titleFontSize;\r\n            else if ((this._titleObject instanceof fairygui.GButton))\r\n                return (this._titleObject).titleFontSize;\r\n            else\r\n                return 0;\r\n        }, function(value) {\r\n            if ((this._titleObject instanceof fairygui.GTextField))\r\n                (this._titleObject).fontSize = value;\r\n            else if ((this._titleObject instanceof fairygui.GLabel))\r\n                (this._titleObject).titleFontSize = value;\r\n            else if ((this._titleObject instanceof fairygui.GButton))\r\n                (this._titleObject).titleFontSize = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'selectedIcon', function() {\r\n            return this._selectedIcon;\r\n        }, function(value) {\r\n            this._selectedIcon = value;\r\n            value = (this._selected && this._selectedIcon) ? this._selectedIcon : this._icon;\r\n            if (this._iconObject != null)\r\n                this._iconObject.icon = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'title', function() {\r\n            return this._title;\r\n        }, function(value) {\r\n            this._title = value;\r\n            if (this._titleObject)\r\n                this._titleObject.text = (this._selected && this._selectedTitle) ? this._selectedTitle : this._title;\r\n            this.updateGear(6);\r\n        });\r\n\r\n        __getset(0, __proto, 'text', function() {\r\n            return this.title;\r\n        }, function(value) {\r\n            this.title = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'selectedTitle', function() {\r\n            return this._selectedTitle;\r\n        }, function(value) {\r\n            this._selectedTitle = value;\r\n            if (this._titleObject)\r\n                this._titleObject.text = (this._selected && this._selectedTitle) ? this._selectedTitle : this._title;\r\n        });\r\n\r\n        __getset(0, __proto, 'soundVolumeScale', function() {\r\n            return this._soundVolumeScale;\r\n        }, function(value) {\r\n            this._soundVolumeScale = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'sound', function() {\r\n            return this._sound;\r\n        }, function(val) {\r\n            this._sound = val;\r\n        });\r\n\r\n        __getset(0, __proto, 'titleColor', function() {\r\n            if ((this._titleObject instanceof fairygui.GTextField))\r\n                return (this._titleObject).color;\r\n            else if ((this._titleObject instanceof fairygui.GLabel))\r\n                return (this._titleObject).titleColor;\r\n            else if ((this._titleObject instanceof fairygui.GButton))\r\n                return (this._titleObject).titleColor;\r\n            else\r\n                return \"#000000\";\r\n        }, function(value) {\r\n            if ((this._titleObject instanceof fairygui.GTextField))\r\n                (this._titleObject).color = value;\r\n            else if ((this._titleObject instanceof fairygui.GLabel))\r\n                (this._titleObject).titleColor = value;\r\n            else if ((this._titleObject instanceof fairygui.GButton))\r\n                (this._titleObject).titleColor = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'selected', function() {\r\n            return this._selected;\r\n        }, function(val) {\r\n            if (this._mode == /*fairygui.ButtonMode.Common*/ 0)\r\n                return;\r\n            if (this._selected != val) {\r\n                this._selected = val;\r\n                if (this.grayed && this._buttonController && this._buttonController.hasPage( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\")) {\r\n                    if (this._selected)\r\n                        this.setState( /*CLASS CONST:fairygui.GButton.SELECTED_DISABLED*/ \"selectedDisabled\");\r\n                    else\r\n                        this.setState( /*CLASS CONST:fairygui.GButton.DISABLED*/ \"disabled\");\r\n                } else {\r\n                    if (this._selected)\r\n                        this.setState(this._over ? /*CLASS CONST:fairygui.GButton.SELECTED_OVER*/ \"selectedOver\" : /*CLASS CONST:fairygui.GButton.DOWN*/ \"down\");\r\n                    else\r\n                        this.setState(this._over ? /*CLASS CONST:fairygui.GButton.OVER*/ \"over\" : /*CLASS CONST:fairygui.GButton.UP*/ \"up\");\r\n                }\r\n                if (this._selectedTitle && this._titleObject)\r\n                    this._titleObject.text = this._selected ? this._selectedTitle : this._title;\r\n                if (this._selectedIcon) {\r\n                    var str = this._selected ? this._selectedIcon : this._icon;\r\n                    if (this._iconObject != null)\r\n                        this._iconObject.icon = str;\r\n                }\r\n                if (this._relatedController &&\r\n                    this._parent &&\r\n                    !this._parent._buildingDisplayList) {\r\n                    if (this._selected) {\r\n                        this._relatedController.selectedPageId = this._pageOption.id;\r\n                        if (this._relatedController._autoRadioGroupDepth)\r\n                            this._parent.adjustRadioGroupDepth(this, this._relatedController);\r\n                    } else if (this._mode == /*fairygui.ButtonMode.Check*/ 1 && this._relatedController.selectedPageId == this._pageOption.id)\r\n                        this._relatedController.oppositePageId = this._pageOption.id;\r\n                }\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'mode', function() {\r\n            return this._mode;\r\n        }, function(value) {\r\n            if (this._mode != value) {\r\n                if (value == /*fairygui.ButtonMode.Common*/ 0)\r\n                    this.selected = false;\r\n                this._mode = value;\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'pageOption', function() {\r\n            return this._pageOption;\r\n        });\r\n\r\n        __getset(0, __proto, 'changeStateOnClick', function() {\r\n            return this._changeStateOnClick;\r\n        }, function(value) {\r\n            this._changeStateOnClick = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'linkedPopup', function() {\r\n            return this._linkedPopup;\r\n        }, function(value) {\r\n            this._linkedPopup = value;\r\n        });\r\n\r\n        GButton.UP = \"up\";\r\n        GButton.DOWN = \"down\";\r\n        GButton.OVER = \"over\";\r\n        GButton.SELECTED_OVER = \"selectedOver\";\r\n        GButton.DISABLED = \"disabled\";\r\n        GButton.SELECTED_DISABLED = \"selectedDisabled\";\r\n        return GButton;\r\n    })(GComponent)\r\n\r\n\r\n    //class fairygui.GComboBox extends fairygui.GComponent\r\n    var GComboBox = (function(_super) {\r\n        function GComboBox() {\r\n            this.dropdown = null;\r\n            this._titleObject = null;\r\n            this._iconObject = null;\r\n            this._list = null;\r\n            this._items = null;\r\n            this._icons = null;\r\n            this._values = null;\r\n            this._popupDownward = null;\r\n            this._visibleItemCount = 0;\r\n            this._itemsUpdated = false;\r\n            this._selectedIndex = 0;\r\n            this._buttonController = null;\r\n            this._selectionController = null;\r\n            this._down = false;\r\n            this._over = false;\r\n            GComboBox.__super.call(this);\r\n            this._visibleItemCount = UIConfig1.defaultComboBoxVisibleItemCount;\r\n            this._itemsUpdated = true;\r\n            this._selectedIndex = -1;\r\n            this._items = [];\r\n            this._values = [];\r\n        }\r\n\r\n        __class(GComboBox, 'fairygui.GComboBox', _super);\r\n        var __proto = GComboBox.prototype;\r\n        __proto.setState = function(val) {\r\n            if (this._buttonController)\r\n                this._buttonController.selectedPage = val;\r\n        }\r\n\r\n        __proto.handleControllerChanged = function(c) {\r\n            _super.prototype.handleControllerChanged.call(this, c);\r\n            if (this._selectionController == c)\r\n                this.selectedIndex = c.selectedIndex;\r\n        }\r\n\r\n        __proto.updateSelectionController = function() {\r\n            if (this._selectionController != null && !this._selectionController.changing &&\r\n                this._selectedIndex < this._selectionController.pageCount) {\r\n                var c = this._selectionController;\r\n                this._selectionController = null;\r\n                c.selectedIndex = this._selectedIndex;\r\n                this._selectionController = c;\r\n            }\r\n        }\r\n\r\n        __proto.dispose = function() {\r\n            if (this.dropdown) {\r\n                this.dropdown.dispose();\r\n                this.dropdown = null;\r\n            }\r\n            this._selectionController = null;\r\n            _super.prototype.dispose.call(this);\r\n        }\r\n\r\n        __proto.constructFromXML = function(xml) {\r\n            _super.prototype.constructFromXML.call(this, xml);\r\n            xml = ToolSet.findChildNode(xml, \"ComboBox\");\r\n            var str;\r\n            this._buttonController = this.getController(\"button\");\r\n            this._titleObject = this.getChild(\"title\");\r\n            this._iconObject = this.getChild(\"icon\");\r\n            str = xml.getAttribute(\"dropdown\");\r\n            if (str) {\r\n                this.dropdown = (UIPackage.createObjectFromURL(str));\r\n                if (!this.dropdown) {\r\n                    Log.print(\"\");\r\n                    return;\r\n                }\r\n                this.dropdown.name = \"this._dropdownObject\";\r\n                this._list = this.dropdown.getChild(\"list\").asList;\r\n                if (this._list == null) {\r\n                    Log.print(this.resourceURL + \": list\");\r\n                    return;\r\n                }\r\n                this._list.on( /*fairygui.Events.CLICK_ITEM*/ \"fui_click_item\", this, this.__clickItem);\r\n                this._list.addRelation(this.dropdown, /*fairygui.RelationType.Width*/ 14);\r\n                this._list.removeRelation(this.dropdown, /*fairygui.RelationType.Height*/ 15);\r\n                this.dropdown.addRelation(this._list, /*fairygui.RelationType.Height*/ 15);\r\n                this.dropdown.removeRelation(this._list, /*fairygui.RelationType.Width*/ 14);\r\n                this.dropdown.displayObject.on( /*laya.events.Event.UNDISPLAY*/ \"undisplay\", this, this.__popupWinClosed);\r\n            }\r\n            this.on( /*laya.events.Event.ROLL_OVER*/ \"mouseover\", this, this.__rollover);\r\n            this.on( /*laya.events.Event.ROLL_OUT*/ \"mouseout\", this, this.__rollout);\r\n            this.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__mousedown);\r\n        }\r\n\r\n        __proto.setup_afterAdd = function(xml) {\r\n            _super.prototype.setup_afterAdd.call(this, xml);\r\n            xml = ToolSet.findChildNode(xml, \"ComboBox\");\r\n            if (xml) {\r\n                var str;\r\n                str = xml.getAttribute(\"titleColor\");\r\n                if (str)\r\n                    this.titleColor = str;\r\n                str = xml.getAttribute(\"visibleItemCount\");\r\n                if (str)\r\n                    this._visibleItemCount = parseInt(str);\r\n                var col = xml.childNodes;\r\n                var length = col.length;\r\n                for (var i = 0; i < length; i++) {\r\n                    var cxml = col[i];\r\n                    if (cxml.nodeName == \"item\") {\r\n                        this._items.push(cxml.getAttribute(\"title\"));\r\n                        this._values.push(cxml.getAttribute(\"value\"));\r\n                        str = cxml.getAttribute(\"icon\");\r\n                        if (str) {\r\n                            if (!this._icons)\r\n                                this._icons = new Array(length);\r\n                            this._icons[i] = str;\r\n                        }\r\n                    }\r\n                }\r\n                str = xml.getAttribute(\"title\");\r\n                if (str) {\r\n                    this.text = str;\r\n                    this._selectedIndex = this._items.indexOf(str);\r\n                } else if (this._items.length > 0) {\r\n                    this._selectedIndex = 0;\r\n                    this.text = this._items[0];\r\n                } else\r\n                    this._selectedIndex = -1;\r\n                str = xml.getAttribute(\"icon\");\r\n                if (str)\r\n                    this.icon = str;\r\n                str = xml.getAttribute(\"direction\");\r\n                if (str) {\r\n                    if (str == \"up\")\r\n                        this._popupDownward = false;\r\n                    else if (str == \"auto\")\r\n                        this._popupDownward = null;\r\n                }\r\n                str = xml.getAttribute(\"selectionController\");\r\n                if (str)\r\n                    this._selectionController = this.parent.getController(str);\r\n            }\r\n        }\r\n\r\n        __proto.showDropdown = function() {\r\n            if (this._itemsUpdated) {\r\n                this._itemsUpdated = false;\r\n                this._list.removeChildrenToPool();\r\n                var cnt = this._items.length;\r\n                for (var i = 0; i < cnt; i++) {\r\n                    var item = this._list.addItemFromPool();\r\n                    item.name = i < this._values.length ? this._values[i] : \"\";\r\n                    item.text = this._items[i];\r\n                    item.icon = (this._icons != null && i < this._icons.length) ? this._icons[i] : null;\r\n                }\r\n                this._list.resizeToFit(this._visibleItemCount);\r\n            }\r\n            this._list.selectedIndex = -1;\r\n            this.dropdown.width = this.width;\r\n            this.root.togglePopup(this.dropdown, this, this._popupDownward);\r\n            if (this.dropdown.parent)\r\n                this.setState( /*fairygui.GButton.DOWN*/ \"down\");\r\n        }\r\n\r\n        __proto.__popupWinClosed = function() {\r\n            if (this._over)\r\n                this.setState( /*fairygui.GButton.OVER*/ \"over\");\r\n            else\r\n                this.setState( /*fairygui.GButton.UP*/ \"up\");\r\n        }\r\n\r\n        __proto.__clickItem = function(itemObject, evt) {\r\n            Laya.timer.callLater(this, this.__clickItem2, [this._list.getChildIndex(itemObject), evt])\r\n        }\r\n\r\n        __proto.__clickItem2 = function(index, evt) {\r\n            if ((this.dropdown.parent instanceof fairygui.GRoot))\r\n                (this.dropdown.parent).hidePopup();\r\n            this._selectedIndex = -1;\r\n            this.selectedIndex = index;\r\n            Events.dispatch( /*fairygui.Events.STATE_CHANGED*/ \"fui_state_changed\", this.displayObject, evt);\r\n        }\r\n\r\n        __proto.__rollover = function() {\r\n            this._over = true;\r\n            if (this._down || this.dropdown && this.dropdown.parent)\r\n                return;\r\n            this.setState( /*fairygui.GButton.OVER*/ \"over\");\r\n        }\r\n\r\n        __proto.__rollout = function() {\r\n            this._over = false;\r\n            if (this._down || this.dropdown && this.dropdown.parent)\r\n                return;\r\n            this.setState( /*fairygui.GButton.UP*/ \"up\");\r\n        }\r\n\r\n        __proto.__mousedown = function(evt) {\r\n            if ((evt.target instanceof laya.display.Input))\r\n                return;\r\n            this._down = true;\r\n            GRoot.inst.checkPopups(evt.target);\r\n            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseup);\r\n            if (this.dropdown)\r\n                this.showDropdown();\r\n        }\r\n\r\n        __proto.__mouseup = function() {\r\n            if (this._down) {\r\n                this._down = false;\r\n                Laya.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__mouseup);\r\n                if (this.dropdown && !this.dropdown.parent) {\r\n                    if (this._over)\r\n                        this.setState( /*fairygui.GButton.OVER*/ \"over\");\r\n                    else\r\n                        this.setState( /*fairygui.GButton.UP*/ \"up\");\r\n                }\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'text', function() {\r\n            if (this._titleObject)\r\n                return this._titleObject.text;\r\n            else\r\n                return null;\r\n        }, function(value) {\r\n            if (this._titleObject)\r\n                this._titleObject.text = value;\r\n            this.updateGear(6);\r\n        });\r\n\r\n        __getset(0, __proto, 'titleColor', function() {\r\n            if ((this._titleObject instanceof fairygui.GTextField))\r\n                return (this._titleObject).color;\r\n            else if ((this._titleObject instanceof fairygui.GLabel))\r\n                return (this._titleObject).titleColor;\r\n            else if ((this._titleObject instanceof fairygui.GButton))\r\n                return (this._titleObject).titleColor;\r\n            else\r\n                return \"#000000\";\r\n        }, function(value) {\r\n            if ((this._titleObject instanceof fairygui.GTextField))\r\n                (this._titleObject).color = value;\r\n            else if ((this._titleObject instanceof fairygui.GLabel))\r\n                (this._titleObject).titleColor = value;\r\n            else if ((this._titleObject instanceof fairygui.GButton))\r\n                (this._titleObject).titleColor = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'selectedIndex', function() {\r\n            return this._selectedIndex;\r\n        }, function(val) {\r\n            if (this._selectedIndex == val)\r\n                return;\r\n            this._selectedIndex = val;\r\n            if (this._selectedIndex >= 0 && this._selectedIndex < this._items.length) {\r\n                this.text = this._items[this._selectedIndex];\r\n                if (this._icons != null && this._selectedIndex < this._icons.length)\r\n                    this.icon = this._icons[this._selectedIndex];\r\n            } else {\r\n                this.text = \"\";\r\n                if (this._icons != null)\r\n                    this.icon = null;\r\n            }\r\n            this.updateSelectionController();\r\n        });\r\n\r\n        __getset(0, __proto, 'icon', function() {\r\n            if (this._iconObject)\r\n                return this._iconObject.icon;\r\n            else\r\n                return null;\r\n        }, function(value) {\r\n            if (this._iconObject)\r\n                this._iconObject.icon = value;\r\n            this.updateGear(7);\r\n        });\r\n\r\n        __getset(0, __proto, 'icons', function() {\r\n            return this._icons;\r\n        }, function(value) {\r\n            this._icons = value;\r\n            if (this._icons != null && this._selectedIndex != -1 && this._selectedIndex < this._icons.length)\r\n                this.icon = this._icons[this._selectedIndex];\r\n        });\r\n\r\n        __getset(0, __proto, 'selectionController', function() {\r\n            return this._selectionController;\r\n        }, function(value) {\r\n            this._selectionController = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'visibleItemCount', function() {\r\n            return this._visibleItemCount;\r\n        }, function(value) {\r\n            this._visibleItemCount = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'popupDownward', function() {\r\n            return this._popupDownward;\r\n        }, function(value) {\r\n            this._popupDownward = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'values', function() {\r\n            return this._values;\r\n        }, function(value) {\r\n            if (!value)\r\n                this._values.length = 0;\r\n            else\r\n                this._values = value.concat();\r\n        });\r\n\r\n        __getset(0, __proto, 'items', function() {\r\n            return this._items;\r\n        }, function(value) {\r\n            if (!value)\r\n                this._items.length = 0;\r\n            else\r\n                this._items = value.concat();\r\n            if (this._items.length > 0) {\r\n                if (this._selectedIndex >= this._items.length)\r\n                    this._selectedIndex = this._items.length - 1;\r\n                else if (this._selectedIndex == -1)\r\n                    this._selectedIndex = 0;\r\n                this.text = this._items[this._selectedIndex];\r\n                if (this._icons != null && this._selectedIndex < this._icons.length)\r\n                    this.icon = this._icons[this._selectedIndex];\r\n            } else {\r\n                this.text = \"\";\r\n                if (this._icons != null)\r\n                    this.icon = null;\r\n                this._selectedIndex = -1;\r\n            }\r\n            this._itemsUpdated = true;\r\n        });\r\n\r\n        __getset(0, __proto, 'value', function() {\r\n            return this._values[this._selectedIndex];\r\n        }, function(val) {\r\n            this.selectedIndex = this._values.indexOf(val);\r\n        });\r\n\r\n        return GComboBox;\r\n    })(GComponent)\r\n\r\n\r\n    //class fairygui.GLabel extends fairygui.GComponent\r\n    var GLabel = (function(_super) {\r\n        function GLabel() {\r\n            this._titleObject = null;\r\n            this._iconObject = null;\r\n            GLabel.__super.call(this);\r\n        }\r\n\r\n        __class(GLabel, 'fairygui.GLabel', _super);\r\n        var __proto = GLabel.prototype;\r\n        Laya.imps(__proto, { \"fairygui.IColorGear\": true })\r\n        __proto.constructFromXML = function(xml) {\r\n            _super.prototype.constructFromXML.call(this, xml);\r\n            this._titleObject = this.getChild(\"title\");\r\n            this._iconObject = this.getChild(\"icon\");\r\n        }\r\n\r\n        __proto.setup_afterAdd = function(xml) {\r\n            _super.prototype.setup_afterAdd.call(this, xml);\r\n            xml = ToolSet.findChildNode(xml, \"Label\");\r\n            if (xml) {\r\n                var str;\r\n                str = xml.getAttribute(\"title\");\r\n                if (str)\r\n                    this.text = str;\r\n                str = xml.getAttribute(\"icon\");\r\n                if (str)\r\n                    this.icon = str;\r\n                str = xml.getAttribute(\"titleColor\");\r\n                if (str)\r\n                    this.titleColor = str;\r\n                str = xml.getAttribute(\"titleFontSize\");\r\n                if (str)\r\n                    this.titleFontSize = parseInt(str);\r\n                if ((this._titleObject instanceof fairygui.GTextInput)) {\r\n                    str = xml.getAttribute(\"prompt\");\r\n                    if (str)\r\n                        (this._titleObject).promptText = str;\r\n                    str = xml.getAttribute(\"maxLength\");\r\n                    if (str)\r\n                        (this._titleObject).maxLength = parseInt(str);\r\n                    str = xml.getAttribute(\"restrict\");\r\n                    if (str)\r\n                        (this._titleObject).restrict = str;\r\n                    str = xml.getAttribute(\"password\");\r\n                    if (str)\r\n                        (this._titleObject).password = str == \"true\";\r\n                    str = xml.getAttribute(\"keyboardType\");\r\n                    if (str == \"4\")\r\n                        (this._titleObject).keyboardType = /*laya.display.Input.TYPE_NUMBER*/ \"number\";\r\n                    else if (str == \"3\")\r\n                        (this._titleObject).keyboardType = /*laya.display.Input.TYPE_URL*/ \"url\";\r\n                }\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'color', function() {\r\n            return this.titleColor;\r\n        }, function(value) {\r\n            this.titleColor = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'icon', function() {\r\n            if (this._iconObject != null)\r\n                return this._iconObject.icon;\r\n            else\r\n                return null;\r\n        }, function(value) {\r\n            if (this._iconObject != null)\r\n                this._iconObject.icon = value;\r\n            this.updateGear(7);\r\n        });\r\n\r\n        __getset(0, __proto, 'editable', function() {\r\n            if (this._titleObject && ((this._titleObject instanceof fairygui.GTextInput)))\r\n                return this._titleObject.asTextInput.editable;\r\n            else\r\n                return false;\r\n        }, function(val) {\r\n            if (this._titleObject)\r\n                this._titleObject.asTextInput.editable = val;\r\n        });\r\n\r\n        __getset(0, __proto, 'title', function() {\r\n            if (this._titleObject)\r\n                return this._titleObject.text;\r\n            else\r\n                return null;\r\n        }, function(value) {\r\n            if (this._titleObject)\r\n                this._titleObject.text = value;\r\n            this.updateGear(6);\r\n        });\r\n\r\n        __getset(0, __proto, 'text', function() {\r\n            return this.title;\r\n        }, function(value) {\r\n            this.title = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'titleColor', function() {\r\n            if ((this._titleObject instanceof fairygui.GTextField))\r\n                return (this._titleObject).color;\r\n            else if ((this._titleObject instanceof fairygui.GLabel))\r\n                return (this._titleObject).titleColor;\r\n            else if ((this._titleObject instanceof fairygui.GButton))\r\n                return (this._titleObject).titleColor;\r\n            else\r\n                return \"#000000\";\r\n        }, function(value) {\r\n            if ((this._titleObject instanceof fairygui.GTextField))\r\n                (this._titleObject).color = value;\r\n            else if ((this._titleObject instanceof fairygui.GLabel))\r\n                (this._titleObject).titleColor = value;\r\n            else if ((this._titleObject instanceof fairygui.GButton))\r\n                (this._titleObject).titleColor = value;\r\n            this.updateGear(4);\r\n        });\r\n\r\n        __getset(0, __proto, 'titleFontSize', function() {\r\n            if ((this._titleObject instanceof fairygui.GTextField))\r\n                return (this._titleObject).fontSize;\r\n            else if ((this._titleObject instanceof fairygui.GLabel))\r\n                return (this._titleObject).titleFontSize;\r\n            else if ((this._titleObject instanceof fairygui.GButton))\r\n                return (this._titleObject).titleFontSize;\r\n            else\r\n                return 0;\r\n        }, function(value) {\r\n            if ((this._titleObject instanceof fairygui.GTextField))\r\n                (this._titleObject).fontSize = value;\r\n            else if ((this._titleObject instanceof fairygui.GLabel))\r\n                (this._titleObject).titleFontSize = value;\r\n            else if ((this._titleObject instanceof fairygui.GButton))\r\n                (this._titleObject).titleFontSize = value;\r\n        });\r\n\r\n        return GLabel;\r\n    })(GComponent)\r\n\r\n\r\n    //class fairygui.GList extends fairygui.GComponent\r\n    var GList = (function(_super) {\r\n        var ItemInfo;\r\n\r\n        function GList() {\r\n            this.itemRenderer = null;\r\n            this.itemProvider = null;\r\n            this.scrollItemToViewOnClick = false;\r\n            this.foldInvisibleItems = false;\r\n            this._layout = 0;\r\n            this._lineCount = 0;\r\n            this._columnCount = 0;\r\n            this._lineGap = 0;\r\n            this._columnGap = 0;\r\n            this._defaultItem = null;\r\n            this._autoResizeItem = false;\r\n            this._selectionMode = 0;\r\n            this._align = null;\r\n            this._verticalAlign = null;\r\n            this._selectionController = null;\r\n            this._lastSelectedIndex = 0;\r\n            this._pool = null;\r\n            this._virtual = false;\r\n            this._loop = false;\r\n            this._numItems = 0;\r\n            this._realNumItems = 0;\r\n            this._firstIndex = 0;\r\n            this._curLineItemCount = 0;\r\n            this._curLineItemCount2 = 0;\r\n            this._itemSize = null;\r\n            this._virtualListChanged = 0;\r\n            this._virtualItems = null;\r\n            this._eventLocked = false;\r\n            GList.__super.call(this);\r\n            this._trackBounds = true;\r\n            this._pool = new GObjectPool();\r\n            this._layout = /*fairygui.ListLayoutType.SingleColumn*/ 0;\r\n            this._autoResizeItem = true;\r\n            this._lastSelectedIndex = -1;\r\n            this._selectionMode = /*fairygui.ListSelectionMode.Single*/ 0;\r\n            this.opaque = true;\r\n            this.scrollItemToViewOnClick = true;\r\n            this._align = \"left\";\r\n            this._verticalAlign = \"top\";\r\n            this._container = new Sprite();\r\n            this._displayObject.addChild(this._container);\r\n        }\r\n\r\n        __class(GList, 'fairygui.GList', _super);\r\n        var __proto = GList.prototype;\r\n        __proto.dispose = function() {\r\n            this._pool.clear();\r\n            _super.prototype.dispose.call(this);\r\n        }\r\n\r\n        __proto.getFromPool = function(url) {\r\n            if (!url)\r\n                url = this._defaultItem;\r\n            var obj = this._pool.getObject(url);\r\n            if (obj != null)\r\n                obj.visible = true;\r\n            return obj;\r\n        }\r\n\r\n        __proto.returnToPool = function(obj) {\r\n            obj.displayObject.cacheAsBitmap = false;\r\n            this._pool.returnObject(obj);\r\n        }\r\n\r\n        __proto.addChildAt = function(child, index) {\r\n            (index === void 0) && (index = 0);\r\n            _super.prototype.addChildAt.call(this, child, index);\r\n            if ((child instanceof fairygui.GButton)) {\r\n                var button = (child);\r\n                button.selected = false;\r\n                button.changeStateOnClick = false;\r\n            }\r\n            child.on( /*laya.events.Event.CLICK*/ \"click\", this, this.__clickItem);\r\n            return child;\r\n        }\r\n\r\n        __proto.addItem = function(url) {\r\n            if (!url)\r\n                url = this._defaultItem;\r\n            return this.addChild(UIPackage.createObjectFromURL(url));\r\n        }\r\n\r\n        __proto.addItemFromPool = function(url) {\r\n            return this.addChild(this.getFromPool(url));\r\n        }\r\n\r\n        __proto.removeChildAt = function(index, dispose) {\r\n            (dispose === void 0) && (dispose = false);\r\n            var child = _super.prototype.removeChildAt.call(this, index, dispose);\r\n            child.off( /*laya.events.Event.CLICK*/ \"click\", this, this.__clickItem);\r\n            return child;\r\n        }\r\n\r\n        __proto.removeChildToPoolAt = function(index) {\r\n            (index === void 0) && (index = 0);\r\n            var child = _super.prototype.removeChildAt.call(this, index);\r\n            this.returnToPool(child);\r\n        }\r\n\r\n        __proto.removeChildToPool = function(child) {\r\n            this.removeChild(child);\r\n            this.returnToPool(child);\r\n        }\r\n\r\n        __proto.removeChildrenToPool = function(beginIndex, endIndex) {\r\n            (beginIndex === void 0) && (beginIndex = 0);\r\n            (endIndex === void 0) && (endIndex = -1);\r\n            if (endIndex < 0 || endIndex >= this._children.length)\r\n                endIndex = this._children.length - 1;\r\n            for (var i = beginIndex; i <= endIndex; ++i)\r\n                this.removeChildToPoolAt(beginIndex);\r\n        }\r\n\r\n        __proto.getSelection = function() {\r\n            var ret = [];\r\n            var cnt = this._children.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var obj = this._children[i];\r\n                if (((obj instanceof fairygui.GButton)) && (obj).selected)\r\n                    ret.push(this.childIndexToItemIndex(i));\r\n            }\r\n            return ret;\r\n        }\r\n\r\n        __proto.addSelection = function(index, scrollItToView) {\r\n            (scrollItToView === void 0) && (scrollItToView = false);\r\n            if (this._selectionMode == /*fairygui.ListSelectionMode.None*/ 3)\r\n                return;\r\n            this.checkVirtualList();\r\n            if (this._selectionMode == /*fairygui.ListSelectionMode.Single*/ 0)\r\n                this.clearSelection();\r\n            if (scrollItToView)\r\n                this.scrollToView(index);\r\n            index = this.itemIndexToChildIndex(index);\r\n            if (index < 0 || index >= this._children.length)\r\n                return;\r\n            var obj = this.getChildAt(index);\r\n            if (((obj instanceof fairygui.GButton)) && !(obj).selected) {\r\n                (obj).selected = true;\r\n                this.updateSelectionController(index);\r\n            }\r\n        }\r\n\r\n        __proto.removeSelection = function(index) {\r\n            (index === void 0) && (index = 0);\r\n            if (this._selectionMode == /*fairygui.ListSelectionMode.None*/ 3)\r\n                return;\r\n            index = this.itemIndexToChildIndex(index);\r\n            if (index >= this._children.length)\r\n                return;\r\n            var obj = this.getChildAt(index);\r\n            if (((obj instanceof fairygui.GButton)) && (obj).selected)\r\n                (obj).selected = false;\r\n        }\r\n\r\n        __proto.clearSelection = function() {\r\n            var cnt = this._children.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var obj = this._children[i];\r\n                if ((obj instanceof fairygui.GButton))\r\n                    (obj).selected = false;\r\n            }\r\n        }\r\n\r\n        __proto.selectAll = function() {\r\n            this.checkVirtualList();\r\n            var cnt = this._children.length;\r\n            var last = -1;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var obj = this._children[i];\r\n                if ((obj instanceof fairygui.GButton)) {\r\n                    (obj).selected = true;\r\n                    last = i;\r\n                }\r\n            }\r\n            if (last != -1)\r\n                this.updateSelectionController(last);\r\n        }\r\n\r\n        __proto.selectNone = function() {\r\n            this.checkVirtualList();\r\n            var cnt = this._children.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var obj = this._children[i];\r\n                if ((obj instanceof fairygui.GButton))\r\n                    (obj).selected = false;\r\n            }\r\n        }\r\n\r\n        __proto.selectReverse = function() {\r\n            var cnt = this._children.length;\r\n            var last = -1;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var obj = this._children[i];\r\n                if ((obj instanceof fairygui.GButton)) {\r\n                    (obj).selected = !(obj).selected;\r\n                    if ((obj).selected)\r\n                        last = i;\r\n                }\r\n            }\r\n            if (last != -1)\r\n                this.updateSelectionController(last);\r\n        }\r\n\r\n        __proto.handleArrowKey = function(dir) {\r\n            (dir === void 0) && (dir = 0);\r\n            var index = this.selectedIndex;\r\n            if (index == -1)\r\n                return;\r\n            switch (dir) {\r\n                case 1:\r\n                    if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n                        index--;\r\n                        if (index >= 0) {\r\n                            this.clearSelection();\r\n                            this.addSelection(index, true);\r\n                        }\r\n                    } else if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n                        var current = this._children[index];\r\n                        var k = 0;\r\n                        for (var i = index - 1; i >= 0; i--) {\r\n                            var obj = this._children[i];\r\n                            if (obj.y != current.y) {\r\n                                current = obj;\r\n                                break;\r\n                            }\r\n                            k++;\r\n                        }\r\n                        for (; i >= 0; i--) {\r\n                            obj = this._children[i];\r\n                            if (obj.y != current.y) {\r\n                                this.clearSelection();\r\n                                this.addSelection(i + k + 1, true);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case 3:\r\n                    if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n                        index++;\r\n                        if (index < this._children.length) {\r\n                            this.clearSelection();\r\n                            this.addSelection(index, true);\r\n                        }\r\n                    } else if (this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n                        current = this._children[index];\r\n                        k = 0;\r\n                        var cnt = this._children.length;\r\n                        for (i = index + 1; i < cnt; i++) {\r\n                            obj = this._children[i];\r\n                            if (obj.x != current.x) {\r\n                                current = obj;\r\n                                break;\r\n                            }\r\n                            k++;\r\n                        }\r\n                        for (; i < cnt; i++) {\r\n                            obj = this._children[i];\r\n                            if (obj.x != current.x) {\r\n                                this.clearSelection();\r\n                                this.addSelection(i - k - 1, true);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case 5:\r\n                    if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n                        index++;\r\n                        if (index < this._children.length) {\r\n                            this.clearSelection();\r\n                            this.addSelection(index, true);\r\n                        }\r\n                    } else if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n                        current = this._children[index];\r\n                        k = 0;\r\n                        cnt = this._children.length;\r\n                        for (i = index + 1; i < cnt; i++) {\r\n                            obj = this._children[i];\r\n                            if (obj.y != current.y) {\r\n                                current = obj;\r\n                                break;\r\n                            }\r\n                            k++;\r\n                        }\r\n                        for (; i < cnt; i++) {\r\n                            obj = this._children[i];\r\n                            if (obj.y != current.y) {\r\n                                this.clearSelection();\r\n                                this.addSelection(i - k - 1, true);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case 7:\r\n                    if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n                        index--;\r\n                        if (index >= 0) {\r\n                            this.clearSelection();\r\n                            this.addSelection(index, true);\r\n                        }\r\n                    } else if (this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n                        current = this._children[index];\r\n                        k = 0;\r\n                        for (i = index - 1; i >= 0; i--) {\r\n                            obj = this._children[i];\r\n                            if (obj.x != current.x) {\r\n                                current = obj;\r\n                                break;\r\n                            }\r\n                            k++;\r\n                        }\r\n                        for (; i >= 0; i--) {\r\n                            obj = this._children[i];\r\n                            if (obj.x != current.x) {\r\n                                this.clearSelection();\r\n                                this.addSelection(i + k + 1, true);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n\r\n        __proto.__clickItem = function(evt) {\r\n            if (this._scrollPane != null && this._scrollPane.isDragged)\r\n                return;\r\n            var item = GObject.cast(evt.currentTarget);\r\n            this.setSelectionOnEvent(item, evt);\r\n            if (this._scrollPane && this.scrollItemToViewOnClick)\r\n                this._scrollPane.scrollToView(item, true);\r\n            this.displayObject.event( /*fairygui.Events.CLICK_ITEM*/ \"fui_click_item\", [item, Events.createEvent( /*fairygui.Events.CLICK_ITEM*/ \"fui_click_item\", this.displayObject, evt)]);\r\n        }\r\n\r\n        __proto.setSelectionOnEvent = function(item, evt) {\r\n            if (!((item instanceof fairygui.GButton)) || this._selectionMode == /*fairygui.ListSelectionMode.None*/ 3)\r\n                return;\r\n            var dontChangeLastIndex = false;\r\n            var button = (item);\r\n            var index = this.getChildIndex(item);\r\n            if (this._selectionMode == /*fairygui.ListSelectionMode.Single*/ 0) {\r\n                if (!button.selected) {\r\n                    this.clearSelectionExcept(button);\r\n                    button.selected = true;\r\n                }\r\n            } else {\r\n                if (evt.shiftKey) {\r\n                    if (!button.selected) {\r\n                        if (this._lastSelectedIndex != -1) {\r\n                            var min = Math.min(this._lastSelectedIndex, index);\r\n                            var max = Math.max(this._lastSelectedIndex, index);\r\n                            max = Math.min(max, this._children.length - 1);\r\n                            for (var i = min; i <= max; i++) {\r\n                                var obj = this.getChildAt(i);\r\n                                if (((obj instanceof fairygui.GButton)) && !(obj).selected)\r\n                                    (obj).selected = true;\r\n                            }\r\n                            dontChangeLastIndex = true;\r\n                        } else {\r\n                            button.selected = true;\r\n                        }\r\n                    }\r\n                } else if (evt.ctrlKey || this._selectionMode == /*fairygui.ListSelectionMode.Multiple_SingleClick*/ 2) {\r\n                    button.selected = !button.selected;\r\n                } else {\r\n                    if (!button.selected) {\r\n                        this.clearSelectionExcept(button);\r\n                        button.selected = true;\r\n                    } else\r\n                        this.clearSelectionExcept(button);\r\n                }\r\n            }\r\n            if (!dontChangeLastIndex)\r\n                this._lastSelectedIndex = index;\r\n            if (button.selected)\r\n                this.updateSelectionController(index);\r\n        }\r\n\r\n        __proto.clearSelectionExcept = function(obj) {\r\n            var cnt = this._children.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var button = this._children[i];\r\n                if (((button instanceof fairygui.GButton)) && button != obj && (button).selected)\r\n                    (button).selected = false;\r\n            }\r\n        }\r\n\r\n        __proto.resizeToFit = function(itemCount, minSize) {\r\n            (itemCount === void 0) && (itemCount = 1000000);\r\n            (minSize === void 0) && (minSize = 0);\r\n            this.ensureBoundsCorrect();\r\n            var curCount = this.numItems;\r\n            if (itemCount > curCount)\r\n                itemCount = curCount;\r\n            if (this._virtual) {\r\n                var lineCount = Math.ceil(itemCount / this._curLineItemCount);\r\n                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2)\r\n                    this.viewHeight = lineCount * this._itemSize.y + Math.max(0, lineCount - 1) * this._lineGap;\r\n                else\r\n                    this.viewWidth = lineCount * this._itemSize.x + Math.max(0, lineCount - 1) * this._columnGap;\r\n            } else if (itemCount == 0) {\r\n                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2)\r\n                    this.viewHeight = minSize;\r\n                else\r\n                    this.viewWidth = minSize;\r\n            } else {\r\n                var i = itemCount - 1;\r\n                var obj = null;\r\n                while (i >= 0) {\r\n                    obj = this.getChildAt(i);\r\n                    if (!this.foldInvisibleItems || obj.visible)\r\n                        break;\r\n                    i--;\r\n                }\r\n                if (i < 0) {\r\n                    if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2)\r\n                        this.viewHeight = minSize;\r\n                    else\r\n                        this.viewWidth = minSize;\r\n                } else {\r\n                    var size = 0;\r\n                    if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n                        size = obj.y + obj.height;\r\n                        if (size < minSize)\r\n                            size = minSize;\r\n                        this.viewHeight = size;\r\n                    } else {\r\n                        size = obj.x + obj.width;\r\n                        if (size < minSize)\r\n                            size = minSize;\r\n                        this.viewWidth = size;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.getMaxItemWidth = function() {\r\n            var cnt = this._children.length;\r\n            var max = 0;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var child = this.getChildAt(i);\r\n                if (child.width > max)\r\n                    max = child.width;\r\n            }\r\n            return max;\r\n        }\r\n\r\n        __proto.handleSizeChanged = function() {\r\n            _super.prototype.handleSizeChanged.call(this);\r\n            this.setBoundsChangedFlag();\r\n            if (this._virtual)\r\n                this.setVirtualListChangedFlag(true);\r\n        }\r\n\r\n        __proto.handleControllerChanged = function(c) {\r\n            _super.prototype.handleControllerChanged.call(this, c);\r\n            if (this._selectionController == c)\r\n                this.selectedIndex = c.selectedIndex;\r\n        }\r\n\r\n        __proto.updateSelectionController = function(index) {\r\n            if (this._selectionController != null && !this._selectionController.changing &&\r\n                index < this._selectionController.pageCount) {\r\n                var c = this._selectionController;\r\n                this._selectionController = null;\r\n                c.selectedIndex = index;\r\n                this._selectionController = c;\r\n            }\r\n        }\r\n\r\n        __proto.getSnappingPosition = function(xValue, yValue, resultPoint) {\r\n            if (this._virtual) {\r\n                if (!resultPoint)\r\n                    resultPoint = new Point();\r\n                var saved = NaN;\r\n                var index = 0;\r\n                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n                    saved = yValue;\r\n                    fairygui.GList.pos_param = yValue;\r\n                    index = this.getIndexOnPos1(false);\r\n                    yValue = fairygui.GList.pos_param;\r\n                    if (index < this._virtualItems.length && saved - yValue > this._virtualItems[index].height / 2 && index < this._realNumItems)\r\n                        yValue += this._virtualItems[index].height + this._lineGap;\r\n                } else if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n                    saved = xValue;\r\n                    fairygui.GList.pos_param = xValue;\r\n                    index = this.getIndexOnPos2(false);\r\n                    xValue = fairygui.GList.pos_param;\r\n                    if (index < this._virtualItems.length && saved - xValue > this._virtualItems[index].width / 2 && index < this._realNumItems)\r\n                        xValue += this._virtualItems[index].width + this._columnGap;\r\n                } else {\r\n                    saved = xValue;\r\n                    fairygui.GList.pos_param = xValue;\r\n                    index = this.getIndexOnPos3(false);\r\n                    xValue = fairygui.GList.pos_param;\r\n                    if (index < this._virtualItems.length && saved - xValue > this._virtualItems[index].width / 2 && index < this._realNumItems)\r\n                        xValue += this._virtualItems[index].width + this._columnGap;\r\n                }\r\n                resultPoint.x = xValue;\r\n                resultPoint.y = yValue;\r\n                return resultPoint;\r\n            } else\r\n                return _super.prototype.getSnappingPosition.call(this, xValue, yValue, resultPoint);\r\n        }\r\n\r\n        __proto.scrollToView = function(index, ani, setFirst) {\r\n            (ani === void 0) && (ani = false);\r\n            (setFirst === void 0) && (setFirst = false);\r\n            if (this._virtual) {\r\n                if (this._numItems == 0)\r\n                    return;\r\n                this.checkVirtualList();\r\n                if (index >= this._virtualItems.length)\r\n                    throw new Error(\"Invalid child index: \" + index + \">\" + this._virtualItems.length);\r\n                if (this._loop)\r\n                    index = Math.floor(this._firstIndex / this._numItems) * this._numItems + index;\r\n                var rect;\r\n                var ii = this._virtualItems[index];\r\n                var pos = 0;\r\n                var i = 0;\r\n                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n                    for (i = 0; i < index; i += this._curLineItemCount)\r\n                        pos += this._virtualItems[i].height + this._lineGap;\r\n                    rect = new Rectangle(0, pos, this._itemSize.x, ii.height);\r\n                } else if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n                    for (i = 0; i < index; i += this._curLineItemCount)\r\n                        pos += this._virtualItems[i].width + this._columnGap;\r\n                    rect = new Rectangle(pos, 0, ii.width, this._itemSize.y);\r\n                } else {\r\n                    var page = index / (this._curLineItemCount * this._curLineItemCount2);\r\n                    rect = new Rectangle(page * this.viewWidth + (index % this._curLineItemCount) * (ii.width + this._columnGap),\r\n                        (index / this._curLineItemCount) % this._curLineItemCount2 * (ii.height + this._lineGap),\r\n                        ii.width, ii.height);\r\n                }\r\n                setFirst = true;\r\n                if (this._scrollPane != null)\r\n                    this.scrollPane.scrollToView(rect, ani, setFirst);\r\n            } else {\r\n                var obj = this.getChildAt(index);\r\n                if (this._scrollPane != null)\r\n                    this.scrollPane.scrollToView(obj, ani, setFirst);\r\n                else if (this.parent != null && this.parent.scrollPane != null)\r\n                    this.parent.scrollPane.scrollToView(obj, ani, setFirst);\r\n            }\r\n        }\r\n\r\n        __proto.getFirstChildInView = function() {\r\n            return this.childIndexToItemIndex(_super.prototype.getFirstChildInView.call(this));\r\n        }\r\n\r\n        __proto.childIndexToItemIndex = function(index) {\r\n            if (!this._virtual)\r\n                return index;\r\n            if (this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n                for (var i = this._firstIndex; i < this._realNumItems; i++) {\r\n                    if (this._virtualItems[i].obj != null) {\r\n                        index--;\r\n                        if (index < 0)\r\n                            return i;\r\n                    }\r\n                }\r\n                return index;\r\n            } else {\r\n                index += this._firstIndex;\r\n                if (this._loop && this._numItems > 0)\r\n                    index = index % this._numItems;\r\n                return index;\r\n            }\r\n        }\r\n\r\n        __proto.itemIndexToChildIndex = function(index) {\r\n            if (!this._virtual)\r\n                return index;\r\n            if (this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n                return this.getChildIndex(this._virtualItems[index].obj);\r\n            } else {\r\n                if (this._loop && this._numItems > 0) {\r\n                    var j = this._firstIndex % this._numItems;\r\n                    if (index >= j)\r\n                        index = this._firstIndex + (index - j);\r\n                    else\r\n                        index = this._firstIndex + this._numItems + (j - index);\r\n                } else\r\n                    index -= this._firstIndex;\r\n                return index;\r\n            }\r\n        }\r\n\r\n        __proto.setVirtual = function() {\r\n            this._setVirtual(false);\r\n        }\r\n\r\n        /// </summary>\r\n        __proto.setVirtualAndLoop = function() {\r\n            this._setVirtual(true);\r\n        }\r\n\r\n        /// </summary>\r\n        __proto._setVirtual = function(loop) {\r\n            if (!this._virtual) {\r\n                if (this._scrollPane == null)\r\n                    throw new Error(\"Virtual list must be scrollable!\");\r\n                if (loop) {\r\n                    if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3)\r\n                        throw new Error(\"Loop list is not supported for FlowHorizontal or FlowVertical layout!\");\r\n                    this._scrollPane.bouncebackEffect = false;\r\n                }\r\n                this._virtual = true;\r\n                this._loop = loop;\r\n                this._virtualItems = [];\r\n                this.removeChildrenToPool();\r\n                if (this._itemSize == null) {\r\n                    this._itemSize = new Point();\r\n                    var obj = this.getFromPool(null);\r\n                    if (obj == null) {\r\n                        throw new Error(\"Virtual List must have a default list item resource.\");\r\n                    } else {\r\n                        this._itemSize.x = obj.width;\r\n                        this._itemSize.y = obj.height;\r\n                    }\r\n                    this.returnToPool(obj);\r\n                }\r\n                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2)\r\n                    this._scrollPane.scrollSpeed = this._itemSize.y;\r\n                else\r\n                    this._scrollPane.scrollSpeed = this._itemSize.x;\r\n                this.on( /*fairygui.Events.SCROLL*/ \"fui_scroll\", this, this.__scrolled);\r\n                this.setVirtualListChangedFlag(true);\r\n            }\r\n        }\r\n\r\n        __proto.refreshVirtualList = function() {\r\n            this.setVirtualListChangedFlag(false);\r\n        }\r\n\r\n        __proto.checkVirtualList = function() {\r\n            if (this._virtualListChanged != 0) {\r\n                this._refreshVirtualList();\r\n                Laya.timer.clear(this, this._refreshVirtualList);\r\n            }\r\n        }\r\n\r\n        __proto.setVirtualListChangedFlag = function(layoutChanged) {\r\n            (layoutChanged === void 0) && (layoutChanged = false);\r\n            if (layoutChanged)\r\n                this._virtualListChanged = 2;\r\n            else if (this._virtualListChanged == 0)\r\n                this._virtualListChanged = 1;\r\n            Laya.timer.callLater(this, this._refreshVirtualList);\r\n        }\r\n\r\n        __proto._refreshVirtualList = function() {\r\n            var layoutChanged = this._virtualListChanged == 2;\r\n            this._virtualListChanged = 0;\r\n            this._eventLocked = true;\r\n            if (layoutChanged) {\r\n                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1)\r\n                    this._curLineItemCount = 1;\r\n                else if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n                    if (this._columnCount > 0)\r\n                        this._curLineItemCount = this._columnCount;\r\n                    else {\r\n                        this._curLineItemCount = Math.floor((this._scrollPane.viewWidth + this._columnGap) / (this._itemSize.x + this._columnGap));\r\n                        if (this._curLineItemCount <= 0)\r\n                            this._curLineItemCount = 1;\r\n                    }\r\n                } else if (this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n                    if (this._lineCount > 0)\r\n                        this._curLineItemCount = this._lineCount;\r\n                    else {\r\n                        this._curLineItemCount = Math.floor((this._scrollPane.viewHeight + this._lineGap) / (this._itemSize.y + this._lineGap));\r\n                        if (this._curLineItemCount <= 0)\r\n                            this._curLineItemCount = 1;\r\n                    }\r\n                } else {\r\n                    if (this._columnCount > 0)\r\n                        this._curLineItemCount = this._columnCount;\r\n                    else {\r\n                        this._curLineItemCount = Math.floor((this._scrollPane.viewWidth + this._columnGap) / (this._itemSize.x + this._columnGap));\r\n                        if (this._curLineItemCount <= 0)\r\n                            this._curLineItemCount = 1;\r\n                    }\r\n                    if (this._lineCount > 0)\r\n                        this._curLineItemCount2 = this._lineCount;\r\n                    else {\r\n                        this._curLineItemCount2 = Math.floor((this._scrollPane.viewHeight + this._lineGap) / (this._itemSize.y + this._lineGap));\r\n                        if (this._curLineItemCount2 <= 0)\r\n                            this._curLineItemCount2 = 1;\r\n                    }\r\n                }\r\n            };\r\n            var ch = 0,\r\n                cw = 0;\r\n            if (this._realNumItems > 0) {\r\n                var i = 0;\r\n                var len = Math.ceil(this._realNumItems / this._curLineItemCount) * this._curLineItemCount;\r\n                var len2 = Math.min(this._curLineItemCount, this._realNumItems);\r\n                if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n                    for (i = 0; i < len; i += this._curLineItemCount)\r\n                        ch += this._virtualItems[i].height + this._lineGap;\r\n                    if (ch > 0)\r\n                        ch -= this._lineGap;\r\n                    if (this._autoResizeItem)\r\n                        cw = this.scrollPane.viewWidth;\r\n                    else {\r\n                        for (i = 0; i < len2; i++)\r\n                            cw += this._virtualItems[i].width + this._columnGap;\r\n                        if (cw > 0)\r\n                            cw -= this._columnGap;\r\n                    }\r\n                } else if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n                    for (i = 0; i < len; i += this._curLineItemCount)\r\n                        cw += this._virtualItems[i].width + this._columnGap;\r\n                    if (cw > 0)\r\n                        cw -= this._columnGap;\r\n                    if (this._autoResizeItem)\r\n                        ch = this.scrollPane.viewHeight;\r\n                    else {\r\n                        for (i = 0; i < len2; i++)\r\n                            ch += this._virtualItems[i].height + this._lineGap;\r\n                        if (ch > 0)\r\n                            ch -= this._lineGap;\r\n                    }\r\n                } else {\r\n                    var pageCount = Math.ceil(len / (this._curLineItemCount * this._curLineItemCount2));\r\n                    cw = pageCount * this.viewWidth;\r\n                    ch = this.viewHeight;\r\n                }\r\n            }\r\n            this.handleAlign(cw, ch);\r\n            this._scrollPane.setContentSize(cw, ch);\r\n            this._eventLocked = false;\r\n            this.handleScroll(true);\r\n        }\r\n\r\n        __proto.__scrolled = function(evt) {\r\n            this.handleScroll(false);\r\n        }\r\n\r\n        __proto.getIndexOnPos1 = function(forceUpdate) {\r\n            if (this._realNumItems < this._curLineItemCount) {\r\n                GList.pos_param = 0;\r\n                return 0;\r\n            };\r\n            var i = 0;\r\n            var pos2 = NaN;\r\n            var pos3 = NaN;\r\n            if (this.numChildren > 0 && !forceUpdate) {\r\n                pos2 = this.getChildAt(0).y;\r\n                if (pos2 > GList.pos_param) {\r\n                    for (i = this._firstIndex - this._curLineItemCount; i >= 0; i -= this._curLineItemCount) {\r\n                        pos2 -= (this._virtualItems[i].height + this._lineGap);\r\n                        if (pos2 <= GList.pos_param) {\r\n                            GList.pos_param = pos2;\r\n                            return i;\r\n                        }\r\n                    }\r\n                    GList.pos_param = 0;\r\n                    return 0;\r\n                } else {\r\n                    for (i = this._firstIndex; i < this._realNumItems; i += this._curLineItemCount) {\r\n                        pos3 = pos2 + this._virtualItems[i].height + this._lineGap;\r\n                        if (pos3 > GList.pos_param) {\r\n                            GList.pos_param = pos2;\r\n                            return i;\r\n                        }\r\n                        pos2 = pos3;\r\n                    }\r\n                    GList.pos_param = pos2;\r\n                    return this._realNumItems - this._curLineItemCount;\r\n                }\r\n            } else {\r\n                pos2 = 0;\r\n                for (i = 0; i < this._realNumItems; i += this._curLineItemCount) {\r\n                    pos3 = pos2 + this._virtualItems[i].height + this._lineGap;\r\n                    if (pos3 > GList.pos_param) {\r\n                        GList.pos_param = pos2;\r\n                        return i;\r\n                    }\r\n                    pos2 = pos3;\r\n                }\r\n                GList.pos_param = pos2;\r\n                return this._realNumItems - this._curLineItemCount;\r\n            }\r\n        }\r\n\r\n        __proto.getIndexOnPos2 = function(forceUpdate) {\r\n            if (this._realNumItems < this._curLineItemCount) {\r\n                GList.pos_param = 0;\r\n                return 0;\r\n            };\r\n            var i = 0;\r\n            var pos2 = NaN;\r\n            var pos3 = NaN;\r\n            if (this.numChildren > 0 && !forceUpdate) {\r\n                pos2 = this.getChildAt(0).x;\r\n                if (pos2 > GList.pos_param) {\r\n                    for (i = this._firstIndex - this._curLineItemCount; i >= 0; i -= this._curLineItemCount) {\r\n                        pos2 -= (this._virtualItems[i].width + this._columnGap);\r\n                        if (pos2 <= GList.pos_param) {\r\n                            GList.pos_param = pos2;\r\n                            return i;\r\n                        }\r\n                    }\r\n                    GList.pos_param = 0;\r\n                    return 0;\r\n                } else {\r\n                    for (i = this._firstIndex; i < this._realNumItems; i += this._curLineItemCount) {\r\n                        pos3 = pos2 + this._virtualItems[i].width + this._columnGap;\r\n                        if (pos3 > GList.pos_param) {\r\n                            GList.pos_param = pos2;\r\n                            return i;\r\n                        }\r\n                        pos2 = pos3;\r\n                    }\r\n                    GList.pos_param = pos2;\r\n                    return this._realNumItems - this._curLineItemCount;\r\n                }\r\n            } else {\r\n                pos2 = 0;\r\n                for (i = 0; i < this._realNumItems; i += this._curLineItemCount) {\r\n                    pos3 = pos2 + this._virtualItems[i].width + this._columnGap;\r\n                    if (pos3 > GList.pos_param) {\r\n                        GList.pos_param = pos2;\r\n                        return i;\r\n                    }\r\n                    pos2 = pos3;\r\n                }\r\n                GList.pos_param = pos2;\r\n                return this._realNumItems - this._curLineItemCount;\r\n            }\r\n        }\r\n\r\n        __proto.getIndexOnPos3 = function(forceUpdate) {\r\n            if (this._realNumItems < this._curLineItemCount) {\r\n                GList.pos_param = 0;\r\n                return 0;\r\n            };\r\n            var viewWidth = this.viewWidth;\r\n            var page = Math.floor(GList.pos_param / viewWidth);\r\n            var startIndex = page * (this._curLineItemCount * this._curLineItemCount2);\r\n            var pos2 = page * viewWidth;\r\n            var i = 0;\r\n            var pos3 = NaN;\r\n            for (i = 0; i < this._curLineItemCount; i++) {\r\n                pos3 = pos2 + this._virtualItems[startIndex + i].width + this._columnGap;\r\n                if (pos3 > GList.pos_param) {\r\n                    GList.pos_param = pos2;\r\n                    return startIndex + i;\r\n                }\r\n                pos2 = pos3;\r\n            }\r\n            GList.pos_param = pos2;\r\n            return startIndex + this._curLineItemCount - 1;\r\n        }\r\n\r\n        __proto.handleScroll = function(forceUpdate) {\r\n            if (this._eventLocked)\r\n                return;\r\n            var pos = NaN;\r\n            var roundSize = 0;\r\n            if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n                if (this._loop) {\r\n                    pos = this.scrollPane.scrollingPosY;\r\n                    roundSize = this._numItems * (this._itemSize.y + this._lineGap);\r\n                    if (pos == 0)\r\n                        this.scrollPane.posY = roundSize;\r\n                    else if (pos == this.scrollPane.contentHeight - this.scrollPane.viewHeight)\r\n                        this.scrollPane.posY = this.scrollPane.contentHeight - roundSize - this.viewHeight;\r\n                }\r\n                this.handleScroll1(forceUpdate);\r\n            } else if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n                if (this._loop) {\r\n                    pos = this.scrollPane.scrollingPosX;\r\n                    roundSize = this._numItems * (this._itemSize.x + this._columnGap);\r\n                    if (pos == 0)\r\n                        this.scrollPane.posX = roundSize;\r\n                    else if (pos == this.scrollPane.contentWidth - this.scrollPane.viewWidth)\r\n                        this.scrollPane.posX = this.scrollPane.contentWidth - roundSize - this.viewWidth;\r\n                }\r\n                this.handleScroll2(forceUpdate);\r\n            } else {\r\n                if (this._loop) {\r\n                    pos = this.scrollPane.scrollingPosX;\r\n                    roundSize = Math.floor(this._numItems / (this._curLineItemCount * this._curLineItemCount2)) * this.viewWidth;\r\n                    if (pos == 0)\r\n                        this.scrollPane.posX = roundSize;\r\n                    else if (pos == this.scrollPane.contentWidth - this.scrollPane.viewWidth)\r\n                        this.scrollPane.posX = this.scrollPane.contentWidth - roundSize - this.viewWidth;\r\n                }\r\n                this.handleScroll3(forceUpdate);\r\n            }\r\n            this._boundsChanged = false;\r\n        }\r\n\r\n        __proto.handleScroll1 = function(forceUpdate) {\r\n            GList.enterCounter++;\r\n            if (GList.enterCounter > 3)\r\n                return;\r\n            var pos = this.scrollPane.scrollingPosY;\r\n            var max = pos + this.scrollPane.viewHeight;\r\n            var end = max == this.scrollPane.contentHeight;\r\n            fairygui.GList.pos_param = pos;\r\n            var newFirstIndex = this.getIndexOnPos1(forceUpdate);\r\n            pos = fairygui.GList.pos_param;\r\n            if (newFirstIndex == this._firstIndex && !forceUpdate) {\r\n                GList.enterCounter--;\r\n                return;\r\n            };\r\n            var oldFirstIndex = this._firstIndex;\r\n            this._firstIndex = newFirstIndex;\r\n            var curIndex = newFirstIndex;\r\n            var forward = oldFirstIndex > newFirstIndex;\r\n            var oldCount = this.numChildren;\r\n            var lastIndex = oldFirstIndex + oldCount - 1;\r\n            var reuseIndex = forward ? lastIndex : oldFirstIndex;\r\n            var curX = 0,\r\n                curY = pos;\r\n            var needRender = false;\r\n            var deltaSize = 0;\r\n            var firstItemDeltaSize = 0;\r\n            var url = this.defaultItem;\r\n            var ii, ii2;\r\n            var i = 0,\r\n                j = 0;\r\n            var partSize = (this.scrollPane.viewWidth - this._columnGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\r\n            GList.itemInfoVer++;\r\n            while (curIndex < this._realNumItems && (end || curY < max)) {\r\n                ii = this._virtualItems[curIndex];\r\n                if (ii.obj == null || forceUpdate) {\r\n                    if (this.itemProvider != null) {\r\n                        url = this.itemProvider.runWith(curIndex % this._numItems);\r\n                        if (url == null)\r\n                            url = this._defaultItem;\r\n                        url = UIPackage.normalizeURL(url);\r\n                    }\r\n                    if (ii.obj != null && ii.obj.resourceURL != url) {\r\n                        this.removeChildToPool(ii.obj);\r\n                        ii.obj = null;\r\n                    }\r\n                }\r\n                if (ii.obj == null) {\r\n                    if (forward) {\r\n                        for (j = reuseIndex; j >= oldFirstIndex; j--) {\r\n                            ii2 = this._virtualItems[j];\r\n                            if (ii2.obj != null && ii2.updateFlag != GList.itemInfoVer && ii2.obj.resourceURL == url) {\r\n                                ii.obj = ii2.obj;\r\n                                ii2.obj = null;\r\n                                if (j == reuseIndex)\r\n                                    reuseIndex--;\r\n                                break;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        for (j = reuseIndex; j <= lastIndex; j++) {\r\n                            ii2 = this._virtualItems[j];\r\n                            if (ii2.obj != null && ii2.updateFlag != GList.itemInfoVer && ii2.obj.resourceURL == url) {\r\n                                ii.obj = ii2.obj;\r\n                                ii2.obj = null;\r\n                                if (j == reuseIndex)\r\n                                    reuseIndex++;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (ii.obj != null) {\r\n                        this.setChildIndex(ii.obj, forward ? curIndex - newFirstIndex : this.numChildren);\r\n                    } else {\r\n                        ii.obj = this._pool.getObject(url);\r\n                        if (forward)\r\n                            this.addChildAt(ii.obj, curIndex - newFirstIndex);\r\n                        else\r\n                            this.addChild(ii.obj);\r\n                    }\r\n                    if ((ii.obj instanceof fairygui.GButton))\r\n                        (ii.obj).selected = false;\r\n                    needRender = true;\r\n                } else\r\n                    needRender = forceUpdate;\r\n                if (needRender) {\r\n                    if (this._autoResizeItem && (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0 || this._columnCount > 0))\r\n                        ii.obj.setSize(partSize, ii.obj.height, true);\r\n                    this.itemRenderer.runWith([curIndex % this._numItems, ii.obj]);\r\n                    if (curIndex % this._curLineItemCount == 0) {\r\n                        deltaSize += Math.ceil(ii.obj.height) - ii.height;\r\n                        if (curIndex == newFirstIndex && oldFirstIndex > newFirstIndex) {\r\n                            firstItemDeltaSize = Math.ceil(ii.obj.height) - ii.height;\r\n                        }\r\n                    }\r\n                    ii.width = Math.ceil(ii.obj.width);\r\n                    ii.height = Math.ceil(ii.obj.height);\r\n                }\r\n                ii.updateFlag = GList.itemInfoVer;\r\n                ii.obj.setXY(curX, curY);\r\n                if (curIndex == newFirstIndex)\r\n                    max += ii.height;\r\n                curX += ii.width + this._columnGap;\r\n                if (curIndex % this._curLineItemCount == this._curLineItemCount - 1) {\r\n                    curX = 0;\r\n                    curY += ii.height + this._lineGap;\r\n                }\r\n                curIndex++;\r\n            }\r\n            for (i = 0; i < oldCount; i++) {\r\n                ii = this._virtualItems[oldFirstIndex + i];\r\n                if (ii.updateFlag != GList.itemInfoVer && ii.obj != null) {\r\n                    this.removeChildToPool(ii.obj);\r\n                    ii.obj = null;\r\n                }\r\n            }\r\n            if (deltaSize != 0 || firstItemDeltaSize != 0)\r\n                this._scrollPane.changeContentSizeOnScrolling(0, deltaSize, 0, firstItemDeltaSize);\r\n            if (curIndex > 0 && this.numChildren > 0 && this._container.y < 0 && this.getChildAt(0).y > -this._container.y)\r\n                this.handleScroll1(false);\r\n            GList.enterCounter--;\r\n        }\r\n\r\n        __proto.handleScroll2 = function(forceUpdate) {\r\n            GList.enterCounter++;\r\n            if (GList.enterCounter > 3)\r\n                return;\r\n            var pos = this.scrollPane.scrollingPosX;\r\n            var max = pos + this.scrollPane.viewWidth;\r\n            var end = pos == this.scrollPane.contentWidth;\r\n            fairygui.GList.pos_param = pos;\r\n            var newFirstIndex = this.getIndexOnPos2(forceUpdate);\r\n            pos = fairygui.GList.pos_param;\r\n            if (newFirstIndex == this._firstIndex && !forceUpdate) {\r\n                GList.enterCounter--;\r\n                return;\r\n            };\r\n            var oldFirstIndex = this._firstIndex;\r\n            this._firstIndex = newFirstIndex;\r\n            var curIndex = newFirstIndex;\r\n            var forward = oldFirstIndex > newFirstIndex;\r\n            var oldCount = this.numChildren;\r\n            var lastIndex = oldFirstIndex + oldCount - 1;\r\n            var reuseIndex = forward ? lastIndex : oldFirstIndex;\r\n            var curX = pos,\r\n                curY = 0;\r\n            var needRender = false;\r\n            var deltaSize = 0;\r\n            var firstItemDeltaSize = 0;\r\n            var url = this.defaultItem;\r\n            var ii, ii2;\r\n            var i = 0,\r\n                j = 0;\r\n            var partSize = (this.scrollPane.viewHeight - this._lineGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\r\n            GList.itemInfoVer++;\r\n            while (curIndex < this._realNumItems && (end || curX < max)) {\r\n                ii = this._virtualItems[curIndex];\r\n                if (ii.obj == null || forceUpdate) {\r\n                    if (this.itemProvider != null) {\r\n                        url = this.itemProvider.runWith(curIndex % this._numItems);\r\n                        if (url == null)\r\n                            url = this._defaultItem;\r\n                        url = UIPackage.normalizeURL(url);\r\n                    }\r\n                    if (ii.obj != null && ii.obj.resourceURL != url) {\r\n                        this.removeChildToPool(ii.obj);\r\n                        ii.obj = null;\r\n                    }\r\n                }\r\n                if (ii.obj == null) {\r\n                    if (forward) {\r\n                        for (j = reuseIndex; j >= oldFirstIndex; j--) {\r\n                            ii2 = this._virtualItems[j];\r\n                            if (ii2.obj != null && ii2.updateFlag != GList.itemInfoVer && ii2.obj.resourceURL == url) {\r\n                                ii.obj = ii2.obj;\r\n                                ii2.obj = null;\r\n                                if (j == reuseIndex)\r\n                                    reuseIndex--;\r\n                                break;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        for (j = reuseIndex; j <= lastIndex; j++) {\r\n                            ii2 = this._virtualItems[j];\r\n                            if (ii2.obj != null && ii2.updateFlag != GList.itemInfoVer && ii2.obj.resourceURL == url) {\r\n                                ii.obj = ii2.obj;\r\n                                ii2.obj = null;\r\n                                if (j == reuseIndex)\r\n                                    reuseIndex++;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    if (ii.obj != null) {\r\n                        this.setChildIndex(ii.obj, forward ? curIndex - newFirstIndex : this.numChildren);\r\n                    } else {\r\n                        ii.obj = this._pool.getObject(url);\r\n                        if (forward)\r\n                            this.addChildAt(ii.obj, curIndex - newFirstIndex);\r\n                        else\r\n                            this.addChild(ii.obj);\r\n                    }\r\n                    if ((ii.obj instanceof fairygui.GButton))\r\n                        (ii.obj).selected = false;\r\n                    needRender = true;\r\n                } else\r\n                    needRender = forceUpdate;\r\n                if (needRender) {\r\n                    if (this._autoResizeItem && (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._lineCount > 0))\r\n                        ii.obj.setSize(ii.obj.width, partSize, true);\r\n                    this.itemRenderer.runWith([curIndex % this._numItems, ii.obj]);\r\n                    if (curIndex % this._curLineItemCount == 0) {\r\n                        deltaSize += Math.ceil(ii.obj.width) - ii.width;\r\n                        if (curIndex == newFirstIndex && oldFirstIndex > newFirstIndex) {\r\n                            firstItemDeltaSize = Math.ceil(ii.obj.width) - ii.width;\r\n                        }\r\n                    }\r\n                    ii.width = Math.ceil(ii.obj.width);\r\n                    ii.height = Math.ceil(ii.obj.height);\r\n                }\r\n                ii.updateFlag = GList.itemInfoVer;\r\n                ii.obj.setXY(curX, curY);\r\n                if (curIndex == newFirstIndex)\r\n                    max += ii.width;\r\n                curY += ii.height + this._lineGap;\r\n                if (curIndex % this._curLineItemCount == this._curLineItemCount - 1) {\r\n                    curY = 0;\r\n                    curX += ii.width + this._columnGap;\r\n                }\r\n                curIndex++;\r\n            }\r\n            for (i = 0; i < oldCount; i++) {\r\n                ii = this._virtualItems[oldFirstIndex + i];\r\n                if (ii.updateFlag != GList.itemInfoVer && ii.obj != null) {\r\n                    this.removeChildToPool(ii.obj);\r\n                    ii.obj = null;\r\n                }\r\n            }\r\n            if (deltaSize != 0 || firstItemDeltaSize != 0)\r\n                this._scrollPane.changeContentSizeOnScrolling(deltaSize, 0, firstItemDeltaSize, 0);\r\n            if (curIndex > 0 && this.numChildren > 0 && this._container.x < 0 && this.getChildAt(0).x > -this._container.x)\r\n                this.handleScroll2(false);\r\n            GList.enterCounter--;\r\n        }\r\n\r\n        __proto.handleScroll3 = function(forceUpdate) {\r\n            var pos = this.scrollPane.scrollingPosX;\r\n            fairygui.GList.pos_param = pos;\r\n            var newFirstIndex = this.getIndexOnPos3(forceUpdate);\r\n            pos = fairygui.GList.pos_param;\r\n            if (newFirstIndex == this._firstIndex && !forceUpdate)\r\n                return;\r\n            var oldFirstIndex = this._firstIndex;\r\n            this._firstIndex = newFirstIndex;\r\n            var reuseIndex = oldFirstIndex;\r\n            var virtualItemCount = this._virtualItems.length;\r\n            var pageSize = this._curLineItemCount * this._curLineItemCount2;\r\n            var startCol = newFirstIndex % this._curLineItemCount;\r\n            var viewWidth = this.viewWidth;\r\n            var page = Math.floor(newFirstIndex / pageSize);\r\n            var startIndex = page * pageSize;\r\n            var lastIndex = startIndex + pageSize * 2;\r\n            var needRender = false;\r\n            var i = 0;\r\n            var ii, ii2;\r\n            var col = 0;\r\n            var url = this._defaultItem;\r\n            var partWidth = (this.scrollPane.viewWidth - this._columnGap * (this._curLineItemCount - 1)) / this._curLineItemCount;\r\n            var partHeight = (this.scrollPane.viewHeight - this._lineGap * (this._curLineItemCount2 - 1)) / this._curLineItemCount2;\r\n            GList.itemInfoVer++;\r\n            for (i = startIndex; i < lastIndex; i++) {\r\n                if (i >= this._realNumItems)\r\n                    continue;\r\n                col = i % this._curLineItemCount;\r\n                if (i - startIndex < pageSize) {\r\n                    if (col < startCol)\r\n                        continue;\r\n                } else {\r\n                    if (col > startCol)\r\n                        continue;\r\n                }\r\n                ii = this._virtualItems[i];\r\n                ii.updateFlag = GList.itemInfoVer;\r\n            };\r\n            var lastObj = null;\r\n            var insertIndex = 0;\r\n            for (i = startIndex; i < lastIndex; i++) {\r\n                if (i >= this._realNumItems)\r\n                    continue;\r\n                ii = this._virtualItems[i];\r\n                if (ii.updateFlag != GList.itemInfoVer)\r\n                    continue;\r\n                if (ii.obj == null) {\r\n                    while (reuseIndex < virtualItemCount) {\r\n                        ii2 = this._virtualItems[reuseIndex];\r\n                        if (ii2.obj != null && ii2.updateFlag != GList.itemInfoVer) {\r\n                            ii.obj = ii2.obj;\r\n                            ii2.obj = null;\r\n                            break;\r\n                        }\r\n                        reuseIndex++;\r\n                    }\r\n                    if (insertIndex == -1)\r\n                        insertIndex = this.getChildIndex(lastObj) + 1;\r\n                    if (ii.obj == null) {\r\n                        if (this.itemProvider != null) {\r\n                            url = this.itemProvider.runWith(i % this._numItems);\r\n                            if (url == null)\r\n                                url = this._defaultItem;\r\n                            url = UIPackage.normalizeURL(url);\r\n                        }\r\n                        ii.obj = this._pool.getObject(url);\r\n                        this.addChildAt(ii.obj, insertIndex);\r\n                    } else {\r\n                        insertIndex = this.setChildIndexBefore(ii.obj, insertIndex);\r\n                    }\r\n                    insertIndex++;\r\n                    if ((ii.obj instanceof fairygui.GButton))\r\n                        (ii.obj).selected = false;\r\n                    needRender = true;\r\n                } else {\r\n                    needRender = forceUpdate;\r\n                    insertIndex = -1;\r\n                    lastObj = ii.obj;\r\n                }\r\n                if (needRender) {\r\n                    if (this._autoResizeItem) {\r\n                        if (this._curLineItemCount == this._columnCount && this._curLineItemCount2 == this._lineCount)\r\n                            ii.obj.setSize(partWidth, partHeight, true);\r\n                        else if (this._curLineItemCount == this._columnCount)\r\n                            ii.obj.setSize(partWidth, ii.obj.height, true);\r\n                        else if (this._curLineItemCount2 == this._lineCount)\r\n                            ii.obj.setSize(ii.obj.width, partHeight, true);\r\n                    }\r\n                    this.itemRenderer.runWith([i % this._numItems, ii.obj]);\r\n                    ii.width = Math.ceil(ii.obj.width);\r\n                    ii.height = Math.ceil(ii.obj.height);\r\n                }\r\n            };\r\n            var borderX = (startIndex / pageSize) * viewWidth;\r\n            var xx = borderX;\r\n            var yy = 0;\r\n            var lineHeight = 0;\r\n            for (i = startIndex; i < lastIndex; i++) {\r\n                if (i >= this._realNumItems)\r\n                    continue;\r\n                ii = this._virtualItems[i];\r\n                if (ii.updateFlag == GList.itemInfoVer)\r\n                    ii.obj.setXY(xx, yy);\r\n                if (ii.height > lineHeight)\r\n                    lineHeight = ii.height;\r\n                if (i % this._curLineItemCount == this._curLineItemCount - 1) {\r\n                    xx = borderX;\r\n                    yy += lineHeight + this._lineGap;\r\n                    lineHeight = 0;\r\n                    if (i == startIndex + pageSize - 1) {\r\n                        borderX += viewWidth;\r\n                        xx = borderX;\r\n                        yy = 0;\r\n                    }\r\n                } else\r\n                    xx += ii.width + this._columnGap;\r\n            }\r\n            for (i = reuseIndex; i < virtualItemCount; i++) {\r\n                ii = this._virtualItems[i];\r\n                if (ii.updateFlag != GList.itemInfoVer && ii.obj != null) {\r\n                    this.removeChildToPool(ii.obj);\r\n                    ii.obj = null;\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.handleAlign = function(contentWidth, contentHeight) {\r\n            var newOffsetX = 0;\r\n            var newOffsetY = 0;\r\n            if (contentHeight < this.viewHeight) {\r\n                if (this._verticalAlign == \"middle\")\r\n                    newOffsetY = Math.floor((this.viewHeight - contentHeight) / 2);\r\n                else if (this._verticalAlign == \"bottom\")\r\n                    newOffsetY = this.viewHeight - contentHeight;\r\n            }\r\n            if (contentWidth < this.viewWidth) {\r\n                if (this._align == \"center\")\r\n                    newOffsetX = Math.floor((this.viewWidth - contentWidth) / 2);\r\n                else if (this._align == \"right\")\r\n                    newOffsetX = this.viewWidth - contentWidth;\r\n            }\r\n            if (newOffsetX != this._alignOffset.x || newOffsetY != this._alignOffset.y) {\r\n                this._alignOffset.setTo(newOffsetX, newOffsetY);\r\n                if (this.scrollPane != null)\r\n                    this.scrollPane.adjustMaskContainer();\r\n                else\r\n                    this._container.pos(this._margin.left + this._alignOffset.x, this._margin.top + this._alignOffset.y);\r\n            }\r\n        }\r\n\r\n        __proto.updateBounds = function() {\r\n            if (this._virtual)\r\n                return;\r\n            var i = 0;\r\n            var child;\r\n            var curX = 0;\r\n            var curY = 0;\r\n            var maxWidth = 0;\r\n            var maxHeight = 0;\r\n            var cw = 0,\r\n                ch = 0;\r\n            var j = 0;\r\n            var page = 0;\r\n            var k = 0;\r\n            var cnt = this._children.length;\r\n            var viewWidth = this.viewWidth;\r\n            var viewHeight = this.viewHeight;\r\n            var lineSize = 0;\r\n            var lineStart = 0;\r\n            var ratio = NaN;\r\n            if (this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0) {\r\n                for (i = 0; i < cnt; i++) {\r\n                    child = this.getChildAt(i);\r\n                    if (this.foldInvisibleItems && !child.visible)\r\n                        continue;\r\n                    if (curY != 0)\r\n                        curY += this._lineGap;\r\n                    child.y = curY;\r\n                    if (this._autoResizeItem)\r\n                        child.setSize(viewWidth, child.height, true);\r\n                    curY += Math.ceil(child.height);\r\n                    if (child.width > maxWidth)\r\n                        maxWidth = child.width;\r\n                }\r\n                cw = Math.ceil(maxWidth);\r\n                ch = curY;\r\n            } else if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1) {\r\n                for (i = 0; i < cnt; i++) {\r\n                    child = this.getChildAt(i);\r\n                    if (this.foldInvisibleItems && !child.visible)\r\n                        continue;\r\n                    if (curX != 0)\r\n                        curX += this._columnGap;\r\n                    child.x = curX;\r\n                    if (this._autoResizeItem)\r\n                        child.setSize(child.width, viewHeight, true);\r\n                    curX += Math.ceil(child.width);\r\n                    if (child.height > maxHeight)\r\n                        maxHeight = child.height;\r\n                }\r\n                cw = curX;\r\n                ch = Math.ceil(maxHeight);\r\n            } else if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2) {\r\n                if (this._autoResizeItem && this._columnCount > 0) {\r\n                    for (i = 0; i < cnt; i++) {\r\n                        child = this.getChildAt(i);\r\n                        if (this.foldInvisibleItems && !child.visible)\r\n                            continue;\r\n                        lineSize += child.sourceWidth;\r\n                        j++;\r\n                        if (j == this._columnCount || i == cnt - 1) {\r\n                            ratio = (viewWidth - lineSize - (j - 1) * this._columnGap) / lineSize;\r\n                            curX = 0;\r\n                            for (j = lineStart; j <= i; j++) {\r\n                                child = this.getChildAt(j);\r\n                                if (this.foldInvisibleItems && !child.visible)\r\n                                    continue;\r\n                                child.setXY(curX, curY);\r\n                                if (j < i) {\r\n                                    child.setSize(child.sourceWidth + Math.round(child.sourceWidth * ratio), child.height, true);\r\n                                    curX += Math.ceil(child.width) + this._columnGap;\r\n                                } else {\r\n                                    child.setSize(viewWidth - curX, child.height, true);\r\n                                }\r\n                                if (child.height > maxHeight)\r\n                                    maxHeight = child.height;\r\n                            }\r\n                            curY += Math.ceil(maxHeight) + this._lineGap;\r\n                            maxHeight = 0;\r\n                            j = 0;\r\n                            lineStart = i + 1;\r\n                            lineSize = 0;\r\n                        }\r\n                    }\r\n                    ch = curY + Math.ceil(maxHeight);\r\n                    cw = viewWidth;\r\n                } else {\r\n                    for (i = 0; i < cnt; i++) {\r\n                        child = this.getChildAt(i);\r\n                        if (this.foldInvisibleItems && !child.visible)\r\n                            continue;\r\n                        if (curX != 0)\r\n                            curX += this._columnGap;\r\n                        if (this._columnCount != 0 && j >= this._columnCount ||\r\n                            this._columnCount == 0 && curX + child.width > viewWidth && maxHeight != 0) {\r\n                            curX = 0;\r\n                            curY += Math.ceil(maxHeight) + this._lineGap;\r\n                            maxHeight = 0;\r\n                            j = 0;\r\n                        }\r\n                        child.setXY(curX, curY);\r\n                        curX += Math.ceil(child.width);\r\n                        if (curX > maxWidth)\r\n                            maxWidth = curX;\r\n                        if (child.height > maxHeight)\r\n                            maxHeight = child.height;\r\n                        j++;\r\n                    }\r\n                    ch = curY + Math.ceil(maxHeight);\r\n                    cw = Math.ceil(maxWidth);\r\n                }\r\n            } else if (this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3) {\r\n                if (this._autoResizeItem && this._lineCount > 0) {\r\n                    for (i = 0; i < cnt; i++) {\r\n                        child = this.getChildAt(i);\r\n                        if (this.foldInvisibleItems && !child.visible)\r\n                            continue;\r\n                        lineSize += child.sourceHeight;\r\n                        j++;\r\n                        if (j == this._lineCount || i == cnt - 1) {\r\n                            ratio = (viewHeight - lineSize - (j - 1) * this._lineGap) / lineSize;\r\n                            curY = 0;\r\n                            for (j = lineStart; j <= i; j++) {\r\n                                child = this.getChildAt(j);\r\n                                if (this.foldInvisibleItems && !child.visible)\r\n                                    continue;\r\n                                child.setXY(curX, curY);\r\n                                if (j < i) {\r\n                                    child.setSize(child.width, child.sourceHeight + Math.round(child.sourceHeight * ratio), true);\r\n                                    curY += Math.ceil(child.height) + this._lineGap;\r\n                                } else {\r\n                                    child.setSize(child.width, viewHeight - curY, true);\r\n                                }\r\n                                if (child.width > maxWidth)\r\n                                    maxWidth = child.width;\r\n                            }\r\n                            curX += Math.ceil(maxWidth) + this._columnGap;\r\n                            maxWidth = 0;\r\n                            j = 0;\r\n                            lineStart = i + 1;\r\n                            lineSize = 0;\r\n                        }\r\n                    }\r\n                    cw = curX + Math.ceil(maxWidth);\r\n                    ch = viewHeight;\r\n                } else {\r\n                    for (i = 0; i < cnt; i++) {\r\n                        child = this.getChildAt(i);\r\n                        if (this.foldInvisibleItems && !child.visible)\r\n                            continue;\r\n                        if (curY != 0)\r\n                            curY += this._lineGap;\r\n                        if (this._lineCount != 0 && j >= this._lineCount ||\r\n                            this._lineCount == 0 && curY + child.height > viewHeight && maxWidth != 0) {\r\n                            curY = 0;\r\n                            curX += Math.ceil(maxWidth) + this._columnGap;\r\n                            maxWidth = 0;\r\n                            j = 0;\r\n                        }\r\n                        child.setXY(curX, curY);\r\n                        curY += Math.ceil(child.height);\r\n                        if (curY > maxHeight)\r\n                            maxHeight = curY;\r\n                        if (child.width > maxWidth)\r\n                            maxWidth = child.width;\r\n                        j++;\r\n                    }\r\n                    cw = curX + Math.ceil(maxWidth);\r\n                    ch = Math.ceil(maxHeight);\r\n                }\r\n            } else {\r\n                var eachHeight = 0;\r\n                if (this._autoResizeItem && this._lineCount > 0)\r\n                    eachHeight = Math.floor((viewHeight - (this._lineCount - 1) * this._lineGap) / this._lineCount);\r\n                if (this._autoResizeItem && this._columnCount > 0) {\r\n                    for (i = 0; i < cnt; i++) {\r\n                        child = this.getChildAt(i);\r\n                        if (this.foldInvisibleItems && !child.visible)\r\n                            continue;\r\n                        lineSize += child.sourceWidth;\r\n                        j++;\r\n                        if (j == this._columnCount || i == cnt - 1) {\r\n                            ratio = (viewWidth - lineSize - (j - 1) * this._columnGap) / lineSize;\r\n                            curX = 0;\r\n                            for (j = lineStart; j <= i; j++) {\r\n                                child = this.getChildAt(j);\r\n                                if (this.foldInvisibleItems && !child.visible)\r\n                                    continue;\r\n                                child.setXY(page * viewWidth + curX, curY);\r\n                                if (j < i) {\r\n                                    child.setSize(child.sourceWidth + Math.round(child.sourceWidth * ratio),\r\n                                        this._lineCount > 0 ? eachHeight : child.height, true);\r\n                                    curX += Math.ceil(child.width) + this._columnGap;\r\n                                } else {\r\n                                    child.setSize(viewWidth - curX, this._lineCount > 0 ? eachHeight : child.height, true);\r\n                                }\r\n                                if (child.height > maxHeight)\r\n                                    maxHeight = child.height;\r\n                            }\r\n                            curY += Math.ceil(maxHeight) + this._lineGap;\r\n                            maxHeight = 0;\r\n                            j = 0;\r\n                            lineStart = i + 1;\r\n                            lineSize = 0;\r\n                            k++;\r\n                            if (this._lineCount != 0 && k >= this._lineCount ||\r\n                                this._lineCount == 0 && curY + child.height > viewHeight) {\r\n                                page++;\r\n                                curY = 0;\r\n                                k = 0;\r\n                            }\r\n                        }\r\n                    }\r\n                } else {\r\n                    for (i = 0; i < cnt; i++) {\r\n                        child = this.getChildAt(i);\r\n                        if (this.foldInvisibleItems && !child.visible)\r\n                            continue;\r\n                        if (curX != 0)\r\n                            curX += this._columnGap;\r\n                        if (this._autoResizeItem && this._lineCount > 0)\r\n                            child.setSize(child.width, eachHeight, true);\r\n                        if (this._columnCount != 0 && j >= this._columnCount ||\r\n                            this._columnCount == 0 && curX + child.width > viewWidth && maxHeight != 0) {\r\n                            curX = 0;\r\n                            curY += Math.ceil(maxHeight) + this._lineGap;\r\n                            maxHeight = 0;\r\n                            j = 0;\r\n                            k++;\r\n                            if (this._lineCount != 0 && k >= this._lineCount ||\r\n                                this._lineCount == 0 && curY + child.height > viewHeight && maxWidth != 0) {\r\n                                page++;\r\n                                curY = 0;\r\n                                k = 0;\r\n                            }\r\n                        }\r\n                        child.setXY(page * viewWidth + curX, curY);\r\n                        curX += Math.ceil(child.width);\r\n                        if (curX > maxWidth)\r\n                            maxWidth = curX;\r\n                        if (child.height > maxHeight)\r\n                            maxHeight = child.height;\r\n                        j++;\r\n                    }\r\n                }\r\n                ch = page > 0 ? viewHeight : curY + Math.ceil(maxHeight);\r\n                cw = (page + 1) * viewWidth;\r\n            }\r\n            this.handleAlign(cw, ch);\r\n            this.setBounds(0, 0, cw, ch);\r\n        }\r\n\r\n        __proto.setup_beforeAdd = function(xml) {\r\n            fairygui.GObject.prototype.setup_beforeAdd.call(this, xml);\r\n            var str;\r\n            var arr;\r\n            str = xml.getAttribute(\"layout\");\r\n            if (str)\r\n                this._layout = ListLayoutType.parse(str);\r\n            var overflow = 0;\r\n            str = xml.getAttribute(\"overflow\");\r\n            if (str)\r\n                overflow = OverflowType.parse(str);\r\n            else\r\n                overflow = /*fairygui.OverflowType.Visible*/ 0;\r\n            str = xml.getAttribute(\"margin\");\r\n            if (str)\r\n                this._margin.parse(str);\r\n            str = xml.getAttribute(\"align\");\r\n            if (str)\r\n                this._align = str;\r\n            str = xml.getAttribute(\"vAlign\");\r\n            if (str)\r\n                this._verticalAlign = str;\r\n            if (overflow == /*fairygui.OverflowType.Scroll*/ 2) {\r\n                var scroll = 0;\r\n                str = xml.getAttribute(\"scroll\");\r\n                if (str)\r\n                    scroll = ScrollType.parse(str);\r\n                else\r\n                    scroll = /*fairygui.ScrollType.Vertical*/ 1;\r\n                var scrollBarDisplay = 0;\r\n                str = xml.getAttribute(\"scrollBar\");\r\n                if (str)\r\n                    scrollBarDisplay = ScrollBarDisplayType.parse(str);\r\n                else\r\n                    scrollBarDisplay = /*fairygui.ScrollBarDisplayType.Default*/ 0;\r\n                var scrollBarFlags = NaN;\r\n                str = xml.getAttribute(\"scrollBarFlags\");\r\n                if (str)\r\n                    scrollBarFlags = parseInt(str);\r\n                else\r\n                    scrollBarFlags = 0;\r\n                var scrollBarMargin = new Margin();\r\n                str = xml.getAttribute(\"scrollBarMargin\");\r\n                if (str)\r\n                    scrollBarMargin.parse(str);\r\n                var vtScrollBarRes;\r\n                var hzScrollBarRes;\r\n                str = xml.getAttribute(\"scrollBarRes\");\r\n                if (str) {\r\n                    arr = str.split(\",\");\r\n                    vtScrollBarRes = arr[0];\r\n                    hzScrollBarRes = arr[1];\r\n                }\r\n                this.setupScroll(scrollBarMargin, scroll, scrollBarDisplay, scrollBarFlags, vtScrollBarRes, hzScrollBarRes);\r\n            } else\r\n                this.setupOverflow(overflow);\r\n            str = xml.getAttribute(\"lineGap\");\r\n            if (str)\r\n                this._lineGap = parseInt(str);\r\n            str = xml.getAttribute(\"colGap\");\r\n            if (str)\r\n                this._columnGap = parseInt(str);\r\n            str = xml.getAttribute(\"lineItemCount\");\r\n            if (str) {\r\n                if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4)\r\n                    this._columnCount = parseInt(str);\r\n                else if (this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3)\r\n                    this._lineCount = parseInt(str);\r\n            }\r\n            str = xml.getAttribute(\"lineItemCount2\");\r\n            if (str)\r\n                this._lineCount = parseInt(str);\r\n            str = xml.getAttribute(\"selectionMode\");\r\n            if (str)\r\n                this._selectionMode = ListSelectionMode.parse(str);\r\n            str = xml.getAttribute(\"defaultItem\");\r\n            if (str)\r\n                this._defaultItem = str;\r\n            str = xml.getAttribute(\"autoItemSize\");\r\n            if (this._layout == /*fairygui.ListLayoutType.SingleRow*/ 1 || this._layout == /*fairygui.ListLayoutType.SingleColumn*/ 0)\r\n                this._autoResizeItem = str != \"false\";\r\n            else\r\n                this._autoResizeItem = str == \"true\";\r\n            str = xml.getAttribute(\"renderOrder\");\r\n            if (str) {\r\n                this._childrenRenderOrder = ChildrenRenderOrder.parse(str);\r\n                if (this._childrenRenderOrder == /*fairygui.ChildrenRenderOrder.Arch*/ 2) {\r\n                    str = xml.getAttribute(\"apex\");\r\n                    if (str)\r\n                        this._apexIndex = parseInt(str);\r\n                }\r\n            };\r\n            var col = xml.childNodes;\r\n            var length = col.length;\r\n            for (var i = 0; i < length; i++) {\r\n                var cxml = col[i];\r\n                if (cxml.nodeName != \"item\")\r\n                    continue;\r\n                var url = cxml.getAttribute(\"url\");\r\n                if (!url)\r\n                    url = this._defaultItem;\r\n                if (!url)\r\n                    continue;\r\n                var obj = this.getFromPool(url);\r\n                if (obj != null) {\r\n                    this.addChild(obj);\r\n                    str = cxml.getAttribute(\"title\");\r\n                    if (str)\r\n                        obj.text = str;\r\n                    str = cxml.getAttribute(\"icon\");\r\n                    if (str)\r\n                        obj.icon = str;\r\n                    str = cxml.getAttribute(\"name\");\r\n                    if (str)\r\n                        obj.name = str;\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.setup_afterAdd = function(xml) {\r\n            _super.prototype.setup_afterAdd.call(this, xml);\r\n            var str;\r\n            str = xml.getAttribute(\"selectionController\");\r\n            if (str)\r\n                this._selectionController = this.parent.getController(str);\r\n        }\r\n\r\n        __getset(0, __proto, 'layout', function() {\r\n            return this._layout;\r\n        }, function(value) {\r\n            if (this._layout != value) {\r\n                this._layout = value;\r\n                this.setBoundsChangedFlag();\r\n                if (this._virtual)\r\n                    this.setVirtualListChangedFlag(true);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'align', function() {\r\n            return this._align;\r\n        }, function(value) {\r\n            if (this._align != value) {\r\n                this._align = value;\r\n                this.setBoundsChangedFlag();\r\n                if (this._virtual)\r\n                    this.setVirtualListChangedFlag(true);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'lineCount', function() {\r\n            return this._lineCount;\r\n        }, function(value) {\r\n            if (this._lineCount != value) {\r\n                this._lineCount = value;\r\n                if (this._layout == /*fairygui.ListLayoutType.FlowVertical*/ 3 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n                    this.setBoundsChangedFlag();\r\n                    if (this._virtual)\r\n                        this.setVirtualListChangedFlag(true);\r\n                }\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'columnCount', function() {\r\n            return this._columnCount;\r\n        }, function(value) {\r\n            if (this._columnCount != value) {\r\n                this._columnCount = value;\r\n                if (this._layout == /*fairygui.ListLayoutType.FlowHorizontal*/ 2 || this._layout == /*fairygui.ListLayoutType.Pagination*/ 4) {\r\n                    this.setBoundsChangedFlag();\r\n                    if (this._virtual)\r\n                        this.setVirtualListChangedFlag(true);\r\n                }\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'lineGap', function() {\r\n            return this._lineGap;\r\n        }, function(value) {\r\n            if (this._lineGap != value) {\r\n                this._lineGap = value;\r\n                this.setBoundsChangedFlag();\r\n                if (this._virtual)\r\n                    this.setVirtualListChangedFlag(true);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'columnGap', function() {\r\n            return this._columnGap;\r\n        }, function(value) {\r\n            if (this._columnGap != value) {\r\n                this._columnGap = value;\r\n                this.setBoundsChangedFlag();\r\n                if (this._virtual)\r\n                    this.setVirtualListChangedFlag(true);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'verticalAlign', function() {\r\n            return this._verticalAlign;\r\n        }, function(value) {\r\n            if (this._verticalAlign != value) {\r\n                this._verticalAlign = value;\r\n                this.setBoundsChangedFlag();\r\n                if (this._virtual)\r\n                    this.setVirtualListChangedFlag(true);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'virtualItemSize', function() {\r\n            return this._itemSize;\r\n        }, function(value) {\r\n            if (this._virtual) {\r\n                if (this._itemSize == null)\r\n                    this._itemSize = new Point();\r\n                this._itemSize.setTo(value.x, value.y);\r\n                this.setVirtualListChangedFlag(true);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'defaultItem', function() {\r\n            return this._defaultItem;\r\n        }, function(val) {\r\n            this._defaultItem = val;\r\n        });\r\n\r\n        __getset(0, __proto, 'autoResizeItem', function() {\r\n            return this._autoResizeItem;\r\n        }, function(value) {\r\n            if (this._autoResizeItem != value) {\r\n                this._autoResizeItem = value;\r\n                this.setBoundsChangedFlag();\r\n                if (this._virtual)\r\n                    this.setVirtualListChangedFlag(true);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'selectionMode', function() {\r\n            return this._selectionMode;\r\n        }, function(value) {\r\n            this._selectionMode = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'selectionController', function() {\r\n            return this._selectionController;\r\n        }, function(value) {\r\n            this._selectionController = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'itemPool', function() {\r\n            return this._pool;\r\n        });\r\n\r\n        __getset(0, __proto, 'selectedIndex', function() {\r\n            var cnt = this._children.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var obj = this._children[i];\r\n                if (((obj instanceof fairygui.GButton)) && (obj).selected)\r\n                    return this.childIndexToItemIndex(i);\r\n            }\r\n            return -1;\r\n        }, function(value) {\r\n            this.clearSelection();\r\n            if (value >= 0 && value < this.numItems)\r\n                this.addSelection(value);\r\n        });\r\n\r\n        /// </summary>\r\n        __getset(0, __proto, 'numItems', function() {\r\n            if (this._virtual)\r\n                return this._numItems;\r\n            else\r\n                return this._children.length;\r\n        }, function(value) {\r\n            var i = 0;\r\n            if (this._virtual) {\r\n                if (this.itemRenderer == null)\r\n                    throw new Error(\"Set itemRenderer first!\");\r\n                this._numItems = value;\r\n                if (this._loop)\r\n                    this._realNumItems = this._numItems * 5;\r\n                else\r\n                    this._realNumItems = this._numItems;\r\n                var oldCount = this._virtualItems.length;\r\n                if (this._realNumItems > oldCount) {\r\n                    for (i = oldCount; i < this._realNumItems; i++) {\r\n                        var ii = new ItemInfo();\r\n                        ii.width = this._itemSize.x;\r\n                        ii.height = this._itemSize.y;\r\n                        this._virtualItems.push(ii);\r\n                    }\r\n                }\r\n                if (this._virtualListChanged != 0)\r\n                    Laya.timer.clear(this, this._refreshVirtualList);\r\n                this._refreshVirtualList();\r\n            } else {\r\n                var cnt = this._children.length;\r\n                if (value > cnt) {\r\n                    for (i = cnt; i < value; i++) {\r\n                        if (this.itemProvider == null)\r\n                            this.addItemFromPool();\r\n                        else\r\n                            this.addItemFromPool(this.itemProvider.runWith(i));\r\n                    }\r\n                } else {\r\n                    this.removeChildrenToPool(value, cnt);\r\n                }\r\n                if (this.itemRenderer != null) {\r\n                    for (i = 0; i < value; i++)\r\n                        this.itemRenderer.runWith([i, this.getChildAt(i)]);\r\n                }\r\n            }\r\n        });\r\n\r\n        GList.itemInfoVer = 0;\r\n        GList.enterCounter = 0;\r\n        GList.pos_param = NaN\r\n        GList.__init$ = function() {\r\n            //class ItemInfo\r\n            ItemInfo = (function() {\r\n                function ItemInfo() {\r\n                    this.width = 0;\r\n                    this.height = 0;\r\n                    this.obj = null;\r\n                    this.updateFlag = 0;\r\n                }\r\n                __class(ItemInfo, '');\r\n                return ItemInfo;\r\n            })()\r\n        }\r\n\r\n        return GList;\r\n    })(GComponent)\r\n\r\n\r\n    //class fairygui.GRichTextField extends fairygui.GTextField\r\n    var GRichTextField = (function(_super) {\r\n        function GRichTextField() {\r\n            this.div = null;\r\n            this._text = null;\r\n            this._ubbEnabled = false;\r\n            this._color = null;\r\n            GRichTextField.__super.call(this);\r\n            this._text = \"\";\r\n        }\r\n\r\n        __class(GRichTextField, 'fairygui.GRichTextField', _super);\r\n        var __proto = GRichTextField.prototype;\r\n        __proto.createDisplayObject = function() {\r\n            this._displayObject = this.div = new HTMLDivElement();\r\n            this._displayObject.mouseEnabled = true;\r\n            this._displayObject[\"$owner\"] = this;\r\n        }\r\n\r\n        __proto.handleSizeChanged = function() {\r\n            this.div.size(this.width, this.height);\r\n        }\r\n\r\n        __getset(0, __proto, 'bold', function() {\r\n            return this.div.style.bold;\r\n        }, function(value) {\r\n            this.div.style.bold = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'align', function() {\r\n            return this.div.style.align;\r\n        }, function(value) {\r\n            this.div.style.align = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'text', function() {\r\n            return this._text;\r\n        }, function(value) {\r\n            this._text = value;\r\n            if (this._ubbEnabled)\r\n                this.div.innerHTML = ToolSet.parseUBB(this._text);\r\n            else\r\n                this.div.innerHTML = this._text;\r\n        });\r\n\r\n        __getset(0, __proto, 'color', function() {\r\n            return this._color;\r\n        }, function(value) {\r\n            if (this._color != value) {\r\n                this._color = value;\r\n                this.div.color = value;\r\n                if (this._gearColor.controller)\r\n                    this._gearColor.updateState();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'font', function() {\r\n            return this.div.style.font;\r\n        }, function(value) {\r\n            this.div.style.font = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'leading', function() {\r\n            return this.div.style.leading;\r\n        }, function(value) {\r\n            this.div.style.leading = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'fontSize', function() {\r\n            return this.div.style.fontSize;\r\n        }, function(value) {\r\n            this.div.style.fontSize = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'valign', function() {\r\n            return this.div.style.valign;\r\n        }, function(value) {\r\n            this.div.style.valign = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'italic', function() {\r\n            return this.div.style.italic;\r\n        }, function(value) {\r\n            this.div.style.italic = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'stroke', function() {\r\n            return this.div.style.stroke;\r\n        }, function(value) {\r\n            this.div.style.stroke = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'strokeColor', function() {\r\n            return this.div.style.strokeColor;\r\n        }, function(value) {\r\n            this.div.style.strokeColor = value;\r\n            this.updateGear(4);\r\n        });\r\n\r\n        __getset(0, __proto, 'ubbEnabled', function() {\r\n            return this._ubbEnabled;\r\n        }, function(value) {\r\n            this._ubbEnabled = value;\r\n        });\r\n\r\n        return GRichTextField;\r\n    })(GTextField)\r\n\r\n\r\n    //class fairygui.GProgressBar extends fairygui.GComponent\r\n    var GProgressBar = (function(_super) {\r\n        function GProgressBar() {\r\n            this._max = 0;\r\n            this._value = 0;\r\n            this._titleType = 0;\r\n            this._reverse = false;\r\n            this._titleObject = null;\r\n            this._aniObject = null;\r\n            this._barObjectH = null;\r\n            this._barObjectV = null;\r\n            this._barMaxWidth = 0;\r\n            this._barMaxHeight = 0;\r\n            this._barMaxWidthDelta = 0;\r\n            this._barMaxHeightDelta = 0;\r\n            this._barStartX = 0;\r\n            this._barStartY = 0;\r\n            this._tweener = null;\r\n            this._tweenValue = 0;\r\n            GProgressBar.__super.call(this);\r\n            this._titleType = /*fairygui.ProgressTitleType.Percent*/ 0;\r\n            this._value = 50;\r\n            this._max = 100;\r\n        }\r\n\r\n        __class(GProgressBar, 'fairygui.GProgressBar', _super);\r\n        var __proto = GProgressBar.prototype;\r\n        __proto.tweenValue = function(value, duration) {\r\n            if (this._value != value) {\r\n                if (this._tweener)\r\n                    this._tweener.clear();\r\n                this._tweenValue = this._value;\r\n                this._value = value;\r\n                this._tweener = Tween.to(this, { _tweenValue: value }, duration * 1000, fairygui.GProgressBar.easeLinear,\r\n                    Handler.create(this, this.onTweenComplete, null, true));\r\n                this._tweener.update = Handler.create(this, this.onUpdateTween, null, false);\r\n                return this._tweener;\r\n            } else\r\n                return null;\r\n        }\r\n\r\n        __proto.onUpdateTween = function() {\r\n            this.update(this._tweenValue);\r\n        }\r\n\r\n        __proto.onTweenComplete = function() {\r\n            this._tweener = null;\r\n        }\r\n\r\n        __proto.update = function(newValue) {\r\n            var percent = Math.min(newValue / this._max, 1);\r\n            if (this._titleObject) {\r\n                switch (this._titleType) {\r\n                    case /*fairygui.ProgressTitleType.Percent*/ 0:\r\n                        this._titleObject.text = Math.round(percent * 100) + \"%\";\r\n                        break;\r\n                    case /*fairygui.ProgressTitleType.ValueAndMax*/ 1:\r\n                        this._titleObject.text = Math.round(newValue) + \"/\" + Math.round(this._max);\r\n                        break;\r\n                    case /*fairygui.ProgressTitleType.Value*/ 2:\r\n                        this._titleObject.text = \"\" + Math.round(newValue);\r\n                        break;\r\n                    case /*fairygui.ProgressTitleType.Max*/ 3:\r\n                        this._titleObject.text = \"\" + Math.round(this._max);\r\n                        break;\r\n                }\r\n            };\r\n            var fullWidth = this.width - this._barMaxWidthDelta;\r\n            var fullHeight = this.height - this._barMaxHeightDelta;\r\n            if (!this._reverse) {\r\n                if (this._barObjectH)\r\n                    this._barObjectH.width = fullWidth * percent;\r\n                if (this._barObjectV)\r\n                    this._barObjectV.height = fullHeight * percent;\r\n            } else {\r\n                if (this._barObjectH) {\r\n                    this._barObjectH.width = Math.round(fullWidth * percent);\r\n                    this._barObjectH.x = this._barStartX + (fullWidth - this._barObjectH.width);\r\n                }\r\n                if (this._barObjectV) {\r\n                    this._barObjectV.height = Math.round(fullHeight * percent);\r\n                    this._barObjectV.y = this._barStartY + (fullHeight - this._barObjectV.height);\r\n                }\r\n            }\r\n            if ((this._aniObject instanceof fairygui.GMovieClip))\r\n                (this._aniObject).frame = Math.round(percent * 100);\r\n        }\r\n\r\n        __proto.constructFromXML = function(xml) {\r\n            _super.prototype.constructFromXML.call(this, xml);\r\n            xml = ToolSet.findChildNode(xml, \"ProgressBar\");\r\n            var str;\r\n            str = xml.getAttribute(\"titleType\");\r\n            if (str)\r\n                this._titleType = ProgressTitleType.parse(str);\r\n            this._reverse = xml.getAttribute(\"reverse\") == \"true\";\r\n            this._titleObject = (this.getChild(\"title\"));\r\n            this._barObjectH = this.getChild(\"bar\");\r\n            this._barObjectV = this.getChild(\"bar_v\");\r\n            this._aniObject = this.getChild(\"ani\");\r\n            if (this._barObjectH) {\r\n                this._barMaxWidth = this._barObjectH.width;\r\n                this._barMaxWidthDelta = this.width - this._barMaxWidth;\r\n                this._barStartX = this._barObjectH.x;\r\n            }\r\n            if (this._barObjectV) {\r\n                this._barMaxHeight = this._barObjectV.height;\r\n                this._barMaxHeightDelta = this.height - this._barMaxHeight;\r\n                this._barStartY = this._barObjectV.y;\r\n            }\r\n        }\r\n\r\n        __proto.handleSizeChanged = function() {\r\n            _super.prototype.handleSizeChanged.call(this);\r\n            if (this._barObjectH)\r\n                this._barMaxWidth = this.width - this._barMaxWidthDelta;\r\n            if (this._barObjectV)\r\n                this._barMaxHeight = this.height - this._barMaxHeightDelta;\r\n            if (!this._underConstruct)\r\n                this.update(this._value);\r\n        }\r\n\r\n        __proto.setup_afterAdd = function(xml) {\r\n            _super.prototype.setup_afterAdd.call(this, xml);\r\n            xml = ToolSet.findChildNode(xml, \"ProgressBar\");\r\n            if (xml) {\r\n                this._value = parseInt(xml.getAttribute(\"value\"));\r\n                this._max = parseInt(xml.getAttribute(\"max\"));\r\n            }\r\n            this.update(this._value);\r\n        }\r\n\r\n        __proto.dispose = function() {\r\n            if (this._tweener)\r\n                this._tweener.clear();\r\n            _super.prototype.dispose.call(this);\r\n        }\r\n\r\n        __getset(0, __proto, 'max', function() {\r\n            return this._max;\r\n        }, function(value) {\r\n            if (this._max != value) {\r\n                this._max = value;\r\n                this.update(this._value);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'titleType', function() {\r\n            return this._titleType;\r\n        }, function(value) {\r\n            if (this._titleType != value) {\r\n                this._titleType = value;\r\n                this.update(this._value);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'value', function() {\r\n            return this._value;\r\n        }, function(value) {\r\n            if (this._tweener != null) {\r\n                this._tweener.clear();\r\n                this._tweener = null;\r\n            }\r\n            if (this._value != value) {\r\n                this._value = value;\r\n                this.update(this._value);\r\n            }\r\n        });\r\n\r\n        __static(GProgressBar, ['easeLinear', function() { return this.easeLinear = Ease.linearNone; }]);\r\n        return GProgressBar;\r\n    })(GComponent)\r\n\r\n\r\n    //class fairygui.GRoot extends fairygui.GComponent\r\n    var GRoot = (function(_super) {\r\n        function GRoot() {\r\n            this._modalLayer = null;\r\n            this._popupStack = null;\r\n            this._justClosedPopups = null;\r\n            this._modalWaitPane = null;\r\n            this._focusedObject = null;\r\n            this._tooltipWin = null;\r\n            this._defaultTooltipWin = null;\r\n            this._checkPopups = false;\r\n            GRoot.__super.call(this);\r\n            if (fairygui.GRoot._inst == null)\r\n                fairygui.GRoot._inst = this;\r\n            this.opaque = false;\r\n            this._popupStack = [];\r\n            this._justClosedPopups = [];\r\n            this.displayObject.once( /*laya.events.Event.DISPLAY*/ \"display\", this, this.__addedToStage);\r\n        }\r\n\r\n        __class(GRoot, 'fairygui.GRoot', _super);\r\n        var __proto = GRoot.prototype;\r\n        __proto.showWindow = function(win) {\r\n            this.addChild(win);\r\n            win.requestFocus();\r\n            if (win.x > this.width)\r\n                win.x = this.width - win.width;\r\n            else if (win.x + win.width < 0)\r\n                win.x = 0;\r\n            if (win.y > this.height)\r\n                win.y = this.height - win.height;\r\n            else if (win.y + win.height < 0)\r\n                win.y = 0;\r\n            this.adjustModalLayer();\r\n        }\r\n\r\n        __proto.hideWindow = function(win) {\r\n            win.hide();\r\n        }\r\n\r\n        __proto.hideWindowImmediately = function(win) {\r\n            if (win.parent == this)\r\n                this.removeChild(win);\r\n            this.adjustModalLayer();\r\n        }\r\n\r\n        __proto.bringToFront = function(win) {\r\n            var cnt = this.numChildren;\r\n            var i = NaN;\r\n            if (this._modalLayer.parent != null && !win.modal)\r\n                i = this.getChildIndex(this._modalLayer) - 1;\r\n            else\r\n                i = cnt - 1;\r\n            for (; i >= 0; i--) {\r\n                var g = this.getChildAt(i);\r\n                if (g == win)\r\n                    return;\r\n                if ((g instanceof fairygui.Window))\r\n                    break;\r\n            }\r\n            if (i >= 0)\r\n                this.setChildIndex(win, i);\r\n        }\r\n\r\n        __proto.showModalWait = function(msg) {\r\n            if (UIConfig1.globalModalWaiting != null) {\r\n                if (this._modalWaitPane == null)\r\n                    this._modalWaitPane = UIPackage.createObjectFromURL(UIConfig1.globalModalWaiting);\r\n                this._modalWaitPane.setSize(this.width, this.height);\r\n                this._modalWaitPane.addRelation(this, /*fairygui.RelationType.Size*/ 24);\r\n                this.addChild(this._modalWaitPane);\r\n                this._modalWaitPane.text = msg;\r\n            }\r\n        }\r\n\r\n        __proto.closeModalWait = function() {\r\n            if (this._modalWaitPane != null && this._modalWaitPane.parent != null)\r\n                this.removeChild(this._modalWaitPane);\r\n        }\r\n\r\n        __proto.closeAllExceptModals = function() {\r\n            var arr = this._children.slice();\r\n            var cnt = arr.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var g = arr[i];\r\n                if (((g instanceof fairygui.Window)) && !(g).modal)\r\n                    (g).hide();\r\n            }\r\n        }\r\n\r\n        __proto.closeAllWindows = function() {\r\n            var arr = this._children.slice();\r\n            var cnt = arr.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var g = arr[i];\r\n                if ((g instanceof fairygui.Window))\r\n                    (g).hide();\r\n            }\r\n        }\r\n\r\n        __proto.getTopWindow = function() {\r\n            var cnt = this.numChildren;\r\n            for (var i = cnt - 1; i >= 0; i--) {\r\n                var g = this.getChildAt(i);\r\n                if ((g instanceof fairygui.Window)) {\r\n                    return (g);\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\n        __proto.showPopup = function(popup, target, downward) {\r\n            if (this._popupStack.length > 0) {\r\n                var k = this._popupStack.indexOf(popup);\r\n                if (k != -1) {\r\n                    for (var i = this._popupStack.length - 1; i >= k; i--)\r\n                        this.removeChild(this._popupStack.pop());\r\n                }\r\n            }\r\n            this._popupStack.push(popup);\r\n            this.addChild(popup);\r\n            this.adjustModalLayer();\r\n            var pos;\r\n            var sizeW = 0,\r\n                sizeH = 0;\r\n            if (target) {\r\n                pos = target.localToGlobal();\r\n                sizeW = target.width;\r\n                sizeH = target.height;\r\n            } else {\r\n                pos = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY);\r\n            };\r\n            var xx = NaN,\r\n                yy = NaN;\r\n            xx = pos.x;\r\n            if (xx + popup.width > this.width)\r\n                xx = xx + sizeW - popup.width;\r\n            yy = pos.y + sizeH;\r\n            if ((downward == null && yy + popup.height > this.height) ||\r\n                downward == false) {\r\n                yy = pos.y - popup.height - 1;\r\n                if (yy < 0) {\r\n                    yy = 0;\r\n                    xx += sizeW / 2;\r\n                }\r\n            }\r\n            popup.x = xx;\r\n            popup.y = yy;\r\n        }\r\n\r\n        __proto.togglePopup = function(popup, target, downward) {\r\n            if (this._justClosedPopups.indexOf(popup) != -1)\r\n                return;\r\n            this.showPopup(popup, target, downward);\r\n        }\r\n\r\n        __proto.hidePopup = function(popup) {\r\n            if (popup != null) {\r\n                var k = this._popupStack.indexOf(popup);\r\n                if (k != -1) {\r\n                    for (var i = this._popupStack.length - 1; i >= k; i--)\r\n                        this.closePopup(this._popupStack.pop());\r\n                }\r\n            } else {\r\n                var cnt = this._popupStack.length;\r\n                for (i = cnt - 1; i >= 0; i--)\r\n                    this.closePopup(this._popupStack[i]);\r\n                this._popupStack.length = 0;\r\n            }\r\n        }\r\n\r\n        __proto.closePopup = function(target) {\r\n            if (target.parent != null) {\r\n                if ((target instanceof fairygui.Window))\r\n                    (target).hide();\r\n                else\r\n                    this.removeChild(target);\r\n            }\r\n        }\r\n\r\n        __proto.showTooltips = function(msg) {\r\n            if (this._defaultTooltipWin == null) {\r\n                var resourceURL = UIConfig1.tooltipsWin;\r\n                if (!resourceURL) {\r\n                    Log.print(\"UIConfig.tooltipsWin not defined\");\r\n                    return;\r\n                }\r\n                this._defaultTooltipWin = UIPackage.createObjectFromURL(resourceURL);\r\n            }\r\n            this._defaultTooltipWin.text = msg;\r\n            this.showTooltipsWin(this._defaultTooltipWin);\r\n        }\r\n\r\n        __proto.showTooltipsWin = function(tooltipWin, position) {\r\n            this.hideTooltips();\r\n            this._tooltipWin = tooltipWin;\r\n            var xx = 0;\r\n            var yy = 0;\r\n            if (position == null) {\r\n                xx = Laya.stage.mouseX + 10;\r\n                yy = Laya.stage.mouseY + 20;\r\n            } else {\r\n                xx = position.x;\r\n                yy = position.y;\r\n            };\r\n            var pt = this.globalToLocal(xx, yy);\r\n            xx = pt.x;\r\n            yy = pt.y;\r\n            if (xx + this._tooltipWin.width > this.width) {\r\n                xx = xx - this._tooltipWin.width - 1;\r\n                if (xx < 0)\r\n                    xx = 10;\r\n            }\r\n            if (yy + this._tooltipWin.height > this.height) {\r\n                yy = yy - this._tooltipWin.height - 1;\r\n                if (xx - this._tooltipWin.width - 1 > 0)\r\n                    xx = xx - this._tooltipWin.width - 1;\r\n                if (yy < 0)\r\n                    yy = 10;\r\n            }\r\n            this._tooltipWin.x = xx;\r\n            this._tooltipWin.y = yy;\r\n            this.addChild(this._tooltipWin);\r\n        }\r\n\r\n        __proto.hideTooltips = function() {\r\n            if (this._tooltipWin != null) {\r\n                if (this._tooltipWin.parent)\r\n                    this.removeChild(this._tooltipWin);\r\n                this._tooltipWin = null;\r\n            }\r\n        }\r\n\r\n        __proto.getObjectUnderPoint = function(globalX, globalY) {\r\n            return null;\r\n        }\r\n\r\n        __proto.setFocus = function(value) {\r\n            if (this._focusedObject != value) {\r\n                this._focusedObject = value;\r\n                this.displayObject.event( /*fairygui.Events.FOCUS_CHANGED*/ \"fui_focus_changed\");\r\n            }\r\n        }\r\n\r\n        __proto.playOneShotSound = function(url, volumeScale) {\r\n            (volumeScale === void 0) && (volumeScale = 1);\r\n            SoundManager.playSound(url);\r\n        }\r\n\r\n        __proto.adjustModalLayer = function() {\r\n            var cnt = this.numChildren;\r\n            if (this._modalWaitPane != null && this._modalWaitPane.parent != null)\r\n                this.setChildIndex(this._modalWaitPane, cnt - 1);\r\n            for (var i = cnt - 1; i >= 0; i--) {\r\n                var g = this.getChildAt(i);\r\n                if (((g instanceof fairygui.Window)) && (g).modal) {\r\n                    if (this._modalLayer.parent == null)\r\n                        this.addChildAt(this._modalLayer, i);\r\n                    else\r\n                        this.setChildIndexBefore(this._modalLayer, i);\r\n                    return;\r\n                }\r\n            }\r\n            if (this._modalLayer.parent != null)\r\n                this.removeChild(this._modalLayer);\r\n        }\r\n\r\n        __proto.__addedToStage = function() {\r\n            Laya.stage.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__stageMouseDown);\r\n            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__stageMouseUp);\r\n            this._modalLayer = new GGraph();\r\n            this._modalLayer.setSize(this.width, this.height);\r\n            this._modalLayer.drawRect(0, null, UIConfig1.modalLayerColor);\r\n            this._modalLayer.addRelation(this, /*fairygui.RelationType.Size*/ 24);\r\n            this.displayObject.stage.on( /*laya.events.Event.RESIZE*/ \"resize\", this, this.__winResize);\r\n            this.__winResize();\r\n        }\r\n\r\n        __proto.checkPopups = function(clickTarget) {\r\n            if (this._checkPopups)\r\n                return;\r\n            this._checkPopups = true;\r\n            this._justClosedPopups.length = 0;\r\n            if (this._popupStack.length > 0) {\r\n                var mc = clickTarget;\r\n                while (mc != this.displayObject.stage && mc != null) {\r\n                    if (mc[\"$owner\"]) {\r\n                        var pindex = this._popupStack.indexOf(mc[\"$owner\"]);\r\n                        if (pindex != -1) {\r\n                            for (var i = this._popupStack.length - 1; i > pindex; i--) {\r\n                                var popup = this._popupStack.pop();\r\n                                this.closePopup(popup);\r\n                                this._justClosedPopups.push(popup);\r\n                            }\r\n                            return;\r\n                        }\r\n                    }\r\n                    mc = mc.parent;\r\n                };\r\n                var cnt = this._popupStack.length;\r\n                for (i = cnt - 1; i >= 0; i--) {\r\n                    popup = this._popupStack[i];\r\n                    this.closePopup(popup);\r\n                    this._justClosedPopups.push(popup);\r\n                }\r\n                this._popupStack.length = 0;\r\n            }\r\n        }\r\n\r\n        __proto.__stageMouseDown = function(evt) {\r\n            var mc = evt.target;\r\n            while (mc != this.displayObject.stage && mc != null) {\r\n                if (mc[\"$owner\"]) {\r\n                    var gg = mc[\"$owner\"];\r\n                    if (gg.touchable && gg.focusable) {\r\n                        this.setFocus(gg);\r\n                        break;\r\n                    }\r\n                }\r\n                mc = mc.parent;\r\n            }\r\n            if (this._tooltipWin != null)\r\n                this.hideTooltips();\r\n            this.checkPopups(evt.target);\r\n        }\r\n\r\n        __proto.__stageMouseUp = function() {\r\n            this._checkPopups = false;\r\n        }\r\n\r\n        __proto.__winResize = function() {\r\n            this.setSize(Laya.stage.width, Laya.stage.height);\r\n        }\r\n\r\n        __getset(0, __proto, 'focus', function() {\r\n            if (this._focusedObject && !this._focusedObject.onStage)\r\n                this._focusedObject = null;\r\n            return this._focusedObject;\r\n        }, function(value) {\r\n            if (value && (!value.focusable || !value.onStage))\r\n                throw \"invalid focus target\";\r\n            this.setFocus(value);\r\n        });\r\n\r\n        __getset(0, __proto, 'hasAnyPopup', function() {\r\n            return this._popupStack.length != 0;\r\n        });\r\n\r\n        __getset(0, __proto, 'modalLayer', function() {\r\n            return this._modalLayer;\r\n        });\r\n\r\n        __getset(0, __proto, 'hasModalWindow', function() {\r\n            return this._modalLayer.parent != null;\r\n        });\r\n\r\n        __getset(0, __proto, 'modalWaiting', function() {\r\n            return this._modalWaitPane && this._modalWaitPane.inContainer;\r\n        });\r\n\r\n        __getset(0, __proto, 'volumeScale', function() {\r\n            return SoundManager.soundVolume;\r\n        }, function(value) {\r\n            SoundManager.soundVolume = value;\r\n        });\r\n\r\n        __getset(1, GRoot, 'inst', function() {\r\n            if (fairygui.GRoot._inst == null)\r\n                new GRoot();\r\n            return fairygui.GRoot._inst;\r\n        }, fairygui.GComponent._$SET_inst);\r\n\r\n        GRoot._inst = null\r\n        return GRoot;\r\n    })(GComponent)\r\n\r\n\r\n    //class fairygui.GTextInput extends fairygui.GTextField\r\n    var GTextInput = (function(_super) {\r\n        function GTextInput() {\r\n            this.input = null;\r\n            GTextInput.__super.call(this);\r\n        }\r\n\r\n        __class(GTextInput, 'fairygui.GTextInput', _super);\r\n        var __proto = GTextInput.prototype;\r\n        __proto.createDisplayObject = function() {\r\n            this._displayObject = this.input = new Input();\r\n            this._displayObject.mouseEnabled = true;\r\n            this._displayObject[\"$owner\"] = this;\r\n        }\r\n\r\n        __proto.handleSizeChanged = function() {\r\n            this.input.size(this.width, this.height);\r\n        }\r\n\r\n        __proto.setup_beforeAdd = function(xml) {\r\n            _super.prototype.setup_beforeAdd.call(this, xml);\r\n            var str = xml.getAttribute(\"prompt\");\r\n            if (str)\r\n                this.promptText = str;\r\n            str = xml.getAttribute(\"maxLength\");\r\n            if (str)\r\n                this.input.maxChars = parseInt(str);\r\n            str = xml.getAttribute(\"restrict\");\r\n            if (str)\r\n                this.input.restrict = str;\r\n            if (xml.getAttribute(\"password\") == \"true\")\r\n                this.password = true;\r\n            else {\r\n                str = xml.getAttribute(\"keyboardType\");\r\n                if (str == \"4\")\r\n                    this.keyboardType = /*laya.display.Input.TYPE_NUMBER*/ \"number\";\r\n                else if (str == \"3\")\r\n                    this.keyboardType = /*laya.display.Input.TYPE_URL*/ \"url\";\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'bold', function() {\r\n            return this.input.bold;\r\n        }, function(value) {\r\n            this.input.bold = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'align', function() {\r\n            return this.input.align;\r\n        }, function(value) {\r\n            this.input.align = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'text', function() {\r\n            return this.input.text;\r\n        }, function(value) {\r\n            this.input.text = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'password', function() {\r\n            return this.input.type == \"password\";\r\n        }, function(value) {\r\n            if (value)\r\n                this.input.type = \"password\";\r\n            else\r\n                this.input.type = \"text\";\r\n        });\r\n\r\n        __getset(0, __proto, 'color', function() {\r\n            return this.input.color;\r\n        }, function(value) {\r\n            this.input.color = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'font', function() {\r\n            return this.input.font;\r\n        }, function(value) {\r\n            this.input.font = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'leading', function() {\r\n            return this.input.leading;\r\n        }, function(value) {\r\n            this.input.leading = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'maxLength', function() {\r\n            return this.input.maxChars;\r\n        }, function(value) {\r\n            this.input.maxChars = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'fontSize', function() {\r\n            return this.input.fontSize;\r\n        }, function(value) {\r\n            this.input.fontSize = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'valign', function() {\r\n            return this.input.valign;\r\n        }, function(value) {\r\n            this.input.valign = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'italic', function() {\r\n            return this.input.italic;\r\n        }, function(value) {\r\n            this.input.italic = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'singleLine', function() {\r\n            return !this.input.multiline;\r\n        }, function(value) {\r\n            this.input.multiline = !value;\r\n        });\r\n\r\n        __getset(0, __proto, 'stroke', function() {\r\n            return this.input.stroke;\r\n        }, function(value) {\r\n            this.input.stroke = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'strokeColor', function() {\r\n            return this.input.strokeColor;\r\n        }, function(value) {\r\n            this.input.strokeColor = value;\r\n            this.updateGear(4);\r\n        });\r\n\r\n        __getset(0, __proto, 'keyboardType', function() {\r\n            return this.input.type;\r\n        }, function(value) {\r\n            this.input.type = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'editable', function() {\r\n            return this.input.editable;\r\n        }, function(value) {\r\n            this.input.editable = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'promptText', function() {\r\n            return this.input.prompt;\r\n        }, function(value) {\r\n            this.input.prompt = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'restrict', function() {\r\n            return this.input.restrict;\r\n        }, function(value) {\r\n            this.input.restrict = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'textWidth', function() {\r\n            return this.input.textWidth;\r\n        });\r\n\r\n        return GTextInput;\r\n    })(GTextField)\r\n\r\n\r\n    //class fairygui.GScrollBar extends fairygui.GComponent\r\n    var GScrollBar = (function(_super) {\r\n        function GScrollBar() {\r\n            this._grip = null;\r\n            this._arrowButton1 = null;\r\n            this._arrowButton2 = null;\r\n            this._bar = null;\r\n            this._target = null;\r\n            this._vertical = false;\r\n            this._scrollPerc = 0;\r\n            this._fixedGripSize = false;\r\n            this._dragOffset = null;\r\n            GScrollBar.__super.call(this);\r\n            this._dragOffset = new laya.maths.Point();\r\n            this._scrollPerc = 0;\r\n        }\r\n\r\n        __class(GScrollBar, 'fairygui.GScrollBar', _super);\r\n        var __proto = GScrollBar.prototype;\r\n        __proto.setScrollPane = function(target, vertical) {\r\n            this._target = target;\r\n            this._vertical = vertical;\r\n        }\r\n\r\n        __proto.constructFromXML = function(xml) {\r\n            _super.prototype.constructFromXML.call(this, xml);\r\n            xml = ToolSet.findChildNode(xml, \"ScrollBar\");\r\n            if (xml) {\r\n                this._fixedGripSize = xml.getAttribute(\"fixedGripSize\") == \"true\";\r\n            }\r\n            this._grip = this.getChild(\"grip\");\r\n            if (!this._grip) {\r\n                Log.print(\"grip\");\r\n                return;\r\n            }\r\n            this._bar = this.getChild(\"bar\");\r\n            if (!this._bar) {\r\n                Log.print(\"bar\");\r\n                return;\r\n            }\r\n            this._arrowButton1 = this.getChild(\"arrow1\");\r\n            this._arrowButton2 = this.getChild(\"arrow2\");\r\n            this._grip.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__gripMouseDown);\r\n            if (this._arrowButton1)\r\n                this._arrowButton1.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__arrowButton1Click);\r\n            if (this._arrowButton2)\r\n                this._arrowButton2.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__arrowButton2Click);\r\n            this.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__barMouseDown);\r\n        }\r\n\r\n        __proto.__gripMouseDown = function(evt) {\r\n            if (!this._bar)\r\n                return;\r\n            evt.stopPropagation();\r\n            Laya.stage.on( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__gripMouseMove);\r\n            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__gripMouseUp);\r\n            this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, this._dragOffset);\r\n            this._dragOffset.x -= this._grip.x;\r\n            this._dragOffset.y -= this._grip.y;\r\n        }\r\n\r\n        __proto.__gripMouseMove = function() {\r\n            var pt = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, fairygui.GScrollBar.sScrollbarHelperPoint);\r\n            if (this._vertical) {\r\n                var curY = pt.y - this._dragOffset.y;\r\n                this._target.setPercY((curY - this._bar.y) / (this._bar.height - this._grip.height), false);\r\n            } else {\r\n                var curX = pt.x - this._dragOffset.x;\r\n                this._target.setPercX((curX - this._bar.x) / (this._bar.width - this._grip.width), false);\r\n            }\r\n        }\r\n\r\n        __proto.__gripMouseUp = function(evt) {\r\n            if (!this._bar)\r\n                return;\r\n            Laya.stage.off( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__gripMouseMove);\r\n            Laya.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__gripMouseUp);\r\n        }\r\n\r\n        __proto.__arrowButton1Click = function(evt) {\r\n            evt.stopPropagation();\r\n            if (this._vertical)\r\n                this._target.scrollUp();\r\n            else\r\n                this._target.scrollLeft();\r\n        }\r\n\r\n        __proto.__arrowButton2Click = function(evt) {\r\n            evt.stopPropagation();\r\n            if (this._vertical)\r\n                this._target.scrollDown();\r\n            else\r\n                this._target.scrollRight();\r\n        }\r\n\r\n        __proto.__barMouseDown = function(evt) {\r\n            var pt = this._grip.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, fairygui.GScrollBar.sScrollbarHelperPoint);\r\n            if (this._vertical) {\r\n                if (pt.y < 0)\r\n                    this._target.scrollUp(4);\r\n                else\r\n                    this._target.scrollDown(4);\r\n            } else {\r\n                if (pt.x < 0)\r\n                    this._target.scrollLeft(4);\r\n                else\r\n                    this._target.scrollRight(4);\r\n            }\r\n        }\r\n\r\n        __getset(0, __proto, 'displayPerc', null, function(val) {\r\n            if (this._vertical) {\r\n                if (!this._fixedGripSize)\r\n                    this._grip.height = val * this._bar.height;\r\n                this._grip.y = this._bar.y + (this._bar.height - this._grip.height) * this._scrollPerc;\r\n            } else {\r\n                if (!this._fixedGripSize)\r\n                    this._grip.width = val * this._bar.width;\r\n                this._grip.x = this._bar.x + (this._bar.width - this._grip.width) * this._scrollPerc;\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'scrollPerc', null, function(val) {\r\n            this._scrollPerc = val;\r\n            if (this._vertical)\r\n                this._grip.y = this._bar.y + (this._bar.height - this._grip.height) * this._scrollPerc;\r\n            else\r\n                this._grip.x = this._bar.x + (this._bar.width - this._grip.width) * this._scrollPerc;\r\n        });\r\n\r\n        __getset(0, __proto, 'minSize', function() {\r\n            if (this._vertical)\r\n                return (this._arrowButton1 != null ? this._arrowButton1.height : 0) + (this._arrowButton2 != null ? this._arrowButton2.height : 0);\r\n            else\r\n                return (this._arrowButton1 != null ? this._arrowButton1.width : 0) + (this._arrowButton2 != null ? this._arrowButton2.width : 0);\r\n        });\r\n\r\n        __static(GScrollBar, ['sScrollbarHelperPoint', function() { return this.sScrollbarHelperPoint = new Point(); }]);\r\n        return GScrollBar;\r\n    })(GComponent)\r\n\r\n\r\n    //class fairygui.GSlider extends fairygui.GComponent\r\n    var GSlider = (function(_super) {\r\n        function GSlider() {\r\n            this._max = 0;\r\n            this._value = 0;\r\n            this._titleType = 0;\r\n            this._reverse = false;\r\n            this._titleObject = null;\r\n            this._barObjectH = null;\r\n            this._barObjectV = null;\r\n            this._barMaxWidth = 0;\r\n            this._barMaxHeight = 0;\r\n            this._barMaxWidthDelta = 0;\r\n            this._barMaxHeightDelta = 0;\r\n            this._gripObject = null;\r\n            this._clickPos = null;\r\n            this._clickPercent = 0;\r\n            this._barStartX = 0;\r\n            this._barStartY = 0;\r\n            this.changeOnClick = true;\r\n            this.canDrag = true;\r\n            GSlider.__super.call(this);\r\n            this._titleType = /*fairygui.ProgressTitleType.Percent*/ 0;\r\n            this._value = 50;\r\n            this._max = 100;\r\n            this._clickPos = new laya.maths.Point();\r\n        }\r\n\r\n        __class(GSlider, 'fairygui.GSlider', _super);\r\n        var __proto = GSlider.prototype;\r\n        __proto.update = function() {\r\n            var percent = Math.min(this._value / this._max, 1);\r\n            this.updateWidthPercent(percent);\r\n        }\r\n\r\n        __proto.updateWidthPercent = function(percent) {\r\n            if (this._titleObject) {\r\n                switch (this._titleType) {\r\n                    case /*fairygui.ProgressTitleType.Percent*/ 0:\r\n                        this._titleObject.text = Math.round(percent * 100) + \"%\";\r\n                        break;\r\n                    case /*fairygui.ProgressTitleType.ValueAndMax*/ 1:\r\n                        this._titleObject.text = this._value + \"/\" + this._max;\r\n                        break;\r\n                    case /*fairygui.ProgressTitleType.Value*/ 2:\r\n                        this._titleObject.text = \"\" + this._value;\r\n                        break;\r\n                    case /*fairygui.ProgressTitleType.Max*/ 3:\r\n                        this._titleObject.text = \"\" + this._max;\r\n                        break;\r\n                }\r\n            };\r\n            var fullWidth = this.width - this._barMaxWidthDelta;\r\n            var fullHeight = this.height - this._barMaxHeightDelta;\r\n            if (!this._reverse) {\r\n                if (this._barObjectH)\r\n                    this._barObjectH.width = fullWidth * percent;\r\n                if (this._barObjectV)\r\n                    this._barObjectV.height = fullHeight * percent;\r\n            } else {\r\n                if (this._barObjectH) {\r\n                    this._barObjectH.width = Math.round(fullWidth * percent);\r\n                    this._barObjectH.x = this._barStartX + (fullWidth - this._barObjectH.width);\r\n                }\r\n                if (this._barObjectV) {\r\n                    this._barObjectV.height = Math.round(fullHeight * percent);\r\n                    this._barObjectV.y = this._barStartY + (fullHeight - this._barObjectV.height);\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.constructFromXML = function(xml) {\r\n            _super.prototype.constructFromXML.call(this, xml);\r\n            xml = ToolSet.findChildNode(xml, \"Slider\");\r\n            var str;\r\n            str = xml.getAttribute(\"titleType\");\r\n            if (str)\r\n                this._titleType = ProgressTitleType.parse(str);\r\n            this._reverse = xml.getAttribute(\"reverse\") == \"true\";\r\n            this._titleObject = (this.getChild(\"title\"));\r\n            this._barObjectH = this.getChild(\"bar\");\r\n            this._barObjectV = this.getChild(\"bar_v\");\r\n            this._gripObject = this.getChild(\"grip\");\r\n            if (this._barObjectH) {\r\n                this._barMaxWidth = this._barObjectH.width;\r\n                this._barMaxWidthDelta = this.width - this._barMaxWidth;\r\n                this._barStartX = this._barObjectH.x;\r\n            }\r\n            if (this._barObjectV) {\r\n                this._barMaxHeight = this._barObjectV.height;\r\n                this._barMaxHeightDelta = this.height - this._barMaxHeight;\r\n                this._barStartY = this._barObjectV.y;\r\n            }\r\n            if (this._gripObject) {\r\n                this._gripObject.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__gripMouseDown);\r\n            }\r\n            this.displayObject.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__barMouseDown);\r\n        }\r\n\r\n        __proto.handleSizeChanged = function() {\r\n            _super.prototype.handleSizeChanged.call(this);\r\n            if (this._barObjectH)\r\n                this._barMaxWidth = this.width - this._barMaxWidthDelta;\r\n            if (this._barObjectV)\r\n                this._barMaxHeight = this.height - this._barMaxHeightDelta;\r\n            if (!this._underConstruct)\r\n                this.update();\r\n        }\r\n\r\n        __proto.setup_afterAdd = function(xml) {\r\n            _super.prototype.setup_afterAdd.call(this, xml);\r\n            xml = ToolSet.findChildNode(xml, \"Slider\");\r\n            if (xml) {\r\n                this._value = parseInt(xml.getAttribute(\"value\"));\r\n                this._max = parseInt(xml.getAttribute(\"max\"));\r\n            }\r\n            this.update();\r\n        }\r\n\r\n        __proto.__gripMouseDown = function(evt) {\r\n            this.canDrag = true;\r\n            evt.stopPropagation();\r\n            this._clickPos = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY);\r\n            this._clickPercent = this._value / this._max;\r\n            Laya.stage.on( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__gripMouseMove);\r\n            Laya.stage.on( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__gripMouseUp);\r\n        }\r\n\r\n        __proto.__gripMouseMove = function(evt) {\r\n            if (!this.canDrag) {\r\n                return;\r\n            };\r\n            var pt = this.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, fairygui.GSlider.sSilderHelperPoint);\r\n            var deltaX = pt.x - this._clickPos.x;\r\n            var deltaY = pt.y - this._clickPos.y;\r\n            if (this._reverse) {\r\n                deltaX = -deltaX;\r\n                deltaY = -deltaY;\r\n            };\r\n            var percent = NaN;\r\n            if (this._barObjectH)\r\n                percent = this._clickPercent + deltaX / this._barMaxWidth;\r\n            else\r\n                percent = this._clickPercent + deltaY / this._barMaxHeight;\r\n            if (percent > 1)\r\n                percent = 1;\r\n            else if (percent < 0)\r\n                percent = 0;\r\n            var newValue = Math.round(this._max * percent);\r\n            if (newValue != this._value) {\r\n                this._value = newValue;\r\n                Events.dispatch( /*fairygui.Events.STATE_CHANGED*/ \"fui_state_changed\", this.displayObject, evt);\r\n            }\r\n            this.updateWidthPercent(percent);\r\n        }\r\n\r\n        __proto.__gripMouseUp = function(evt) {\r\n            Laya.stage.off( /*laya.events.Event.MOUSE_MOVE*/ \"mousemove\", this, this.__gripMouseMove);\r\n            Laya.stage.off( /*laya.events.Event.MOUSE_UP*/ \"mouseup\", this, this.__gripMouseUp);\r\n        }\r\n\r\n        __proto.__barMouseDown = function(evt) {\r\n            if (!this.changeOnClick)\r\n                return;\r\n            var pt = this._gripObject.globalToLocal(evt.stageX, evt.stageY, fairygui.GSlider.sSilderHelperPoint);\r\n            var percent = this._value / this._max;\r\n            var delta = NaN;\r\n            if (this._barObjectH)\r\n                delta = (pt.x - this._gripObject.width / 2) / this._barMaxWidth;\r\n            if (this._barObjectV)\r\n                delta = (pt.y - this._gripObject.height / 2) / this._barMaxHeight;\r\n            if (this._reverse)\r\n                percent -= delta;\r\n            else\r\n                percent += delta;\r\n            if (percent > 1)\r\n                percent = 1;\r\n            else if (percent < 0)\r\n                percent = 0;\r\n            var newValue = Math.round(this._max * percent);\r\n            if (newValue != this._value) {\r\n                this._value = newValue;\r\n                Events.dispatch( /*fairygui.Events.STATE_CHANGED*/ \"fui_state_changed\", this.displayObject, evt);\r\n            }\r\n            this.updateWidthPercent(percent);\r\n        }\r\n\r\n        __getset(0, __proto, 'max', function() {\r\n            return this._max;\r\n        }, function(value) {\r\n            if (this._max != value) {\r\n                this._max = value;\r\n                this.update();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'titleType', function() {\r\n            return this._titleType;\r\n        }, function(value) {\r\n            this._titleType = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'value', function() {\r\n            return this._value;\r\n        }, function(value) {\r\n            if (this._value != value) {\r\n                this._value = value;\r\n                this.update();\r\n            }\r\n        });\r\n\r\n        __static(GSlider, ['sSilderHelperPoint', function() { return this.sSilderHelperPoint = new Point(); }]);\r\n        return GSlider;\r\n    })(GComponent)\r\n\r\n\r\n    //class fairygui.Window extends fairygui.GComponent\r\n    var Window2 = (function(_super) {\r\n        function Window() {\r\n            this._contentPane = null;\r\n            this._modalWaitPane = null;\r\n            this._closeButton = null;\r\n            this._dragArea = null;\r\n            this._contentArea = null;\r\n            this._frame = null;\r\n            this._modal = false;\r\n            this._uiSources = null;\r\n            this._inited = false;\r\n            this._loading = false;\r\n            this._requestingCmd = 0;\r\n            this.bringToFontOnClick = false;\r\n            Window.__super.call(this);\r\n            this.focusable = true;\r\n            this._uiSources = [];\r\n            this.bringToFontOnClick = UIConfig1.bringWindowToFrontOnClick;\r\n            this.displayObject.on( /*laya.events.Event.DISPLAY*/ \"display\", this, this.__onShown);\r\n            this.displayObject.on( /*laya.events.Event.UNDISPLAY*/ \"undisplay\", this, this.__onHidden);\r\n            this.displayObject.on( /*laya.events.Event.MOUSE_DOWN*/ \"mousedown\", this, this.__mouseDown);\r\n        }\r\n\r\n        __class(Window, 'fairygui.Window', _super, 'Window2');\r\n        var __proto = Window.prototype;\r\n        __proto.addUISource = function(source) {\r\n            this._uiSources.push(source);\r\n        }\r\n\r\n        __proto.show = function() {\r\n            GRoot.inst.showWindow(this);\r\n        }\r\n\r\n        __proto.showOn = function(root) {\r\n            root.showWindow(this);\r\n        }\r\n\r\n        __proto.hide = function() {\r\n            if (this.isShowing)\r\n                this.doHideAnimation();\r\n        }\r\n\r\n        __proto.hideImmediately = function() {\r\n            var r = ((this.parent instanceof fairygui.GRoot)) ? (this.parent) : null;\r\n            if (!r)\r\n                r = GRoot.inst;\r\n            r.hideWindowImmediately(this);\r\n        }\r\n\r\n        __proto.centerOn = function(r, restraint) {\r\n            (restraint === void 0) && (restraint = false);\r\n            this.setXY(Math.round((r.width - this.width) / 2), Math.round((r.height - this.height) / 2));\r\n            if (restraint) {\r\n                this.addRelation(r, /*fairygui.RelationType.Center_Center*/ 3);\r\n                this.addRelation(r, /*fairygui.RelationType.Middle_Middle*/ 10);\r\n            }\r\n        }\r\n\r\n        __proto.toggleStatus = function() {\r\n            if (this.isTop)\r\n                this.hide();\r\n            else\r\n                this.show();\r\n        }\r\n\r\n        __proto.bringToFront = function() {\r\n            this.root.bringToFront(this);\r\n        }\r\n\r\n        __proto.showModalWait = function(requestingCmd) {\r\n            (requestingCmd === void 0) && (requestingCmd = 0);\r\n            if (requestingCmd != 0)\r\n                this._requestingCmd = requestingCmd;\r\n            if (UIConfig1.windowModalWaiting) {\r\n                if (!this._modalWaitPane)\r\n                    this._modalWaitPane = UIPackage.createObjectFromURL(UIConfig1.windowModalWaiting);\r\n                this.layoutModalWaitPane();\r\n                this.addChild(this._modalWaitPane);\r\n            }\r\n        }\r\n\r\n        __proto.layoutModalWaitPane = function() {\r\n            if (this._contentArea != null) {\r\n                var pt = this._frame.localToGlobal();\r\n                pt = this.globalToLocal(pt.x, pt.y, pt);\r\n                this._modalWaitPane.setXY(pt.x + this._contentArea.x, pt.y + this._contentArea.y);\r\n                this._modalWaitPane.setSize(this._contentArea.width, this._contentArea.height);\r\n            } else\r\n                this._modalWaitPane.setSize(this.width, this.height);\r\n        }\r\n\r\n        __proto.closeModalWait = function(requestingCmd) {\r\n            (requestingCmd === void 0) && (requestingCmd = 0);\r\n            if (requestingCmd != 0) {\r\n                if (this._requestingCmd != requestingCmd)\r\n                    return false;\r\n            }\r\n            this._requestingCmd = 0;\r\n            if (this._modalWaitPane && this._modalWaitPane.parent != null)\r\n                this.removeChild(this._modalWaitPane);\r\n            return true;\r\n        }\r\n\r\n        __proto.init = function() {\r\n            if (this._inited || this._loading)\r\n                return;\r\n            if (this._uiSources.length > 0) {\r\n                this._loading = false;\r\n                var cnt = this._uiSources.length;\r\n                for (var i = 0; i < cnt; i++) {\r\n                    var lib = this._uiSources[i];\r\n                    if (!lib.loaded) {\r\n                        lib.load(this.__uiLoadComplete, this);\r\n                        this._loading = true;\r\n                    }\r\n                }\r\n                if (!this._loading)\r\n                    this._init();\r\n            } else\r\n                this._init();\r\n        }\r\n\r\n        __proto.onInit = function() {}\r\n        __proto.onShown = function() {}\r\n        __proto.onHide = function() {}\r\n        __proto.doShowAnimation = function() {\r\n            this.onShown();\r\n        }\r\n\r\n        __proto.doHideAnimation = function() {\r\n            this.hideImmediately();\r\n        }\r\n\r\n        __proto.__uiLoadComplete = function() {\r\n            var cnt = this._uiSources.length;\r\n            for (var i = 0; i < cnt; i++) {\r\n                var lib = this._uiSources[i];\r\n                if (!lib.loaded)\r\n                    return;\r\n            }\r\n            this._loading = false;\r\n            this._init();\r\n        }\r\n\r\n        __proto._init = function() {\r\n            this._inited = true;\r\n            this.onInit();\r\n            if (this.isShowing)\r\n                this.doShowAnimation();\r\n        }\r\n\r\n        __proto.dispose = function() {\r\n            if (this.parent != null)\r\n                this.hideImmediately();\r\n            _super.prototype.dispose.call(this);\r\n        }\r\n\r\n        __proto.closeEventHandler = function() {\r\n            this.hide();\r\n        }\r\n\r\n        __proto.__onShown = function() {\r\n            if (!this._inited)\r\n                this.init();\r\n            else\r\n                this.doShowAnimation();\r\n        }\r\n\r\n        __proto.__onHidden = function() {\r\n            this.closeModalWait();\r\n            this.onHide();\r\n        }\r\n\r\n        __proto.__mouseDown = function() {\r\n            if (this.isShowing && this.bringToFontOnClick)\r\n                this.bringToFront();\r\n        }\r\n\r\n        __proto.__dragStart = function(evt) {\r\n            GObject.cast(evt.currentTarget).stopDrag();\r\n            this.startDrag();\r\n        }\r\n\r\n        __getset(0, __proto, 'contentPane', function() {\r\n            return this._contentPane;\r\n        }, function(val) {\r\n            if (this._contentPane != val) {\r\n                if (this._contentPane != null)\r\n                    this.removeChild(this._contentPane);\r\n                this._contentPane = val;\r\n                if (this._contentPane != null) {\r\n                    this.addChild(this._contentPane);\r\n                    this.setSize(this._contentPane.width, this._contentPane.height);\r\n                    this._contentPane.addRelation(this, /*fairygui.RelationType.Size*/ 24);\r\n                    this._frame = (this._contentPane.getChild(\"frame\"));\r\n                    if (this._frame != null) {\r\n                        this.closeButton = this._frame.getChild(\"closeButton\");\r\n                        this.dragArea = this._frame.getChild(\"dragArea\");\r\n                        this.contentArea = this._frame.getChild(\"contentArea\");\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'isShowing', function() {\r\n            return this.parent != null;\r\n        });\r\n\r\n        __getset(0, __proto, 'isTop', function() {\r\n            return this.parent != null && this.parent.getChildIndex(this) == this.parent.numChildren - 1;\r\n        });\r\n\r\n        __getset(0, __proto, 'modal', function() {\r\n            return this._modal;\r\n        }, function(val) {\r\n            this._modal = val;\r\n        });\r\n\r\n        __getset(0, __proto, 'dragArea', function() {\r\n            return this._dragArea;\r\n        }, function(value) {\r\n            if (this._dragArea != value) {\r\n                if (this._dragArea != null) {\r\n                    this._dragArea.draggable = false;\r\n                    this._dragArea.off( /*fairygui.Events.DRAG_START*/ \"fui_drag_start\", this, this.__dragStart);\r\n                }\r\n                this._dragArea = value;\r\n                if (this._dragArea != null) {\r\n                    if ((this._dragArea instanceof fairygui.GGraph))\r\n                        this._dragArea.asGraph.drawRect(0, null, null);\r\n                    this._dragArea.draggable = true;\r\n                    this._dragArea.on( /*fairygui.Events.DRAG_START*/ \"fui_drag_start\", this, this.__dragStart);\r\n                }\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'frame', function() {\r\n            return this._frame;\r\n        });\r\n\r\n        __getset(0, __proto, 'closeButton', function() {\r\n            return this._closeButton;\r\n        }, function(value) {\r\n            if (this._closeButton != null)\r\n                this._closeButton.offClick(this, this.closeEventHandler);\r\n            this._closeButton = value;\r\n            if (this._closeButton != null)\r\n                this._closeButton.onClick(this, this.closeEventHandler);\r\n        });\r\n\r\n        __getset(0, __proto, 'contentArea', function() {\r\n            return this._contentArea;\r\n        }, function(value) {\r\n            this._contentArea = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'modalWaiting', function() {\r\n            return this._modalWaitPane && this._modalWaitPane.parent != null;\r\n        });\r\n\r\n        return Window;\r\n    })(GComponent)\r\n\r\n\r\n    //class fairygui.display.Image extends laya.display.Sprite\r\n    var Image1 = (function(_super) {\r\n        function Image() {\r\n            this._tex = null;\r\n            this._scaleByTile = false;\r\n            this._scale9Grid = null;\r\n            this._tileGridIndice = 0;\r\n            this._textureScaleX = 0;\r\n            this._textureScaleY = 0;\r\n            this._needRebuild = false;\r\n            Image.__super.call(this);\r\n            this.mouseEnabled = false;\r\n            this._textureScaleX = 1;\r\n            this._textureScaleY = 1;\r\n        }\r\n\r\n        __class(Image, 'fairygui.display.Image', _super, 'Image1');\r\n        var __proto = Image.prototype;\r\n        __proto.scaleTexture = function(sx, sy) {\r\n            if (this._textureScaleX != sx || this._textureScaleY != sy) {\r\n                this._textureScaleX = sx;\r\n                this._textureScaleY = sy;\r\n                if (this._tex)\r\n                    this.size(this._tex.width * sx, this._tex.height * sy);\r\n                this.markChanged();\r\n            }\r\n        }\r\n\r\n        __proto.markChanged = function() {\r\n            if (!this._needRebuild) {\r\n                this._needRebuild = true;\r\n                Laya.timer.callLater(this, this.rebuild);\r\n            }\r\n        }\r\n\r\n        __proto.rebuild = function() {\r\n            this._needRebuild = false;\r\n            var g = this.graphics;\r\n            g.clear();\r\n            if (this._tex == null) {\r\n                this.repaint();\r\n                return;\r\n            };\r\n            var width = this.width;\r\n            var height = this.height;\r\n            var sw = this._tex.width;\r\n            var sh = this._tex.height;\r\n            if (width == 0 || height == 0) {\r\n                this.repaint();\r\n                return;\r\n            }\r\n            if (this._scaleByTile) {\r\n                g.fillTexture(this._tex, 0, 0, width, height);\r\n            } else if (this._scale9Grid != null) {\r\n                var left = this._scale9Grid.x;\r\n                var right = Math.max(sw - this._scale9Grid.right, 0);\r\n                var top = this._scale9Grid.y;\r\n                var bottom = Math.max(sh - this._scale9Grid.bottom, 0);\r\n                var tmp = NaN;\r\n                if (height >= (sh - this._scale9Grid.height)) {\r\n                    top = this._scale9Grid.y;\r\n                    bottom = sh - this._scale9Grid.bottom;\r\n                } else {\r\n                    tmp = this._scale9Grid.y / (sh - this._scale9Grid.bottom);\r\n                    tmp = height * tmp / (1 + tmp);\r\n                    top = Math.round(tmp);\r\n                    bottom = height - tmp;\r\n                }\r\n                if (width >= (sw - this._scale9Grid.width)) {\r\n                    left = this._scale9Grid.x;\r\n                    right = sw - this._scale9Grid.right;\r\n                } else {\r\n                    tmp = this._scale9Grid.x / (sw - this._scale9Grid.right);\r\n                    tmp = width * tmp / (1 + tmp);\r\n                    left = Math.round(tmp);\r\n                    right = width - tmp;\r\n                };\r\n                var centerWidth = Math.max(width - left - right, 0);\r\n                var centerHeight = Math.max(height - top - bottom, 0);\r\n                left && top && g.drawTexture(fairygui.display.Image.getTexture(this._tex, 0, 0, left, top), 0, 0, left, top);\r\n                right && top && g.drawTexture(fairygui.display.Image.getTexture(this._tex, sw - right, 0, right, top), width - right, 0, right, top);\r\n                left && bottom && g.drawTexture(fairygui.display.Image.getTexture(this._tex, 0, sh - bottom, left, bottom), 0, height - bottom, left, bottom);\r\n                right && bottom && g.drawTexture(fairygui.display.Image.getTexture(this._tex, sw - right, sh - bottom, right, bottom), width - right, height - bottom, right, bottom);\r\n                centerWidth && top && this.drawTexture(0, fairygui.display.Image.getTexture(this._tex, left, 0, sw - left - right, top), left, 0, centerWidth, top);\r\n                centerWidth && bottom && this.drawTexture(1, fairygui.display.Image.getTexture(this._tex, left, sh - bottom, sw - left - right, bottom), left, height - bottom, centerWidth, bottom);\r\n                centerHeight && left && this.drawTexture(2, fairygui.display.Image.getTexture(this._tex, 0, top, left, sh - top - bottom), 0, top, left, centerHeight);\r\n                centerHeight && right && this.drawTexture(3, fairygui.display.Image.getTexture(this._tex, sw - right, top, right, sh - top - bottom), width - right, top, right, centerHeight);\r\n                centerWidth && centerHeight && this.drawTexture(4, fairygui.display.Image.getTexture(this._tex, left, top, sw - left - right, sh - top - bottom), left, top, centerWidth, centerHeight);\r\n            } else {\r\n                g.drawTexture(this._tex, 0, 0, width, height);\r\n            }\r\n            this.repaint();\r\n        }\r\n\r\n        __proto.drawTexture = function(part, tex, x, y, width, height) {\r\n            (width === void 0) && (width = 0);\r\n            (height === void 0) && (height = 0);\r\n            if (part == -1 || (this._tileGridIndice & (1 << part)) == 0)\r\n                this.graphics.drawTexture(tex, x, y, width, height);\r\n            else\r\n                this.graphics.fillTexture(tex, x, y, width, height);\r\n        }\r\n\r\n        __getset(0, __proto, 'tex', function() {\r\n            return this._tex;\r\n        }, function(value) {\r\n            if (this._tex != value) {\r\n                this._tex = value;\r\n                if (this._tex)\r\n                    this.size(this._tex.width * this._textureScaleX, this._tex.height * this._textureScaleY);\r\n                else\r\n                    this.size(0, 0);\r\n                this.markChanged();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'scale9Grid', function() {\r\n            return this._scale9Grid;\r\n        }, function(value) {\r\n            this._scale9Grid = value;\r\n            this.markChanged();\r\n        });\r\n\r\n        __getset(0, __proto, 'scaleByTile', function() {\r\n            return this._scaleByTile;\r\n        }, function(value) {\r\n            if (this._scaleByTile != value) {\r\n                this._scaleByTile = value;\r\n                this.markChanged();\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'tileGridIndice', function() {\r\n            return this._tileGridIndice;\r\n        }, function(value) {\r\n            if (this._tileGridIndice != value) {\r\n                this._tileGridIndice = value;\r\n                this.markChanged();\r\n            }\r\n        });\r\n\r\n        Image.getTexture = function(source, x, y, width, height) {\r\n            source.$GID || (source.$GID = Utils.getGID());\r\n            var key = source.$GID + \".\" + x + \".\" + y + \".\" + width + \".\" + height;\r\n            var texture = fairygui.display.Image._textureCache[key];\r\n            if (!texture) {\r\n                texture = fairygui.display.Image._textureCache[key] = Texture.create(source, x, y, width, height);\r\n            }\r\n            return texture;\r\n        }\r\n\r\n        Image.clearCache = function() {\r\n            fairygui.display.Image._textureCache = {};\r\n        }\r\n\r\n        Image._textureCache = {};\r\n        return Image;\r\n    })(Sprite)\r\n\r\n\r\n    //class fairygui.display.MovieClip extends laya.display.Sprite\r\n    var MovieClip1 = (function(_super) {\r\n        function MovieClip() {\r\n            this.interval = 0;\r\n            this.swing = false;\r\n            this.repeatDelay = 0;\r\n            this.playState = null;\r\n            this._$3__texture = null;\r\n            this._needRebuild = false;\r\n            this._playing = false;\r\n            this._frameCount = 0;\r\n            this._frames = null;\r\n            this._currentFrame = 0;\r\n            this._boundsRect = null;\r\n            this._start = 0;\r\n            this._end = 0;\r\n            this._times = 0;\r\n            this._endAt = 0;\r\n            this._status = 0;\r\n            this._endHandler = null;\r\n            MovieClip.__super.call(this);\r\n            this.playState = new PlayState();\r\n            this._playing = true;\r\n            this.mouseEnabled = false;\r\n            this.setPlaySettings();\r\n            this.on( /*laya.events.Event.DISPLAY*/ \"display\", this, this.__addToStage);\r\n            this.on( /*laya.events.Event.UNDISPLAY*/ \"undisplay\", this, this.__removeFromStage);\r\n        }\r\n\r\n        __class(MovieClip, 'fairygui.display.MovieClip', _super, 'MovieClip1');\r\n        var __proto = MovieClip.prototype;\r\n        //startend-1times0endAt-1end\r\n        __proto.setPlaySettings = function(start, end, times, endAt, endHandler) {\r\n            (start === void 0) && (start = 0);\r\n            (end === void 0) && (end = -1);\r\n            (times === void 0) && (times = 0);\r\n            (endAt === void 0) && (endAt = -1);\r\n            this._start = start;\r\n            this._end = end;\r\n            if (this._end == -1 || this._end > this._frameCount - 1)\r\n                this._end = this._frameCount - 1;\r\n            this._times = times;\r\n            this._endAt = endAt;\r\n            if (this._endAt == -1)\r\n                this._endAt = this._end;\r\n            this._status = 0;\r\n            this._endHandler = endHandler;\r\n            this.currentFrame = start;\r\n        }\r\n\r\n        __proto.update = function() {\r\n            if (this._playing && this._frameCount != 0 && this._status != 3) {\r\n                this.playState.update(this);\r\n                if (this._currentFrame != this.playState.currentFrame) {\r\n                    if (this._status == 1) {\r\n                        this._currentFrame = this._start;\r\n                        this.playState.currentFrame = this._currentFrame;\r\n                        this._status = 0;\r\n                    } else if (this._status == 2) {\r\n                        this._currentFrame = this._endAt;\r\n                        this.playState.currentFrame = this._currentFrame;\r\n                        this._status = 3;\r\n                        if (this._endHandler != null) {\r\n                            this._endHandler.run();\r\n                        }\r\n                    } else {\r\n                        this._currentFrame = this.playState.currentFrame;\r\n                        if (this._currentFrame == this._end) {\r\n                            if (this._times > 0) {\r\n                                this._times--;\r\n                                if (this._times == 0)\r\n                                    this._status = 2;\r\n                                else\r\n                                    this._status = 1;\r\n                            }\r\n                        }\r\n                    }\r\n                    this.setFrame(this._frames[this._currentFrame]);\r\n                }\r\n            }\r\n        }\r\n\r\n        __proto.setFrame = function(frame) {\r\n            this.graphics.clear();\r\n            if (frame != null)\r\n                this.graphics.drawTexture(frame.texture, frame.rect.x, frame.rect.y);\r\n        }\r\n\r\n        __proto.__addToStage = function() {\r\n            if (this._playing)\r\n                Laya.timer.frameLoop(1, this, this.update);\r\n        }\r\n\r\n        __proto.__removeFromStage = function() {\r\n            if (this._playing)\r\n                Laya.timer.clear(this, this.update);\r\n        }\r\n\r\n        __getset(0, __proto, 'frames', function() {\r\n            return this._frames;\r\n        }, function(value) {\r\n            this._frames = value;\r\n            if (this._frames != null)\r\n                this._frameCount = this._frames.length;\r\n            else\r\n                this._frameCount = 0;\r\n            if (this._end == -1 || this._end > this._frameCount - 1)\r\n                this._end = this._frameCount - 1;\r\n            if (this._endAt == -1 || this._endAt > this._frameCount - 1)\r\n                this._endAt = this._frameCount - 1;\r\n            if (this._currentFrame < 0 || this._currentFrame > this._frameCount - 1)\r\n                this._currentFrame = this._frameCount - 1;\r\n            if (this._frameCount > 0)\r\n                this.setFrame(this._frames[this._currentFrame]);\r\n            else\r\n                this.setFrame(null);\r\n            this.playState.rewind();\r\n        });\r\n\r\n        __getset(0, __proto, 'playing', function() {\r\n            return this._playing;\r\n        }, function(value) {\r\n            this._playing = value;\r\n            if (value && this.stage != null) {\r\n                Laya.timer.frameLoop(1, this, this.update);\r\n            } else {\r\n                Laya.timer.clear(this, this.update);\r\n            }\r\n        });\r\n\r\n        __getset(0, __proto, 'frameCount', function() {\r\n            return this._frameCount;\r\n        });\r\n\r\n        __getset(0, __proto, 'boundsRect', function() {\r\n            return this._boundsRect;\r\n        }, function(value) {\r\n            this._boundsRect = value;\r\n        });\r\n\r\n        __getset(0, __proto, 'currentFrame', function() {\r\n            return this._currentFrame;\r\n        }, function(value) {\r\n            if (this._currentFrame != value) {\r\n                this._currentFrame = value;\r\n                this.playState.currentFrame = value;\r\n                this.setFrame(this._currentFrame < this._frameCount ? this._frames[this._currentFrame] : null);\r\n            }\r\n        });\r\n\r\n        return MovieClip;\r\n    })(Sprite)\r\n\r\n\r\n    Laya.__init([GList, GearColor, GearAnimation, Transition, ScrollPane, RelationItem, UIPackage, GBasicTextField, GearLook, GearSize]);\r\n})(window, document, Laya);\n}.call(window));\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/imports-loader?this=>window!./client/libs/fairygui/fairygui.js\n ** module id = 20\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"loadiing@atlas_oy35a.png?585521ac35347f2ba4df0af0ef04624f\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/res/loadiing@atlas_oy35a.png\n ** module id = 22\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"loadiing.fui?0719330f8cd8949b9fac459d6fdf9388\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/res/loadiing.fui\n ** module id = 23\n ** module chunks = 3\n **/","var RoomBase = require('./roombase.js');\r\nvar merge = require('gy-merge');\r\nwindow.wins = require('./windows.js')\r\nvar Loader = laya.net.Loader;\r\nvar Handler = laya.utils.Handler;\r\nwindow.rewardType = 0;\r\nwindow.rewardTimes = 0;\r\nwindow.tableType = -1;\r\nvar tabletypes = ['', '', ''];\r\nvar tabletypess = ['chu', 'zhong', 'gao'];\r\nclass Room extends RoomBase {\r\n    constructor() {\r\n        super();\r\n    }\r\n    static create(opt, cb) {\r\n        opt = merge(opt, { seatNumber: 4, easyrtcApp: 'com.1357g.h5.buyu' }); //seatNumber    set\r\n        Laya.loader.load([\r\n            // { url: require(\"./res/Package1@atlas_twcm6n.png\"), type: Loader.IMAGE },\r\n            // { url: require(\"./res/Package1@atlas0_2.png\"), type: Loader.IMAGE },\r\n            // { url: require(\"./res/Package1@atlas_twcm7g.png\"), type: Loader.IMAGE },\r\n            { url: require(\"./res/Package1@atlas0.png\"), type: Loader.IMAGE },\r\n            { url: require(\"./res/Package1@atlas0_1.png\"), type: Loader.IMAGE },\r\n            // { url: require(\"./res/Package1@atlas_p0v1mv.jpg\"), type: Loader.IMAGE },\r\n            { url: require(\"./res/Package1@atlas_o5uh1a.jpg\"), type: Loader.IMAGE },\r\n            { url: require(\"./res/Package1@atlas_gbj4q7.jpg\"), type: Loader.IMAGE },\r\n            { url: require(\"./res/Package1@atlas_gbj4q5.jpg\"), type: Loader.IMAGE },\r\n            { url: require(\"./res/Package1@atlas_lcqpnb.png\"), type: Loader.IMAGE },\r\n            { url: require(\"./res/Package1.fui\"), type: Loader.BUFFER }\r\n        ], Handler.create(null, function() {\r\n            console.log('remove')\r\n            fairygui.GRoot.inst.removeChildren();\r\n            var room = new Room(opt);\r\n            var ss = fairygui.UIPackage.addPackage('Package1');\r\n            var _view = room._view = fairygui.UIPackage.createObject(\"Package1\", '').asCom;\r\n            window.mainview = _view;\r\n            room.afterCreateView();\r\n            cb(null, room);\r\n        }))\r\n    }\r\n    getUserMediaRect(id) {}\r\n    getVoiceBtn() {\r\n            return this._view.getChild('voicebtn');\r\n        }\r\n        ////\r\n    onVideoActived() {}\r\n\r\n    msg(pack) {\r\n        switch (pack.c) {\r\n            case 'alltables':\r\n                console.log(pack.tables)\r\n                var highScene = []; // \r\n                var tableId = Object.keys(pack.tables);\r\n                var joined = false, // \r\n                    donotJoin = true; //\r\n                for (var x = 0; x < tableId.length; x++) {\r\n                    if (tableType != 2 && tableType != 3) {\r\n                        if (pack.tables[tableId[x]].opt.name == tabletypes[tableType]) {\r\n                            if (!pack.tables[tableId[x]].seat[3]) {\r\n                                joined = true;\r\n                                _socket.sendp({ \"c\": \"join\", \"code\": tableId[x] });\r\n                                break;\r\n                            }\r\n                        }\r\n                    } else if (tableType == 3) {\r\n                        if (pack.tables[tableId[x]].opt.name == tabletypes[2]) {\r\n                            joined = true;\r\n                            _socket.sendp({ \"c\": \"join\", \"code\": tableId[x] });\r\n                            break;\r\n                        }\r\n                        if (!joined) {\r\n                            joined = true;\r\n                            _socket.sendp({ \"c\": \"createServer\", roomtype: 'fish', opt: { type: 'gao' } });\r\n                        }\r\n                    } else {\r\n                        donotJoin = false;\r\n                        if (pack.tables[tableId[x]].opt.name == '')\r\n                            highScene.push({ id: tableId[x], pack: pack.tables[tableId[x]] })\r\n                    }\r\n                }\r\n\r\n                /////\r\n                if (!joined && donotJoin) {\r\n                    _socket.sendp({ \"c\": \"createServer\", roomtype: 'fish', opt: { type: tabletypess[tableType] } });\r\n                    _socket.sendp({ \"c\": \"alltables\" })\r\n                }\r\n                if (!donotJoin) {\r\n                    var higher = new wins.HighWin(highScene);\r\n                    higher.modal = true;\r\n                    higher.show();\r\n                }\r\n                break;\r\n            case 'onlinecount':\r\n                mainview.getChild('n60').text = Math.ceil(pack.all.length / 25 * 12);\r\n                mainview.getChild('n58').text = ` `;\r\n                mainview.getChild('n70').text = ` `;\r\n                mainview.getChild('n74').text = ` `;\r\n                mainview.getChild('n72').text = Math.ceil(pack.all.length / 25 * 10);\r\n                mainview.getChild('n76').text = Math.ceil(pack.all.length / 25 * 3);\r\n                break;\r\n            case 'ffreward':\r\n                rewardType = pack.type;\r\n                break;\r\n            case 'announce':\r\n                console.log('annoucensadjaosjkdsakjdopajkspodkjasopkdpaskdp')\r\n                mainview.getChild('n54').getChild('n0').text = pack.s;\r\n                mainview.getChild('n54').getTransition('t0').play();\r\n                break;\r\n            case 'createServer':\r\n                if (tableType == 3) {\r\n                    _socket.sendp({ \"c\": \"join\", \"code\": pack.id })\r\n                }\r\n                break;\r\n            case 'mails':\r\n                if (pack.v.length > 0) {\r\n                    mainview.getController('c1').selectedIndex = 1;\r\n                }\r\n\r\n                break;\r\n            case 'Fcheck':\r\n                var today = new Date().getDate() - 1;\r\n                if (me.month[today] == 1) {\r\n                    mainview.getController('c2').selectedIndex = 1;\r\n                    var welfare = new wins.WelfareWin(0)\r\n                    welfare.modal = false;\r\n                    welfare.show();\r\n                }\r\n                break;\r\n            default:\r\n                return super.msg(pack);\r\n        }\r\n    }\r\n    active() {\r\n        // super.active();\r\n        Laya.SoundManager.playMusic(require('./res/snd/bgm_lobby.ogg'));\r\n        //shengin  \r\n        mainview.getController('c3').selectedIndex = 1;\r\n        mainview.getController('c4').selectedIndex = 1;\r\n        mainview.getController('c5').selectedIndex = 1;\r\n        mainview.getChild('n9').getController('c1').selectedIndex = 1;\r\n        mainview.getChild('n7').getController('c1').selectedIndex = 1;\r\n        mainview.getChild('n205').getChild('n51').text = me.vipLv.toString()\r\n            //sheng\r\n        var now = new Date()\r\n        if ((now - me.firstBuy) > 5 * 24 * 60 * 60 * 1000) {\r\n            mainview.getChild('n44').visible = false;\r\n\r\n        }\r\n        if (me.bought && me.bought.length > 2) {\r\n            mainview.getChild('n44').visible = false;\r\n        }\r\n\r\n        function huoqu(string, sce) {\r\n            if (!sce) { sce = scene }\r\n            let yuyuyu = sce.getChildByName(string)\r\n                // yuyuyu.transform.localScale = new Laya.Vector3(0.02, 0.02, 0.02);\r\n                // yuyuyu.transform.localPosition = new Laya.Vector3(-80, 20, -80);\r\n            return yuyuyu;\r\n        }\r\n        var l33 = require(\"./res/zheng/3333.ls\");\r\n        var f33 = require(\"./res/fu/layaScene.lh\");\r\n        var scene1 = Laya.Scene.load(l33);\r\n        var scene2 = Laya.Sprite3D.load(f33);\r\n        window.scene = Laya.stage.addChild(scene1);\r\n        window.spltt = scene.addChild(scene2)\r\n        scene.visible = false;\r\n        scene.once(Laya.Event.HIERARCHY_LOADED, this, function() {\r\n\r\n            fishDef.bianfuyu = huoqu('bianfuyu')\r\n            fishDef.cheqiyu = huoqu('cheqiyu');\r\n            fishDef.dianmanyu = huoqu('dianmanyu');\r\n            fishDef.dinianyu = huoqu('dinianyu');\r\n            fishDef.fangyu = huoqu('fangyu');\r\n            fishDef.haigui = huoqu('haigui');\r\n            fishDef.hetun = huoqu('hetun');\r\n            fishDef.jianyu = huoqu('jianyu');\r\n            fishDef.jinqiangyu = huoqu('jinqiangyu');\r\n            fishDef.shayu = huoqu('shayu');\r\n            fishDef.shiziyu = huoqu('shiziyu');\r\n            fishDef.tianshiyu = huoqu('tianshiyu');\r\n            fishDef.xiaochouyu = huoqu('xiaochouyu');\r\n            fishDef.xiaohuangyu = huoqu('xiaohuangyu');\r\n            fishDef.xiaolvyu = huoqu('xiaolvyu');\r\n            fishDef.jlong = huoqu('jlong')\r\n            fishDef.chuitouyu = huoqu('chuitouyu')\r\n            fishDef.hama = huoqu('hama');\r\n            fishDef.zhadan = huoqu('zhadan');\r\n            fishDef.ding = huoqu('ding');\r\n            fishDef.fazhen = huoqu('fazhen');\r\n            if (fishDef.fazhen) {\r\n                fishDef.hama.addChild(fishDef.fazhen)\r\n                fishDef.fazhen.transform.localPosition = new Laya.Vector3(0, -1, 0);\r\n                fishDef.fazhen.transform.localScale = new Laya.Vector3(20, 20, 20);\r\n            }\r\n            fishDef.jiangquan1 = huoqu('jiangquan1');\r\n            fishDef.jiangquan2 = huoqu('jiangquan2');\r\n            fishDef.jiangquan5 = huoqu('jiangquan5');\r\n            fishDef.jiangquan10 = huoqu('jiangquan10');\r\n            fishDef.jiangquan20 = huoqu('jiangquan20');\r\n            fishDef.jiangquan50 = huoqu('jiangquan50');\r\n            fishDef.denglong = huoqu('deng')\r\n            fishDef.denglongyu = huoqu('denglongyu');\r\n            // if (!fishDef.denglongyu.getChildAt(1))\r\n            //     fishDef.denglongyu.addChild(fishDef.denglong);\r\n            fishDef.zuyu = huoqu('zhengzuyu');\r\n            fishDef.chuqi = huoqu(\"chuqibuyi\");\r\n        })\r\n        spltt.once(Laya.Event.HIERARCHY_LOADED, this, function() {\r\n\r\n            fishDef.hama2 = huoqu('hama2', scene.getChildAt(0))\r\n            fishDef.jlong2 = huoqu('jlong2', scene.getChildAt(0))\r\n            fishDef.chuitouyu2 = huoqu('chuitouyu2', scene.getChildAt(0))\r\n\r\n            console.log('ok')\r\n\r\n        })\r\n\r\n        _socket.sendp({ 'c': 'onlinecount' })\r\n        if (rewardType == 0) {\r\n            _socket.sendp({ c: 'ffreward' })\r\n            rewardType++\r\n        }\r\n        _socket.sendp({ c: 'mails', start: 0 });\r\n        _socket.sendp({ c: 'Fcheck' });\r\n\r\n        var hour = now.getHours(),\r\n            giftNumber = 0;\r\n        var gedDef = [9, 12, 15, 18, 21, 24];\r\n        for (var x = 0; x < 6; x++) {\r\n            if (hour < gedDef[x]) {\r\n                giftNumber = x;\r\n                break;\r\n            }\r\n        }\r\n        if (me.onhour && !me.onhour[giftNumber]) {\r\n            mainview.getController('c2').selectedIndex = 1;\r\n        }\r\n        mainview.getChild('n47').text = me.nickname;\r\n        //         window. face.......\r\n        var faceid = Math.ceil(Math.random() * 3).toString();\r\n        window.faceurl = fairygui.UIPackage.getItemURL(\"Package1\", faceid);\r\n        mainview.getChild('n42').getChild('n3').url = faceurl;\r\n        // mainview.getChild('n98').text = me.coins;\r\n        // mainview.getChild('n56').text = me.diamond;\r\n        // mainview.getChild('n57').text = me.tickets; //\r\n        // mainview.getChild('n53').text = me.level + '';\r\n        // mainview.getChild('n48').getChild('n51').text = me.vipLv.toString();\r\n\r\n        mainview.getChild('n7').onClick(null, function() {\r\n            console.log('sss')\r\n\r\n            var shop = new wins.ShopingWin();\r\n            shop.modal = true;\r\n            shop.show();\r\n        });\r\n        mainview.getChild('n8').onClick(null, function() {\r\n            console.log('sss')\r\n\r\n            var rank = new wins.RankingWin();\r\n            rank.modal = true;\r\n            rank.show();\r\n        });\r\n        mainview.getChild('n9').onClick(null, function() {\r\n            var bank = new wins.BankWin();\r\n            bank.modal = true;\r\n            bank.show();\r\n        });\r\n        mainview.getChild('n10').onClick(null, function() {\r\n            var mail = new wins.ShowMailWin();\r\n            mail.modal = true;\r\n            mail.show();\r\n        });\r\n        mainview.getChild('n11').onClick(null, function() {\r\n\r\n            var welfare = new wins.WelfareWin();\r\n            welfare.modal = true;\r\n            welfare.show();\r\n        });\r\n        //\r\n        mainview.getChild('n42').onClick(null, function() {\r\n            var uInfo = new wins.UserinfoWin();\r\n            uInfo.modal = true;\r\n            uInfo.show();\r\n        });\r\n        //\r\n        mainview.getChild('n22').onClick(null, function() {\r\n            var vip = new wins.VipWin();\r\n            vip.modal = true;\r\n            vip.show();\r\n        });\r\n        mainview.getChild('n48').onClick(null, function() {\r\n            var vip = new wins.VipWin();\r\n            vip.modal = true;\r\n            vip.show();\r\n        });\r\n        mainview.getChild('n44').onClick(null, function() {\r\n            var cai = new wins.CainiaoWin();\r\n            cai.modal = true;\r\n            cai.show();\r\n        });\r\n\r\n\r\n\r\n        //  \r\n        mainview.getChild('n198').onClick(null, function() {\r\n            _socket.sendp({ \"c\": \"alltables\" })\r\n            if (me.coins < 50000) {\r\n                tableType = 0;\r\n            } else if (me.coins < 90000) {\r\n                tableType = 1;\r\n            } else {\r\n                tableType = 3;\r\n            }\r\n        });\r\n        mainview.getChild('n3').onClick(null, function() {\r\n            _socket.sendp({ \"c\": \"alltables\" })\r\n            tableType = 0;\r\n\r\n        });\r\n        mainview.getChild('n4').onClick(null, function() {\r\n            _socket.sendp({ \"c\": \"alltables\" });\r\n            tableType = 1;\r\n        });\r\n        mainview.getChild('n5').onClick(null, function() {\r\n            if (me.coins < 100000 && me.level < 10) {\r\n                tipon('1010').popup();\r\n            } else {\r\n                _socket.sendp({ \"c\": \"alltables\" });\r\n                tableType = 2;\r\n            }\r\n        });\r\n        //\r\n        mainview.getChild('n24').onClick(null, function() {\r\n            var option = new wins.SettingWin();\r\n            option.modal = true;\r\n            option.show();\r\n        });\r\n        mainview.getChild('n97').onClick(null, function() {\r\n            var shop = new wins.ShopingWin();\r\n            shop.modal = true;\r\n            shop.show();\r\n        });\r\n        mainview.getChild('n34').onClick(null, function() {\r\n            var shop = new wins.ShopingWin(1);\r\n            shop.modal = true;\r\n            shop.show();\r\n        });\r\n        mainview.getChild('n30').onClick(null, function() {\r\n            console.log('jiangquan')\r\n            var shop = new wins.ShopingWin(2);\r\n            shop.modal = true;\r\n            shop.show();\r\n        });\r\n\r\n\r\n        // var pao8 = require('./res/pao/0_000_00023.png');\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        ////////////\r\n        me.on('coinschgd', coinchg);\r\n        me.on('diamondchgd', diamondchg);\r\n        me.on('ticketschgd', ticketschg);\r\n        me.on('levelchgd', levelchg);\r\n        me.on('vipLvchgd', vipLvchg);\r\n\r\n\r\n\r\n    }\r\n    deactive() {\r\n        super.deactive();\r\n        me.removeListener('coinschgd', coinchg);\r\n        me.removeListener('diamondchgd', diamondchg);\r\n        me.removeListener('ticketschgd', ticketschg);\r\n        me.removeListener('levelchgd', levelchg);\r\n        me.removeListener('vipLvchgd', vipLvchg);\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nfunction coinchg() {\r\n    mainview.getChild('n98').text = resetCoin();\r\n}\r\n\r\nfunction diamondchg() {\r\n    mainview.getChild('n56').text = me.diamond;\r\n}\r\n\r\nfunction ticketschg() {\r\n    mainview.getChild('n57').text = me.tickets; //\r\n}\r\n\r\nfunction levelchg() {\r\n    mainview.getChild('n53').text = me.level + '';\r\n}\r\n\r\nfunction vipLvchg() {\r\n    mainview.getChild('n48').getChild('n51').text = me.vipLv.toString();\r\n}\r\n\r\nfunction resetCoin() {\r\n    if (me.coins > 100000000) {\r\n        var a = (me.coins / 100000000).toFixed(1);\r\n        if (a[a.length - 1] == 0) {\r\n            return parseInt(a) + '';\r\n        } else {\r\n            return a + '';\r\n        }\r\n    } else if (me.coins > 1000000) {\r\n        var a = (me.coins / 10000).toFixed(1);\r\n        if (a[a.length - 1] == 0) {\r\n            return parseInt(a) + '';\r\n        } else {\r\n            return a + '';\r\n        }\r\n    } else {\r\n        return me.coins.toString();\r\n    }\r\n}\r\nmodule.exports = Room.create;\n\n\n/** WEBPACK FOOTER **\n ** ./client/mainUI.js\n **/","var cbs = [], \n\tdata;\nmodule.exports = function(cb) {\n\tif(cbs) cbs.push(cb);\n\telse cb(data);\n}\nrequire.ensure([], function(require) {\n\tdata = require(\"!!../node_modules/babel-loader/lib/index.js?{\\\"presets\\\":[\\\"es2015\\\"]}!./mainUI.js\");\n\tvar callbacks = cbs;\n\tcbs = null;\n\tfor(var i = 0, l = callbacks.length; i < l; i++) {\n\t\tcallbacks[i](data);\n\t}\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/bundle-loader!./client/mainUI.js\n ** module id = 29\n ** module chunks = 3\n **/","var cbs = [], \n\tdata;\nmodule.exports = function(cb) {\n\tif(cbs) cbs.push(cb);\n\telse cb(data);\n}\nrequire.ensure([], function(require) {\n\tdata = require(\"!!../node_modules/babel-loader/lib/index.js?{\\\"presets\\\":[\\\"es2015\\\"]}!./gameUI.js\");\n\tvar callbacks = cbs;\n\tcbs = null;\n\tfor(var i = 0, l = callbacks.length; i < l; i++) {\n\t\tcallbacks[i](data);\n\t}\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/bundle-loader!./client/gameUI.js\n ** module id = 30\n ** module chunks = 3\n **/","var cbs = [], \n\tdata;\nmodule.exports = function(cb) {\n\tif(cbs) cbs.push(cb);\n\telse cb(data);\n}\nrequire.ensure([], function(require) {\n\tdata = require(\"!!../node_modules/babel-loader/lib/index.js?{\\\"presets\\\":[\\\"es2015\\\"]}!./loadingUI.js\");\n\tvar callbacks = cbs;\n\tcbs = null;\n\tfor(var i = 0, l = callbacks.length; i < l; i++) {\n\t\tcallbacks[i](data);\n\t}\n});\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/bundle-loader!./client/loadingUI.js\n ** module id = 32\n ** module chunks = 3\n **/","// howto\n// RoomBase\n// var RoomBase=require('./roombase.js');\n// var Loader = laya.net.Loader;\n// var Handler = laya.utils.Handler;\n//\n// class Room extends RoomBase {\n// \tconstructor(opt) {\n// \t\tsuper(opt);\n// \t}\n// \tstatic create(opt, cb) {\n// \t\topt=merge(opt, {seatNumber:4, easyrtcApp:'com.1357g.h5.xxx'});\n// \t\tLaya.loader.load([\n// \t\t\t\t//{ url: require(\"./res/hall@h29yzf.mp3\"), type: Loader.SOUND },\n// \t\t\t\t{ url: require(\"./res/hall@atlas_uyrl82.jpg\"), type: Loader.IMAGE },\n// \t\t\t\t{ url: require(\"./res/hall@atlas10.png\"), type: Loader.IMAGE },\n// \t\t\t\t{ url: require(\"./res/hall@atlas0.png\"), type: Loader.IMAGE },\n// \t\t\t\t{ url: require(\"./res/hall.fui\"), type: Loader.BUFFER }\n// \t\t\t], Handler.create(null, function() {\n// \t\t\t\tvar room=new Room(opt);\n// \t\t\t\tfairygui.UIPackage.addPackage('hall');\n// \t\t\t\tvar _view =room._view= fairygui.UIPackage.createObject(\"\", \"Component13\").asCom;\n// \t\t\t\twindow.roomview=_view;\n//\n// \t\t\t\troom.afterCreateView();\n// \t\t\t\tcb(null, room);\n// \t\t\t})\n// \t\t)\n// \t}\n// \tgetUserMediaRect(id) {\n// \t}\n// \tgetVoiceBtn() {\n// \t\treturn this._view.getChild('voicebtn');\n// \t}\n// \tonVideoActived() {\n// \t}\n//\n// \t\n// \tmsg(pack) {\n// \t\tswitch(pack.c) {\n// \t\t\tcase 'xx':\n// \t\t\tbreak;\n// \t\t\tdefault:\n// \t\t\treturn super.msg(pack);\n// \t\t}\n// \t}\n// \tactive() {\n// \t\tsuper.active();\n//\t\tLaya.stage.addChildAt(bg, 0);\n//\t\tLaya.stage.addChildAt(3d, 1);\n//\t\t//Laya.stage.children[2]==fairygui.com;\n// \t}\n// \tdeactive() {\n// \t\tsuper.deactive();\n// \t}\t\n// }\n\n\n'use strict';\n\nvar assert = require('assert'),\n    merge = require('gy-merge'),\n    EventEmitter = require('events');\nvar me = require('./myself.js');\nvar wins = require('./windows.js');\n\nfunction capitalizeFirstLetter(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n}\nclass ViewBase {\n    constructor() {\n\n    }\n    static create(opt, cb) {\n        assert.fail('create');\n        // \n        // if (typeof opt==='function') {cb=opt; opt={}}\n        // Laya.loader.load([\n        // \t{ url: require(\"./res/hall@atlas_7hc2v2.jpg\"), type: Loader.IMAGE },\n        // \t{ url: require(\"./res/hall@atlas4.png\"), type: Loader.IMAGE },\n        // \t{ url: require(\"./res/hall@atlas0.png\"), type: Loader.IMAGE },\n        // \t{ url: require(\"./res/hall.fui\"), type: Loader.BUFFER }\n        // ], Handler.create(null, function() {\n        // \tvar ui=new ViewBase();\n        // \tui._view=fairygui.UIPackage.createObject(\"\", \"Component\").asCom;\n        // \tcb(null, ui);\n        // }));\n    }\n    assignAllBtns() {\n        var cl = this._view._children;\n        var fairyguiNamedEle = /[A-Za-z]\\d+/;\n        for (var i = 0; i < cl.length; i++) {\n            var btn = cl[i].asButton;\n            if (btn instanceof fairygui.GButton) {\n                if (fairyguiNamedEle.test(btn.name)) continue;\n                let _n = btn.name.split('.');\n                let _idx = _n[1] || 1;\n                _n = _n[0];\n                let ctrl = this._view.getController(_n);\n                if (ctrl) {\n                    btn.onClick(this, function() {\n                        ctrl.selectedIndex = _idx;\n                    });\n                    ctrl.setSelectedIndex(0);\n                } else {\n                    btn.onClick(this, function() {\n                        var candiName = capitalizeFirstLetter(_n) + 'Win';\n                        if (wins[candiName]) {\n                            var win = new wins[candiName];\n                        } else var win = new wins.Win(_n);\n                        win.modal = true;\n                        win.show();\n                    })\n                }\n            }\n        }\n    }\n\n    active() {\n        console.log('.active');\n    }\n    deactive() {\n        console.log('.deactive');\n    }\n    msg(pack) {\n        // pack:{c:'cmd', anything:'anytype', something:'all these was defined by server'}\n        console.log('.msg,');\n    }\n}\n\nfunction walkobj(obj, path, cb) {\n    if (obj == null || typeof obj != 'object') return;\n    for (var k in obj) {\n        var safeK = k.replace(/\\\\/g, '\\\\u005c').replace(/\\./g, '\\\\u002e');\n        var n = path ? path + '.' + safeK : safeK;\n        cb(n, obj[k]);\n        walkobj(obj[k], n, cb);\n    }\n}\n\nclass GameData extends EventEmitter {\n    constructor() {\n        super();\n        // this.on('newListener', function(event, listener) {\n        // \tlistener.call(this, this);\n        // });\n        var re = this._rangeEvents = [];\n        this.on('newListener', function(event, listener) {\n            if (event.indexOf('/') == 0) {\n                re.push({ reg: new RegExp(event.substr(1, -2)), k: event });\n            }\n        });\n        this.on('removeListener', function(event, listener) {\n            var idx = re.findIndex(function(ele) { return ele.k == event });\n            if (idx >= 0) re.splice(idx, 1);\n        })\n    }\n    _enumAttr(obj, path, f) {\n        if (obj == null) return;\n        if (typeof obj != 'object') return;\n        for (var e in obj) {\n            if (e == '$') continue;\n            if (e.indexOf('_') >= 0) continue;\n            var safeK = e.replace(/\\\\/g, '\\\\u005c').replace(/\\./g, '\\\\u002e');\n            var p = path ? path + '.' + safeK : safeK;\n            f(p, obj[e]);\n            if (typeof obj[e] == 'object') this._enumAttr(obj[e], p, f);\n        }\n    }\n    _chkRegEvent(p) {\n        // if (!this.regEvents) {\n        // \tthis.regEvents=[];\n        // \tfor (var k in this._events) {\n        // \t\tif (k.indexOf('/')==0) {\n        // \t\t\tthis.regEvents.push({reg:new RegExp(k.substr(1, -2)), k:k});\n        // \t\t}\n        // \t}\n        // }\n        // for (var i=0; i<this.regEvents.length; i++) {\n        // \t// this is a reg\n        // \tvar r=this.regEvents[i].reg.exec(p);\n        // \tif (r) {\n        // \t\tr.unshift(this.regEvents[i].k);\n        // \t\tthis.emit.apply(this, r);\n        // \t}\n        // }\n        // var self=this;\n        // process.nextTick(function() {\n        // \tself.regEvents=null;\n        // });\n        for (var i = 0; i < this._rangeEvents.length; i++) {\n            // this is a reg\n            var r = this._rangeEvents[i].reg.exec(p);\n            if (r) {\n                r.unshift(this._rangeEvents[i].k);\n                this.emit.apply(this, r);\n            }\n        }\n    }\n    _update(obj) {\n        // console.log('upd scene', obj);\n        var _e = Object.keys(obj);\n        if (_e.length == 2 && obj.countdown != null) {} else console.log(obj);\n        var self = this;\n        if (obj.$) {\n            if (obj.$.init) {\n                for (var k in this) {\n                    if (typeof this[k] == 'function' || k.indexOf('_') == 0) continue;\n                    delete this[k];\n                }\n                merge.recursive(this, obj);\n                this.emit('inited', this);\n                walkobj(this, null, function(k, v) {\n                    if (typeof v == 'function' || k.indexOf('_') == 0) return;\n                    self.emit('' + k + 'chgd', self);\n                    self._chkRegEvent('' + k + 'chgd');\n                });\n                // for (var k in this) {\n                // \tif (typeof this[k]=='function' || k.indexOf('_')==0) continue;\n                // \tthis.emit(''+k+'chgd', this);\n                // }\n                return;\n            }\n            if (obj.$.delete) {\n                var delCmd = obj.$.delete;\n                for (var i = 0; i < delCmd.length; i++) {\n                    var p = delCmd[i];\n                    this.ensuredelete(p);\n                    this.emit(p[0] + 'chgd', this);\n                    this.emit(p + 'chgd', this);\n\n                    this._chkRegEvent(p + 'chgd');\n                }\n            }\n            if (obj.$.set) {\n                var delCmd = obj.$.set;\n                for (var i = 0; i < delCmd.length; i++) {\n                    var p = delCmd[i];\n                    this.ensuredelete(p);\n                }\n            }\n            delete obj.$;\n        }\n        merge.recursive(this, obj);\n        this._enumAttr(obj, '', function(path, v) {\n            self.emit(path + 'chgd', v);\n            self._chkRegEvent(path + 'chgd');\n        });\n    }\n    ensuredelete(p) {\n        var o = this;\n        for (var i = 0; i < p.length - 1; i++) {\n            if (o[p[i]]) o = o[p[i]];\n            else return false;\n        }\n        if (o) {\n            if (Array.isArray(o) && (o.length - 1) == p[p.length - 1]) {\n                o.length--;\n            } else delete o[p[p.length - 1]];\n        }\n    }\n};\n\nvar io = window.io = require('socket.io-client');\nvar easyrtc = require('./js/easyrtc.js');\nvar _noop = require('./etc.js')._noop;\nvar ensureAccessCamera = (function() {\n    var permissions = (!!window.cordova && cordova.plugins.permissions) || {\n        checkPermission: function(p, cb) {\n            cb({ hasPermission: true })\n        }\n    };\n\n    function ensureAccessCamera(callback) {\n        if (!Laya.Browser.onAndroid) return callback();\n        // permissions.checkPermission(permissions.CAMERA, function(status) {\n        // if (status.hasPermission) return callback()\n        // else \n        permissions.requestPermissions([permissions.RECORD_AUDIO, permissions.CAMERA, permissions.RECORD_AUDIO], function(status) {\n            if (status.hasPermission) return callback();\n            callback('user canceled');\n        }, function() {\n            callback('something wrong');\n        });\n        // }\n        // , function() {\n        // \tcallback('something wrong');\n        // });\n\n    }\n    return ensureAccessCamera;\n})();\neasyrtc.setSocketUrl('http://ws.1357g.com:19999/');\neasyrtc.setVideoDims(100, 100, 15);\n\nfunction easyrtc_connect(appname, cb) {\n    if (typeof appname == 'function') {\n        cb = appname;\n        appname = null;\n    }\n    appname = appname || 'com.1357g.h5.niuniu';\n    cb = cb || _noop;\n    easyrtc.connect(appname, function(myId) {\n        console.log('easyrtc connected', appname, myId);\n        cb(null, myId);\n    }, function(err) {\n        cb(err);\n    });\n}\nvar _cb = console.log.bind(console, 'audioroute ret');\ndocument.addEventListener('audioroute-changed', function(event) {\n    if (event.reason == 'route-config-change') {\n        cordova.plugins.audioroute.currentOutputs(function(outs) {\n            console.log('audio chg to', outs);\n            if (outs == 'builtin-receiver') cordova.plugins.audioroute.overrideOutput('speaker', _cb, _cb);\n        }, _cb)\n    }\n});\n\nvar sysdiv = document.getElementById('layaContainer'),\n    sysCanvas = document.getElementById('layaCanvas');\n\n/**\n * @property {fairygui.GComponent} _view \n * @property {GameData} gamedata \n * @property {number} _seatNumber \n * @property {object} _calls rtc\n */\nclass RoomBase extends ViewBase {\n    constructor(opt) {\n        super();\n        opt = opt || {};\n        // opt:{seatNumber:3|4|5, easyrtcApp:'com.1357g.h5.xxx'}\n        this.gamedata = this.scene = new GameData();\n        this._seatNumber = 4\n        this._calls = {};\n\n        var self = this,\n            gd = this.gamedata;\n        gd.on('inited', function() {\n            if (opt.disableRtc || opt.easyrtcApp == null) return;\n            ensureAccessCamera(function(err) {\n                easyrtc.initMediaSource(\n                    function() {\n                        if (self.hasQuit) return;\n                        self.disableMicrophone();\n                        self.onVideoActived && self.onVideoActived();\n                        self.chgVoiceBtnFunc();\n                        var selfVideo = self.icon2Video(0, true);\n                        if (!selfVideo) return;\n                        easyrtc.setVideoObjectSrc(selfVideo, easyrtc.getLocalStream());\n                        easyrtc_connect(opt.easyrtcApp, function(err, myId) {\n                            if (err) return console.log(err);\n                            if (self.hasQuit) return;\n                            self.afterRtcConnected(myId);\n                            easyrtc.setDisconnectListener(function() {\n                                easyrtc.showError(\"LOST-CONNECTION\", \"Lost connection to signaling server\");\n                                easyrtc_connect(function(err, myId) {\n                                    if (err) return console.log(err);\n                                    self.afterRtcConnected(myId);\n                                });\n                            });\n                        })\n                    }, _noop);\n            });\n        });\n    }\n\n    // create\n    afterCreateView() {\n            this.assignAllBtns();\n            var voicebtn = this.getVoiceBtn();\n            if (!voicebtn) return;\n            var _rec = null,\n                _recCanceled = false;\n            voicebtn.on('mousedown', null, function() {\n                if (window.startRecord) {\n                    _recCanceled = false;\n                    Laya.SoundManager.setMusicVolume(0.6);\n                    setTimeout(function() {\n                        if (!_recCanceled) {\n                            window.startRecord();\n                            Laya.SoundManager.setMusicVolume(0.2);\n                            if (wins.RecWin) {\n                                _rec = wins.RecWin.inst;\n                                _rec.show();\n                            }\n                        }\n                    }, 200);\n                }\n            });\n            voicebtn.on('mouseup', null, function() {\n                if (_rec) {\n                    setTimeout(function() {\n                        window.stopRecord && window.stopRecord(function(err, token) {\n                            Laya.SoundManager.setMusicVolume(1);\n                            if (err) return console.log(err);\n                            if (token) _socket.sendp({ c: 'table.voice', token: token });\n                        });\n                    }, 300);\n                    _rec.hide();\n                    _rec = null;\n                } else cancelRec();\n            });\n\n            function cancelRec() {\n                _recCanceled = true;\n                console.log('rec canceled');\n                window.stopRecord && window.stopRecord();\n                if (_rec) {\n                    _rec.hide();\n                    _rec = null;\n                }\n                Laya.SoundManager.setMusicVolume(1);\n            }\n            voicebtn.on('mouseout', null, cancelRec);\n        }\n        // \n    static create(opt, cb) {\n        assert.fail('create');\n    }\n    getUserMediaRect(id) {\n        assert.fail('seat(id)');\n    }\n    getVoiceBtn() {\n        assert.fail('');\n        // eg. return this._view.getChild('voicebtn');\n    }\n    onVideoActived() {\n        //\n    }\n\n    // \n    msg(pack) {\n            var self = this;\n            if (pack.gamedata || pack.scene) {\n                this.gamedata._update(pack.gamedata || pack.scene);\n            }\n            return true;\n        }\n        /**\n         * super.active();\n         */\n    active() {\n        // active\n        var self = this;\n        _socket.sendp({ c: 'createInviteCode' });\n        netmsg.once('inviteCode', null, function(msg) {\n            self.inviteCode = msg.v;\n            window.preInvite && window.preInvite(msg.v, self.opt);\n        });\n        this.mySeat = null;\n        this.video2Icon(0);\n        this._calls = {};\n    }\n    deactive() {\n        //me.removeAllListeners();\n        this.gamedata.removeAllListeners();\n        this.hasQuit = true;\n        easyrtc.setDisconnectListener(null);\n        easyrtc.disconnect();\n\n        var videos = sysdiv.getElementsByTagName('video');\n        for (var i = 0; i < videos.length; i++) {\n            sysdiv.removeChild(videos[i]);\n        }\n        this._calls = {};\n    }\n\n    // \n    /** \n     * \n     * seats-1\n     *\n     * @param {object|[]} seats gamedata.seats\n     * @return {number} \n     **/\n    locateMe(seats) {\n        if (!seats) return -1;\n        if (Array.isArray(seats)) {\n            for (var i = 0; i < seats.length; i++) {\n                var s = seats[i];\n                if (s && s.user && s.user.id == me.id) return i;\n            }\n            return -1;\n        } else if (typeof seats == 'object') {\n            for (var i in seats) {\n                var s = seats[i];\n                if (s && s.user && s.user.id == me.id) return i;\n            }\n            return -1;\n        }\n        return -1;\n    }\n\n    createHTMLDiv(o) {\n        var pos = { x: o.x, y: o.y, w: o.width, h: o.height };\n        var ele = $('#layaCanvas');\n        var rX = Laya.stage.clientScaleX,\n            rY = Laya.stage.clientScaleY;\n        pos.x = pos.x * rX;\n        pos.y = pos.y * rY;\n        pos.w = pos.w * rX;\n        pos.h = pos.h * rY;\n        var div = $('<div class=\"card\" style=\"position:absolute;left:' + pos.x + 'px; top:' + pos.y + 'px; width:' + pos.w + 'px; height:' + pos.h + 'px\"/>');\n        div.css('transform', ele.css('transform'));\n        div.css('transform-origin', '' + (-pos.x) + 'px ' + (-pos.y) + 'px');\n        $('#layaContainer').append(div);\n        return div;\n    }\n\n    createHTMLVideo(obj) {\n        var ho = document.createElement('video');\n        var _s = ho.style;\n        var rw = sysCanvas.width / (960 * (Laya.Browser.onIOS ? devicePixelRatio : 1));\n        var r = sysCanvas.width / (960 * devicePixelRatio);\n        var rotate = Number(sysCanvas.style.transform.split(',')[2]) == -1;\n        _s.left = (rotate ? (-obj.y) : obj.x) * r + 'px';\n        _s.top = (rotate ? obj.x : obj.y) * r + 'px';\n        _s.width = obj.width * rw + 'px';\n        _s.height = obj.height * rw + 'px';\n        _s.transform = sysCanvas.style.transform;\n        _s.transformOrigin = sysCanvas.style.transformOrigin;\n        _s.position = 'absolute';\n        _s['z-index'] = 9999999;\n        sysdiv.appendChild(ho);\n        return ho;\n    }\n    findUserLocalSeat(userid) {\n        var gd = this.gamedata;\n        for (var i = 0; i < gd.seats.length; i++) {\n            var seat = gd.seats[i];\n            if (seat && seat.user.id == userid) return this.serverSeatToLocal(i);\n        }\n        return null;\n    }\n    serverSeatToLocal(seat) {\n        if (this.mySeat == null) this.mySeat = locateMe(this.gamedata.seats);\n        return (this._seatNumber + seat - this.mySeat) % this._seatNumber;\n    }\n    pausemsg(f) {\n        var self = this;\n        window.msgloop.pause();\n        f(function() {\n            window.msgloop.resume();\n        })\n    }\n\n    // \n    chgVoiceBtnFunc() {\n        var self = this;\n        window.startRecord = function() {\n            self.enableMicrophone();\n        }\n        window.stopRecord = function(cb) {\n            self.enableMicrophone(false);\n            if (cb) cb(null);\n        }\n    }\n    afterRtcConnected(myId) {\n        if (this.hasQuit) return;\n        _socket.sendp({ c: 'table.extenddata', rtcid: myId });\n        var gd = this.gamedata;\n        gd.once('extenddatachgd', function() {\n            // \n            for (var uid in gd.extenddata) {\n                if (uid == me.id) continue;\n                easyrtc.call(gd.extenddata[uid], _noop, _noop, _noop);\n            }\n        })\n    }\n    icon2Video(seat, isMe) {\n        var obj = this.getUserMediaRect(seat);\n        if (!obj) return null;\n        console.log('chg', seat, 'to video');\n        var v = createHTMLVideo(obj, isMe);\n        this._calls[seat] = v;\n        obj.visible = false;\n        return v;\n    }\n    video2Icon(seat) {\n            var obj = this.getUserMediaRect(seat);\n            if (!obj) return null;\n            console.log('chg', seat, 'back to icon', obj.url);\n            obj.visible = true;\n            if (this._calls[seat]) {\n                sysdiv.removeChild(this._calls[seat]);\n                delete this._calls[seat];\n            }\n        }\n        // enableMicrophone()enableMicrophone(false)\n    enableMicrophone(enable) {\n        easyrtc.enableMicrophone(enable == null ? true : enable);\n    }\n    disableMicrophone() {\n            easyrtc.enableMicrophone(false);\n        }\n        // \n    enableCamera(enable) {\n        easyrtc.enableCamera(enable == null ? true : enable);\n    }\n    disableCamera() {\n        easyrtc.enableCamera(false);\n    }\n}\n\nmodule.exports = RoomBase;\n\n\n/** WEBPACK FOOTER **\n ** ./client/roombase.js\n **/","module.exports = __webpack_public_path__ + \"bgm_lobby.ogg?d16721ce7e696f05b9c5d5e294daeb99\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/res/snd/bgm_lobby.ogg\n ** module id = 45\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"Package1@atlas0.png?b652261de3d12ac7f3ffbb442b3fdb7b\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/res/Package1@atlas0.png\n ** module id = 46\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"Package1@atlas0_1.png?33c905ef4ffdc65e7bc03e7f01dd179a\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/res/Package1@atlas0_1.png\n ** module id = 47\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"Package1@atlas_o5uh1a.jpg?0bdbb3cbff3e0aab50ed749d19ff0e66\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/res/Package1@atlas_o5uh1a.jpg\n ** module id = 48\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"Package1@atlas_gbj4q7.jpg?ac228159c1d8187c68a42ad7ac1dd8b2\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/res/Package1@atlas_gbj4q7.jpg\n ** module id = 49\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"Package1@atlas_gbj4q5.jpg?fa3c0cbc2193b33bee4e63eb8935ed91\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/res/Package1@atlas_gbj4q5.jpg\n ** module id = 50\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"Package1@atlas_lcqpnb.png?585521ac35347f2ba4df0af0ef04624f\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/res/Package1@atlas_lcqpnb.png\n ** module id = 51\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"Package1.fui?49e14c04149c9cac0e8f2bd0955e2619\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/res/Package1.fui\n ** module id = 52\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"3333.ls?9ade286f1e15ab785792535070ec21ab\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/res/zheng/3333.ls\n ** module id = 66\n ** module chunks = 3\n **/","module.exports = __webpack_public_path__ + \"layaScene.lh?6da596c55974f7cebb68840ee7eb8934\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/res/fu/layaScene.lh\n ** module id = 67\n ** module chunks = 3\n **/","/* global define, module, require */\n/*!\n  Script: easyrtc_lang.js\n\n    Provides lang file.\n\n  About: License\n\n    Copyright (c) 2016, Priologic Software Inc.\n    All rights reserved.\n\n    Redistribution and use in source and binary forms, with or without\n    modification, are permitted provided that the following conditions are met:\n\n        * Redistributions of source code must retain the above copyright notice,\n          this list of conditions and the following disclaimer.\n        * Redistributions in binary form must reproduce the above copyright\n          notice, this list of conditions and the following disclaimer in the\n          documentation and/or other materials provided with the distribution.\n\n    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n    ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n    POSSIBILITY OF SUCH DAMAGE.\n*/\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        //RequireJS (AMD) build system\n        define('easyrtc_lang',factory);\n    } else if (typeof module === 'object' && module.exports) {\n        //CommonJS build system\n        module.exports = factory();\n    } else {\n        root.easyrtc_lang = factory();\n  }\n}(this, function (undefined) {\n\n  \"use strict\";\n\nreturn {\n  \"unableToEnterRoom\":\"Unable to enter room {0} because {1}\" ,\n  \"resolutionWarning\": \"Requested video size of {0}x{1} but got size of {2}x{3}\",\n  \"badUserName\": \"Illegal username {0}\",\n  \"localMediaError\": \"Error getting local media stream: {0}\",\n  \"miscSignalError\": \"Miscellaneous error from signalling server. It may be ignorable.\",\n  \"noServer\": \"Unable to reach the EasyRTC signalling server.\",\n  \"badsocket\": \"Socket.io connect event fired with bad websocket.\",\n  \"icf\": \"Internal communications failure\",\n  \"statsNotSupported\":\"call statistics not supported by this browser, try Chrome.\",\n   \"noWebrtcSupport\":\"Your browser doesn't appear to support WebRTC.\",\n   \"gumFailed\":\"Failed to get access to local media. Error code was {0}.\",\n   \"requireAudioOrVideo\":\"At least one of audio and video must be provided\"   \n};\n\n}));\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define('webrtc-adapter',[],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.adapter = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n /* eslint-env node */\n\n\n// SDP helpers.\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function() {\n  return Math.random().toString(36).substr(2, 10);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function(blob) {\n  return blob.trim().split('\\n').map(function(line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function(blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function(part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function(blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function(line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\nSDPUtils.parseCandidate = function(line) {\n  var parts;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: parts[1],\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      default: // Unknown extensions are silently ignored.\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\nSDPUtils.writeCandidate = function(candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n  sdp.push(candidate.component);\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress &&\n      candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress); // was: relAddr\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort); // was: relPort\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function(line) {\n  var parts = line.substr(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  // was: channels\n  parsed.numChannels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  return parsed;\n};\n\n// Generate an a=rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function(codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +\n      (codec.numChannels !== 1 ? '/' + codec.numChannels : '') + '\\r\\n';\n};\n\n// Parses an a=extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function(line) {\n  var parts = line.substr(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    uri: parts[1]\n  };\n};\n\n// Generates a=extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function(headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +\n       ' ' + headerExtension.uri + '\\r\\n';\n};\n\n// Parses an ftmp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function(line) {\n  var parsed = {};\n  var kv;\n  var parts = line.substr(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function(codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function(param) {\n      params.push(param + '=' + codec.parameters[param]);\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function(line) {\n  var parts = line.substr(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function(codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function(fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +\n      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +\n          '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses an RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function(line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substr(7, sp - 7), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substr(sp + 1, colon - sp - 1);\n    parts.value = line.substr(colon + 1);\n  } else {\n    parts.attribute = line.substr(sp + 1);\n  }\n  return parts;\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var fpLine = lines.filter(function(line) {\n    return line.indexOf('a=fingerprint:') === 0;\n  })[0].substr(14);\n  // Note: a=setup line is ignored since we use the 'auto' role.\n  var dtlsParameters = {\n    role: 'auto',\n    fingerprints: [{\n      algorithm: fpLine.split(' ')[0],\n      value: fpLine.split(' ')[1]\n    }]\n  };\n  return dtlsParameters;\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function(params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function(fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function(mediaSection, sessionpart) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  // Search in session part, too.\n  lines = lines.concat(SDPUtils.splitLines(sessionpart));\n  var iceParameters = {\n    usernameFragment: lines.filter(function(line) {\n      return line.indexOf('a=ice-ufrag:') === 0;\n    })[0].substr(12),\n    password: lines.filter(function(line) {\n      return line.indexOf('a=ice-pwd:') === 0;\n    })[0].substr(10)\n  };\n  return iceParameters;\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function(params) {\n  return 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' +\n      'a=ice-pwd:' + params.password + '\\r\\n';\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function(mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(\n        mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(\n          mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(\n          mediaSection, 'a=rtcp-fb:' + pt + ' ')\n        .map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default: // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function(kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' UDP/TLS/RTP/SAVPF ';\n  sdp += caps.codecs.map(function(codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function(codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  // FIXME: add headerExtensions, fecMechanism and rtcp.\n  sdp += 'a=rtcp-mux\\r\\n';\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function(mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n  .map(function(line) {\n    return SDPUtils.parseSsrcMedia(line);\n  })\n  .filter(function(parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')\n  .map(function(line) {\n    var parts = line.split(' ');\n    parts.shift();\n    return parts.map(function(part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function(codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10),\n        rtx: {\n          payloadType: codec.payloadType,\n          ssrc: secondarySsrc\n        }\n      };\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: secondarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substr(5), 10);\n    }\n    encodingParameters.forEach(function(params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\nSDPUtils.writeSessionBoilerplate = function() {\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' +\n      'o=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\\r\\n' +\n      's=-\\r\\n' +\n      't=0 0\\r\\n';\n};\n\nSDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {\n  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);\n\n  // Map ICE parameters (ufrag, pwd) to SDP.\n  sdp += SDPUtils.writeIceParameters(\n      transceiver.iceGatherer.getLocalParameters());\n\n  // Map DTLS parameters to SDP.\n  sdp += SDPUtils.writeDtlsParameters(\n      transceiver.dtlsTransport.getLocalParameters(),\n      type === 'offer' ? 'actpass' : 'active');\n\n  sdp += 'a=mid:' + transceiver.mid + '\\r\\n';\n\n  if (transceiver.rtpSender && transceiver.rtpReceiver) {\n    sdp += 'a=sendrecv\\r\\n';\n  } else if (transceiver.rtpSender) {\n    sdp += 'a=sendonly\\r\\n';\n  } else if (transceiver.rtpReceiver) {\n    sdp += 'a=recvonly\\r\\n';\n  } else {\n    sdp += 'a=inactive\\r\\n';\n  }\n\n  // FIXME: for RTX there might be multiple SSRCs. Not implemented in Edge yet.\n  if (transceiver.rtpSender) {\n    var msid = 'msid:' + stream.id + ' ' +\n        transceiver.rtpSender.track.id + '\\r\\n';\n    sdp += 'a=' + msid;\n    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n        ' ' + msid;\n  }\n  // FIXME: this should be written by writeRtpDescription.\n  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +\n      ' cname:' + SDPUtils.localCName + '\\r\\n';\n  return sdp;\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function(mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substr(2);\n      default:\n        // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\n// Expose public methods.\nmodule.exports = SDPUtils;\n\n},{}],2:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\n\n// Shimming starts here.\n(function() {\n  // Utils.\n  var logging = require('./utils').log;\n  var browserDetails = require('./utils').browserDetails;\n  // Export to the adapter global object visible in the browser.\n  module.exports.browserDetails = browserDetails;\n  module.exports.extractVersion = require('./utils').extractVersion;\n  module.exports.disableLog = require('./utils').disableLog;\n\n  // Uncomment the line below if you want logging to occur, including logging\n  // for the switch statement below. Can also be turned on in the browser via\n  // adapter.disableLog(false), but then logging from the switch statement below\n  // will not appear.\n  // require('./utils').disableLog(false);\n\n  // Browser shims.\n  var chromeShim = require('./chrome/chrome_shim') || null;\n  var edgeShim = require('./edge/edge_shim') || null;\n  var firefoxShim = require('./firefox/firefox_shim') || null;\n  var safariShim = require('./safari/safari_shim') || null;\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'opera': // fallthrough as it uses chrome shims\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection) {\n        logging('Chrome shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = chromeShim;\n\n      chromeShim.shimGetUserMedia();\n      chromeShim.shimMediaStream();\n      chromeShim.shimSourceObject();\n      chromeShim.shimPeerConnection();\n      chromeShim.shimOnTrack();\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection) {\n        logging('Firefox shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = firefoxShim;\n\n      firefoxShim.shimGetUserMedia();\n      firefoxShim.shimSourceObject();\n      firefoxShim.shimPeerConnection();\n      firefoxShim.shimOnTrack();\n      break;\n    case 'edge':\n      if (!edgeShim || !edgeShim.shimPeerConnection) {\n        logging('MS edge shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming edge.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = edgeShim;\n\n      edgeShim.shimGetUserMedia();\n      edgeShim.shimPeerConnection();\n      break;\n    case 'safari':\n      if (!safariShim) {\n        logging('Safari shim is not included in this adapter release.');\n        return;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      module.exports.browserShim = safariShim;\n\n      safariShim.shimGetUserMedia();\n      break;\n    default:\n      logging('Unsupported browser!');\n  }\n})();\n\n},{\"./chrome/chrome_shim\":3,\"./edge/edge_shim\":5,\"./firefox/firefox_shim\":7,\"./safari/safari_shim\":9,\"./utils\":10}],3:[function(require,module,exports){\n\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\nvar logging = require('../utils.js').log;\nvar browserDetails = require('../utils.js').browserDetails;\n\nvar chromeShim = {\n  shimMediaStream: function() {\n    window.MediaStream = window.MediaStream || window.webkitMediaStream;\n  },\n\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          var self = this;\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            // onaddstream does not fire when a track is added to an existing\n            // stream. But stream.onaddtrack is implemented so we use that.\n            e.stream.addEventListener('addtrack', function(te) {\n              var event = new Event('track');\n              event.track = te.track;\n              event.receiver = {track: te.track};\n              event.streams = [e.stream];\n              self.dispatchEvent(event);\n            });\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function() {\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this._srcObject;\n          },\n          set: function(stream) {\n            var self = this;\n            // Use _srcObject as a private property for this shim\n            this._srcObject = stream;\n            if (this.src) {\n              URL.revokeObjectURL(this.src);\n            }\n\n            if (!stream) {\n              this.src = '';\n              return;\n            }\n            this.src = URL.createObjectURL(stream);\n            // We need to recreate the blob url when a track is added or\n            // removed. Doing it manually since we want to avoid a recursion.\n            stream.addEventListener('addtrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n            stream.addEventListener('removetrack', function() {\n              if (self.src) {\n                URL.revokeObjectURL(self.src);\n              }\n              self.src = URL.createObjectURL(stream);\n            });\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    // The RTCPeerConnection object.\n    window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n      // Translate iceTransportPolicy to iceTransports,\n      // see https://code.google.com/p/webrtc/issues/detail?id=4869\n      logging('PeerConnection');\n      if (pcConfig && pcConfig.iceTransportPolicy) {\n        pcConfig.iceTransports = pcConfig.iceTransportPolicy;\n      }\n\n      var pc = new webkitRTCPeerConnection(pcConfig, pcConstraints);\n      var origGetStats = pc.getStats.bind(pc);\n      pc.getStats = function(selector, successCallback, errorCallback) {\n        var self = this;\n        var args = arguments;\n\n        // If selector is a function then we are in the old style stats so just\n        // pass back the original getStats format to avoid breaking old users.\n        if (arguments.length > 0 && typeof selector === 'function') {\n          return origGetStats(selector, successCallback);\n        }\n\n        var fixChromeStats_ = function(response) {\n          var standardReport = {};\n          var reports = response.result();\n          reports.forEach(function(report) {\n            var standardStats = {\n              id: report.id,\n              timestamp: report.timestamp,\n              type: report.type\n            };\n            report.names().forEach(function(name) {\n              standardStats[name] = report.stat(name);\n            });\n            standardReport[standardStats.id] = standardStats;\n          });\n\n          return standardReport;\n        };\n\n        // shim getStats with maplike support\n        var makeMapStats = function(stats, legacyStats) {\n          var map = new Map(Object.keys(stats).map(function(key) {\n            return[key, stats[key]];\n          }));\n          legacyStats = legacyStats || stats;\n          Object.keys(legacyStats).forEach(function(key) {\n            map[key] = legacyStats[key];\n          });\n          return map;\n        };\n\n        if (arguments.length >= 2) {\n          var successCallbackWrapper_ = function(response) {\n            args[1](makeMapStats(fixChromeStats_(response)));\n          };\n\n          return origGetStats.apply(this, [successCallbackWrapper_,\n              arguments[0]]);\n        }\n\n        // promise-support\n        return new Promise(function(resolve, reject) {\n          if (args.length === 1 && typeof selector === 'object') {\n            origGetStats.apply(self, [\n              function(response) {\n                resolve(makeMapStats(fixChromeStats_(response)));\n              }, reject]);\n          } else {\n            // Preserve legacy chrome stats only on legacy access of stats obj\n            origGetStats.apply(self, [\n              function(response) {\n                resolve(makeMapStats(fixChromeStats_(response),\n                    response.result()));\n              }, reject]);\n          }\n        }).then(successCallback, errorCallback);\n      };\n\n      return pc;\n    };\n    window.RTCPeerConnection.prototype = webkitRTCPeerConnection.prototype;\n\n    // wrap static methods. Currently just generateCertificate.\n    if (webkitRTCPeerConnection.generateCertificate) {\n      Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n        get: function() {\n          return webkitRTCPeerConnection.generateCertificate;\n        }\n      });\n    }\n\n    ['createOffer', 'createAnswer'].forEach(function(method) {\n      var nativeMethod = webkitRTCPeerConnection.prototype[method];\n      webkitRTCPeerConnection.prototype[method] = function() {\n        var self = this;\n        if (arguments.length < 1 || (arguments.length === 1 &&\n            typeof arguments[0] === 'object')) {\n          var opts = arguments.length === 1 ? arguments[0] : undefined;\n          return new Promise(function(resolve, reject) {\n            nativeMethod.apply(self, [resolve, reject, opts]);\n          });\n        }\n        return nativeMethod.apply(this, arguments);\n      };\n    });\n\n    // add promise support -- natively available in Chrome 51\n    if (browserDetails.version < 51) {\n      ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n          .forEach(function(method) {\n            var nativeMethod = webkitRTCPeerConnection.prototype[method];\n            webkitRTCPeerConnection.prototype[method] = function() {\n              var args = arguments;\n              var self = this;\n              var promise = new Promise(function(resolve, reject) {\n                nativeMethod.apply(self, [args[0], resolve, reject]);\n              });\n              if (args.length < 2) {\n                return promise;\n              }\n              return promise.then(function() {\n                args[1].apply(null, []);\n              },\n              function(err) {\n                if (args.length >= 3) {\n                  args[2].apply(null, [err]);\n                }\n              });\n            };\n          });\n    }\n\n    // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = webkitRTCPeerConnection.prototype[method];\n          webkitRTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n  }\n};\n\n\n// Expose public methods.\nmodule.exports = {\n  shimMediaStream: chromeShim.shimMediaStream,\n  shimOnTrack: chromeShim.shimOnTrack,\n  shimSourceObject: chromeShim.shimSourceObject,\n  shimPeerConnection: chromeShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n},{\"../utils.js\":10,\"./getusermedia\":4}],4:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\nvar logging = require('../utils.js').log;\n\n// Expose public methods.\nmodule.exports = function() {\n  var constraintsToChrome_ = function(c) {\n    if (typeof c !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function(key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return (name === 'deviceId') ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function(mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function(constraints, func) {\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && constraints.audio) {\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && typeof constraints.video === 'object') {\n      // Shim facingMode for mobile, where it defaults to \"user\".\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'object') ? face : {ideal: face});\n\n      if ((face && (face.exact === 'user' || face.exact === 'environment' ||\n                    face.ideal === 'user' || face.ideal === 'environment')) &&\n          !(navigator.mediaDevices.getSupportedConstraints &&\n            navigator.mediaDevices.getSupportedConstraints().facingMode)) {\n        delete constraints.video.facingMode;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          // Look for \"back\" in label, or use last cam (typically back cam).\n          return navigator.mediaDevices.enumerateDevices()\n          .then(function(devices) {\n            devices = devices.filter(function(d) {\n              return d.kind === 'videoinput';\n            });\n            var back = devices.find(function(d) {\n              return d.label.toLowerCase().indexOf('back') !== -1;\n            }) || (devices.length && devices[devices.length - 1]);\n            if (back) {\n              constraints.video.deviceId = face.exact ? {exact: back.deviceId} :\n                                                        {ideal: back.deviceId};\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function(e) {\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraintName,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function(c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function(e) {\n        onError(shimError_(e));\n      });\n    });\n  };\n\n  navigator.getUserMedia = getUserMedia_;\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      navigator.getUserMedia(constraints, resolve, reject);\n    });\n  };\n\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {\n      getUserMedia: getUserMediaPromise_,\n      enumerateDevices: function() {\n        return new Promise(function(resolve) {\n          var kinds = {audio: 'audioinput', video: 'videoinput'};\n          return MediaStreamTrack.getSources(function(devices) {\n            resolve(devices.map(function(device) {\n              return {label: device.label,\n                      kind: kinds[device.kind],\n                      deviceId: device.id,\n                      groupId: ''};\n            }));\n          });\n        });\n      }\n    };\n  }\n\n  // A shim for getUserMedia method on the mediaDevices object.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (!navigator.mediaDevices.getUserMedia) {\n    navigator.mediaDevices.getUserMedia = function(constraints) {\n      return getUserMediaPromise_(constraints);\n    };\n  } else {\n    // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n    // function which returns a Promise, it does not accept spec-style\n    // constraints.\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(cs) {\n      return shimConstraints_(cs, function(c) {\n        return origGetUserMedia(c).then(function(stream) {\n          if (c.audio && !stream.getAudioTracks().length ||\n              c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function(track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function(e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n\n  // Dummy devicechange event methods.\n  // TODO(KaptenJansson) remove once implemented in Chrome stable.\n  if (typeof navigator.mediaDevices.addEventListener === 'undefined') {\n    navigator.mediaDevices.addEventListener = function() {\n      logging('Dummy mediaDevices.addEventListener called.');\n    };\n  }\n  if (typeof navigator.mediaDevices.removeEventListener === 'undefined') {\n    navigator.mediaDevices.removeEventListener = function() {\n      logging('Dummy mediaDevices.removeEventListener called.');\n    };\n  }\n};\n\n},{\"../utils.js\":10}],5:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\nvar SDPUtils = require('sdp');\nvar browserDetails = require('../utils').browserDetails;\n\nvar edgeShim = {\n  shimPeerConnection: function() {\n    if (window.RTCIceGatherer) {\n      // ORTC defines an RTCIceCandidate object but no constructor.\n      // Not implemented in Edge.\n      if (!window.RTCIceCandidate) {\n        window.RTCIceCandidate = function(args) {\n          return args;\n        };\n      }\n      // ORTC does not have a session description object but\n      // other browsers (i.e. Chrome) that will support both PC and ORTC\n      // in the future might have this defined already.\n      if (!window.RTCSessionDescription) {\n        window.RTCSessionDescription = function(args) {\n          return args;\n        };\n      }\n      // this adds an additional event listener to MediaStrackTrack that signals\n      // when a tracks enabled property was changed.\n      var origMSTEnabled = Object.getOwnPropertyDescriptor(\n          MediaStreamTrack.prototype, 'enabled');\n      Object.defineProperty(MediaStreamTrack.prototype, 'enabled', {\n        set: function(value) {\n          origMSTEnabled.set.call(this, value);\n          var ev = new Event('enabled');\n          ev.enabled = value;\n          this.dispatchEvent(ev);\n        }\n      });\n    }\n\n    window.RTCPeerConnection = function(config) {\n      var self = this;\n\n      var _eventTarget = document.createDocumentFragment();\n      ['addEventListener', 'removeEventListener', 'dispatchEvent']\n          .forEach(function(method) {\n            self[method] = _eventTarget[method].bind(_eventTarget);\n          });\n\n      this.onicecandidate = null;\n      this.onaddstream = null;\n      this.ontrack = null;\n      this.onremovestream = null;\n      this.onsignalingstatechange = null;\n      this.oniceconnectionstatechange = null;\n      this.onnegotiationneeded = null;\n      this.ondatachannel = null;\n\n      this.localStreams = [];\n      this.remoteStreams = [];\n      this.getLocalStreams = function() {\n        return self.localStreams;\n      };\n      this.getRemoteStreams = function() {\n        return self.remoteStreams;\n      };\n\n      this.localDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.remoteDescription = new RTCSessionDescription({\n        type: '',\n        sdp: ''\n      });\n      this.signalingState = 'stable';\n      this.iceConnectionState = 'new';\n      this.iceGatheringState = 'new';\n\n      this.iceOptions = {\n        gatherPolicy: 'all',\n        iceServers: []\n      };\n      if (config && config.iceTransportPolicy) {\n        switch (config.iceTransportPolicy) {\n          case 'all':\n          case 'relay':\n            this.iceOptions.gatherPolicy = config.iceTransportPolicy;\n            break;\n          case 'none':\n            // FIXME: remove once implementation and spec have added this.\n            throw new TypeError('iceTransportPolicy \"none\" not supported');\n          default:\n            // don't set iceTransportPolicy.\n            break;\n        }\n      }\n      this.usingBundle = config && config.bundlePolicy === 'max-bundle';\n\n      if (config && config.iceServers) {\n        // Edge does not like\n        // 1) stun:\n        // 2) turn: that does not have all of turn:host:port?transport=udp\n        // 3) turn: with ipv6 addresses\n        var iceServers = JSON.parse(JSON.stringify(config.iceServers));\n        this.iceOptions.iceServers = iceServers.filter(function(server) {\n          if (server && server.urls) {\n            var urls = server.urls;\n            if (typeof urls === 'string') {\n              urls = [urls];\n            }\n            urls = urls.filter(function(url) {\n              return (url.indexOf('turn:') === 0 &&\n                  url.indexOf('transport=udp') !== -1 &&\n                  url.indexOf('turn:[') === -1) ||\n                  (url.indexOf('stun:') === 0 &&\n                    browserDetails.version >= 14393);\n            })[0];\n            return !!urls;\n          }\n          return false;\n        });\n      }\n      this._config = config;\n\n      // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...\n      // everything that is needed to describe a SDP m-line.\n      this.transceivers = [];\n\n      // since the iceGatherer is currently created in createOffer but we\n      // must not emit candidates until after setLocalDescription we buffer\n      // them in this array.\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype._emitBufferedCandidates = function() {\n      var self = this;\n      var sections = SDPUtils.splitSections(self.localDescription.sdp);\n      // FIXME: need to apply ice candidates in a way which is async but\n      // in-order\n      this._localIceCandidatesBuffer.forEach(function(event) {\n        var end = !event.candidate || Object.keys(event.candidate).length === 0;\n        if (end) {\n          for (var j = 1; j < sections.length; j++) {\n            if (sections[j].indexOf('\\r\\na=end-of-candidates\\r\\n') === -1) {\n              sections[j] += 'a=end-of-candidates\\r\\n';\n            }\n          }\n        } else if (event.candidate.candidate.indexOf('typ endOfCandidates')\n            === -1) {\n          sections[event.candidate.sdpMLineIndex + 1] +=\n              'a=' + event.candidate.candidate + '\\r\\n';\n        }\n        self.localDescription.sdp = sections.join('');\n        self.dispatchEvent(event);\n        if (self.onicecandidate !== null) {\n          self.onicecandidate(event);\n        }\n        if (!event.candidate && self.iceGatheringState !== 'complete') {\n          var complete = self.transceivers.every(function(transceiver) {\n            return transceiver.iceGatherer &&\n                transceiver.iceGatherer.state === 'completed';\n          });\n          if (complete) {\n            self.iceGatheringState = 'complete';\n          }\n        }\n      });\n      this._localIceCandidatesBuffer = [];\n    };\n\n    window.RTCPeerConnection.prototype.getConfiguration = function() {\n      return this._config;\n    };\n\n    window.RTCPeerConnection.prototype.addStream = function(stream) {\n      // Clone is necessary for local demos mostly, attaching directly\n      // to two different senders does not work (build 10547).\n      var clonedStream = stream.clone();\n      stream.getTracks().forEach(function(track, idx) {\n        var clonedTrack = clonedStream.getTracks()[idx];\n        track.addEventListener('enabled', function(event) {\n          clonedTrack.enabled = event.enabled;\n        });\n      });\n      this.localStreams.push(clonedStream);\n      this._maybeFireNegotiationNeeded();\n    };\n\n    window.RTCPeerConnection.prototype.removeStream = function(stream) {\n      var idx = this.localStreams.indexOf(stream);\n      if (idx > -1) {\n        this.localStreams.splice(idx, 1);\n        this._maybeFireNegotiationNeeded();\n      }\n    };\n\n    window.RTCPeerConnection.prototype.getSenders = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpSender;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpSender;\n      });\n    };\n\n    window.RTCPeerConnection.prototype.getReceivers = function() {\n      return this.transceivers.filter(function(transceiver) {\n        return !!transceiver.rtpReceiver;\n      })\n      .map(function(transceiver) {\n        return transceiver.rtpReceiver;\n      });\n    };\n\n    // Determines the intersection of local and remote capabilities.\n    window.RTCPeerConnection.prototype._getCommonCapabilities =\n        function(localCapabilities, remoteCapabilities) {\n          var commonCapabilities = {\n            codecs: [],\n            headerExtensions: [],\n            fecMechanisms: []\n          };\n          localCapabilities.codecs.forEach(function(lCodec) {\n            for (var i = 0; i < remoteCapabilities.codecs.length; i++) {\n              var rCodec = remoteCapabilities.codecs[i];\n              if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&\n                  lCodec.clockRate === rCodec.clockRate) {\n                // number of channels is the highest common number of channels\n                rCodec.numChannels = Math.min(lCodec.numChannels,\n                    rCodec.numChannels);\n                // push rCodec so we reply with offerer payload type\n                commonCapabilities.codecs.push(rCodec);\n\n                // determine common feedback mechanisms\n                rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {\n                  for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {\n                    if (lCodec.rtcpFeedback[j].type === fb.type &&\n                        lCodec.rtcpFeedback[j].parameter === fb.parameter) {\n                      return true;\n                    }\n                  }\n                  return false;\n                });\n                // FIXME: also need to determine .parameters\n                //  see https://github.com/openpeer/ortc/issues/569\n                break;\n              }\n            }\n          });\n\n          localCapabilities.headerExtensions\n              .forEach(function(lHeaderExtension) {\n                for (var i = 0; i < remoteCapabilities.headerExtensions.length;\n                     i++) {\n                  var rHeaderExtension = remoteCapabilities.headerExtensions[i];\n                  if (lHeaderExtension.uri === rHeaderExtension.uri) {\n                    commonCapabilities.headerExtensions.push(rHeaderExtension);\n                    break;\n                  }\n                }\n              });\n\n          // FIXME: fecMechanisms\n          return commonCapabilities;\n        };\n\n    // Create ICE gatherer, ICE transport and DTLS transport.\n    window.RTCPeerConnection.prototype._createIceAndDtlsTransports =\n        function(mid, sdpMLineIndex) {\n          var self = this;\n          var iceGatherer = new RTCIceGatherer(self.iceOptions);\n          var iceTransport = new RTCIceTransport(iceGatherer);\n          iceGatherer.onlocalcandidate = function(evt) {\n            var event = new Event('icecandidate');\n            event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};\n\n            var cand = evt.candidate;\n            var end = !cand || Object.keys(cand).length === 0;\n            // Edge emits an empty object for RTCIceCandidateComplete\n            if (end) {\n              // polyfill since RTCIceGatherer.state is not implemented in\n              // Edge 10547 yet.\n              if (iceGatherer.state === undefined) {\n                iceGatherer.state = 'completed';\n              }\n\n              // Emit a candidate with type endOfCandidates to make the samples\n              // work. Edge requires addIceCandidate with this empty candidate\n              // to start checking. The real solution is to signal\n              // end-of-candidates to the other side when getting the null\n              // candidate but some apps (like the samples) don't do that.\n              event.candidate.candidate =\n                  'candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates';\n            } else {\n              // RTCIceCandidate doesn't have a component, needs to be added\n              cand.component = iceTransport.component === 'RTCP' ? 2 : 1;\n              event.candidate.candidate = SDPUtils.writeCandidate(cand);\n            }\n\n            // update local description.\n            var sections = SDPUtils.splitSections(self.localDescription.sdp);\n            if (event.candidate.candidate.indexOf('typ endOfCandidates')\n                === -1) {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=' + event.candidate.candidate + '\\r\\n';\n            } else {\n              sections[event.candidate.sdpMLineIndex + 1] +=\n                  'a=end-of-candidates\\r\\n';\n            }\n            self.localDescription.sdp = sections.join('');\n\n            var complete = self.transceivers.every(function(transceiver) {\n              return transceiver.iceGatherer &&\n                  transceiver.iceGatherer.state === 'completed';\n            });\n\n            // Emit candidate if localDescription is set.\n            // Also emits null candidate when all gatherers are complete.\n            switch (self.iceGatheringState) {\n              case 'new':\n                self._localIceCandidatesBuffer.push(event);\n                if (end && complete) {\n                  self._localIceCandidatesBuffer.push(\n                      new Event('icecandidate'));\n                }\n                break;\n              case 'gathering':\n                self._emitBufferedCandidates();\n                self.dispatchEvent(event);\n                if (self.onicecandidate !== null) {\n                  self.onicecandidate(event);\n                }\n                if (complete) {\n                  self.dispatchEvent(new Event('icecandidate'));\n                  if (self.onicecandidate !== null) {\n                    self.onicecandidate(new Event('icecandidate'));\n                  }\n                  self.iceGatheringState = 'complete';\n                }\n                break;\n              case 'complete':\n                // should not happen... currently!\n                break;\n              default: // no-op.\n                break;\n            }\n          };\n          iceTransport.onicestatechange = function() {\n            self._updateConnectionState();\n          };\n\n          var dtlsTransport = new RTCDtlsTransport(iceTransport);\n          dtlsTransport.ondtlsstatechange = function() {\n            self._updateConnectionState();\n          };\n          dtlsTransport.onerror = function() {\n            // onerror does not set state to failed by itself.\n            dtlsTransport.state = 'failed';\n            self._updateConnectionState();\n          };\n\n          return {\n            iceGatherer: iceGatherer,\n            iceTransport: iceTransport,\n            dtlsTransport: dtlsTransport\n          };\n        };\n\n    // Start the RTP Sender and Receiver for a transceiver.\n    window.RTCPeerConnection.prototype._transceive = function(transceiver,\n        send, recv) {\n      var params = this._getCommonCapabilities(transceiver.localCapabilities,\n          transceiver.remoteCapabilities);\n      if (send && transceiver.rtpSender) {\n        params.encodings = transceiver.sendEncodingParameters;\n        params.rtcp = {\n          cname: SDPUtils.localCName\n        };\n        if (transceiver.recvEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpSender.send(params);\n      }\n      if (recv && transceiver.rtpReceiver) {\n        // remove RTX field in Edge 14942\n        if (transceiver.kind === 'video'\n            && transceiver.recvEncodingParameters) {\n          transceiver.recvEncodingParameters.forEach(function(p) {\n            delete p.rtx;\n          });\n        }\n        params.encodings = transceiver.recvEncodingParameters;\n        params.rtcp = {\n          cname: transceiver.cname\n        };\n        if (transceiver.sendEncodingParameters.length) {\n          params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;\n        }\n        transceiver.rtpReceiver.receive(params);\n      }\n    };\n\n    window.RTCPeerConnection.prototype.setLocalDescription =\n        function(description) {\n          var self = this;\n          var sections;\n          var sessionpart;\n          if (description.type === 'offer') {\n            // FIXME: What was the purpose of this empty if statement?\n            // if (!this._pendingOffer) {\n            // } else {\n            if (this._pendingOffer) {\n              // VERY limited support for SDP munging. Limited to:\n              // * changing the order of codecs\n              sections = SDPUtils.splitSections(description.sdp);\n              sessionpart = sections.shift();\n              sections.forEach(function(mediaSection, sdpMLineIndex) {\n                var caps = SDPUtils.parseRtpParameters(mediaSection);\n                self._pendingOffer[sdpMLineIndex].localCapabilities = caps;\n              });\n              this.transceivers = this._pendingOffer;\n              delete this._pendingOffer;\n            }\n          } else if (description.type === 'answer') {\n            sections = SDPUtils.splitSections(self.remoteDescription.sdp);\n            sessionpart = sections.shift();\n            var isIceLite = SDPUtils.matchPrefix(sessionpart,\n                'a=ice-lite').length > 0;\n            sections.forEach(function(mediaSection, sdpMLineIndex) {\n              var transceiver = self.transceivers[sdpMLineIndex];\n              var iceGatherer = transceiver.iceGatherer;\n              var iceTransport = transceiver.iceTransport;\n              var dtlsTransport = transceiver.dtlsTransport;\n              var localCapabilities = transceiver.localCapabilities;\n              var remoteCapabilities = transceiver.remoteCapabilities;\n\n              var rejected = mediaSection.split('\\n', 1)[0]\n                  .split(' ', 2)[1] === '0';\n\n              if (!rejected && !transceiver.isDatachannel) {\n                var remoteIceParameters = SDPUtils.getIceParameters(\n                    mediaSection, sessionpart);\n                if (isIceLite) {\n                  var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n                  .map(function(cand) {\n                    return SDPUtils.parseCandidate(cand);\n                  })\n                  .filter(function(cand) {\n                    return cand.component === '1';\n                  });\n                  // ice-lite only includes host candidates in the SDP so we can\n                  // use setRemoteCandidates (which implies an\n                  // RTCIceCandidateComplete)\n                  if (cands.length) {\n                    iceTransport.setRemoteCandidates(cands);\n                  }\n                }\n                var remoteDtlsParameters = SDPUtils.getDtlsParameters(\n                    mediaSection, sessionpart);\n                if (isIceLite) {\n                  remoteDtlsParameters.role = 'server';\n                }\n\n                if (!self.usingBundle || sdpMLineIndex === 0) {\n                  iceTransport.start(iceGatherer, remoteIceParameters,\n                      isIceLite ? 'controlling' : 'controlled');\n                  dtlsTransport.start(remoteDtlsParameters);\n                }\n\n                // Calculate intersection of capabilities.\n                var params = self._getCommonCapabilities(localCapabilities,\n                    remoteCapabilities);\n\n                // Start the RTCRtpSender. The RTCRtpReceiver for this\n                // transceiver has already been started in setRemoteDescription.\n                self._transceive(transceiver,\n                    params.codecs.length > 0,\n                    false);\n              }\n            });\n          }\n\n          this.localDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-local-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n\n          // If a success callback was provided, emit ICE candidates after it\n          // has been executed. Otherwise, emit callback after the Promise is\n          // resolved.\n          var hasCallback = arguments.length > 1 &&\n            typeof arguments[1] === 'function';\n          if (hasCallback) {\n            var cb = arguments[1];\n            window.setTimeout(function() {\n              cb();\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n              }\n              self._emitBufferedCandidates();\n            }, 0);\n          }\n          var p = Promise.resolve();\n          p.then(function() {\n            if (!hasCallback) {\n              if (self.iceGatheringState === 'new') {\n                self.iceGatheringState = 'gathering';\n              }\n              // Usually candidates will be emitted earlier.\n              window.setTimeout(self._emitBufferedCandidates.bind(self), 500);\n            }\n          });\n          return p;\n        };\n\n    window.RTCPeerConnection.prototype.setRemoteDescription =\n        function(description) {\n          var self = this;\n          var stream = new MediaStream();\n          var receiverList = [];\n          var sections = SDPUtils.splitSections(description.sdp);\n          var sessionpart = sections.shift();\n          var isIceLite = SDPUtils.matchPrefix(sessionpart,\n              'a=ice-lite').length > 0;\n          this.usingBundle = SDPUtils.matchPrefix(sessionpart,\n              'a=group:BUNDLE ').length > 0;\n          sections.forEach(function(mediaSection, sdpMLineIndex) {\n            var lines = SDPUtils.splitLines(mediaSection);\n            var mline = lines[0].substr(2).split(' ');\n            var kind = mline[0];\n            var rejected = mline[1] === '0';\n            var direction = SDPUtils.getDirection(mediaSection, sessionpart);\n\n            var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:');\n            if (mid.length) {\n              mid = mid[0].substr(6);\n            } else {\n              mid = SDPUtils.generateIdentifier();\n            }\n\n            // Reject datachannels which are not implemented yet.\n            if (kind === 'application' && mline[2] === 'DTLS/SCTP') {\n              self.transceivers[sdpMLineIndex] = {\n                mid: mid,\n                isDatachannel: true\n              };\n              return;\n            }\n\n            var transceiver;\n            var iceGatherer;\n            var iceTransport;\n            var dtlsTransport;\n            var rtpSender;\n            var rtpReceiver;\n            var sendEncodingParameters;\n            var recvEncodingParameters;\n            var localCapabilities;\n\n            var track;\n            // FIXME: ensure the mediaSection has rtcp-mux set.\n            var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);\n            var remoteIceParameters;\n            var remoteDtlsParameters;\n            if (!rejected) {\n              remoteIceParameters = SDPUtils.getIceParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,\n                  sessionpart);\n              remoteDtlsParameters.role = 'client';\n            }\n            recvEncodingParameters =\n                SDPUtils.parseRtpEncodingParameters(mediaSection);\n\n            var cname;\n            // Gets the first SSRC. Note that with RTX there might be multiple\n            // SSRCs.\n            var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')\n                .map(function(line) {\n                  return SDPUtils.parseSsrcMedia(line);\n                })\n                .filter(function(obj) {\n                  return obj.attribute === 'cname';\n                })[0];\n            if (remoteSsrc) {\n              cname = remoteSsrc.value;\n            }\n\n            var isComplete = SDPUtils.matchPrefix(mediaSection,\n                'a=end-of-candidates', sessionpart).length > 0;\n            var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')\n                .map(function(cand) {\n                  return SDPUtils.parseCandidate(cand);\n                })\n                .filter(function(cand) {\n                  return cand.component === '1';\n                });\n            if (description.type === 'offer' && !rejected) {\n              var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n                iceGatherer: self.transceivers[0].iceGatherer,\n                iceTransport: self.transceivers[0].iceTransport,\n                dtlsTransport: self.transceivers[0].dtlsTransport\n              } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n              if (isComplete) {\n                transports.iceTransport.setRemoteCandidates(cands);\n              }\n\n              localCapabilities = RTCRtpReceiver.getCapabilities(kind);\n\n              // filter RTX until additional stuff needed for RTX is implemented\n              // in adapter.js\n              localCapabilities.codecs = localCapabilities.codecs.filter(\n                  function(codec) {\n                    return codec.name !== 'rtx';\n                  });\n\n              sendEncodingParameters = [{\n                ssrc: (2 * sdpMLineIndex + 2) * 1001\n              }];\n\n              rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport, kind);\n\n              track = rtpReceiver.track;\n              receiverList.push([track, rtpReceiver]);\n              // FIXME: not correct when there are multiple streams but that is\n              // not currently supported in this shim.\n              stream.addTrack(track);\n\n              // FIXME: look at direction.\n              if (self.localStreams.length > 0 &&\n                  self.localStreams[0].getTracks().length >= sdpMLineIndex) {\n                var localTrack;\n                if (kind === 'audio') {\n                  localTrack = self.localStreams[0].getAudioTracks()[0];\n                } else if (kind === 'video') {\n                  localTrack = self.localStreams[0].getVideoTracks()[0];\n                }\n                if (localTrack) {\n                  rtpSender = new RTCRtpSender(localTrack,\n                      transports.dtlsTransport);\n                }\n              }\n\n              self.transceivers[sdpMLineIndex] = {\n                iceGatherer: transports.iceGatherer,\n                iceTransport: transports.iceTransport,\n                dtlsTransport: transports.dtlsTransport,\n                localCapabilities: localCapabilities,\n                remoteCapabilities: remoteCapabilities,\n                rtpSender: rtpSender,\n                rtpReceiver: rtpReceiver,\n                kind: kind,\n                mid: mid,\n                cname: cname,\n                sendEncodingParameters: sendEncodingParameters,\n                recvEncodingParameters: recvEncodingParameters\n              };\n              // Start the RTCRtpReceiver now. The RTPSender is started in\n              // setLocalDescription.\n              self._transceive(self.transceivers[sdpMLineIndex],\n                  false,\n                  direction === 'sendrecv' || direction === 'sendonly');\n            } else if (description.type === 'answer' && !rejected) {\n              transceiver = self.transceivers[sdpMLineIndex];\n              iceGatherer = transceiver.iceGatherer;\n              iceTransport = transceiver.iceTransport;\n              dtlsTransport = transceiver.dtlsTransport;\n              rtpSender = transceiver.rtpSender;\n              rtpReceiver = transceiver.rtpReceiver;\n              sendEncodingParameters = transceiver.sendEncodingParameters;\n              localCapabilities = transceiver.localCapabilities;\n\n              self.transceivers[sdpMLineIndex].recvEncodingParameters =\n                  recvEncodingParameters;\n              self.transceivers[sdpMLineIndex].remoteCapabilities =\n                  remoteCapabilities;\n              self.transceivers[sdpMLineIndex].cname = cname;\n\n              if ((isIceLite || isComplete) && cands.length) {\n                iceTransport.setRemoteCandidates(cands);\n              }\n              if (!self.usingBundle || sdpMLineIndex === 0) {\n                iceTransport.start(iceGatherer, remoteIceParameters,\n                    'controlling');\n                dtlsTransport.start(remoteDtlsParameters);\n              }\n\n              self._transceive(transceiver,\n                  direction === 'sendrecv' || direction === 'recvonly',\n                  direction === 'sendrecv' || direction === 'sendonly');\n\n              if (rtpReceiver &&\n                  (direction === 'sendrecv' || direction === 'sendonly')) {\n                track = rtpReceiver.track;\n                receiverList.push([track, rtpReceiver]);\n                stream.addTrack(track);\n              } else {\n                // FIXME: actually the receiver should be created later.\n                delete transceiver.rtpReceiver;\n              }\n            }\n          });\n\n          this.remoteDescription = {\n            type: description.type,\n            sdp: description.sdp\n          };\n          switch (description.type) {\n            case 'offer':\n              this._updateSignalingState('have-remote-offer');\n              break;\n            case 'answer':\n              this._updateSignalingState('stable');\n              break;\n            default:\n              throw new TypeError('unsupported type \"' + description.type +\n                  '\"');\n          }\n          if (stream.getTracks().length) {\n            self.remoteStreams.push(stream);\n            window.setTimeout(function() {\n              var event = new Event('addstream');\n              event.stream = stream;\n              self.dispatchEvent(event);\n              if (self.onaddstream !== null) {\n                window.setTimeout(function() {\n                  self.onaddstream(event);\n                }, 0);\n              }\n\n              receiverList.forEach(function(item) {\n                var track = item[0];\n                var receiver = item[1];\n                var trackEvent = new Event('track');\n                trackEvent.track = track;\n                trackEvent.receiver = receiver;\n                trackEvent.streams = [stream];\n                self.dispatchEvent(event);\n                if (self.ontrack !== null) {\n                  window.setTimeout(function() {\n                    self.ontrack(trackEvent);\n                  }, 0);\n                }\n              });\n            }, 0);\n          }\n          if (arguments.length > 1 && typeof arguments[1] === 'function') {\n            window.setTimeout(arguments[1], 0);\n          }\n          return Promise.resolve();\n        };\n\n    window.RTCPeerConnection.prototype.close = function() {\n      this.transceivers.forEach(function(transceiver) {\n        /* not yet\n        if (transceiver.iceGatherer) {\n          transceiver.iceGatherer.close();\n        }\n        */\n        if (transceiver.iceTransport) {\n          transceiver.iceTransport.stop();\n        }\n        if (transceiver.dtlsTransport) {\n          transceiver.dtlsTransport.stop();\n        }\n        if (transceiver.rtpSender) {\n          transceiver.rtpSender.stop();\n        }\n        if (transceiver.rtpReceiver) {\n          transceiver.rtpReceiver.stop();\n        }\n      });\n      // FIXME: clean up tracks, local streams, remote streams, etc\n      this._updateSignalingState('closed');\n    };\n\n    // Update the signaling state.\n    window.RTCPeerConnection.prototype._updateSignalingState =\n        function(newState) {\n          this.signalingState = newState;\n          var event = new Event('signalingstatechange');\n          this.dispatchEvent(event);\n          if (this.onsignalingstatechange !== null) {\n            this.onsignalingstatechange(event);\n          }\n        };\n\n    // Determine whether to fire the negotiationneeded event.\n    window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded =\n        function() {\n          // Fire away (for now).\n          var event = new Event('negotiationneeded');\n          this.dispatchEvent(event);\n          if (this.onnegotiationneeded !== null) {\n            this.onnegotiationneeded(event);\n          }\n        };\n\n    // Update the connection state.\n    window.RTCPeerConnection.prototype._updateConnectionState = function() {\n      var self = this;\n      var newState;\n      var states = {\n        'new': 0,\n        closed: 0,\n        connecting: 0,\n        checking: 0,\n        connected: 0,\n        completed: 0,\n        failed: 0\n      };\n      this.transceivers.forEach(function(transceiver) {\n        states[transceiver.iceTransport.state]++;\n        states[transceiver.dtlsTransport.state]++;\n      });\n      // ICETransport.completed and connected are the same for this purpose.\n      states.connected += states.completed;\n\n      newState = 'new';\n      if (states.failed > 0) {\n        newState = 'failed';\n      } else if (states.connecting > 0 || states.checking > 0) {\n        newState = 'connecting';\n      } else if (states.disconnected > 0) {\n        newState = 'disconnected';\n      } else if (states.new > 0) {\n        newState = 'new';\n      } else if (states.connected > 0 || states.completed > 0) {\n        newState = 'connected';\n      }\n\n      if (newState !== self.iceConnectionState) {\n        self.iceConnectionState = newState;\n        var event = new Event('iceconnectionstatechange');\n        this.dispatchEvent(event);\n        if (this.oniceconnectionstatechange !== null) {\n          this.oniceconnectionstatechange(event);\n        }\n      }\n    };\n\n    window.RTCPeerConnection.prototype.createOffer = function() {\n      var self = this;\n      if (this._pendingOffer) {\n        throw new Error('createOffer called while there is a pending offer.');\n      }\n      var offerOptions;\n      if (arguments.length === 1 && typeof arguments[0] !== 'function') {\n        offerOptions = arguments[0];\n      } else if (arguments.length === 3) {\n        offerOptions = arguments[2];\n      }\n\n      var tracks = [];\n      var numAudioTracks = 0;\n      var numVideoTracks = 0;\n      // Default to sendrecv.\n      if (this.localStreams.length) {\n        numAudioTracks = this.localStreams[0].getAudioTracks().length;\n        numVideoTracks = this.localStreams[0].getVideoTracks().length;\n      }\n      // Determine number of audio and video tracks we need to send/recv.\n      if (offerOptions) {\n        // Reject Chrome legacy constraints.\n        if (offerOptions.mandatory || offerOptions.optional) {\n          throw new TypeError(\n              'Legacy mandatory/optional constraints not supported.');\n        }\n        if (offerOptions.offerToReceiveAudio !== undefined) {\n          numAudioTracks = offerOptions.offerToReceiveAudio;\n        }\n        if (offerOptions.offerToReceiveVideo !== undefined) {\n          numVideoTracks = offerOptions.offerToReceiveVideo;\n        }\n      }\n      if (this.localStreams.length) {\n        // Push local streams.\n        this.localStreams[0].getTracks().forEach(function(track) {\n          tracks.push({\n            kind: track.kind,\n            track: track,\n            wantReceive: track.kind === 'audio' ?\n                numAudioTracks > 0 : numVideoTracks > 0\n          });\n          if (track.kind === 'audio') {\n            numAudioTracks--;\n          } else if (track.kind === 'video') {\n            numVideoTracks--;\n          }\n        });\n      }\n      // Create M-lines for recvonly streams.\n      while (numAudioTracks > 0 || numVideoTracks > 0) {\n        if (numAudioTracks > 0) {\n          tracks.push({\n            kind: 'audio',\n            wantReceive: true\n          });\n          numAudioTracks--;\n        }\n        if (numVideoTracks > 0) {\n          tracks.push({\n            kind: 'video',\n            wantReceive: true\n          });\n          numVideoTracks--;\n        }\n      }\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      var transceivers = [];\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        // For each track, create an ice gatherer, ice transport,\n        // dtls transport, potentially rtpsender and rtpreceiver.\n        var track = mline.track;\n        var kind = mline.kind;\n        var mid = SDPUtils.generateIdentifier();\n\n        var transports = self.usingBundle && sdpMLineIndex > 0 ? {\n          iceGatherer: transceivers[0].iceGatherer,\n          iceTransport: transceivers[0].iceTransport,\n          dtlsTransport: transceivers[0].dtlsTransport\n        } : self._createIceAndDtlsTransports(mid, sdpMLineIndex);\n\n        var localCapabilities = RTCRtpSender.getCapabilities(kind);\n        // filter RTX until additional stuff needed for RTX is implemented\n        // in adapter.js\n        localCapabilities.codecs = localCapabilities.codecs.filter(\n            function(codec) {\n              return codec.name !== 'rtx';\n            });\n        localCapabilities.codecs.forEach(function(codec) {\n          // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552\n          // by adding level-asymmetry-allowed=1\n          if (codec.name === 'H264' &&\n              codec.parameters['level-asymmetry-allowed'] === undefined) {\n            codec.parameters['level-asymmetry-allowed'] = '1';\n          }\n        });\n\n        var rtpSender;\n        var rtpReceiver;\n\n        // generate an ssrc now, to be used later in rtpSender.send\n        var sendEncodingParameters = [{\n          ssrc: (2 * sdpMLineIndex + 1) * 1001\n        }];\n        if (track) {\n          rtpSender = new RTCRtpSender(track, transports.dtlsTransport);\n        }\n\n        if (mline.wantReceive) {\n          rtpReceiver = new RTCRtpReceiver(transports.dtlsTransport, kind);\n        }\n\n        transceivers[sdpMLineIndex] = {\n          iceGatherer: transports.iceGatherer,\n          iceTransport: transports.iceTransport,\n          dtlsTransport: transports.dtlsTransport,\n          localCapabilities: localCapabilities,\n          remoteCapabilities: null,\n          rtpSender: rtpSender,\n          rtpReceiver: rtpReceiver,\n          kind: kind,\n          mid: mid,\n          sendEncodingParameters: sendEncodingParameters,\n          recvEncodingParameters: null\n        };\n      });\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      tracks.forEach(function(mline, sdpMLineIndex) {\n        var transceiver = transceivers[sdpMLineIndex];\n        sdp += SDPUtils.writeMediaSection(transceiver,\n            transceiver.localCapabilities, 'offer', self.localStreams[0]);\n      });\n\n      this._pendingOffer = transceivers;\n      var desc = new RTCSessionDescription({\n        type: 'offer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.createAnswer = function() {\n      var self = this;\n\n      var sdp = SDPUtils.writeSessionBoilerplate();\n      if (this.usingBundle) {\n        sdp += 'a=group:BUNDLE ' + this.transceivers.map(function(t) {\n          return t.mid;\n        }).join(' ') + '\\r\\n';\n      }\n      this.transceivers.forEach(function(transceiver) {\n        if (transceiver.isDatachannel) {\n          sdp += 'm=application 0 DTLS/SCTP 5000\\r\\n' +\n              'c=IN IP4 0.0.0.0\\r\\n' +\n              'a=mid:' + transceiver.mid + '\\r\\n';\n          return;\n        }\n        // Calculate intersection of capabilities.\n        var commonCapabilities = self._getCommonCapabilities(\n            transceiver.localCapabilities,\n            transceiver.remoteCapabilities);\n\n        sdp += SDPUtils.writeMediaSection(transceiver, commonCapabilities,\n            'answer', self.localStreams[0]);\n      });\n\n      var desc = new RTCSessionDescription({\n        type: 'answer',\n        sdp: sdp\n      });\n      if (arguments.length && typeof arguments[0] === 'function') {\n        window.setTimeout(arguments[0], 0, desc);\n      }\n      return Promise.resolve(desc);\n    };\n\n    window.RTCPeerConnection.prototype.addIceCandidate = function(candidate) {\n      if (!candidate) {\n        this.transceivers.forEach(function(transceiver) {\n          transceiver.iceTransport.addRemoteCandidate({});\n        });\n      } else {\n        var mLineIndex = candidate.sdpMLineIndex;\n        if (candidate.sdpMid) {\n          for (var i = 0; i < this.transceivers.length; i++) {\n            if (this.transceivers[i].mid === candidate.sdpMid) {\n              mLineIndex = i;\n              break;\n            }\n          }\n        }\n        var transceiver = this.transceivers[mLineIndex];\n        if (transceiver) {\n          var cand = Object.keys(candidate.candidate).length > 0 ?\n              SDPUtils.parseCandidate(candidate.candidate) : {};\n          // Ignore Chrome's invalid candidates since Edge does not like them.\n          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {\n            return;\n          }\n          // Ignore RTCP candidates, we assume RTCP-MUX.\n          if (cand.component !== '1') {\n            return;\n          }\n          // A dirty hack to make samples work.\n          if (cand.type === 'endOfCandidates') {\n            cand = {};\n          }\n          transceiver.iceTransport.addRemoteCandidate(cand);\n\n          // update the remoteDescription.\n          var sections = SDPUtils.splitSections(this.remoteDescription.sdp);\n          sections[mLineIndex + 1] += (cand.type ? candidate.candidate.trim()\n              : 'a=end-of-candidates') + '\\r\\n';\n          this.remoteDescription.sdp = sections.join('');\n        }\n      }\n      if (arguments.length > 1 && typeof arguments[1] === 'function') {\n        window.setTimeout(arguments[1], 0);\n      }\n      return Promise.resolve();\n    };\n\n    window.RTCPeerConnection.prototype.getStats = function() {\n      var promises = [];\n      this.transceivers.forEach(function(transceiver) {\n        ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',\n            'dtlsTransport'].forEach(function(method) {\n              if (transceiver[method]) {\n                promises.push(transceiver[method].getStats());\n              }\n            });\n      });\n      var cb = arguments.length > 1 && typeof arguments[1] === 'function' &&\n          arguments[1];\n      return new Promise(function(resolve) {\n        // shim getStats with maplike support\n        var results = new Map();\n        Promise.all(promises).then(function(res) {\n          res.forEach(function(result) {\n            Object.keys(result).forEach(function(id) {\n              results.set(id, result[id]);\n              results[id] = result[id];\n            });\n          });\n          if (cb) {\n            window.setTimeout(cb, 0, results);\n          }\n          resolve(results);\n        });\n      });\n    };\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimPeerConnection: edgeShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n},{\"../utils\":10,\"./getusermedia\":6,\"sdp\":1}],6:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name;\n      }\n    };\n  };\n\n  // getUserMedia error shim.\n  var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n      bind(navigator.mediaDevices);\n  navigator.mediaDevices.getUserMedia = function(c) {\n    return origGetUserMedia(c).catch(function(e) {\n      return Promise.reject(shimError_(e));\n    });\n  };\n};\n\n},{}],7:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\nvar browserDetails = require('../utils').browserDetails;\n\nvar firefoxShim = {\n  shimOnTrack: function() {\n    if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in\n        window.RTCPeerConnection.prototype)) {\n      Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n        get: function() {\n          return this._ontrack;\n        },\n        set: function(f) {\n          if (this._ontrack) {\n            this.removeEventListener('track', this._ontrack);\n            this.removeEventListener('addstream', this._ontrackpoly);\n          }\n          this.addEventListener('track', this._ontrack = f);\n          this.addEventListener('addstream', this._ontrackpoly = function(e) {\n            e.stream.getTracks().forEach(function(track) {\n              var event = new Event('track');\n              event.track = track;\n              event.receiver = {track: track};\n              event.streams = [e.stream];\n              this.dispatchEvent(event);\n            }.bind(this));\n          }.bind(this));\n        }\n      });\n    }\n  },\n\n  shimSourceObject: function() {\n    // Firefox has supported mozSrcObject since FF22, unprefixed in 42.\n    if (typeof window === 'object') {\n      if (window.HTMLMediaElement &&\n        !('srcObject' in window.HTMLMediaElement.prototype)) {\n        // Shim the srcObject property, once, when HTMLMediaElement is found.\n        Object.defineProperty(window.HTMLMediaElement.prototype, 'srcObject', {\n          get: function() {\n            return this.mozSrcObject;\n          },\n          set: function(stream) {\n            this.mozSrcObject = stream;\n          }\n        });\n      }\n    }\n  },\n\n  shimPeerConnection: function() {\n    if (typeof window !== 'object' || !(window.RTCPeerConnection ||\n        window.mozRTCPeerConnection)) {\n      return; // probably media.peerconnection.enabled=false in about:config\n    }\n    // The RTCPeerConnection object.\n    if (!window.RTCPeerConnection) {\n      window.RTCPeerConnection = function(pcConfig, pcConstraints) {\n        if (browserDetails.version < 38) {\n          // .urls is not supported in FF < 38.\n          // create RTCIceServers with a single url.\n          if (pcConfig && pcConfig.iceServers) {\n            var newIceServers = [];\n            for (var i = 0; i < pcConfig.iceServers.length; i++) {\n              var server = pcConfig.iceServers[i];\n              if (server.hasOwnProperty('urls')) {\n                for (var j = 0; j < server.urls.length; j++) {\n                  var newServer = {\n                    url: server.urls[j]\n                  };\n                  if (server.urls[j].indexOf('turn') === 0) {\n                    newServer.username = server.username;\n                    newServer.credential = server.credential;\n                  }\n                  newIceServers.push(newServer);\n                }\n              } else {\n                newIceServers.push(pcConfig.iceServers[i]);\n              }\n            }\n            pcConfig.iceServers = newIceServers;\n          }\n        }\n        return new mozRTCPeerConnection(pcConfig, pcConstraints);\n      };\n      window.RTCPeerConnection.prototype = mozRTCPeerConnection.prototype;\n\n      // wrap static methods. Currently just generateCertificate.\n      if (mozRTCPeerConnection.generateCertificate) {\n        Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n          get: function() {\n            return mozRTCPeerConnection.generateCertificate;\n          }\n        });\n      }\n\n      window.RTCSessionDescription = mozRTCSessionDescription;\n      window.RTCIceCandidate = mozRTCIceCandidate;\n    }\n\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']\n        .forEach(function(method) {\n          var nativeMethod = RTCPeerConnection.prototype[method];\n          RTCPeerConnection.prototype[method] = function() {\n            arguments[0] = new ((method === 'addIceCandidate') ?\n                RTCIceCandidate : RTCSessionDescription)(arguments[0]);\n            return nativeMethod.apply(this, arguments);\n          };\n        });\n\n    // support for addIceCandidate(null or undefined)\n    var nativeAddIceCandidate =\n        RTCPeerConnection.prototype.addIceCandidate;\n    RTCPeerConnection.prototype.addIceCandidate = function() {\n      if (!arguments[0]) {\n        if (arguments[1]) {\n          arguments[1].apply(null);\n        }\n        return Promise.resolve();\n      }\n      return nativeAddIceCandidate.apply(this, arguments);\n    };\n\n    if (browserDetails.version < 48) {\n      // shim getStats with maplike support\n      var makeMapStats = function(stats) {\n        var map = new Map();\n        Object.keys(stats).forEach(function(key) {\n          map.set(key, stats[key]);\n          map[key] = stats[key];\n        });\n        return map;\n      };\n\n      var nativeGetStats = RTCPeerConnection.prototype.getStats;\n      RTCPeerConnection.prototype.getStats = function(selector, onSucc, onErr) {\n        return nativeGetStats.apply(this, [selector || null])\n          .then(function(stats) {\n            return makeMapStats(stats);\n          })\n          .then(onSucc, onErr);\n      };\n    }\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimOnTrack: firefoxShim.shimOnTrack,\n  shimSourceObject: firefoxShim.shimSourceObject,\n  shimPeerConnection: firefoxShim.shimPeerConnection,\n  shimGetUserMedia: require('./getusermedia')\n};\n\n},{\"../utils\":10,\"./getusermedia\":8}],8:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\nvar logging = require('../utils').log;\nvar browserDetails = require('../utils').browserDetails;\n\n// Expose public methods.\nmodule.exports = function() {\n  var shimError_ = function(e) {\n    return {\n      name: {\n        SecurityError: 'NotAllowedError',\n        PermissionDeniedError: 'NotAllowedError'\n      }[e.name] || e.name,\n      message: {\n        'The operation is insecure.': 'The request is not allowed by the ' +\n        'user agent or the platform in the current context.'\n      }[e.message] || e.message,\n      constraint: e.constraint,\n      toString: function() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  // getUserMedia constraints shim.\n  var getUserMedia_ = function(constraints, onSuccess, onError) {\n    var constraintsToFF37_ = function(c) {\n      if (typeof c !== 'object' || c.require) {\n        return c;\n      }\n      var require = [];\n      Object.keys(c).forEach(function(key) {\n        if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n          return;\n        }\n        var r = c[key] = (typeof c[key] === 'object') ?\n            c[key] : {ideal: c[key]};\n        if (r.min !== undefined ||\n            r.max !== undefined || r.exact !== undefined) {\n          require.push(key);\n        }\n        if (r.exact !== undefined) {\n          if (typeof r.exact === 'number') {\n            r. min = r.max = r.exact;\n          } else {\n            c[key] = r.exact;\n          }\n          delete r.exact;\n        }\n        if (r.ideal !== undefined) {\n          c.advanced = c.advanced || [];\n          var oc = {};\n          if (typeof r.ideal === 'number') {\n            oc[key] = {min: r.ideal, max: r.ideal};\n          } else {\n            oc[key] = r.ideal;\n          }\n          c.advanced.push(oc);\n          delete r.ideal;\n          if (!Object.keys(r).length) {\n            delete c[key];\n          }\n        }\n      });\n      if (require.length) {\n        c.require = require;\n      }\n      return c;\n    };\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (browserDetails.version < 38) {\n      logging('spec: ' + JSON.stringify(constraints));\n      if (constraints.audio) {\n        constraints.audio = constraintsToFF37_(constraints.audio);\n      }\n      if (constraints.video) {\n        constraints.video = constraintsToFF37_(constraints.video);\n      }\n      logging('ff37: ' + JSON.stringify(constraints));\n    }\n    return navigator.mozGetUserMedia(constraints, onSuccess, function(e) {\n      onError(shimError_(e));\n    });\n  };\n\n  // Returns the result of getUserMedia as a Promise.\n  var getUserMediaPromise_ = function(constraints) {\n    return new Promise(function(resolve, reject) {\n      getUserMedia_(constraints, resolve, reject);\n    });\n  };\n\n  // Shim for mediaDevices on older versions.\n  if (!navigator.mediaDevices) {\n    navigator.mediaDevices = {getUserMedia: getUserMediaPromise_,\n      addEventListener: function() { },\n      removeEventListener: function() { }\n    };\n  }\n  navigator.mediaDevices.enumerateDevices =\n      navigator.mediaDevices.enumerateDevices || function() {\n        return new Promise(function(resolve) {\n          var infos = [\n            {kind: 'audioinput', deviceId: 'default', label: '', groupId: ''},\n            {kind: 'videoinput', deviceId: 'default', label: '', groupId: ''}\n          ];\n          resolve(infos);\n        });\n      };\n\n  if (browserDetails.version < 41) {\n    // Work around http://bugzil.la/1169665\n    var orgEnumerateDevices =\n        navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);\n    navigator.mediaDevices.enumerateDevices = function() {\n      return orgEnumerateDevices().then(undefined, function(e) {\n        if (e.name === 'NotFoundError') {\n          return [];\n        }\n        throw e;\n      });\n    };\n  }\n  if (browserDetails.version < 49) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.\n        bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function(c) {\n      return origGetUserMedia(c).then(function(stream) {\n        // Work around https://bugzil.la/802326\n        if (c.audio && !stream.getAudioTracks().length ||\n            c.video && !stream.getVideoTracks().length) {\n          stream.getTracks().forEach(function(track) {\n            track.stop();\n          });\n          throw new DOMException('The object can not be found here.',\n                                 'NotFoundError');\n        }\n        return stream;\n      }, function(e) {\n        return Promise.reject(shimError_(e));\n      });\n    };\n  }\n  navigator.getUserMedia = function(constraints, onSuccess, onError) {\n    if (browserDetails.version < 44) {\n      return getUserMedia_(constraints, onSuccess, onError);\n    }\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    console.warn('navigator.getUserMedia has been replaced by ' +\n                 'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n};\n\n},{\"../utils\":10}],9:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n\nvar safariShim = {\n  // TODO: DrAlex, should be here, double check against LayoutTests\n  // shimOnTrack: function() { },\n\n  // TODO: once the back-end for the mac port is done, add.\n  // TODO: check for webkitGTK+\n  // shimPeerConnection: function() { },\n\n  shimGetUserMedia: function() {\n    navigator.getUserMedia = navigator.webkitGetUserMedia;\n  }\n};\n\n// Expose public methods.\nmodule.exports = {\n  shimGetUserMedia: safariShim.shimGetUserMedia\n  // TODO\n  // shimOnTrack: safariShim.shimOnTrack,\n  // shimPeerConnection: safariShim.shimPeerConnection\n};\n\n},{}],10:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n /* eslint-env node */\n\n\nvar logDisabled_ = true;\n\n// Utility methods.\nvar utils = {\n  disableLog: function(bool) {\n    if (typeof bool !== 'boolean') {\n      return new Error('Argument type: ' + typeof bool +\n          '. Please use a boolean.');\n    }\n    logDisabled_ = bool;\n    return (bool) ? 'adapter.js logging disabled' :\n        'adapter.js logging enabled';\n  },\n\n  log: function() {\n    if (typeof window === 'object') {\n      if (logDisabled_) {\n        return;\n      }\n      if (typeof console !== 'undefined' && typeof console.log === 'function') {\n        console.log.apply(console, arguments);\n      }\n    }\n  },\n\n  /**\n   * Extract browser version out of the provided user agent string.\n   *\n   * @param {!string} uastring userAgent string.\n   * @param {!string} expr Regular expression used as match criteria.\n   * @param {!number} pos position in the version string to be returned.\n   * @return {!number} browser version.\n   */\n  extractVersion: function(uastring, expr, pos) {\n    var match = uastring.match(expr);\n    return match && match.length >= pos && parseInt(match[pos], 10);\n  },\n\n  /**\n   * Browser detector.\n   *\n   * @return {object} result containing browser and version\n   *     properties.\n   */\n  detectBrowser: function() {\n    // Returned result object.\n    var result = {};\n    result.browser = null;\n    result.version = null;\n\n    // Fail early if it's not a browser\n    if (typeof window === 'undefined' || !window.navigator) {\n      result.browser = 'Not a browser.';\n      return result;\n    }\n\n    // Firefox.\n    if (navigator.mozGetUserMedia) {\n      result.browser = 'firefox';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Firefox\\/([0-9]+)\\./, 1);\n\n    // all webkit-based browsers\n    } else if (navigator.webkitGetUserMedia) {\n      // Chrome, Chromium, Webview, Opera, all use the chrome shim for now\n      if (window.webkitRTCPeerConnection) {\n        result.browser = 'chrome';\n        result.version = this.extractVersion(navigator.userAgent,\n          /Chrom(e|ium)\\/([0-9]+)\\./, 2);\n\n      // Safari or unknown webkit-based\n      // for the time being Safari has support for MediaStreams but not webRTC\n      } else {\n        // Safari UA substrings of interest for reference:\n        // - webkit version:           AppleWebKit/602.1.25 (also used in Op,Cr)\n        // - safari UI version:        Version/9.0.3 (unique to Safari)\n        // - safari UI webkit version: Safari/601.4.4 (also used in Op,Cr)\n        //\n        // if the webkit version and safari UI webkit versions are equals,\n        // ... this is a stable version.\n        //\n        // only the internal webkit version is important today to know if\n        // media streams are supported\n        //\n        if (navigator.userAgent.match(/Version\\/(\\d+).(\\d+)/)) {\n          result.browser = 'safari';\n          result.version = this.extractVersion(navigator.userAgent,\n            /AppleWebKit\\/([0-9]+)\\./, 1);\n\n        // unknown webkit-based browser\n        } else {\n          result.browser = 'Unsupported webkit-based browser ' +\n              'with GUM support but no WebRTC support.';\n          return result;\n        }\n      }\n\n    // Edge.\n    } else if (navigator.mediaDevices &&\n        navigator.userAgent.match(/Edge\\/(\\d+).(\\d+)$/)) {\n      result.browser = 'edge';\n      result.version = this.extractVersion(navigator.userAgent,\n          /Edge\\/(\\d+).(\\d+)$/, 2);\n\n    // Default fallthrough: not supported.\n    } else {\n      result.browser = 'Not a supported browser.';\n      return result;\n    }\n\n    return result;\n  }\n};\n\n// Export.\nmodule.exports = {\n  log: utils.log,\n  disableLog: utils.disableLog,\n  browserDetails: utils.detectBrowser(),\n  extractVersion: utils.extractVersion\n};\n\n},{}]},{},[2])(2)\n});\n/* global define, module, require, console, MediaStreamTrack, createIceServer, RTCIceCandidate, RTCPeerConnection, RTCSessionDescription */\n/*!\n  Script: easyrtc.js\n\n    Provides client side support for the EasyRTC framework.\n    See the easyrtc_client_api.md and easyrtc_client_tutorial.md\n    for more details.\n\n  About: License\n\n    Copyright (c) 2016, Priologic Software Inc.\n    All rights reserved.\n\n    Redistribution and use in source and binary forms, with or without\n    modification, are permitted provided that the following conditions are met:\n\n        * Redistributions of source code must retain the above copyright notice,\n          this list of conditions and the following disclaimer.\n        * Redistributions in binary form must reproduce the above copyright\n          notice, this list of conditions and the following disclaimer in the\n          documentation and/or other materials provided with the distribution.\n\n    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n    ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n    POSSIBILITY OF SUCH DAMAGE.\n*/\n\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        //RequireJS (AMD) build system\n        define('easyrtc',['easyrtc_lang', 'webrtc-adapter', 'socket.io-client'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        //CommonJS build system\n        module.exports = factory(require('easyrtc_lang'), require('webrtc-adapter'), require('socket.io-cient'));\n    } else {\n        //Vanilla JS, ensure dependencies are loaded correctly\n        if (typeof window.io === 'undefined' || !window.io) {\n            throw new Error(\"easyrtc requires socket.io\");\n        }\n        root.easyrtc = factory(window.easyrtc_lang, window.adapter, window.io);\n  }\n}(this, function (easyrtc_lang, adapter, io, undefined) {\n\n\n/**\n * @class Easyrtc.\n *\n * @returns {Easyrtc} the new easyrtc instance.\n *\n * @constructs Easyrtc\n */\nvar Easyrtc = function() {\n\n    var self = this;\n\n    function logDebug (message, obj) {\n        if (self.debugPrinter) {\n            self.debugPrinter(message, obj);\n        }\n    }\n\n    function isEmptyObj(obj) {\n        if (obj === null || obj === undefined) {\n            return true;\n        }\n        var key;\n        for (key in obj) {\n            if (obj.hasOwnProperty(key)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /** @private */\n    var autoInitUserMedia = true;\n    /** @private */\n    var sdpLocalFilter = null;\n    /** @private */\n    var sdpRemoteFilter = null;\n    /** @private */\n    var iceCandidateFilter = null;\n    /** @private */\n    var iceConnectionStateChangeListener = null;\n    var signalingStateChangeListener = null;\n    /** @private */\n    var connectionOptions =  {\n        'connect timeout': 10000,\n        'force new connection': true\n    };\n\n    /** @private */\n    //\n    // this function replaces the deprecated MediaStream.stop method\n    //\n    function stopStream(stream) {\n       var i;\n       var tracks;\n\n       tracks = stream.getAudioTracks();\n       for( i = 0; i < tracks.length; i++ ) {\n           try {\n             tracks[i].stop();\n           } catch(err){}\n       }\n       tracks = stream.getVideoTracks();\n       for( i = 0; i < tracks.length; i++ ) {\n           try {\n             tracks[i].stop();\n           } catch(err){}\n       }\n\n       if (typeof stream.stop === 'function') {\n           try {\n             stream.stop();\n           } catch(err){}\n       }\n    }\n\n    /**\n     * Sets functions which filter sdp records before calling setLocalDescription or setRemoteDescription.\n     * This is advanced functionality which can break things, easily. See the easyrtc_rates.js file for a\n     * filter builder.\n     * @param {Function} localFilter a function that takes an sdp string and returns an sdp string.\n     * @param {Function} remoteFilter a function that takes an sdp string and returns an sdp string.\n     */\n    this.setSdpFilters = function(localFilter, remoteFilter) {\n        sdpLocalFilter = localFilter;\n        sdpRemoteFilter = remoteFilter;\n    };\n\n    /**\n     * Sets a function to warn about the peer connection closing.\n     *  @param {Function} handler: a function that gets an easyrtcid as an argument.\n     */\n    this.setPeerClosedListener = function( handler ) {\n       this.onPeerClosed = handler;\n    };\n\n    /**\n     * Sets a function to warn about the peer connection open.\n     *  @param {Function} handler: a function that gets an easyrtcid as an argument.\n     */\n    this.setPeerOpenListener = function( handler ) {\n       this.onPeerOpen = handler;\n    };\n\n    /**\n     * Sets a function to receive warnings about the peer connection\n     * failing. The peer connection may recover by itself.\n     *  @param {Function} failingHandler: a function that gets an easyrtcid as an argument.\n     *  @param {Function} recoveredHandler: a function that gets an easyrtcid as an argument.\n     */\n    this.setPeerFailingListener = function( failingHandler, recoveredHandler ) {\n       this.onPeerFailing = failingHandler;\n       this.onPeerRecovered = recoveredHandler;\n    };\n\n    /**\n     * Sets a function which filters IceCandidate records being sent or received.\n     *\n     * Candidate records can be received while they are being generated locally (before being\n     * sent to a peer), and after they are received by the peer. The filter receives two arguments, the candidate record and a boolean\n     * flag that is true for a candidate being received from another peer,\n     * and false for a candidate that was generated locally. The candidate record has the form:\n     *  {type: 'candidate', label: sdpMLineIndex, id: sdpMid, candidate: candidateString}\n     * The function should return one of the following: the input candidate record, a modified candidate record, or null (indicating that the\n     * candidate should be discarded).\n     * @param {Function} filter\n     */\n    this.setIceCandidateFilter = function(filter) {\n        iceCandidateFilter = filter;\n    };\n\n    /**\n     * Sets a function that listens on IceConnectionStateChange events.\n     *\n     * During ICE negotiation the peer connection fires the iceconnectionstatechange event.\n     * It is sometimes useful for the application to learn about these changes, especially if the ICE connection fails.\n     * The function should accept three parameters: the easyrtc id of the peer, the iceconnectionstatechange event target and the iceconnectionstate.\n     * @param {Function} listener\n     */\n    this.setIceConnectionStateChangeListener = function(listener) {\n       iceConnectionStateChangeListener = listener;\n    };\n\n    /**\n     * Sets a function that listens on SignalingStateChange events.\n     *\n     * During ICE negotiation the peer connection fires the signalingstatechange event.\n     * The function should accept three parameters: the easyrtc id of the peer, the signalingstatechange event target and the signalingstate.\n     * @param {Function} listener\n     */\n    this.setSignalingStateChangeListener = function(listener) {\n       signalingStateChangeListener = listener;\n    };\n\n    /**\n     * Controls whether a default local media stream should be acquired automatically during calls and accepts\n     * if a list of streamNames is not supplied. The default is true, which mimics the behaviour of earlier releases\n     * that didn't support multiple streams. This function should be called before easyrtc.call or before entering an\n     * accept  callback.\n     * @param {Boolean} flag true to allocate a default local media stream.\n     */\n    this.setAutoInitUserMedia = function(flag) {\n        autoInitUserMedia = !!flag;\n    };\n\n    /**\n     * This function performs a printf like formatting. It actually takes an unlimited\n     * number of arguments, the declared arguments arg1, arg2, arg3 are present just for\n     * documentation purposes.\n     * @param {String} format A string like \"abcd{1}efg{2}hij{1}.\"\n     * @param {String} arg1 The value that replaces {1}\n     * @param {String} arg2 The value that replaces {2}\n     * @param {String} arg3 The value that replaces {3}\n     * @returns {String} the formatted string.\n     */\n    this.format = function(format, arg1, arg2, arg3) {\n        var formatted = arguments[0];\n        for (var i = 1; i < arguments.length; i++) {\n            var regexp = new RegExp('\\\\{' + (i - 1) + '\\\\}', 'gi');\n            formatted = formatted.replace(regexp, arguments[i]);\n        }\n        return formatted;\n    };\n\n    /**\n     * This function checks if a socket is actually connected.\n     * @private\n     * @param {Object} socket a socket.io socket.\n     * @return true if the socket exists and is connected, false otherwise.\n    */\n    function isSocketConnected(socket) {\n       return socket && (\n            (socket.socket && socket.socket.connected) || socket.connected\n        );\n    }\n\n    /** @private */\n    //\n    // Maps a key to a language specific string using the easyrtc_lang map.\n    // Defaults to the key if the key can not be found, but outputs a warning in that case.\n    // This function is only used internally by easyrtc.js\n    //\n    var haveAudioVideo = {\n        audio: false,\n        video: false\n    };\n\n    /**\n     * @private\n     * @param {String} key\n     */\n    this.getConstantString = function(key) {\n        if (easyrtc_lang[key]) {\n            return easyrtc_lang[key];\n        }\n        else {\n            self.showError(self.errCodes.DEVELOPER_ERR, \"Could not find key='\" + key + \"' in easyrtc_lang\");\n            return key;\n        }\n    };\n\n    /** @private */\n    //\n    // this is a list of the events supported by the generalized event listener.\n    //\n    var allowedEvents = {\n        roomOccupant: true,  // this receives the list of everybody in any room you belong to\n        roomOccupants: true  // this receives a {roomName:..., occupants:...} value for a specific room\n    };\n\n    /** @private */\n    //\n    // A map of eventListeners. The key is the event type.\n    //\n    var eventListeners = {};\n\n    /**\n     * This function checks if an attempt was made to add an event listener or\n     * or emit an unlisted event, since such is typically a typo.\n     * @private\n     * @param {String} eventName\n     * @param {String} callingFunction the name of the calling function.\n     */\n    function event(eventName, callingFunction) {\n        if (typeof eventName !== 'string') {\n            self.showError(self.errCodes.DEVELOPER_ERR, callingFunction + \" called without a string as the first argument\");\n            throw \"developer error\";\n        }\n        if (!allowedEvents[eventName]) {\n            self.showError(self.errCodes.DEVELOPER_ERR, callingFunction + \" called with a bad event name = \" + eventName);\n            throw \"developer error\";\n        }\n    }\n\n    /**\n     * Adds an event listener for a particular type of event.\n     * Currently the only eventName supported is \"roomOccupant\".\n     * @param {String} eventName the type of the event\n     * @param {Function} eventListener the function that expects the event.\n     * The eventListener gets called with the eventName as it's first argument, and the event\n     * data as it's second argument.\n     * @returns {void}\n     */\n    this.addEventListener = function(eventName, eventListener) {\n        event(eventName, \"addEventListener\");\n        if (typeof eventListener !== 'function') {\n            self.showError(self.errCodes.DEVELOPER_ERR, \"addEventListener called with a non-function for second argument\");\n            throw \"developer error\";\n        }\n        //\n        // remove the event listener if it's already present so we don't end up with two copies\n        //\n        self.removeEventListener(eventName, eventListener);\n        if (!eventListeners[eventName]) {\n            eventListeners[eventName] = [];\n        }\n        eventListeners[eventName][eventListeners[eventName].length] = eventListener;\n    };\n\n    /**\n     * Removes an event listener.\n     * @param {String} eventName\n     * @param {Function} eventListener\n     */\n    this.removeEventListener = function(eventName, eventListener) {\n        event(eventName, \"removeEventListener\");\n        var listeners = eventListeners[eventName];\n        var i = 0;\n        if (listeners) {\n            for (i = 0; i < listeners.length; i++) {\n                if (listeners[i] === eventListener) {\n                    if (i < listeners.length - 1) {\n                        listeners[i] = listeners[listeners.length - 1];\n                    }\n                    listeners.length = listeners.length - 1;\n                }\n            }\n        }\n    };\n\n    /**\n     * Emits an event, or in other words, calls all the eventListeners for a\n     * particular event.\n     * @param {String} eventName\n     * @param {Object} eventData\n     */\n    this.emitEvent = function(eventName, eventData) {\n        event(eventName, \"emitEvent\");\n        var listeners = eventListeners[eventName];\n        var i = 0;\n        if (listeners) {\n            for (i = 0; i < listeners.length; i++) {\n                listeners[i](eventName, eventData);\n            }\n        }\n    };\n\n    /**\n     * Error codes that the EasyRTC will use in the errorCode field of error object passed\n     * to error handler set by easyrtc.setOnError. The error codes are short printable strings.\n     * @type Object\n     */\n    this.errCodes = {\n        BAD_NAME: \"BAD_NAME\", // a user name wasn't of the desired form\n        CALL_ERR: \"CALL_ERR\", // something went wrong creating the peer connection\n        DEVELOPER_ERR: \"DEVELOPER_ERR\", // the developer using the EasyRTC library made a mistake\n        SYSTEM_ERR: \"SYSTEM_ERR\", // probably an error related to the network\n        CONNECT_ERR: \"CONNECT_ERR\", // error occurred when trying to create a connection\n        MEDIA_ERR: \"MEDIA_ERR\", // unable to get the local media\n        MEDIA_WARNING: \"MEDIA_WARNING\", // didn't get the desired resolution\n        INTERNAL_ERR: \"INTERNAL_ERR\",\n        PEER_GONE: \"PEER_GONE\", // peer doesn't exist\n        ALREADY_CONNECTED: \"ALREADY_CONNECTED\",\n        BAD_CREDENTIAL: \"BAD_CREDENTIAL\",\n        ICECANDIDATE_ERR: \"ICECANDIDATE_ERR\",\n        NOVIABLEICE: \"NOVIABLEICE\",\n        SIGNAL_ERR: \"SIGNAL_ERR\"\n    };\n\n    this.apiVersion = \"1.1.0\";\n\n    /** Most basic message acknowledgment object */\n    this.ackMessage = {msgType: \"ack\"};\n\n    /** Regular expression pattern for user ids. This will need modification to support non US character sets */\n    this.usernameRegExp = /^(.){1,64}$/;\n\n    /** Default cookieId name */\n    this.cookieId = \"easyrtcsid\";\n\n    /** @private */\n    var username = null;\n\n    /** Flag to indicate that user is currently logging out */\n    this.loggingOut = false;\n\n    /** @private */\n    this.disconnecting = false;\n\n    /** @private */\n    //\n    // A map of ids to local media streams.\n    //\n    var namedLocalMediaStreams = {};\n\n    /** @private */\n    var sessionFields = [];\n\n    /** @private */\n    var receivedMediaConstraints = {};\n\n    /**\n     * Control whether the client requests audio from a peer during a call.\n     * Must be called before the call to have an effect.\n     * @param value - true to receive audio, false otherwise. The default is true.\n     */\n    this.enableAudioReceive = function(value) {\n        if (\n            adapter && adapter.browserDetails &&\n             (adapter.browserDetails.browser === \"firefox\" || adapter.browserDetails.browser === \"edge\")\n        ) {\n            receivedMediaConstraints.offerToReceiveAudio = value;\n        }\n        else {\n            receivedMediaConstraints.mandatory = receivedMediaConstraints.mandatory || {};\n            receivedMediaConstraints.mandatory.OfferToReceiveAudio = value;\n        }\n    };\n\n    /**\n     * Control whether the client requests video from a peer during a call.\n     * Must be called before the call to have an effect.\n     * @param value - true to receive video, false otherwise. The default is true.\n     */\n    this.enableVideoReceive = function(value) {\n        if (\n            adapter && adapter.browserDetails &&\n             (adapter.browserDetails.browser === \"firefox\" || adapter.browserDetails.browser === \"edge\")\n        ) {\n           receivedMediaConstraints.offerToReceiveVideo = value;\n        }\n        else {\n            receivedMediaConstraints.mandatory = receivedMediaConstraints.mandatory || {};\n            receivedMediaConstraints.mandatory.OfferToReceiveVideo = value;\n        }\n    };\n\n    // True by default\n    // TODO should not be true by default only for legacy\n    this.enableAudioReceive(true);\n    this.enableVideoReceive(true);\n\n    function getSourceList(callback, sourceType) {\n        navigator.mediaDevices.enumerateDevices().then(\n             function(values) {\n                var results = [];\n                for (var i = 0; i < values.length; i++) {\n                    var source = values[i];\n                    if (source.kind === sourceType) {\n                        source.id = source.deviceId; //backwards compatibility\n                        results.push(source);\n                    }\n                }\n                callback(results);\n             }\n          ).catch(\n            function(reason) {\n               logDebug(\"Unable to enumerate devices (\" + reason + \")\");\n            }\n        );\n    }\n\n    /**\n     * Sets the audio output device of a Video object. \n     * That is to say, this controls what speakers get the sound.\n     * In theory, this works on Chrome but probably doesn't work anywhere else yet.\n     * This code was cribbed from https://webrtc.github.io/samples/src/content/devices/multi/.\n     *  @param {Object} element an HTML5 video element\n     *  @param {String} sinkId a deviceid from getAudioSinkList\n     */\n    this.setAudioOutput = function(element, sinkId) {\n       if (typeof element.sinkId !== 'undefined') {\n          element.setSinkId(sinkId)\n          .then(function() {\n            logDebug('Success, audio output device attached: ' + sinkId + ' to ' +\n                'element with ' + element.title + ' as source.');\n          })\n          .catch(function(error) {\n            var errorMessage = error;\n            if (error.name === 'SecurityError') {\n              errorMessage = 'You need to use HTTPS for selecting audio output ' +\n                  'device: ' + error;\n            }\n            logDebug(errorMessage);\n          });\n       } else {\n          logDebug('Browser does not support output device selection.');\n       }\n    };\n\n    /**\n     * Gets a list of the available audio sinks (ie, speakers)\n     * @param {Function} callback receives list of {deviceId:String, groupId:String, label:String, kind:\"audio\"}\n     * @example  easyrtc.getAudioSinkList( function(list) {\n     *               var i;\n     *               for( i = 0; i < list.length; i++ ) {\n     *                   console.log(\"label=\" + list[i].label + \", id= \" + list[i].deviceId);\n     *               }\n     *          });\n     */\n    this.getAudioSinkList = function(callback){\n       getSourceList(callback, \"audiooutput\");\n    };\n    /**\n     * Gets a list of the available audio sources (ie, microphones)\n     * @param {Function} callback receives list of {deviceId:String, groupId:String, label:String, kind:\"audio\"}\n     * @example  easyrtc.getAudioSourceList( function(list) {\n     *               var i;\n     *               for( i = 0; i < list.length; i++ ) {\n     *                   console.log(\"label=\" + list[i].label + \", id= \" + list[i].deviceId);\n     *               }\n     *          });\n     */\n    this.getAudioSourceList = function(callback){\n       getSourceList(callback, \"audioinput\");\n    };\n\n    /**\n     * Gets a list of the available video sources (ie, cameras)\n     * @param {Function} callback receives list of {deviceId:String, groupId:String, label:String, kind:\"video\"}\n     * @example  easyrtc.getVideoSourceList( function(list) {\n     *               var i;\n     *               for( i = 0; i < list.length; i++ ) {\n     *                   console.log(\"label=\" + list[i].label + \", id= \" + list[i].deviceId);\n     *               }\n     *          });\n     */\n    this.getVideoSourceList = function(callback) {\n       getSourceList(callback, \"videoinput\");\n    };\n\n\n    /** @private */\n    var dataChannelName = \"dc\";\n    /** @private */\n    var oldConfig = {};\n    /** @private */\n    var offersPending = {};\n    /** @private */\n    var credential = null;\n\n    /** @private */\n    self.audioEnabled = true;\n    /** @private */\n    self.videoEnabled = true;\n    /** @private */\n    this.debugPrinter = null;\n    /** Your easyrtcid */\n    this.myEasyrtcid = \"\";\n\n    /** The height of the local media stream video in pixels. This field is set an indeterminate period\n     * of time after easyrtc.initMediaSource succeeds. Note: in actuality, the dimensions of a video stream\n     * change dynamically in response to external factors, you should check the videoWidth and videoHeight attributes\n     * of your video objects before you use them for pixel specific operations.\n     */\n    this.nativeVideoHeight = 0;\n\n    /** This constant determines how long (in bytes) a message can be before being split in chunks of that size.\n    * This is because there is a limitation of the length of the message you can send on the\n    * data channel between browsers.\n    */\n    this.maxP2PMessageLength = 1000;\n\n    /** The width of the local media stream video in pixels. This field is set an indeterminate period\n     * of time after easyrtc.initMediaSource succeeds.  Note: in actuality, the dimensions of a video stream\n     * change dynamically in response to external factors, you should check the videoWidth and videoHeight attributes\n     * of your video objects before you use them for pixel specific operations.\n     */\n    this.nativeVideoWidth = 0;\n\n    /** The rooms the user is in. This only applies to room oriented applications and is set at the same\n     * time a token is received.\n     */\n    this.roomJoin = {};\n\n    /** Checks if the supplied string is a valid user name (standard identifier rules)\n     * @param {String} name\n     * @return {Boolean} true for a valid user name\n     * @example\n     *    var name = document.getElementById('nameField').value;\n     *    if( !easyrtc.isNameValid(name)){\n     *        console.error(\"Bad user name\");\n     *    }\n     */\n    this.isNameValid = function(name) {\n        return self.usernameRegExp.test(name);\n    };\n\n    /**\n     * This function sets the name of the cookie that client side library will look for\n     * and transmit back to the server as it's easyrtcsid in the first message.\n     * @param {String} cookieId\n     */\n    this.setCookieId = function(cookieId) {\n        self.cookieId = cookieId;\n    };\n\n    /** @private */\n    this._desiredVideoProperties = {}; // default camera\n\n    /**\n     * Specify particular video source. Call this before you call easyrtc.initMediaSource().\n     * @param {String} videoSrcId is a id value from one of the entries fetched by getVideoSourceList. null for default.\n     * @example easyrtc.setVideoSource( videoSrcId);\n     */\n    this.setVideoSource = function(videoSrcId) {\n        self._desiredVideoProperties.videoSrcId = videoSrcId;\n        delete self._desiredVideoProperties.screenCapture;\n    };\n\n    /** @private */\n    this._desiredAudioProperties = {}; // default camera\n\n    /**\n     * Specify particular video source. Call this before you call easyrtc.initMediaSource().\n     * @param {String} audioSrcId is a id value from one of the entries fetched by getAudioSourceList. null for default.\n     * @example easyrtc.setAudioSource( audioSrcId);\n     */\n    this.setAudioSource = function(audioSrcId) {\n        self._desiredAudioProperties.audioSrcId = audioSrcId;\n    };\n\n    /** This function is used to set the dimensions of the local camera, usually to get HD.\n     *  If called, it must be called before calling easyrtc.initMediaSource (explicitly or implicitly).\n     *  assuming it is supported. If you don't pass any parameters, it will use default camera dimensions.\n     * @param {Number} width in pixels\n     * @param {Number} height in pixels\n     * @param {number} frameRate is optional\n     * @example\n     *    easyrtc.setVideoDims(1280,720);\n     * @example\n     *    easyrtc.setVideoDims();\n     */\n    this.setVideoDims = function(width, height, frameRate) {\n        self._desiredVideoProperties.width = width;\n        self._desiredVideoProperties.height = height;\n        if (frameRate !== undefined) {\n            self._desiredVideoProperties.frameRate = frameRate;\n        }\n    };\n\n    /** This function requests that screen capturing be used to provide the local media source\n     * rather than a webcam. If you have multiple screens, they are composited side by side.\n     * Note: this functionality is not supported by Firefox, has to be called before calling initMediaSource (or easyApp), we don't currently supply a way to\n     * turn it off (once it's on), only works if the website is hosted SSL (https), and the image quality is rather\n     * poor going across a network because it tries to transmit so much data. In short, screen sharing\n     * through WebRTC isn't worth using at this point, but it is provided here so people can try it out.\n     * @example\n     *    easyrtc.setScreenCapture();\n     * @deprecated: use easyrtc.initScreenCapture (same parameters as easyrtc.initMediaSource.\n     */\n    this.setScreenCapture = function(enableScreenCapture) {\n        self._desiredVideoProperties.screenCapture = (enableScreenCapture !== false);\n    };\n\n    /**\n     * Builds the constraint object passed to getUserMedia.\n     * @returns {Object} mediaConstraints\n     */\n    self.getUserMediaConstraints = function() {\n        var constraints = {};\n        //\n        // _presetMediaConstraints allow you to provide your own constraints to be used\n        // with initMediaSource.\n        //\n        if (self._presetMediaConstraints) {\n            constraints = self._presetMediaConstraints;\n            delete self._presetMediaConstraints;\n            return constraints;\n        }\n        else if (self._desiredVideoProperties.screenCapture) {\n            return {\n                video: {\n                    mandatory: {\n                        chromeMediaSource: 'screen',\n                        maxWidth: screen.width,\n                        maxHeight: screen.height,\n                        minWidth: screen.width,\n                        minHeight: screen.height,\n                        minFrameRate: 1,\n                        maxFrameRate: 5},\n                    optional: []\n                },\n                audio: false\n            };\n        }\n        else if (!self.videoEnabled) {\n            constraints.video = false;\n        }\n        else {\n\n            // Tested Firefox 49 and MS Edge require minFrameRate and maxFrameRate \n            // instead max,min,ideal that cause GetUserMedia failure.\n            // Until confirmed both browser support idea,max and min we need this.\n            if (\n                adapter && adapter.browserDetails &&\n                    (adapter.browserDetails.browser === \"firefox\" || adapter.browserDetails.browser === \"edge\")\n            ) {\n                constraints.video = {};\n                if (self._desiredVideoProperties.width) {\n                    constraints.video.width = self._desiredVideoProperties.width;\n                }\n                if (self._desiredVideoProperties.height) {\n                    constraints.video.height = self._desiredVideoProperties.height;\n                }\n                if (self._desiredVideoProperties.frameRate) {\n                    constraints.video.frameRate = { \n                        minFrameRate: self._desiredVideoProperties.frameRate,\n                        maxFrameRate: self._desiredVideoProperties.frameRate\n                    };\n                }\n                if (self._desiredVideoProperties.videoSrcId) {\n                    constraints.video.deviceId = self._desiredVideoProperties.videoSrcId;\n                }\n\n            // chrome and opera\n            } else { \n                constraints.video = {};\n                if (self._desiredVideoProperties.width) {\n                     constraints.video.width = { \n                        max: self._desiredVideoProperties.width,\n                        min : self._desiredVideoProperties.width,\n                        ideal : self._desiredVideoProperties.width \n                     };\n                }\n                if (self._desiredVideoProperties.height) {\n                    constraints.video.height = {\n                        max: self._desiredVideoProperties.height,\n                        min: self._desiredVideoProperties.height,\n                        ideal: self._desiredVideoProperties.height\n                    };\n                }\n                if (self._desiredVideoProperties.frameRate) {\n                    constraints.video.frameRate = {\n                        max: self._desiredVideoProperties.frameRate,\n                        ideal: self._desiredVideoProperties.frameRate\n                    };\n                }\n                if (self._desiredVideoProperties.videoSrcId) {\n                    constraints.video.deviceId = self._desiredVideoProperties.videoSrcId;\n                }\n                // hack for opera\n                if (Object.keys(constraints.video).length === 0 ) {\n                    constraints.video = true;\n                }\n            }\n        }\n\n        if (!self.audioEnabled) {\n            constraints.audio = false;\n        }\n        else {\n            if (adapter && adapter.browserDetails && adapter.browserDetails.browser === \"firefox\") {\n                constraints.audio = {};\n                if (self._desiredAudioProperties.audioSrcId) {\n                    constraints.audio.deviceId = self._desiredAudioProperties.audioSrcId;\n                }\n            }\n            else { // chrome and opera\n                constraints.audio = {mandatory: {}, optional: []};\n                if (self._desiredAudioProperties.audioSrcId) {\n                    constraints.audio.optional = constraints.audio.optional || [];\n                    constraints.audio.optional.push({deviceId: self._desiredAudioProperties.audioSrcId});\n                }\n            }\n        }\n        return constraints;\n    };\n\n    /** Set the application name. Applications can only communicate with other applications\n     * that share the same API Key and application name. There is no predefined set of application\n     * names. Maximum length is\n     * @param {String} name\n     * @example\n     *    easyrtc.setApplicationName('simpleAudioVideo');\n     */\n    this.setApplicationName = function(name) {\n        self.applicationName = name;\n    };\n\n    /** Enable or disable logging to the console.\n     * Note: if you want to control the printing of debug messages, override the\n     *    easyrtc.debugPrinter variable with a function that takes a message string as it's argument.\n     *    This is exactly what easyrtc.enableDebug does when it's enable argument is true.\n     * @param {Boolean} enable - true to turn on debugging, false to turn off debugging. Default is false.\n     * @example\n     *    easyrtc.enableDebug(true);\n     */\n    this.enableDebug = function(enable) {\n        if (enable) {\n            self.debugPrinter = function(message, obj) {\n                var now = new Date().toISOString();\n                var stackString = new Error().stack;\n                var srcLine = \"location unknown\";\n                if (stackString) {\n                    var stackFrameStrings = stackString.split('\\n');\n                    srcLine = \"\";\n                    if (stackFrameStrings.length >= 5) {\n                        srcLine = stackFrameStrings[4];\n                    }\n                }\n\n                console.log(\"debug \" + now + \" : \" + message + \" [\" + srcLine + \"]\");\n\n                if (typeof obj !== 'undefined') {\n                    console.log(\"debug \" + now + \" : \", obj);\n                }\n            };\n        }\n        else {\n            self.debugPrinter = null;\n        }\n    };\n\n    /**\n     * Determines if the local browser supports WebRTC GetUserMedia (access to camera and microphone).\n     * @returns {Boolean} True getUserMedia is supported.\n     */\n    this.supportsGetUserMedia = function() {\n        return typeof navigator.getUserMedia !== 'undefined';\n    };\n\n    /**\n     * Determines if the local browser supports WebRTC Peer connections to the extent of being able to do video chats.\n     * @returns {Boolean} True if Peer connections are supported.\n     */\n    this.supportsPeerConnections = function() {\n        return typeof RTCPeerConnection !== 'undefined';\n    };\n\n    /** Determines whether the current browser supports the new data channels.\n     * EasyRTC will not open up connections with the old data channels.\n     * @returns {Boolean}\n     */\n    this.supportsDataChannels = function() {\n\n        var hasCreateDataChannel = false;\n\n        if (self.supportsPeerConnections()) {\n            try {\n                var peer = new RTCPeerConnection({iceServers: []}, {});\n                hasCreateDataChannel = typeof peer.createDataChannel !== 'undefined';\n                peer.close();\n            }\n            catch (err) {\n                // Ignore possible RTCPeerConnection.close error\n                // hasCreateDataChannel should reflect the feature state still.\n            }\n        }\n\n        return hasCreateDataChannel;\n    };\n\n    /** @private */\n    //\n    // Experimental function to determine if statistics gathering is supported.\n    //\n    this.supportsStatistics = function() {\n\n        var hasGetStats = false;\n\n        if (self.supportsPeerConnections()) {\n            try {\n                var peer = new RTCPeerConnection({iceServers: []}, {});\n                hasGetStats = typeof peer.getStats !== 'undefined';\n                peer.close();\n            }\n            catch (err) {\n                // Ingore possible RTCPeerConnection.close error\n                // hasCreateDataChannel should reflect the feature state still.\n            }\n        }\n\n        return hasGetStats;\n    };\n\n    /** @private\n     * @param {Array} pc_config ice configuration array\n     * @param {Object} optionalStuff peer constraints.\n     */\n    this.createRTCPeerConnection = function(pc_config, optionalStuff) {\n        if (self.supportsPeerConnections()) {\n            return new RTCPeerConnection(pc_config, optionalStuff);\n        }\n        else {\n            throw \"Your browser doesn't support webRTC (RTCPeerConnection)\";\n        }\n    };\n\n    //\n    // this should really be part of adapter.js\n    // Versions of chrome < 31 don't support reliable data channels transport.\n    // Firefox does.\n    //\n    this.getDatachannelConstraints = function() {\n        return {\n            reliable: adapter && adapter.browserDetails &&\n                adapter.browserDetails.browser !== \"chrome\" &&\n                    adapter.browserDetails.version < 31\n        };\n    };\n\n    /** @private */\n    haveAudioVideo = {\n        audio: false,\n        video: false\n    };\n    /** @private */\n    var dataEnabled = false;\n    /** @private */\n    var serverPath = null; // this was null, but that was generating an error.\n    /** @private */\n    var roomOccupantListener = null;\n    /** @private */\n    var onDataChannelOpen = null;\n    /** @private */\n    var onDataChannelClose = null;\n    /** @private */\n    var lastLoggedInList = {};\n    /** @private */\n    var receivePeer = {msgTypes: {}};\n    /** @private */\n    var receiveServerCB = null;\n    /** @private */\n    // dummy placeholder for when we aren't connected\n    var updateConfigurationInfo = function() { };\n    /** @private */\n    //\n    //\n    //  peerConns is a map from caller names to the below object structure\n    //     {  startedAV: boolean,  -- true if we have traded audio/video streams\n    //        dataChannelS: RTPDataChannel for outgoing messages if present\n    //        dataChannelR: RTPDataChannel for incoming messages if present\n    //        dataChannelReady: true if the data channel can be used for sending yet\n    //        connectTime: timestamp when the connection was started\n    //        sharingAudio: true if audio is being shared\n    //        sharingVideo: true if video is being shared\n    //        cancelled: temporarily true if a connection was cancelled by the peer asking to initiate it\n    //        candidatesToSend: SDP candidates temporarily queued\n    //        streamsAddedAcks: ack callbacks waiting for stream received messages\n    //        pc: RTCPeerConnection\n    //        mediaStream: mediaStream\n    //     function callSuccessCB(string) - see the easyrtc.call documentation.\n    //        function callFailureCB(errorCode, string) - see the easyrtc.call documentation.\n    //        function wasAcceptedCB(boolean,string) - see the easyrtc.call documentation.\n    //     }\n    //\n    var peerConns = {};\n    /** @private */\n    //\n    // a map keeping track of whom we've requested a call with so we don't try to\n    // call them a second time before they've responded.\n    //\n    var acceptancePending = {};\n\n    /** @private\n     * @param {string} caller\n     * @param {Function} helper\n     */\n    this.acceptCheck = function(caller, helper) {\n        helper(true);\n    };\n\n    /** @private\n     * @param {string} easyrtcid\n     * @param {HTMLMediaStream} stream\n     */\n    this.streamAcceptor = function(easyrtcid, stream) {\n    };\n\n    /** @private\n     * @param {string} easyrtcid\n     */\n    this.onStreamClosed = function(easyrtcid) {\n    };\n\n    /** @private\n     * @param {string} easyrtcid\n     */\n    this.callCancelled = function(easyrtcid) {\n    };\n\n    /**\n     * This function gets the raw RTCPeerConnection for a given easyrtcid\n     * @param {String} easyrtcid\n     * @param {RTCPeerConnection} for that easyrtcid, or null if no connection exists\n     * Submitted by Fabian Bernhard.\n     */\n    this.getPeerConnectionByUserId = function(userId) {\n        if (peerConns && peerConns[userId]) {\n            return peerConns[userId].pc;\n        }\n        return null;\n    };\n\n\n    var chromeStatsFilter = [\n        {\n            \"googTransmitBitrate\": \"transmitBitRate\",\n            \"googActualEncBitrate\": \"encodeRate\",\n            \"googAvailableSendBandwidth\": \"availableSendRate\"\n        },\n        {\n            \"googCodecName\": \"audioCodec\",\n            \"googTypingNoiseState\": \"typingNoise\",\n            \"packetsSent\": \"audioPacketsSent\",\n            \"bytesSent\": \"audioBytesSent\"\n        },\n        {\n            \"googCodecName\": \"videoCodec\",\n            \"googFrameRateSent\": \"outFrameRate\",\n            \"packetsSent\": \"videoPacketsSent\",\n            \"bytesSent\": \"videoBytesSent\"\n        },\n        {\n            \"packetsLost\": \"videoPacketsLost\",\n            \"packetsReceived\": \"videoPacketsReceived\",\n            \"bytesReceived\": \"videoBytesReceived\",\n            \"googFrameRateOutput\": \"frameRateOut\"\n        },\n        {\n            \"packetsLost\": \"audioPacketsLost\",\n            \"packetsReceived\": \"audioPacketsReceived\",\n            \"bytesReceived\": \"audioBytesReceived\",\n            \"audioOutputLevel\": \"audioOutputLevel\"\n        },\n        {\n            \"googRemoteAddress\": \"remoteAddress\",\n            \"googActiveConnection\": \"activeConnection\"\n        },\n        {\n            \"audioInputLevel\": \"audioInputLevel\"\n        }\n    ];\n\n    var firefoxStatsFilter = {\n        \"outboundrtp_audio.bytesSent\": \"audioBytesSent\",\n        \"outboundrtp_video.bytesSent\": \"videoBytesSent\",\n        \"inboundrtp_video.bytesReceived\": \"videoBytesReceived\",\n        \"inboundrtp_audio.bytesReceived\": \"audioBytesReceived\",\n        \"outboundrtp_audio.packetsSent\": \"audioPacketsSent\",\n        \"outboundrtp_video.packetsSent\": \"videoPacketsSent\",\n        \"inboundrtp_video.packetsReceived\": \"videoPacketsReceived\",\n        \"inboundrtp_audio.packetsReceived\": \"audioPacketsReceived\",\n        \"inboundrtp_video.packetsLost\": \"videoPacketsLost\",\n        \"inboundrtp_audio.packetsLost\": \"audioPacketsLost\",\n        \"firefoxRemoteAddress\": \"remoteAddress\"\n    };\n\n    var standardStatsFilter = adapter && adapter.browserDetails &&\n                adapter.browserDetails.browser === \"firefox\" ? firefoxStatsFilter : chromeStatsFilter;\n\n    function getFirefoxPeerStatistics(peerId, callback, filter) {\n\n\n        if (!peerConns[peerId]) {\n            callback(peerId, {\"connected\": false});\n        }\n        else if (peerConns[peerId].pc.getStats) {\n            peerConns[peerId].pc.getStats(null, function(stats) {\n                var items = {};\n                var candidates = {};\n                var activeId = null;\n                var srcKey;\n                //\n                // the stats objects has a group of entries. Each entry is either an rtcp, rtp entry\n                // or a candidate entry.\n                //\n                if (stats) {\n                    stats.forEach(function(entry) {\n                        var majorKey;\n                        var subKey;\n                        if (entry.type.match(/boundrtp/)) {\n                            if (entry.id.match(/audio/)) {\n                                majorKey = entry.type + \"_audio\";\n                            }\n                            else if (entry.id.match(/video/)) {\n                                majorKey = entry.type + \"_video\";\n                            }\n                            else {\n                                return;\n                            }\n                            for (subKey in entry) {\n                                if (entry.hasOwnProperty(subKey)) {\n                                    items[majorKey + \".\" + subKey] = entry[subKey];\n                                }\n                            }\n                        }\n                        else {\n                            if( entry.hasOwnProperty(\"ipAddress\") && entry.id) {\n                                candidates[entry.id] = entry.ipAddress + \":\" +\n                                      entry.portNumber;\n                            }\n                            else if( entry.hasOwnProperty(\"selected\") &&\n                                     entry.hasOwnProperty(\"remoteCandidateId\") &&\n                                     entry.selected ) {\n                                activeId =  entry.remoteCandidateId;\n                            }\n                        }\n                    });\n                }\n\n                if( activeId ) {\n                    items[\"firefoxRemoteAddress\"] = candidates[activeId];\n                }\n                if (!filter) {\n                    callback(peerId, items);\n                }\n                else {\n                    var filteredItems = {};\n                    for (srcKey in filter) {\n                        if (filter.hasOwnProperty(srcKey) && items.hasOwnProperty(srcKey)) {\n                            filteredItems[ filter[srcKey]] = items[srcKey];\n                        }\n                    }\n                    callback(peerId, filteredItems);\n                }\n            },\n                    function(error) {\n                        logDebug(\"unable to get statistics\");\n                    });\n        }\n        else {\n            callback(peerId, {\"statistics\": self.getConstantString(\"statsNotSupported\")});\n        }\n    }\n\n    function getChromePeerStatistics(peerId, callback, filter) {\n\n        if (!peerConns[peerId]) {\n            callback(peerId, {\"connected\": false});\n        }\n        else if (peerConns[peerId].pc.getStats) {\n\n            peerConns[peerId].pc.getStats(function(stats) {\n\n                var localStats = {};\n                var part, parts = stats.result();\n                var i, j;\n                var itemKeys;\n                var itemKey;\n                var names;\n                var userKey;\n                var partNames = [];\n                var partList;\n                var bestBytes = 0;\n                var bestI;\n                var turnAddress = null;\n                var hasActive, curReceived;\n                var localAddress, remoteAddress;\n                if (!filter) {\n                    for (i = 0; i < parts.length; i++) {\n                        names = parts[i].names();\n                        for (j = 0; j < names.length; j++) {\n                            itemKey = names[j];\n                            localStats[parts[i].id + \".\" + itemKey] = parts[i].stat(itemKey);\n                        }\n                    }\n                }\n                else {\n                    for (i = 0; i < parts.length; i++) {\n                        partNames[i] = {};\n                        //\n                        // convert the names into a dictionary\n                        //\n                        names = parts[i].names();\n                        for (j = 0; j < names.length; j++) {\n                            partNames[i][names[j]] = true;\n                        }\n\n                        //\n                        // a chrome-firefox connection results in several activeConnections.\n                        // we only want one, so we look for the one with the most data being received on it.\n                        //\n                        if (partNames[i].googRemoteAddress && partNames[i].googActiveConnection) {\n                            hasActive = parts[i].stat(\"googActiveConnection\");\n                            if (hasActive === true || hasActive === \"true\") {\n                                curReceived = parseInt(parts[i].stat(\"bytesReceived\")) +\n                                        parseInt(parts[i].stat(\"bytesSent\"));\n                                if (curReceived > bestBytes) {\n                                    bestI = i;\n                                    bestBytes = curReceived;\n                                }\n                            }\n                        }\n                    }\n\n                    for (i = 0; i < parts.length; i++) {\n                        //\n                        // discard info from any inactive connection.\n                        //\n                        if (partNames[i].googActiveConnection) {\n                            if (i !== bestI) {\n                                partNames[i] = {};\n                            }\n                            else {\n                                localAddress = parts[i].stat(\"googLocalAddress\").split(\":\")[0];\n                                remoteAddress = parts[i].stat(\"googRemoteAddress\").split(\":\")[0];\n                                if (self.isTurnServer(localAddress)) {\n                                    turnAddress = localAddress;\n                                }\n                                else if (self.isTurnServer(remoteAddress)) {\n                                    turnAddress = remoteAddress;\n                                }\n                            }\n                        }\n                    }\n\n                    for (i = 0; i < filter.length; i++) {\n                        itemKeys = filter[i];\n                        partList = [];\n                        part = null;\n                        for (j = 0; j < parts.length; j++) {\n                            var fullMatch = true;\n                            for (itemKey in itemKeys) {\n                                if (itemKeys.hasOwnProperty(itemKey) && !partNames[j][itemKey]) {\n                                    fullMatch = false;\n                                    break;\n                                }\n                            }\n                            if (fullMatch && parts[j]) {\n                                partList.push(parts[j]);\n                            }\n                        }\n                        if (partList.length === 1) {\n                            for (j = 0; j < partList.length; j++) {\n                                part = partList[j];\n                                if (part) {\n                                    for (itemKey in itemKeys) {\n                                        if (itemKeys.hasOwnProperty(itemKey)) {\n                                            userKey = itemKeys[itemKey];\n                                            localStats[userKey] = part.stat(itemKey);\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                        else if (partList.length > 1) {\n                            for (itemKey in itemKeys) {\n                                if (itemKeys.hasOwnProperty(itemKey)) {\n                                    localStats[itemKeys[itemKey]] = [];\n                                }\n                            }\n                            for (j = 0; j < partList.length; j++) {\n                                part = partList[j];\n                                    for (itemKey in itemKeys) {\n                                        if (itemKeys.hasOwnProperty(itemKey)) {\n                                            userKey = itemKeys[itemKey];\n                                            localStats[userKey].push(part.stat(itemKey));\n                                        }\n                                    }\n                            }\n                        }\n                    }\n                }\n\n                if (localStats.remoteAddress && turnAddress) {\n                    localStats.remoteAddress = turnAddress;\n                }\n                callback(peerId, localStats);\n            });\n        }\n        else {\n            callback(peerId, {\"statistics\": self.getConstantString(\"statsNotSupported\")});\n        }\n    }\n\n    /**\n     * This function gets the statistics for a particular peer connection.\n     * @param {String} easyrtcid\n     * @param {Function} callback gets the easyrtcid for the peer and a map of {userDefinedKey: value}. If there is no peer connection to easyrtcid, then the map will\n     *  have a value of {connected:false}.\n     * @param {Object} filter depends on whether Chrome or Firefox is used. See the default filters for guidance.\n     * It is still experimental.\n     */\n    this.getPeerStatistics = function(easyrtcid, callback, filter) {\n        if (\n            adapter && adapter.browserDetails &&\n                adapter.browserDetails.browser === \"firefox\"\n        ) {\n            getFirefoxPeerStatistics(easyrtcid, callback, filter);\n        }\n        else {\n            getChromePeerStatistics(easyrtcid, callback, filter);\n        }\n    };\n\n    /**\n     * @private\n     * @param roomName\n     * @param fields\n     */\n    function sendRoomApiFields(roomName, fields) {\n        var fieldAsString = JSON.stringify(fields);\n        JSON.parse(fieldAsString);\n        var dataToShip = {\n            msgType: \"setRoomApiField\",\n            msgData: {\n                setRoomApiField: {\n                    roomName: roomName,\n                    field: fields\n                }\n            }\n        };\n        self.webSocket.json.emit(\"easyrtcCmd\", dataToShip,\n                function(ackMsg) {\n                    if (ackMsg.msgType === \"error\") {\n                        self.showError(ackMsg.msgData.errorCode, ackMsg.msgData.errorText);\n                    }\n                }\n        );\n    }\n\n    /** @private */\n    var roomApiFieldTimer = null;\n\n    /**\n     * @private\n     * @param {String} roomName\n     */\n    function enqueueSendRoomApi(roomName) {\n        //\n        // Rather than issue the send request immediately, we set a timer so we can accumulate other\n        // calls\n        //\n        if (roomApiFieldTimer) {\n            clearTimeout(roomApiFieldTimer);\n        }\n        roomApiFieldTimer = setTimeout(function() {\n            sendRoomApiFields(roomName, self._roomApiFields[roomName]);\n            roomApiFieldTimer = null;\n        }, 10);\n    }\n\n    /** Provide a set of application defined fields that will be part of this instances\n     * configuration information. This data will get sent to other peers via the websocket\n     * path.\n     * @param {String} roomName - the room the field is attached to.\n     * @param {String} fieldName - the name of the field.\n     * @param {Object} fieldValue - the value of the field.\n     * @example\n     *   easyrtc.setRoomApiField(\"trekkieRoom\",  \"favorite_alien\", \"Mr Spock\");\n     *   easyrtc.setRoomOccupantListener( function(roomName, list){\n     *      for( var i in list ){\n     *         console.log(\"easyrtcid=\" + i + \" favorite alien is \" + list[i].apiFields.favorite_alien);\n     *      }\n     *   });\n     */\n    this.setRoomApiField = function(roomName, fieldName, fieldValue) {\n        //\n        // if we're not connected yet, we'll just cache the fields until we are.\n        //\n        if (!self._roomApiFields) {\n            self._roomApiFields = {};\n        }\n        if (!fieldName && !fieldValue) {\n            delete self._roomApiFields[roomName];\n            return;\n        }\n\n        if (!self._roomApiFields[roomName]) {\n            self._roomApiFields[roomName] = {};\n        }\n        if (fieldValue !== undefined && fieldValue !== null) {\n            if (typeof fieldValue === \"object\") {\n                try {\n                    JSON.stringify(fieldValue);\n                }\n                catch (jsonError) {\n                    self.showError(self.errCodes.DEVELOPER_ERR, \"easyrtc.setRoomApiField passed bad object \");\n                    return;\n                }\n            }\n            self._roomApiFields[roomName][fieldName] = {fieldName: fieldName, fieldValue: fieldValue};\n        }\n        else {\n            delete self._roomApiFields[roomName][fieldName];\n        }\n        if (self.webSocketConnected) {\n            enqueueSendRoomApi(roomName);\n        }\n    };\n\n    /**\n     * Default error reporting function. The default implementation displays error messages\n     * in a programmatically created div with the id easyrtcErrorDialog. The div has title\n     * component with a class name of easyrtcErrorDialog_title. The error messages get added to a\n     * container with the id easyrtcErrorDialog_body. Each error message is a text node inside a div\n     * with a class of easyrtcErrorDialog_element. There is an \"okay\" button with the className of easyrtcErrorDialog_okayButton.\n     * @param {String} messageCode An error message code\n     * @param {String} message the error message text without any markup.\n     * @example\n     *     easyrtc.showError(\"BAD_NAME\", \"Invalid username\");\n     */\n    this.showError = function(messageCode, message) {\n        self.onError({errorCode: messageCode, errorText: message});\n    };\n\n    /**\n     * @private\n     * @param errorObject\n     */\n    this.onError = function(errorObject) {\n        logDebug(\"saw error \" + errorObject.errorText);\n\n        var errorDiv = document.getElementById('easyrtcErrorDialog');\n        var errorBody;\n        if (!errorDiv) {\n            errorDiv = document.createElement(\"div\");\n            errorDiv.id = 'easyrtcErrorDialog';\n            var title = document.createElement(\"div\");\n            title.innerHTML = \"Error messages\";\n            title.className = \"easyrtcErrorDialog_title\";\n            errorDiv.appendChild(title);\n            errorBody = document.createElement(\"div\");\n            errorBody.id = \"easyrtcErrorDialog_body\";\n            errorDiv.appendChild(errorBody);\n            var clearButton = document.createElement(\"button\");\n            clearButton.appendChild(document.createTextNode(\"Okay\"));\n            clearButton.className = \"easyrtcErrorDialog_okayButton\";\n            clearButton.onclick = function() {\n                errorBody.innerHTML = \"\"; // remove all inner nodes\n                errorDiv.style.display = \"none\";\n            };\n            errorDiv.appendChild(clearButton);\n            document.body.appendChild(errorDiv);\n        }\n\n        errorBody = document.getElementById(\"easyrtcErrorDialog_body\");\n        var messageNode = document.createElement(\"div\");\n        messageNode.className = 'easyrtcErrorDialog_element';\n        messageNode.appendChild(document.createTextNode(errorObject.errorText));\n        errorBody.appendChild(messageNode);\n        errorDiv.style.display = \"block\";\n    };\n\n    /** @private\n     * @param mediaStream */\n    //\n    // easyrtc.createObjectURL builds a URL from a media stream.\n    // Arguments:\n    //     mediaStream - a media stream object.\n    // The video object in Chrome expects a URL.\n    //\n    this.createObjectURL = function(mediaStream) {\n        var errMessage;\n        if (window.URL && window.URL.createObjectURL) {\n            return window.URL.createObjectURL(mediaStream);\n        }\n        else if (window.webkitURL && window.webkitURL.createObjectURL) {\n            return window.webkit.createObjectURL(mediaStream);\n        }\n        else {\n            errMessage = \"Your browsers does not support URL.createObjectURL.\";\n            logDebug(\"saw exception \" + errMessage);\n            throw errMessage;\n        }\n    };\n\n    /**\n     * A convenience function to ensure that a string doesn't have symbols that will be interpreted by HTML.\n     * @param {String} idString\n     * @return {String} The cleaned string.\n     * @example\n     *   console.log( easyrtc.cleanId('&hello'));\n     */\n    this.cleanId = function(idString) {\n        var MAP = {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;'\n        };\n        return idString.replace(/[&<>]/g, function(c) {\n            return MAP[c];\n        });\n    };\n\n    /**\n     * Set a callback that will be invoked when the application enters or leaves a room.\n     * @param {Function} handler - the first parameter is true for entering a room, false for leaving a room. The second parameter is the room name.\n     * @example\n     *   easyrtc.setRoomEntryListener(function(entry, roomName){\n     *       if( entry ){\n     *           console.log(\"entering room \" + roomName);\n     *       }\n     *       else{\n     *           console.log(\"leaving room \" + roomName);\n     *       }\n     *   });\n     */\n    self.setRoomEntryListener = function(handler) {\n        self.roomEntryListener = handler;\n    };\n\n    /**\n     * Set the callback that will be invoked when the list of people logged in changes.\n     * The callback expects to receive a room name argument, and\n     * a map whose ideas are easyrtcids and whose values are in turn maps\n     * supplying user specific information. The inner maps have the following keys:\n     * username, applicationName, browserFamily, browserMajor, osFamily, osMajor, deviceFamily.\n     * The third argument is the listener is the innerMap for the connections own data (not needed by most applications).\n     * @param {Function} listener\n     * @example\n     *   easyrtc.setRoomOccupantListener( function(roomName, list, selfInfo){\n     *      for( var i in list ){\n     *         (\"easyrtcid=\" + i + \" belongs to user \" + list[i].username);\n     *      }\n     *   });\n     */\n    self.setRoomOccupantListener = function(listener) {\n        roomOccupantListener = listener;\n    };\n\n    /**\n     * Sets a callback that is called when a data channel is open and ready to send data.\n     * The callback will be called with an easyrtcid as it's sole argument.\n     * @param {Function} listener\n     * @example\n     *    easyrtc.setDataChannelOpenListener( function(easyrtcid){\n     *         easyrtc.sendDataP2P(easyrtcid, \"greeting\", \"hello\");\n     *    });\n     */\n    this.setDataChannelOpenListener = function(listener) {\n        onDataChannelOpen = listener;\n    };\n\n    /** Sets a callback that is called when a previously open data channel closes.\n     * The callback will be called with an easyrtcid as it's sole argument.\n     * @param {Function} listener\n     * @example\n     *    easyrtc.setDataChannelCloseListener( function(easyrtcid){\n     *            (\"No longer connected to \" + easyrtc.idToName(easyrtcid));\n     *    });\n     */\n    this.setDataChannelCloseListener = function(listener) {\n        onDataChannelClose = listener;\n    };\n\n    /** Returns the number of live peer connections the client has.\n     * @return {Number}\n     * @example\n     *    (\"You have \" + easyrtc.getConnectionCount() + \" peer connections\");\n     */\n    this.getConnectionCount = function() {\n        var count = 0;\n        var i;\n        for (i in peerConns) {\n            if (peerConns.hasOwnProperty(i)) {\n                if (self.getConnectStatus(i) === self.IS_CONNECTED) {\n                    count++;\n                }\n            }\n        }\n        return count;\n    };\n\n    /** Sets the maximum length in bytes of P2P messages that can be sent.\n     * @param {Number} maxLength maximum length to set\n     * @example\n     *     easyrtc.setMaxP2PMessageLength(10000);\n     */\n    this.setMaxP2PMessageLength = function(maxLength) {\n        this.maxP2PMessageLength = maxLength;\n    };\n\n    /** Sets whether audio is transmitted by the local user in any subsequent calls.\n     * @param {Boolean} enabled true to include audio, false to exclude audio. The default is true.\n     * @example\n     *      easyrtc.enableAudio(false);\n     */\n    this.enableAudio = function(enabled) {\n        self.audioEnabled = enabled;\n    };\n\n    /**\n     *Sets whether video is transmitted by the local user in any subsequent calls.\n     * @param {Boolean} enabled - true to include video, false to exclude video. The default is true.\n     * @example\n     *      easyrtc.enableVideo(false);\n     */\n    this.enableVideo = function(enabled) {\n        self.videoEnabled = enabled;\n    };\n\n    /**\n     * Sets whether WebRTC data channels are used to send inter-client messages.\n     * This is only the messages that applications explicitly send to other applications, not the WebRTC signaling messages.\n     * @param {Boolean} enabled  true to use data channels, false otherwise. The default is false.\n     * @example\n     *     easyrtc.enableDataChannels(true);\n     */\n    this.enableDataChannels = function(enabled) {\n        dataEnabled = enabled;\n    };\n\n    /**\n     * @private\n     * @param {Boolean} enable\n     * @param {Array} tracks - an array of MediaStreamTrack\n     */\n    function enableMediaTracks(enable, tracks) {\n        var i;\n        if (tracks) {\n            for (i = 0; i < tracks.length; i++) {\n                var track = tracks[i];\n                track.enabled = enable;\n            }\n        }\n    }\n\n    /** @private */\n    //\n    // fetches a stream by name. Treat a null/undefined streamName as \"default\".\n    //\n    function getLocalMediaStreamByName(streamName) {\n        if (!streamName) {\n            streamName = \"default\";\n        }\n        if (namedLocalMediaStreams.hasOwnProperty(streamName)) {\n            return namedLocalMediaStreams[streamName];\n        }\n        else {\n            return null;\n        }\n    }\n\n    /**\n     * Returns the user assigned id's of currently active local media streams.\n     * @return {Array}\n     */\n    this.getLocalMediaIds = function() {\n        return Object.keys(namedLocalMediaStreams);\n    };\n\n    /** @private */\n    function buildMediaIds() {\n        var mediaMap = {};\n        var streamName;\n        for (streamName in namedLocalMediaStreams) {\n            if (namedLocalMediaStreams.hasOwnProperty(streamName)) {\n                mediaMap[streamName] = namedLocalMediaStreams[streamName].id || \"default\";\n            }\n        }\n        return mediaMap;\n    }\n\n    /** @private */\n    function registerLocalMediaStreamByName(stream, streamName) {\n        var roomName;\n        if (!streamName) {\n            streamName = \"default\";\n        }\n        stream.streamName = streamName;\n        namedLocalMediaStreams[streamName] = stream;\n        if (streamName !== \"default\") {\n            var mediaIds = buildMediaIds(),\n                roomData = self.roomData;\n            for (roomName in roomData) {\n                if (roomData.hasOwnProperty(roomName)) {\n                    self.setRoomApiField(roomName, \"mediaIds\", mediaIds);\n                }\n            }\n        }\n    }\n\n    /**\n     * Allow an externally created mediastream (ie, created by another\n     * library) to be used within easyrtc. Tracking when it closes\n     * must be done by the supplying party.\n     */\n    this.register3rdPartyLocalMediaStream = function(stream, streamName) {\n       return registerLocalMediaStreamByName(stream, streamName);\n    };\n\n    /** @private */\n    //\n    // look up a stream's name from the stream.id\n    //\n    function getNameOfRemoteStream(easyrtcId, webrtcStreamId) {\n        var roomName;\n        var mediaIds;\n        var streamName;\n        if (!webrtcStreamId) {\n            webrtcStreamId = \"default\";\n        }\n        if (peerConns[easyrtcId]) {\n            streamName = peerConns[easyrtcId].remoteStreamIdToName[webrtcStreamId];\n            if (streamName) {\n                return streamName;\n            }\n        }\n\n        for (roomName in self.roomData) {\n            if (self.roomData.hasOwnProperty(roomName)) {\n                mediaIds = self.getRoomApiField(roomName, easyrtcId, \"mediaIds\");\n                if (!mediaIds) {\n                    continue;\n                }\n                for (streamName in mediaIds) {\n                    if (mediaIds.hasOwnProperty(streamName) &&\n                            mediaIds[streamName] === webrtcStreamId) {\n                        return streamName;\n                    }\n                }\n                //\n                // a stream from chrome to firefox will be missing it's id/label.\n                // there is no correct solution.\n                //\n                if (\n                    adapter && adapter.browserDetails &&\n                        adapter.browserDetails.browser === \"firefox\"\n                ) {\n\n                   // if there is a stream called default, return it in preference\n                   if (mediaIds[\"default\"]) {\n                       return \"default\";\n                   }\n\n                   //\n                   // otherwise return the first name we find. If there is more than\n                   // one, complain to Mozilla.\n                   //\n                   for(var anyName in mediaIds) {\n                        if (mediaIds.hasOwnProperty(anyName)) {\n                            return anyName;\n                        }\n                   }\n                }\n            }\n        }\n\n        return undefined;\n    }\n\n    this.getNameOfRemoteStream = function(easyrtcId, webrtcStream){\n        if(typeof webrtcStream === \"string\") {\n            return getNameOfRemoteStream(easyrtcId, webrtcStream);\n        }\n        else if( webrtcStream.id) {\n            return getNameOfRemoteStream(easyrtcId, webrtcStream.id);\n        }\n    };\n\n    /** @private */\n    function closeLocalMediaStreamByName(streamName) {\n        if (!streamName) {\n            streamName = \"default\";\n        }\n        var stream = self.getLocalStream(streamName);\n        if (!stream) {\n            return;\n        }\n        var streamId = stream.id || \"default\";\n        var id;\n        var roomName;\n        if (namedLocalMediaStreams[streamName]) {\n\n            for (id in peerConns) {\n                if (peerConns.hasOwnProperty(id)) {\n                    try {\n                        peerConns[id].pc.removeStream(stream);\n                    } catch (err) {\n                    }\n                    self.sendPeerMessage(id, \"__closingMediaStream\", {streamId: streamId, streamName: streamName});\n                }\n            }\n\n            stopStream(namedLocalMediaStreams[streamName]);\n            delete namedLocalMediaStreams[streamName];\n\n            if (streamName !== \"default\") {\n                var mediaIds = buildMediaIds();\n                for (roomName in self.roomData) {\n                    if (self.roomData.hasOwnProperty(roomName)) {\n                        self.setRoomApiField(roomName, \"mediaIds\", mediaIds);\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Close the local media stream. You usually need to close the existing media stream\n     * of a camera before reacquiring it at a different resolution.\n     * @param {String} streamName - an option stream name.\n     */\n    this.closeLocalMediaStream = function(streamName) {\n        return closeLocalMediaStreamByName(streamName);\n    };\n\n    /**\n     * Alias for closeLocalMediaStream\n     */\n    this.closeLocalStream = this.closeLocalMediaStream;\n\n    /**\n     * This function is used to enable and disable the local camera. If you disable the\n     * camera, video objects display it will \"freeze\" until the camera is re-enabled. *\n     * By default, a camera is enabled.\n     * @param {Boolean} enable - true to enable the camera, false to disable it.\n     * @param {String} streamName - the name of the stream, optional.\n     */\n    this.enableCamera = function(enable, streamName) {\n        var stream = getLocalMediaStreamByName(streamName);\n        if (stream && stream.getVideoTracks) {\n            enableMediaTracks(enable, stream.getVideoTracks());\n        }\n    };\n\n    /**\n     * This function is used to enable and disable the local microphone. If you disable\n     * the microphone, sounds stops being transmitted to your peers. By default, the microphone\n     * is enabled.\n     * @param {Boolean} enable - true to enable the microphone, false to disable it.\n     * @param {String} streamName - an optional streamName\n     */\n    this.enableMicrophone = function(enable, streamName) {\n        var stream = getLocalMediaStreamByName(streamName);\n        if (stream && stream.getAudioTracks) {\n            enableMediaTracks(enable, stream.getAudioTracks());\n        }\n    };\n\n    /**\n     * Mute a video object.\n     * @param {String} videoObjectName - A DOMObject or the id of the DOMObject.\n     * @param {Boolean} mute - true to mute the video object, false to unmute it.\n     */\n    this.muteVideoObject = function(videoObjectName, mute) {\n        var videoObject;\n        if (typeof (videoObjectName) === 'string') {\n            videoObject = document.getElementById(videoObjectName);\n            if (!videoObject) {\n                throw \"Unknown video object \" + videoObjectName;\n            }\n        }\n        else if (!videoObjectName) {\n            throw \"muteVideoObject passed a null\";\n        }\n        else {\n            videoObject = videoObjectName;\n        }\n        videoObject.muted = !!mute;\n    };\n\n    /**\n     * Returns a URL for your local camera and microphone.\n     *  It can be called only after easyrtc.initMediaSource has succeeded.\n     *  It returns a url that can be used as a source by the Chrome video element or the &lt;canvas&gt; element.\n     *  @param {String} streamName - an option stream name.\n     *  @return {URL}\n     *  @example\n     *      document.getElementById(\"myVideo\").src = easyrtc.getLocalStreamAsUrl();\n     */\n    self.getLocalStreamAsUrl = function(streamName) {\n        var stream = getLocalMediaStreamByName(streamName);\n        if (stream === null) {\n            throw \"Developer error: attempt to get a MediaStream without invoking easyrtc.initMediaSource successfully\";\n        }\n        return self.createObjectURL(stream);\n    };\n\n    /**\n     * Returns a media stream for your local camera and microphone.\n     *  It can be called only after easyrtc.initMediaSource has succeeded.\n     *  It returns a stream that can be used as an argument to easyrtc.setVideoObjectSrc.\n     *  Returns null if there is no local media stream acquired yet.\n     * @return {?MediaStream}\n     * @example\n     *    easyrtc.setVideoObjectSrc( document.getElementById(\"myVideo\"), easyrtc.getLocalStream());\n     */\n    this.getLocalStream = function(streamName) {\n        return getLocalMediaStreamByName(streamName) || null;\n    };\n\n    /** Clears the media stream on a video object.\n     *\n     * @param {Object} element the video object.\n     * @example\n     *    easyrtc.clearMediaStream( document.getElementById('selfVideo'));\n     *\n     */\n    this.clearMediaStream = function(element) {\n        if (typeof element.src !== 'undefined') {\n            //noinspection JSUndefinedPropertyAssignment\n            element.src = \"\";\n        } else if (typeof element.srcObject !== 'undefined') {\n            element.srcObject = \"\";\n        } else if (typeof element.mozSrcObject !== 'undefined') {\n            element.mozSrcObject = null;\n        }\n    };\n\n    /**\n     *  Sets a video or audio object from a media stream.\n     *  Chrome uses the src attribute and expects a URL, while firefox\n     *  uses the mozSrcObject and expects a stream. This procedure hides\n     *  that from you.\n     *  If the media stream is from a local webcam, you may want to add the\n     *  easyrtcMirror class to the video object so it looks like a proper mirror.\n     *  The easyrtcMirror class is defined in this.css.\n     *  Which is could be added using the same path of easyrtc.js file to an HTML file\n     *  @param {Object} element an HTML5 video element\n     *  @param {MediaStream|String} stream a media stream as returned by easyrtc.getLocalStream or your stream acceptor.\n     * @example\n     *    easyrtc.setVideoObjectSrc( document.getElementById(\"myVideo\"), easyrtc.getLocalStream());\n     *\n     */\n    this.setVideoObjectSrc = function(element, stream) {\n        if (stream && stream !== \"\") {\n            element.autoplay = true;\n\n            if (typeof element.src !== 'undefined') {\n                element.src = self.createObjectURL(stream);\n            } else if (typeof element.srcObject !== 'undefined') {\n                element.srcObject = stream;\n            } else if (typeof element.mozSrcObject !== 'undefined') {\n                element.mozSrcObject = self.createObjectURL(stream);\n            }\n            element.play();\n        }\n        else {\n            self.clearMediaStream(element);\n        }\n    };\n\n    /**\n     * This function builds a new named local media stream from a set of existing audio and video tracks from other media streams.\n     * @param {String} streamName is the name of the new media stream.\n     * @param {Array} audioTracks is an array of MediaStreamTracks\n     * @param {Array} videoTracks is an array of MediaStreamTracks\n     * @returns {?MediaStream} the track created.\n     * @example\n     *    easyrtc.buildLocalMediaStream(\"myComposedStream\",\n     *             easyrtc.getLocalStream(\"camera1\").getVideoTracks(),\n     *             easyrtc.getLocalStream(\"camera2\").getAudioTracks());\n     */\n    this.buildLocalMediaStream = function(streamName, audioTracks, videoTracks) {\n        var i;\n        if (typeof streamName !== 'string') {\n            self.showError(self.errCodes.DEVELOPER_ERR,\n               \"easyrtc.buildLocalMediaStream not supplied a stream name\");\n            return null;\n        }\n\n         var streamToClone = null;\n         for(var key in namedLocalMediaStreams ) {\n            if( namedLocalMediaStreams.hasOwnProperty(key)) {\n              streamToClone = namedLocalMediaStreams[key];\n              if(streamToClone) {\n                break;\n              }\n            }\n         }\n         if( !streamToClone ) {\n            for(key in peerConns) {\n                if (peerConns.hasOwnProperty(key)) {\n                    var remoteStreams = peerConns[key].pc.getRemoteStreams();\n                    if( remoteStreams && remoteStreams.length > 0 ) {\n                        streamToClone = remoteStreams[0];\n                    }\n                }\n            }\n         }\n         if( !streamToClone ){\n            self.showError(self.errCodes.DEVELOPER_ERR,\n             \"Attempt to create a mediastream without one to clone from\");\n            return null;\n         }\n\n         //\n         // clone whatever mediastream we found, and remove any of it's\n         // tracks.\n         //\n         var mediaClone = streamToClone.clone();\n         var oldTracks = mediaClone.getTracks();\n\n        if (audioTracks) {\n            for (i = 0; i < audioTracks.length; i++) {\n                mediaClone.addTrack(audioTracks[i].clone());\n            }\n        }\n\n        if (videoTracks) {\n            for (i = 0; i < videoTracks.length; i++) {\n                mediaClone.addTrack(videoTracks[i].clone());\n            }\n        }\n\n        for( i = 0; i < oldTracks.length; i++ ) {\n            mediaClone.removeTrack(oldTracks[i]);\n        }\n\n        registerLocalMediaStreamByName(mediaClone, streamName);\n        return mediaClone;\n    };\n\n    /* @private*/\n    /** Load Easyrtc Stylesheet.\n     *   Easyrtc Stylesheet define easyrtcMirror class and some basic css class for using easyrtc.js.\n     *   That way, developers can override it or use it's own css file minified css or package.\n     * @example\n     *       easyrtc.loadStylesheet();\n     *\n     */\n    this.loadStylesheet = function() {\n\n        //\n        // check to see if we already have an easyrtc.css file loaded\n        // if we do, we can exit immediately.\n        //\n        var links = document.getElementsByTagName(\"link\");\n        var cssIndex, css;\n        for (cssIndex in links) {\n            if (links.hasOwnProperty(cssIndex)) {\n                css = links[cssIndex];\n                if (css.href && (css.href.match(/\\/easyrtc.css/))) {\n                    return;\n                }\n            }\n        }\n        //\n        // add the easyrtc.css file since it isn't present\n        //\n        var easySheet = document.createElement(\"link\");\n        easySheet.setAttribute(\"rel\", \"stylesheet\");\n        easySheet.setAttribute(\"type\", \"text/css\");\n        easySheet.setAttribute(\"href\", \"/easyrtc/easyrtc.css\");\n        var headSection = document.getElementsByTagName(\"head\")[0];\n        var firstHead = headSection.childNodes[0];\n        headSection.insertBefore(easySheet, firstHead);\n    };\n\n    /**\n     * @private\n     * @param {String} x\n     */\n    this.formatError = function(x) {\n        var name, result;\n        if (x === null || typeof x === 'undefined') {\n            return \"null\";\n        }\n        if (typeof x === 'string') {\n            return x;\n        }\n        else if (x.type && x.description) {\n            return x.type + \" : \" + x.description;\n        }\n        else if (typeof x === 'object') {\n            try {\n                return JSON.stringify(x);\n            }\n            catch (oops) {\n                result = \"{\";\n                for (name in x) {\n                    if (x.hasOwnProperty(name)) {\n                        if (typeof x[name] === 'string') {\n                            result = result + name + \"='\" + x[name] + \"' \";\n                        }\n                    }\n                }\n                result = result + \"}\";\n                return result;\n            }\n        }\n        else {\n            return \"Strange case\";\n        }\n    };\n\n    /**\n     * Initializes your access to a local camera and microphone.\n     * Failure could be caused a browser that didn't support WebRTC, or by the user not granting permission.\n     * If you are going to call easyrtc.enableAudio or easyrtc.enableVideo, you need to do it before\n     * calling easyrtc.initMediaSource.\n     * @param {function(Object)} successCallback - will be called with localmedia stream on success.\n     * @param {function(String,String)} errorCallback - is called with an error code and error description.\n     * @param {String} streamName - an optional name for the media source so you can use multiple cameras and\n     * screen share simultaneously.\n     * @example\n     *       easyrtc.initMediaSource(\n     *          function(mediastream){\n     *              easyrtc.setVideoObjectSrc( document.getElementById(\"mirrorVideo\"), mediastream);\n     *          },\n     *          function(errorCode, errorText){\n     *               easyrtc.showError(errorCode, errorText);\n     *          });\n     */\n    this.initMediaSource = function(successCallback, errorCallback, streamName) {\n\n        logDebug(\"about to request local media\");\n\n        if (!streamName) {\n            streamName = \"default\";\n        }\n\n        haveAudioVideo = {\n            audio: self.audioEnabled,\n            video: self.videoEnabled\n        };\n\n        if (!errorCallback) {\n            errorCallback = function(errorCode, errorText) {\n                var message = \"easyrtc.initMediaSource: \" + self.formatError(errorText);\n                logDebug(message);\n                self.showError(self.errCodes.MEDIA_ERR, message);\n            };\n        }\n\n        if (!self.supportsGetUserMedia()) {\n            errorCallback(self.errCodes.MEDIA_ERR, self.getConstantString(\"noWebrtcSupport\"));\n            return;\n        }\n\n        if (!successCallback) {\n            self.showError(self.errCodes.DEVELOPER_ERR,\n                    \"easyrtc.initMediaSource not supplied a successCallback\");\n            return;\n        }\n\n        var mode = self.getUserMediaConstraints();\n        /** @private\n         * @param {Object} stream - A mediaStream object.\n         *  */\n        var onUserMediaSuccess = function(stream) {\n            logDebug(\"getUserMedia success callback entered\");\n            logDebug(\"successfully got local media\");\n\n            stream.streamName = streamName;\n            registerLocalMediaStreamByName(stream, streamName);\n            var videoObj, triesLeft, tryToGetSize, ele;\n            if (haveAudioVideo.video) {\n                videoObj = document.createElement('video');\n                videoObj.muted = true;\n                triesLeft = 30;\n                tryToGetSize = function() {\n                    if (videoObj.videoWidth > 0 || triesLeft < 0) {\n                        self.nativeVideoWidth = videoObj.videoWidth;\n                        self.nativeVideoHeight = videoObj.videoHeight;\n                        if (self._desiredVideoProperties.height &&\n                                (self.nativeVideoHeight !== self._desiredVideoProperties.height ||\n                                        self.nativeVideoWidth !== self._desiredVideoProperties.width)) {\n                            self.showError(self.errCodes.MEDIA_WARNING,\n                                    self.format(self.getConstantString(\"resolutionWarning\"),\n                                    self._desiredVideoProperties.width, self._desiredVideoProperties.height,\n                                    self.nativeVideoWidth, self.nativeVideoHeight));\n                        }\n                        self.setVideoObjectSrc(videoObj, null);\n                        if (videoObj.removeNode) {\n                            videoObj.removeNode(true);\n                        }\n                        else {\n                            ele = document.createElement('div');\n                            ele.appendChild(videoObj);\n                            ele.removeChild(videoObj);\n                        }\n\n                        updateConfigurationInfo();\n                        if (successCallback) {\n                            successCallback(stream);\n                        }\n                    }\n                    else {\n                        triesLeft -= 1;\n                        setTimeout(tryToGetSize, 300);\n                    }\n                };\n                self.setVideoObjectSrc(videoObj, stream);\n                tryToGetSize();\n            }\n            else {\n                updateConfigurationInfo();\n                if (successCallback) {\n                    successCallback(stream);\n                }\n            }\n        };\n\n        /**\n         * @private\n         * @param {String} error\n         */\n        var onUserMediaError = function(error) {\n            logDebug(\"getusermedia failed\");\n            logDebug(\"failed to get local media\");\n            var errText;\n            if (typeof error === 'string') {\n                errText = error;\n            }\n            else if (error.name) {\n                errText = error.name;\n            }\n            else {\n                errText = \"Unknown\";\n            }\n            if (errorCallback) {\n                logDebug(\"invoking error callback\", errText);\n                errorCallback(self.errCodes.MEDIA_ERR, self.format(self.getConstantString(\"gumFailed\"), errText));\n            }\n            closeLocalMediaStreamByName(streamName);\n            haveAudioVideo = {\n                audio: false,\n                video: false\n            };\n            updateConfigurationInfo();\n        };\n\n        if (!self.audioEnabled && !self.videoEnabled) {\n            onUserMediaError(self.getConstantString(\"requireAudioOrVideo\"));\n            return;\n        }\n\n        function getCurrentTime() {\n            return (new Date()).getTime();\n        }\n\n        var firstCallTime;\n        function tryAgain(err) {\n            var currentTime = getCurrentTime();\n            if (currentTime < firstCallTime + 1000) {\n                logDebug(\"Trying getUserMedia a second time\");\n                try {\n                    navigator.getUserMedia(mode, onUserMediaSuccess, onUserMediaError);\n                } catch (e) {\n                    onUserMediaError(err);\n                }\n            }\n            else {\n                onUserMediaError(err);\n            }\n        }\n\n        //\n        // getUserMedia sometimes fails the first time I call it. I suspect it's a page loading\n        // issue. So I'm going to try adding a 1 second delay to allow things to settle down first.\n        // In addition, I'm going to try again after 3 seconds.\n        //\n        try {\n            firstCallTime = getCurrentTime();\n            navigator.getUserMedia(mode, onUserMediaSuccess, tryAgain);\n        } catch (err) {\n            tryAgain(err);\n        }\n    };\n\n    /**\n     * Sets the callback used to decide whether to accept or reject an incoming call.\n     * @param {Function} acceptCheck takes the arguments (callerEasyrtcid, acceptor).\n     * The acceptCheck callback is passed an easyrtcid and an acceptor function. The acceptor function should be called with either\n     * a true value (accept the call) or false value( reject the call) as it's first argument, and optionally,\n     * an array of local media streamNames as a second argument.\n     * @example\n     *      easyrtc.setAcceptChecker( function(easyrtcid, acceptor){\n     *           if( easyrtc.idToName(easyrtcid) === 'Fred' ){\n     *              acceptor(true);\n     *           }\n     *           else if( easyrtc.idToName(easyrtcid) === 'Barney' ){\n     *              setTimeout( function(){\n     acceptor(true, ['myOtherCam']); // myOtherCam presumed to a streamName\n     }, 10000);\n     *           }\n     *           else{\n     *              acceptor(false);\n     *           }\n     *      });\n     */\n    this.setAcceptChecker = function(acceptCheck) {\n        self.acceptCheck = acceptCheck;\n    };\n\n    /**\n     * easyrtc.setStreamAcceptor sets a callback to receive media streams from other peers, independent\n     * of where the call was initiated (caller or callee).\n     * @param {Function} acceptor takes arguments (caller, mediaStream, mediaStreamName)\n     * @example\n     *  easyrtc.setStreamAcceptor(function(easyrtcid, stream, streamName){\n     *     document.getElementById('callerName').innerHTML = easyrtc.idToName(easyrtcid);\n     *     easyrtc.setVideoObjectSrc( document.getElementById(\"callerVideo\"), stream);\n     *  });\n     */\n    this.setStreamAcceptor = function(acceptor) {\n        self.streamAcceptor = acceptor;\n    };\n\n    /** Sets the easyrtc.onError field to a user specified function.\n     * @param {Function} errListener takes an object of the form {errorCode: String, errorText: String}\n     * @example\n     *    easyrtc.setOnError( function(errorObject){\n     *        document.getElementById(\"errMessageDiv\").innerHTML += errorObject.errorText;\n     *    });\n     */\n    self.setOnError = function(errListener) {\n        self.onError = errListener;\n    };\n\n    /**\n     * Sets the callCancelled callback. This will be called when a remote user\n     * initiates a call to you, but does a \"hangup\" before you have a chance to get his video stream.\n     * @param {Function} callCancelled takes an easyrtcid as an argument and a boolean that indicates whether\n     *  the call was explicitly cancelled remotely (true), or actually accepted by the user attempting a call to\n     *  the same party.\n     * @example\n     *     easyrtc.setCallCancelled( function(easyrtcid, explicitlyCancelled){\n     *        if( explicitlyCancelled ){\n     *            console.log(easyrtc.idToName(easyrtcid) + \" stopped trying to reach you\");\n     *         }\n     *         else{\n     *            console.log(\"Implicitly called \"  + easyrtc.idToName(easyrtcid));\n     *         }\n     *     });\n     */\n    this.setCallCancelled = function(callCancelled) {\n        self.callCancelled = callCancelled;\n    };\n\n    /**  Sets a callback to receive notification of a media stream closing. The usual\n     *  use of this is to clear the source of your video object so you aren't left with\n     *  the last frame of the video displayed on it.\n     *  @param {Function} onStreamClosed takes an easyrtcid as it's first parameter, the stream as it's second argument, and name of the video stream as it's third.\n     *  @example\n     *     easyrtc.setOnStreamClosed( function(easyrtcid, stream, streamName){\n     *         easyrtc.setVideoObjectSrc( document.getElementById(\"callerVideo\"), \"\");\n     *         ( easyrtc.idToName(easyrtcid) + \" closed stream \" + stream.id + \" \" + streamName);\n     *     });\n     */\n    this.setOnStreamClosed = function(onStreamClosed) {\n        self.onStreamClosed = onStreamClosed;\n    };\n\n    /**\n     * Sets a listener for data sent from another client (either peer to peer or via websockets).\n     * If no msgType or source is provided, the listener applies to all events that aren't otherwise handled.\n     * If a msgType but no source is provided, the listener applies to all messages of that msgType that aren't otherwise handled.\n     * If a msgType and a source is provided, the listener applies to only message of the specified type coming from the specified peer.\n     * The most specific case takes priority over the more general.\n     * @param {Function} listener has the signature (easyrtcid, msgType, msgData, targeting).\n     *   msgType is a string. targeting is null if the message was received using WebRTC data channels, otherwise it\n     *   is an object that contains one or more of the following string valued elements {targetEasyrtcid, targetGroup, targetRoom}.\n     * @param {String} msgType - a string, optional.\n     * @param {String} source - the sender's easyrtcid, optional.\n     * @example\n     *     easyrtc.setPeerListener( function(easyrtcid, msgType, msgData, targeting){\n     *         console.log(\"From \" + easyrtc.idToName(easyrtcid) +\n     *             \" sent the following data \" + JSON.stringify(msgData));\n     *     });\n     *     easyrtc.setPeerListener( function(easyrtcid, msgType, msgData, targeting){\n     *         console.log(\"From \" + easyrtc.idToName(easyrtcid) +\n     *             \" sent the following data \" + JSON.stringify(msgData));\n     *     }, 'food', 'dkdjdekj44--');\n     *     easyrtc.setPeerListener( function(easyrtcid, msgType, msgData, targeting){\n     *         console.log(\"From \" + easyrtcid +\n     *             \" sent the following data \" + JSON.stringify(msgData));\n     *     }, 'drink');\n     *\n     *\n     */\n    this.setPeerListener = function(listener, msgType, source) {\n        if (!msgType) {\n            receivePeer.cb = listener;\n        }\n        else {\n            if (!receivePeer.msgTypes[msgType]) {\n                receivePeer.msgTypes[msgType] = {sources: {}};\n            }\n            if (!source) {\n                receivePeer.msgTypes[msgType].cb = listener;\n            }\n            else {\n                receivePeer.msgTypes[msgType].sources[source] = {cb: listener};\n            }\n        }\n    };\n    /* This function serves to distribute peer messages to the various peer listeners */\n    /** @private\n     * @param {String} easyrtcid\n     * @param {Object} msg - needs to contain a msgType and a msgData field.\n     * @param {Object} targeting\n     */\n    this.receivePeerDistribute = function(easyrtcid, msg, targeting) {\n        var msgType = msg.msgType;\n        var msgData = msg.msgData;\n        if (!msgType) {\n            logDebug(\"received peer message without msgType\", msg);\n            return;\n        }\n\n        if (receivePeer.msgTypes[msgType]) {\n            if (receivePeer.msgTypes[msgType].sources[easyrtcid] &&\n                    receivePeer.msgTypes[msgType].sources[easyrtcid].cb) {\n                receivePeer.msgTypes[msgType].sources[easyrtcid].cb(easyrtcid, msgType, msgData, targeting);\n                return;\n            }\n            if (receivePeer.msgTypes[msgType].cb) {\n                receivePeer.msgTypes[msgType].cb(easyrtcid, msgType, msgData, targeting);\n                return;\n            }\n        }\n        if (receivePeer.cb) {\n            receivePeer.cb(easyrtcid, msgType, msgData, targeting);\n        }\n    };\n\n    /**\n     * Sets a listener for messages from the server.\n     * @param {Function} listener has the signature (msgType, msgData, targeting)\n     * @example\n     *     easyrtc.setServerListener( function(msgType, msgData, targeting){\n     *         (\"The Server sent the following message \" + JSON.stringify(msgData));\n     *     });\n     */\n    this.setServerListener = function(listener) {\n        receiveServerCB = listener;\n    };\n\n    /**\n     * Sets the url of the Socket server.\n     * The node.js server is great as a socket server, but it doesn't have\n     * all the hooks you'd like in a general web server, like PHP or Python\n     * plug-ins. By setting the serverPath your application can get it's regular\n     * pages from a regular web server, but the EasyRTC library can still reach the\n     * socket server.\n     * @param {String} socketUrl\n     * @param {Object} options an optional dictionary of options for socket.io's connect method.\n     * The default is {'connect timeout': 10000,'force new connection': true }\n     * @example\n     *     easyrtc.setSocketUrl(\":8080\", options);\n     */\n    this.setSocketUrl = function(socketUrl, options) {\n        logDebug(\"WebRTC signaling server URL set to \" + socketUrl);\n        serverPath = socketUrl;\n        if( options ) {\n            connectionOptions = options;\n        }\n    };\n\n    /**\n     * Sets the user name associated with the connection.\n     * @param {String} username must obey standard identifier conventions.\n     * @returns {Boolean} true if the call succeeded, false if the username was invalid.\n     * @example\n     *    if( !easyrtc.setUsername(\"JohnSmith\") ){\n     *        console.error(\"bad user name);\n     *    }\n     *\n     */\n    this.setUsername = function(username) {\n        if( self.myEasyrtcid ) {\n            self.showError(self.errCodes.DEVELOPER_ERR, \"easyrtc.setUsername called after authentication\");\n            return false;\n        }\n        else if (self.isNameValid(username)) {\n            self.username = username;\n            return true;\n        }\n        else {\n            self.showError(self.errCodes.BAD_NAME, self.format(self.getConstantString(\"badUserName\"), username));\n            return false;\n        }\n    };\n\n    /**\n     * Get an array of easyrtcids that are using a particular username\n     * @param {String} username - the username of interest.\n     * @param {String} room - an optional room name argument limiting results to a particular room.\n     * @returns {Array} an array of {easyrtcid:id, roomName: roomName}.\n     */\n    this.usernameToIds = function(username, room) {\n        var results = [];\n        var id, roomName;\n        for (roomName in lastLoggedInList) {\n            if (!lastLoggedInList.hasOwnProperty(roomName)) {\n                continue;\n            }\n            if (room && roomName !== room) {\n                continue;\n            }\n            for (id in lastLoggedInList[roomName]) {\n                if (!lastLoggedInList[roomName].hasOwnProperty(id)) {\n                    continue;\n                }\n                if (lastLoggedInList[roomName][id].username === username) {\n                    results.push({\n                        easyrtcid: id,\n                        roomName: roomName\n                    });\n                }\n            }\n        }\n        return results;\n    };\n\n    /**\n     * Returns another peers API field, if it exists.\n     * @param {type} roomName\n     * @param {type} easyrtcid\n     * @param {type} fieldName\n     * @returns {Object}  Undefined if the attribute does not exist, its value otherwise.\n     */\n    this.getRoomApiField = function(roomName, easyrtcid, fieldName) {\n        if (lastLoggedInList[roomName] &&\n                lastLoggedInList[roomName][easyrtcid] &&\n                lastLoggedInList[roomName][easyrtcid].apiField &&\n                lastLoggedInList[roomName][easyrtcid].apiField[fieldName]) {\n            return lastLoggedInList[roomName][easyrtcid].apiField[fieldName].fieldValue;\n        }\n        else {\n            return undefined;\n        }\n    };\n\n    /**\n     * Set the authentication credential if needed.\n     * @param {Object} credentialParm - a JSONable object.\n     */\n    this.setCredential = function(credentialParm) {\n        try {\n            JSON.stringify(credentialParm);\n            credential = credentialParm;\n            return true;\n        }\n        catch (oops) {\n            self.showError(self.errCodes.BAD_CREDENTIAL, \"easyrtc.setCredential passed a non-JSON-able object\");\n            throw \"easyrtc.setCredential passed a non-JSON-able object\";\n        }\n    };\n\n    /**\n     * Sets the listener for socket disconnection by external (to the API) reasons.\n     * @param {Function} disconnectListener takes no arguments and is not called as a result of calling easyrtc.disconnect.\n     * @example\n     *    easyrtc.setDisconnectListener(function(){\n     *        easyrtc.showError(\"SYSTEM-ERROR\", \"Lost our connection to the socket server\");\n     *    });\n     */\n    this.setDisconnectListener = function(disconnectListener) {\n        self.disconnectListener = disconnectListener;\n    };\n\n    /**\n     * Convert an easyrtcid to a user name. This is useful for labeling buttons and messages\n     * regarding peers.\n     * @param {String} easyrtcid\n     * @return {String} the username associated with the easyrtcid, or the easyrtcid if there is\n     * no associated username.\n     * @example\n     *    console.log(easyrtcid + \" is actually \" + easyrtc.idToName(easyrtcid));\n     */\n    this.idToName = function(easyrtcid) {\n        var roomName;\n        for (roomName in lastLoggedInList) {\n            if (!lastLoggedInList.hasOwnProperty(roomName)) {\n                continue;\n            }\n            if (lastLoggedInList[roomName][easyrtcid]) {\n                if (lastLoggedInList[roomName][easyrtcid].username) {\n                    return lastLoggedInList[roomName][easyrtcid].username;\n                }\n            }\n        }\n        return easyrtcid;\n    };\n\n    /* used in easyrtc.connect */\n    /** @private */\n    this.webSocket = null;\n    /** @private */\n    var pc_config = {};\n    /** @private */\n    var pc_config_to_use = null;\n    /** @private */\n    var use_fresh_ice_each_peer = false;\n\n    /**\n     * Determines whether fresh ice server configuration should be requested from the server for each peer connection.\n     * @param {Boolean} value the default is false.\n     */\n    this.setUseFreshIceEachPeerConnection = function(value) {\n        use_fresh_ice_each_peer = value;\n    };\n\n    /**\n     * Returns the last ice config supplied by the EasyRTC server. This function is not normally used, it is provided\n     * for people who want to try filtering ice server configuration on the client.\n     * @return {Object} which has the form {iceServers:[ice_server_entry, ice_server_entry, ...]}\n     */\n    this.getServerIce = function() {\n        return pc_config;\n    };\n\n    /**\n     * Sets the ice server configuration that will be used in subsequent calls. You only need this function if you are filtering\n     * the ice server configuration on the client or if you are using TURN certificates that have a very short lifespan.\n     * @param {Object} ice An object with iceServers element containing an array of ice server entries.\n     * @example\n     *     easyrtc.setIceUsedInCalls( {\"iceServers\": [\n     *      {\n     *         \"url\": \"stun:stun.sipgate.net\"\n     *      },\n     *      {\n     *         \"url\": \"stun:217.10.68.152\"\n     *      },\n     *      {\n     *         \"url\": \"stun:stun.sipgate.net:10000\"\n     *      }\n     *      ]});\n     *      easyrtc.call(...);\n     */\n    this.setIceUsedInCalls = function(ice) {\n        if (!ice.iceServers) {\n            self.showError(self.errCodes.DEVELOPER_ERR, \"Bad ice configuration passed to easyrtc.setIceUsedInCalls\");\n        }\n        else {\n            pc_config_to_use = ice;\n        }\n    };\n\n    /** @private */\n    function getRemoteStreamByName(peerConn, otherUser, streamName) {\n                    \n        var keyToMatch = null;\n        var remoteStreams = peerConn.pc.getRemoteStreams();\n\n        // No streamName lead to default \n        if (!streamName) {\n            streamName = \"default\";\n        }\n\n        // default lead to first if available\n        if (streamName === \"default\") {\n            if (remoteStreams.length > 0) {\n                return remoteStreams[0];\n            }\n            else {\n                return null;\n            }\n        }\n\n        // Get mediaIds from user roomData\n        for (var roomName in self.roomData) {\n            if (self.roomData.hasOwnProperty(roomName)) {\n                var mediaIds = self.getRoomApiField(roomName, otherUser, \"mediaIds\");\n                keyToMatch = mediaIds ? mediaIds[streamName] : null;\n                if (keyToMatch) {\n                    break;\n                }\n            }\n        }\n\n        // \n        if (!keyToMatch) {\n            self.showError(self.errCodes.DEVELOPER_ERR, \"remote peer does not have media stream called \" + streamName);\n        }\n\n        // \n        for (var i = 0; i < remoteStreams.length; i++) {\n            var remoteId;\n            if (remoteStreams[i].id) {\n                remoteId = remoteStreams[i].id;\n            }  else {\n                remoteId = \"default\";\n            }\n\n            if (\n                !keyToMatch || // No match\n                    remoteId === keyToMatch || // Full match\n                        remoteId.indexOf(keyToMatch) === 0 // Partial match\n            ) {\n                return remoteStreams[i];\n            }\n\n        }\n\n        return null;\n    }\n\n    /**\n     * @private\n     * @param {string} easyrtcid\n     * @param {boolean} checkAudio\n     * @param {string} streamName\n     */\n    function _haveTracks(easyrtcid, checkAudio, streamName) {\n        var stream, peerConnObj;\n        if (!easyrtcid) {\n            stream = getLocalMediaStreamByName(streamName);\n        }\n        else {\n            peerConnObj = peerConns[easyrtcid];\n            if (!peerConnObj) {\n                self.showError(self.errCodes.DEVELOPER_ERR, \"haveTracks called about a peer you don't have a connection to\");\n                return false;\n            }\n            stream = getRemoteStreamByName(peerConns[easyrtcid], easyrtcid, streamName);\n        }\n        if (!stream) {\n            return false;\n        }\n\n        var tracks;\n        try {\n\n            if (checkAudio) {\n                tracks = stream.getAudioTracks();\n            }\n            else {\n                tracks = stream.getVideoTracks();\n            }\n\n        } catch (oops) {\n            // TODO why do we return true here ?\n            return true;\n        }\n\n        if (!tracks) {\n            return false;\n        }\n\n        return tracks.length > 0;\n    }\n\n    /** Determines if a particular peer2peer connection has an audio track.\n     * @param {String} easyrtcid - the id of the other caller in the connection. If easyrtcid is not supplied, checks the local media.\n     * @param {String} streamName - an optional stream id.\n     * @return {Boolean} true if there is an audio track or the browser can't tell us.\n     */\n    this.haveAudioTrack = function(easyrtcid, streamName) {\n        return _haveTracks(easyrtcid, true, streamName);\n    };\n\n    /** Determines if a particular peer2peer connection has a video track.\n     * @param {String} easyrtcid - the id of the other caller in the connection. If easyrtcid is not supplied, checks the local media.\n     * @param {String} streamName - an optional stream id.     *\n     * @return {Boolean} true if there is an video track or the browser can't tell us.\n     */\n    this.haveVideoTrack = function(easyrtcid, streamName) {\n        return _haveTracks(easyrtcid, false, streamName);\n    };\n\n    /**\n     * Gets a data field associated with a room.\n     * @param {String} roomName - the name of the room.\n     * @param {String} fieldName - the name of the field.\n     * @return {Object} dataValue - the value of the field if present, undefined if not present.\n     */\n    this.getRoomField = function(roomName, fieldName) {\n        var fields = self.getRoomFields(roomName);\n        return (!fields || !fields[fieldName]) ? undefined : fields[fieldName].fieldValue;\n    };\n\n    /** @private */\n    var fields = null;\n\n    /** @private */\n    var preallocatedSocketIo = null;\n\n    /** @private */\n    var closedChannel = null;\n\n    //\n    // easyrtc.disconnect performs a clean disconnection of the client from the server.\n    //\n    function disconnectBody() {\n        var key;\n        self.loggingOut = true;\n        offersPending = {};\n        acceptancePending = {};\n        self.disconnecting = true;\n        closedChannel = self.webSocket;\n        if (self.webSocketConnected) {\n            if (!preallocatedSocketIo) {\n                self.webSocket.close();\n            }\n            self.webSocketConnected = false;\n        }\n        self.hangupAll();\n        if (roomOccupantListener) {\n            for (key in lastLoggedInList) {\n                if (lastLoggedInList.hasOwnProperty(key)) {\n                    roomOccupantListener(key, {}, false);\n                }\n            }\n        }\n        lastLoggedInList = {};\n        self.emitEvent(\"roomOccupant\", {});\n        self.roomData = {};\n        self.roomJoin = {};\n        self._roomApiFields = {};\n        self.loggingOut = false;\n        self.myEasyrtcid = null;\n        self.disconnecting = false;\n        oldConfig = {};\n    }\n\n    /**\n     * Disconnect from the EasyRTC server.\n     * @example\n     *    easyrtc.disconnect();\n     */\n    this.disconnect = function() {\n\n        logDebug(\"attempt to disconnect from WebRTC signalling server\");\n\n        self.disconnecting = true;\n        self.hangupAll();\n        self.loggingOut = true;\n        //\n        // The hangupAll may try to send configuration information back to the server.\n        // Collecting that information is asynchronous, we don't actually close the\n        // connection until it's had a chance to be sent. We allocate 100ms for collecting\n        // the info, so 250ms should be sufficient for the disconnecting.\n        //\n        setTimeout(function() {\n            if (self.webSocket) {\n                try {\n                    self.webSocket.disconnect();\n                } catch (e) {\n                    // we don't really care if this fails.\n                }\n\n                closedChannel = self.webSocket;\n                self.webSocket = 0;\n            }\n            self.loggingOut = false;\n            self.disconnecting = false;\n            if (roomOccupantListener) {\n                roomOccupantListener(null, {}, false);\n            }\n            self.emitEvent(\"roomOccupant\", {});\n            oldConfig = {};\n        }, 250);\n    };\n\n    /** @private */\n    //\n    // This function is used to send WebRTC signaling messages to another client. These messages all the form:\n    //   destUser: some id or null\n    //   msgType: one of [\"offer\"/\"answer\"/\"candidate\",\"reject\",\"hangup\", \"getRoomList\"]\n    //   msgData: either null or an SDP record\n    //   successCallback: a function with the signature  function(msgType, wholeMsg);\n    //   errorCallback: a function with signature function(errorCode, errorText)\n    //\n    function sendSignalling(destUser, msgType, msgData, successCallback, errorCallback) {\n        if (!self.webSocket) {\n            throw \"Attempt to send message without a valid connection to the server.\";\n        }\n        else {\n            var dataToShip = {\n                msgType: msgType\n            };\n            if (destUser) {\n                dataToShip.targetEasyrtcid = destUser;\n            }\n            if (msgData) {\n                dataToShip.msgData = msgData;\n            }\n\n            logDebug(\"sending socket message \" + JSON.stringify(dataToShip));\n\n            self.webSocket.json.emit(\"easyrtcCmd\", dataToShip,\n                    function(ackMsg) {\n                        if (ackMsg.msgType !== \"error\") {\n                            if (!ackMsg.hasOwnProperty(\"msgData\")) {\n                                ackMsg.msgData = null;\n                            }\n                            if (successCallback) {\n                                successCallback(ackMsg.msgType, ackMsg.msgData);\n                            }\n                        }\n                        else {\n                            if (errorCallback) {\n                                errorCallback(ackMsg.msgData.errorCode, ackMsg.msgData.errorText);\n                            }\n                            else {\n                                self.showError(ackMsg.msgData.errorCode, ackMsg.msgData.errorText);\n                            }\n                        }\n                    }\n            );\n        }\n    }\n\n    /** @private */\n    //\n    // This function is used to send large messages. it sends messages that have a transfer field\n    // so that the receiver knows it's a transfer message. To differentiate the transfers, a\n    // transferId is generated and passed for each message.\n    //\n    var sendByChunkUidCounter = 0;\n    /** @private */\n    function sendByChunkHelper(destUser, msgData) {\n        var transferId = destUser + '-' + sendByChunkUidCounter++;\n\n        var pos, len, startMessage, message, endMessage;\n        var numberOfChunks = Math.ceil(msgData.length / self.maxP2PMessageLength);\n        startMessage = {\n            transfer: 'start',\n            transferId: transferId,\n            parts: numberOfChunks\n        };\n\n        endMessage = {\n            transfer: 'end',\n            transferId: transferId\n        };\n\n        peerConns[destUser].dataChannelS.send(JSON.stringify(startMessage));\n\n        for (pos = 0, len = msgData.length; pos < len; pos += self.maxP2PMessageLength) {\n            message = {\n                transferId: transferId,\n                data: msgData.substr(pos, self.maxP2PMessageLength),\n                transfer: 'chunk'\n            };\n            peerConns[destUser].dataChannelS.send(JSON.stringify(message));\n        }\n\n        peerConns[destUser].dataChannelS.send(JSON.stringify(endMessage));\n    }\n\n    /**\n     *Sends data to another user using previously established data channel. This method will\n     * fail if no data channel has been established yet. Unlike the easyrtc.sendWS method,\n     * you can't send a dictionary, convert dictionaries to strings using JSON.stringify first.\n     * What data types you can send, and how large a data type depends on your browser.\n     * @param {String} destUser (an easyrtcid)\n     * @param {String} msgType - the type of message being sent (application specific).\n     * @param {Object} msgData - a JSONable object.\n     * @example\n     *     easyrtc.sendDataP2P(someEasyrtcid, \"roomData\", {room:499, bldgNum:'asd'});\n     */\n    this.sendDataP2P = function(destUser, msgType, msgData) {\n\n        var flattenedData = JSON.stringify({msgType: msgType, msgData: msgData});\n        logDebug(\"sending p2p message to \" + destUser + \" with data=\" + JSON.stringify(flattenedData));\n\n        if (!peerConns[destUser]) {\n            self.showError(self.errCodes.DEVELOPER_ERR, \"Attempt to send data peer to peer without a connection to \" + destUser + ' first.');\n        }\n        else if (!peerConns[destUser].dataChannelS) {\n            self.showError(self.errCodes.DEVELOPER_ERR, \"Attempt to send data peer to peer without establishing a data channel to \" + destUser + ' first.');\n        }\n        else if (!peerConns[destUser].dataChannelReady) {\n            self.showError(self.errCodes.DEVELOPER_ERR, \"Attempt to use data channel to \" + destUser + \" before it's ready to send.\");\n        }\n        else {\n            try {\n                if (flattenedData.length > self.maxP2PMessageLength) {\n                    sendByChunkHelper(destUser, flattenedData);\n                } else {\n                    peerConns[destUser].dataChannelS.send(flattenedData);\n                }\n            } catch (sendDataErr) {\n                logDebug(\"sendDataP2P error: \", sendDataErr);\n                throw sendDataErr;\n            }\n        }\n    };\n\n    /** Sends data to another user using websockets. The easyrtc.sendServerMessage or easyrtc.sendPeerMessage methods\n     * are wrappers for this method; application code should use them instead.\n     * @param {String} destination - either a string containing the easyrtcId of the other user, or an object containing some subset of the following fields: targetEasyrtcid, targetGroup, targetRoom.\n     * Specifying multiple fields restricts the scope of the destination (operates as a logical AND, not a logical OR).\n     * @param {String} msgType -the type of message being sent (application specific).\n     * @param {Object} msgData - a JSONable object.\n     * @param {Function} ackhandler - by default, the ackhandler handles acknowledgments from the server that your message was delivered to it's destination.\n     * However, application logic in the server can over-ride this. If you leave this null, a stub ackHandler will be used. The ackHandler\n     * gets passed a message with the same msgType as your outgoing message, or a message type of \"error\" in which case\n     * msgData will contain a errorCode and errorText fields.\n     * @example\n     *    easyrtc.sendDataWS(someEasyrtcid, \"setPostalAddress\", {room:499, bldgNum:'asd'},\n     *      function(ackMsg){\n     *          console.log(\"saw the following acknowledgment \" + JSON.stringify(ackMsg));\n     *      }\n     *    );\n     */\n    this.sendDataWS = function(destination, msgType, msgData, ackhandler) {\n        logDebug(\"sending client message via websockets to \" + destination + \" with data=\" + JSON.stringify(msgData));\n\n        if (!ackhandler) {\n            ackhandler = function(msg) {\n                if (msg.msgType === \"error\") {\n                    self.showError(msg.msgData.errorCode, msg.msgData.errorText);\n                }\n            };\n        }\n\n        var outgoingMessage = {\n            msgType: msgType,\n            msgData: msgData\n        };\n\n        if (destination) {\n            if (typeof destination === 'string') {\n                outgoingMessage.targetEasyrtcid = destination;\n            }\n            else if (typeof destination === 'object') {\n                if (destination.targetEasyrtcid) {\n                    outgoingMessage.targetEasyrtcid = destination.targetEasyrtcid;\n                }\n                if (destination.targetRoom) {\n                    outgoingMessage.targetRoom = destination.targetRoom;\n                }\n                if (destination.targetGroup) {\n                    outgoingMessage.targetGroup = destination.targetGroup;\n                }\n            }\n        }\n\n        if (self.webSocket) {\n            self.webSocket.json.emit(\"easyrtcMsg\", outgoingMessage, ackhandler);\n        }\n        else {\n            logDebug(\"websocket failed because no connection to server\");\n\n            throw \"Attempt to send message without a valid connection to the server.\";\n        }\n    };\n\n    /** Sends data to another user. This method uses data channels if one has been set up, or websockets otherwise.\n     * @param {String} destUser - a string containing the easyrtcId of the other user.\n     * Specifying multiple fields restricts the scope of the destination (operates as a logical AND, not a logical OR).\n     * @param {String} msgType -the type of message being sent (application specific).\n     * @param {Object} msgData - a JSONable object.\n     * @param {Function} ackHandler - a function which receives acknowledgments. May only be invoked in\n     *  the websocket case.\n     * @example\n     *    easyrtc.sendData(someEasyrtcid, \"roomData\",  {room:499, bldgNum:'asd'},\n     *       function ackHandler(msgType, msgData);\n     *    );\n     */\n    this.sendData = function(destUser, msgType, msgData, ackHandler) {\n        if (peerConns[destUser] && peerConns[destUser].dataChannelReady) {\n            self.sendDataP2P(destUser, msgType, msgData);\n        }\n        else {\n            self.sendDataWS(destUser, msgType, msgData, ackHandler);\n        }\n    };\n\n    /**\n     * Sends a message to another peer on the easyrtcMsg channel.\n     * @param {String} destination - either a string containing the easyrtcId of the other user, or an object containing some subset of the following fields: targetEasyrtcid, targetGroup, targetRoom.\n     * Specifying multiple fields restricts the scope of the destination (operates as a logical AND, not a logical OR).\n     * @param {String} msgType - the type of message being sent (application specific).\n     * @param {Object} msgData - a JSONable object with the message contents.\n     * @param {function(String, Object)} successCB - a callback function with results from the server.\n     * @param {function(String, String)} failureCB - a callback function to handle errors.\n     * @example\n     *     easyrtc.sendPeerMessage(otherUser, 'offer_candy', {candy_name:'mars'},\n     *             function(msgType, msgBody ){\n     *                console.log(\"message was sent\");\n     *             },\n     *             function(errorCode, errorText){\n     *                console.log(\"error was \" + errorText);\n     *             });\n     */\n    this.sendPeerMessage = function(destination, msgType, msgData, successCB, failureCB) {\n        if (!destination) {\n            self.showError(self.errCodes.DEVELOPER_ERR, \"destination was null in sendPeerMessage\");\n        }\n\n        logDebug(\"sending peer message \" + JSON.stringify(msgData));\n\n        function ackHandler(response) {\n            if (response.msgType === \"error\") {\n                if (failureCB) {\n                    failureCB(response.msgData.errorCode, response.msgData.errorText);\n                }\n            }\n            else {\n                if (successCB) {\n                    // firefox complains if you pass an undefined as an parameter.\n                    successCB(response.msgType, response.msgData ? response.msgData : null);\n                }\n            }\n        }\n\n        self.sendDataWS(destination, msgType, msgData, ackHandler);\n    };\n\n    /**\n     * Sends a message to the application code in the server (ie, on the easyrtcMsg channel).\n     * @param {String} msgType - the type of message being sent (application specific).\n     * @param {Object} msgData - a JSONable object with the message contents.\n     * @param {function(String, Object)} successCB - a callback function with results from the server.\n     * @param {function(String, String)} failureCB - a callback function to handle errors.\n     * @example\n     *     easyrtc.sendServerMessage('get_candy', {candy_name:'mars'},\n     *             function(msgType, msgData ){\n     *                console.log(\"got candy count of \" + msgData.barCount);\n     *             },\n     *             function(errorCode, errorText){\n     *                console.log(\"error was \" + errorText);\n     *             });\n     */\n    this.sendServerMessage = function(msgType, msgData, successCB, failureCB) {\n\n        var dataToShip = {msgType: msgType, msgData: msgData};\n        logDebug(\"sending server message \" + JSON.stringify(dataToShip));\n\n        function ackhandler(response) {\n            if (response.msgType === \"error\") {\n                if (failureCB) {\n                    failureCB(response.msgData.errorCode, response.msgData.errorText);\n                }\n            }\n            else {\n                if (successCB) {\n                    successCB(response.msgType, response.msgData ? response.msgData : null);\n                }\n            }\n        }\n\n        self.sendDataWS(null, msgType, msgData, ackhandler);\n    };\n\n    /** Sends the server a request for the list of rooms the user can see.\n     * You must have already be connected to use this function.\n     * @param {function(Object)} callback - on success, this function is called with a map of the form  { roomName:{\"roomName\":String, \"numberClients\": Number}}.\n     * The roomName appears as both the key to the map, and as the value of the \"roomName\" field.\n     * @param {function(String, String)} errorCallback   is called on failure. It gets an errorCode and errorText as it's too arguments.\n     * @example\n     *    easyrtc.getRoomList(\n     *        function(roomList){\n     *           for(roomName in roomList){\n     *              console.log(\"saw room \" + roomName);\n     *           }\n     *         },\n     *         function(errorCode, errorText){\n     *            easyrtc.showError(errorCode, errorText);\n     *         }\n     *    );\n     */\n    this.getRoomList = function(callback, errorCallback) {\n        sendSignalling(null, \"getRoomList\", null,\n                function(msgType, msgData) {\n                    callback(msgData.roomList);\n                },\n                function(errorCode, errorText) {\n                    if (errorCallback) {\n                        errorCallback(errorCode, errorText);\n                    }\n                    else {\n                        self.showError(errorCode, errorText);\n                    }\n                }\n        );\n    };\n\n    /** Value returned by easyrtc.getConnectStatus if the other user isn't connected to us. */\n    this.NOT_CONNECTED = \"not connected\";\n\n    /** Value returned by easyrtc.getConnectStatus if the other user is in the process of getting connected */\n    this.BECOMING_CONNECTED = \"connection in progress to us.\";\n\n    /** Value returned by easyrtc.getConnectStatus if the other user is connected to us. */\n    this.IS_CONNECTED = \"is connected\";\n\n    /**\n     * Check if the client has a peer-2-peer connection to another user.\n     * The return values are text strings so you can use them in debugging output.\n     *  @param {String} otherUser - the easyrtcid of the other user.\n     *  @return {String} one of the following values: easyrtc.NOT_CONNECTED, easyrtc.BECOMING_CONNECTED, easyrtc.IS_CONNECTED\n     *  @example\n     *     if( easyrtc.getConnectStatus(otherEasyrtcid) == easyrtc.NOT_CONNECTED ){\n     *         easyrtc.call(otherEasyrtcid,\n     *                  function(){ console.log(\"success\"); },\n     *                  function(){ console.log(\"failure\"); });\n     *     }\n     */\n    this.getConnectStatus = function(otherUser) {\n        if (!peerConns.hasOwnProperty(otherUser)) {\n            return self.NOT_CONNECTED;\n        }\n        var peer = peerConns[otherUser];\n        if ((peer.sharingAudio || peer.sharingVideo) && !peer.startedAV) {\n            return self.BECOMING_CONNECTED;\n        }\n        else if (peer.sharingData && !peer.dataChannelReady) {\n            return self.BECOMING_CONNECTED;\n        }\n        else {\n            return self.IS_CONNECTED;\n        }\n    };\n\n    /**\n     * @private\n     */\n    function buildPeerConstraints() {\n        var options = [];\n        options.push({'DtlsSrtpKeyAgreement': 'true'}); // for interoperability\n        return {optional: options};\n    }\n\n    /** @private */\n    function sendQueuedCandidates(peer, onSignalSuccess, onSignalFailure) {\n        var i;\n        for (i = 0; i < peerConns[peer].candidatesToSend.length; i++) {\n            sendSignalling(\n                    peer,\n                    \"candidate\",\n                    peerConns[peer].candidatesToSend[i],\n                    onSignalSuccess,\n                    onSignalFailure\n                    );\n        }\n    }\n\n    /** @private */\n    //\n    // This function calls the users onStreamClosed handler, passing it the easyrtcid of the peer, the stream itself,\n    // and the name of the stream.\n    //\n    function emitOnStreamClosed(easyrtcid, stream) {\n        if (!peerConns[easyrtcid]) {\n            return;\n        }\n        var streamName;\n        var id;\n        if (stream.id) {\n            id = stream.id;\n        }\n        else {\n            id = \"default\";\n        }\n        streamName = peerConns[easyrtcid].remoteStreamIdToName[id] || \"default\";\n        if (peerConns[easyrtcid].liveRemoteStreams[streamName] &&\n            self.onStreamClosed) {\n            delete peerConns[easyrtcid].liveRemoteStreams[streamName];\n            self.onStreamClosed(easyrtcid, stream, streamName);\n        }\n        delete peerConns[easyrtcid].remoteStreamIdToName[id];\n    }\n\n    /** @private */\n    function onRemoveStreamHelper(easyrtcid, stream) {\n        if (peerConns[easyrtcid]) {\n            emitOnStreamClosed(easyrtcid, stream);\n            updateConfigurationInfo();\n            if (peerConns[easyrtcid].pc) {\n                 try {\n                    peerConns[easyrtcid].pc.removeStream(stream);\n                 } catch( err) {}\n            }\n        }\n    }\n\n    /** @private */\n    function buildDeltaRecord(added, deleted) {\n        function objectNotEmpty(obj) {\n            var i;\n            for (i in obj) {\n                if (obj.hasOwnProperty(i)) {\n                    return true;\n                }\n            }\n            return false;\n        }\n\n        var result = {};\n        if (objectNotEmpty(added)) {\n            result.added = added;\n        }\n\n        if (objectNotEmpty(deleted)) {\n            result.deleted = deleted;\n        }\n\n        if (objectNotEmpty(result)) {\n            return result;\n        }\n        else {\n            return null;\n        }\n    }\n\n    /** @private */\n    function findDeltas(oldVersion, newVersion) {\n        var i;\n        var added = {}, deleted = {};\n        var subPart;\n        for (i in newVersion) {\n            if (newVersion.hasOwnProperty(i)) {\n                if (oldVersion === null || typeof oldVersion[i] === 'undefined') {\n                    added[i] = newVersion[i];\n                }\n                else if (typeof newVersion[i] === 'object') {\n                    subPart = findDeltas(oldVersion[i], newVersion[i]);\n                    if (subPart !== null) {\n                        added[i] = newVersion[i];\n                    }\n                }\n                else if (newVersion[i] !== oldVersion[i]) {\n                    added[i] = newVersion[i];\n                }\n            }\n        }\n        for (i in oldVersion) {\n            if (newVersion.hasOwnProperty(i)) {\n                if (typeof newVersion[i] === 'undefined') {\n                    deleted[i] = oldVersion[i];\n                }\n            }\n        }\n\n        return buildDeltaRecord(added, deleted);\n    }\n\n    /** @private */\n    //\n    // this function collects configuration info that will be sent to the server.\n    // It returns that information, leaving it the responsibility of the caller to\n    // do the actual sending.\n    //\n    function collectConfigurationInfo(/* forAuthentication */) {\n        var p2pList = {};\n        var i;\n        for (i in peerConns) {\n            if (!peerConns.hasOwnProperty(i)) {\n                continue;\n            }\n            p2pList[i] = {\n                connectTime: peerConns[i].connectTime,\n                isInitiator: !!peerConns[i].isInitiator\n            };\n        }\n\n        var newConfig = {\n            userSettings: {\n                sharingAudio: !!haveAudioVideo.audio,\n                sharingVideo: !!haveAudioVideo.video,\n                sharingData: !!dataEnabled,\n                nativeVideoWidth: self.nativeVideoWidth,\n                nativeVideoHeight: self.nativeVideoHeight,\n                windowWidth: window.innerWidth,\n                windowHeight: window.innerHeight,\n                screenWidth: window.screen.width,\n                screenHeight: window.screen.height,\n                cookieEnabled: navigator.cookieEnabled,\n                os: navigator.oscpu,\n                language: navigator.language\n            }\n        };\n\n        if (!isEmptyObj(p2pList)) {\n            newConfig.p2pList = p2pList;\n        }\n\n        return newConfig;\n    }\n\n    /** @private */\n    function updateConfiguration() {\n\n        var newConfig = collectConfigurationInfo(false);\n        //\n        // we need to give the getStats calls a chance to fish out the data.\n        // The longest I've seen it take is 5 milliseconds so 100 should be overkill.\n        //\n        var sendDeltas = function() {\n            var alteredData = findDeltas(oldConfig, newConfig);\n            //\n            // send all the configuration information that changes during the session\n            //\n            if (alteredData) {\n                logDebug(\"cfg=\" + JSON.stringify(alteredData.added));\n\n                if (self.webSocket) {\n                    sendSignalling(null, \"setUserCfg\", {setUserCfg: alteredData.added}, null, null);\n                }\n            }\n            oldConfig = newConfig;\n        };\n        if (oldConfig === {}) {\n            sendDeltas();\n        }\n        else {\n            setTimeout(sendDeltas, 100);\n        }\n    }\n\n    // Parse the uint32 PRIORITY field into its constituent parts from RFC 5245,\n    // type preference, local preference, and (256 - component ID).\n    // ex: 126 | 32252 | 255 (126 is host preference, 255 is component ID 1)\n    function formatPriority(priority) {\n        var s = '';\n        s += (priority >> 24);\n        s += ' | ';\n        s += (priority >> 8) & 0xFFFF;\n        s += ' | ';\n        s += priority & 0xFF;\n        return s;\n    }\n\n    // Parse a candidate:foo string into an object, for easier use by other methods.\n    /** @private */\n    function parseCandidate(text) {\n        var candidateStr = 'candidate:';\n        var pos = text.indexOf(candidateStr) + candidateStr.length;\n        var fields = text.substr(pos).split(' ');\n        return {\n            'component': fields[1],\n            'type': fields[7],\n            'foundation': fields[0],\n            'protocol': fields[2],\n            'address': fields[4],\n            'port': fields[5],\n            'priority': formatPriority(fields[3])\n        };\n    }\n\n    /** @private */\n    function processCandicate(candicate) {\n        self._candicates = self._candicates || [];\n        self._candicates.push(parseCandidate(candicate));\n    }\n\n    function processAddedStream(otherUser, theStream) {\n        if (!peerConns[otherUser] ||  peerConns[otherUser].cancelled) {\n            return;\n        }\n\n        var peerConn = peerConns[otherUser];\n\n        if (!peerConn.startedAV) {\n            peerConn.startedAV = true;\n            peerConn.sharingAudio = haveAudioVideo.audio;\n            peerConn.sharingVideo = haveAudioVideo.video;\n            peerConn.connectTime = new Date().getTime();\n            if (peerConn.callSuccessCB) {\n                if (peerConn.sharingAudio || peerConn.sharingVideo) {\n                    peerConn.callSuccessCB(otherUser, \"audiovideo\");\n                }\n            }\n            if (self.audioEnabled || self.videoEnabled) {\n                updateConfiguration();\n            }\n        }\n\n        var remoteName = getNameOfRemoteStream(otherUser, theStream.id || \"default\");\n        if (!remoteName) {\n            remoteName = \"default\";\n        }\n        peerConn.remoteStreamIdToName[theStream.id || \"default\"] = remoteName;\n        peerConn.liveRemoteStreams[remoteName] = true;\n        theStream.streamName = remoteName;\n        if (self.streamAcceptor) {\n            self.streamAcceptor(otherUser, theStream, remoteName);\n            //\n            // Inform the other user that the stream they provided has been received.\n            // This should be moved into signalling at some point\n            //\n            self.sendDataWS(otherUser, \"easyrtc_streamReceived\", {streamName:remoteName},function(){});\n        }\n    }\n\n    function processAddedTrack(otherUser, peerStreams) {\n\n        if (!peerConns[otherUser] ||  peerConns[otherUser].cancelled) {\n            return;\n        }\n\n        var peerConn = peerConns[otherUser];\n        peerConn.trackTimers = peerConn.trackTimers || {};\n\n        // easyrtc thinks in terms of streams, not tracks.\n        // so we'll add a timeout when the first track event\n        // fires. Firefox produces two events (one of type \"video\",\n        // and one of type \"audio\".\n\n        for (var i = 0, l = peerStreams.length; i < l; i++) {\n            var peerStream = peerStreams[i],\n                streamId = peerStream.id || \"default\";\n            clearTimeout(peerConn.trackTimers[streamId]);\n            peerConn.trackTimers[streamId] = setTimeout(function(peerStream) {\n               processAddedStream(peerConn, otherUser, peerStream);\n            }.bind(peerStream), 100); // Bind peerStream\n        }\n    }\n\n    /** @private */\n    // TODO split buildPeerConnection it more thant 500 lines\n    function buildPeerConnection(otherUser, isInitiator, failureCB, streamNames) {\n        var pc;\n        var message;\n        var newPeerConn;\n        var iceConfig = pc_config_to_use ? pc_config_to_use : pc_config;\n\n        logDebug(\"building peer connection to \" + otherUser);\n\n        //\n        // we don't support data channels on chrome versions < 31\n        //\n\n        try {\n\n            pc = self.createRTCPeerConnection(iceConfig, buildPeerConstraints());\n\n            if (!pc) {\n                message = \"Unable to create PeerConnection object, check your ice configuration(\" + JSON.stringify(iceConfig) + \")\";\n                logDebug(message);\n                throw Error(message);\n            }\n\n            //\n            // turn off data channel support if the browser doesn't support it.\n            //\n\n            if (dataEnabled && typeof pc.createDataChannel === 'undefined') {\n                dataEnabled = false;\n            }\n\n            pc.onnegotiationneeded = function(event) {\n                if (\n                    peerConns[otherUser] &&\n                        (peerConns[otherUser].enableNegotiateListener)\n                ) {\n                    pc.createOffer(function(sdp) {\n                        if (sdpLocalFilter) {\n                            sdp.sdp = sdpLocalFilter(sdp.sdp);\n                        }\n                        pc.setLocalDescription(sdp, function() {\n                            self.sendPeerMessage(otherUser, \"__addedMediaStream\", {\n                                sdp: sdp\n                            });\n\n                        }, function() {\n                        });\n                    }, function(error) {\n                        logDebug(\"unexpected error in creating offer\");\n                    });\n                }\n            };\n\n            pc.onsignalingstatechange = function () {\n                \n                var eventTarget = event.currentTarget || event.target || pc,\n                    signalingState = eventTarget.signalingState || 'unknown';\n\n                if (signalingStateChangeListener) {\n                   signalingStateChangeListener(otherUser, eventTarget, signalingState);\n                }\n            };\n\n            pc.oniceconnectionstatechange = function(event) {\n\n                var eventTarget = event.currentTarget || event.target || pc,\n                    connState = eventTarget.iceConnectionState || 'unknown';\n\n                if (iceConnectionStateChangeListener) {\n                   iceConnectionStateChangeListener(otherUser, eventTarget, connState);\n                }\n\n                switch (connState) {\n                    case \"connected\":\n                        if (self.onPeerOpen ) {\n                            self.onPeerOpen(otherUser);\n                        }\n                        if (peerConns[otherUser] && peerConns[otherUser].callSuccessCB) {\n                            peerConns[otherUser].callSuccessCB(otherUser, \"connection\");\n                        }\n                        break;\n                    case \"failed\":\n                        if (failureCB) {\n                            failureCB(self.errCodes.NOVIABLEICE, \"No usable STUN/TURN path\");\n                        }\n                        delete peerConns[otherUser];\n                        break;\n                    case \"disconnected\":\n                        if (self.onPeerFailing) {\n                            self.onPeerFailing(otherUser);\n                        }\n                        if (peerConns[otherUser]) {\n                            peerConns[otherUser].failing = Date.now();\n                        }\n                        break;\n\n                    case \"closed\":\n                        if (self.onPeerClosed) {\n                            self.onPeerClosed(otherUser);\n                        }\n                        break;\n                    case \"completed\":\n                        if (peerConns[otherUser]) {\n                            if (peerConns[otherUser].failing && self.onPeerRecovered) {\n                                self.onPeerRecovered(otherUser, peerConns[otherUser].failing, Date.now());\n                            }\n                            delete peerConns[otherUser].failing;\n                         }\n                        break;\n                }\n            };\n\n            pc.onconnection = function() {\n                logDebug(\"onconnection called prematurely\");\n            };\n\n            newPeerConn = {\n                pc: pc,\n                candidatesToSend: [],\n                startedAV: false,\n                connectionAccepted: false,\n                isInitiator: isInitiator,\n                remoteStreamIdToName: {},\n                streamsAddedAcks: {},\n                liveRemoteStreams: {}\n            };\n\n            pc.onicecandidate = function(event) {\n                if (peerConns[otherUser] && peerConns[otherUser].cancelled) {\n                    return;\n                }\n                var candidateData;\n                if (event.candidate && peerConns[otherUser]) {\n                    candidateData = {\n                        type: 'candidate',\n                        label: event.candidate.sdpMLineIndex,\n                        id: event.candidate.sdpMid,\n                        candidate: event.candidate.candidate\n                    };\n\n                    if (iceCandidateFilter ) {\n                       candidateData = iceCandidateFilter(candidateData, false);\n                       if( !candidateData ) {\n                          return;\n                       }\n                    }\n                    //\n                    // some candidates include ip addresses of turn servers. we'll want those\n                    // later so we can see if our actual connection uses a turn server.\n                    // The keyword \"relay\" in the candidate identifies it as referencing a\n                    // turn server. The \\d symbol in the regular expression matches a number.\n                    //\n                    processCandicate(event.candidate.candidate);\n\n                    if (peerConns[otherUser].connectionAccepted) {\n                        sendSignalling(otherUser, \"candidate\", candidateData, null, function() {\n                            failureCB(self.errCodes.PEER_GONE, \"Candidate disappeared\");\n                        });\n                    }\n                    else {\n                        peerConns[otherUser].candidatesToSend.push(candidateData);\n                    }\n                }\n            };\n\n            pc.ontrack = function(event) {\n                logDebug(\"empty ontrack method invoked, which is expected\");\n                processAddedTrack(otherUser, event.streams);\n            };\n\n            pc.onaddstream = function(event) {\n                logDebug(\"empty onaddstream method invoked, which is expected\");\n                processAddedStream(otherUser, event.stream);\n            };\n\n            pc.onremovestream = function(event) {\n                logDebug(\"saw remove on remote media stream\");\n                onRemoveStreamHelper(otherUser, event.stream);\n            };\n\n            // Register PeerConn\n            peerConns[otherUser] = newPeerConn;\n\n        } catch (error) {\n            logDebug('buildPeerConnection error', error);\n            failureCB(self.errCodes.SYSTEM_ERR, error.message);\n            return null;\n        }\n\n        var i, stream;\n        if (streamNames) {\n            for (i = 0; i < streamNames.length; i++) {\n                stream = getLocalMediaStreamByName(streamNames[i]);\n                if (stream) {\n                    pc.addStream(stream);\n                }\n                else {\n                    logDebug(\"Developer error, attempt to access unknown local media stream \" + streamNames[i]);\n                }\n            }\n        }\n        else if (autoInitUserMedia && (self.videoEnabled || self.audioEnabled)) {\n            stream = self.getLocalStream();\n            pc.addStream(stream);\n        }\n\n        //\n        // This function handles data channel message events.\n        //\n        var pendingTransfer = {};\n        function dataChannelMessageHandler(event) {\n            logDebug(\"saw dataChannel.onmessage event: \", event.data);\n\n            if (event.data === \"dataChannelPrimed\") {\n                self.sendDataWS(otherUser, \"dataChannelPrimed\", \"\");\n            }\n            else {\n                //\n                // Chrome and Firefox Interop is passing a event with a strange data=\"\", perhaps\n                // as it's own form of priming message. Comparing the data against \"\" doesn't\n                // work, so I'm going with parsing and trapping the parse error.\n                //\n                var msg;\n\n                try {\n                    msg = JSON.parse(event.data);\n                } catch (err) {\n                    logDebug('Developer error, unable to parse event data');\n                }\n\n                if (msg) {\n                    if (msg.transfer && msg.transferId) {\n                        if (msg.transfer === 'start') {\n                            logDebug('start transfer #' + msg.transferId);\n\n                            var parts = parseInt(msg.parts);\n                            pendingTransfer = {\n                                chunks: [],\n                                parts: parts,\n                                transferId: msg.transferId\n                            };\n\n                        } else if (msg.transfer === 'chunk') {\n                            logDebug('got chunk for transfer #' + msg.transferId);\n\n                            // check data is valid\n                            if (!(typeof msg.data === 'string' && msg.data.length <= self.maxP2PMessageLength)) {\n                                logDebug('Developer error, invalid data');\n\n                                // check there's a pending transfer\n                            } else if (!pendingTransfer) {\n                                logDebug('Developer error, unexpected chunk');\n\n                            // check that transferId is valid\n                            } else if (msg.transferId !== pendingTransfer.transferId) {\n                                logDebug('Developer error, invalid transfer id');\n\n                            // check that the max length of transfer is not reached\n                            } else if (pendingTransfer.chunks.length + 1 > pendingTransfer.parts) {\n                                logDebug('Developer error, received too many chunks');\n\n                            } else {\n                                pendingTransfer.chunks.push(msg.data);\n                            }\n\n                        } else if (msg.transfer === 'end') {\n                            logDebug('end of transfer #' + msg.transferId);\n\n                            // check there's a pending transfer\n                            if (!pendingTransfer) {\n                                logDebug('Developer error, unexpected end of transfer');\n\n                            // check that transferId is valid\n                            } else if (msg.transferId !== pendingTransfer.transferId) {\n                                logDebug('Developer error, invalid transfer id');\n\n                            // check that all the chunks were received\n                            } else if (pendingTransfer.chunks.length !== pendingTransfer.parts) {\n                                logDebug('Developer error, received wrong number of chunks');\n\n                            } else {\n                                var chunkedMsg;\n                                try {\n                                    chunkedMsg = JSON.parse(pendingTransfer.chunks.join(''));\n                                } catch (err) {\n                                    logDebug('Developer error, unable to parse message');\n                                }\n\n                                if (chunkedMsg) {\n                                    self.receivePeerDistribute(otherUser, chunkedMsg, null);\n                                }\n                            }\n                            pendingTransfer = {  };\n\n                        } else {\n                            logDebug('Developer error, got an unknown transfer message' + msg.transfer);\n                        }\n                    } else {\n                        self.receivePeerDistribute(otherUser, msg, null);\n                    }\n                }\n            }\n        }\n\n        function initOutGoingChannel(otherUser) {\n            logDebug(\"saw initOutgoingChannel call\");\n\n            var dataChannel = pc.createDataChannel(dataChannelName, self.getDatachannelConstraints());\n            peerConns[otherUser].dataChannelS = dataChannel;\n            peerConns[otherUser].dataChannelR = dataChannel;\n            dataChannel.onmessage = dataChannelMessageHandler;\n            dataChannel.onopen = function(event) {\n                logDebug(\"saw dataChannel.onopen event\");\n\n                if (peerConns[otherUser]) {\n                    dataChannel.send(\"dataChannelPrimed\");\n                }\n            };\n            dataChannel.onclose = function(event) {\n                logDebug(\"saw dataChannelS.onclose event\");\n\n                if (peerConns[otherUser]) {\n                    peerConns[otherUser].dataChannelReady = false;\n                    delete peerConns[otherUser].dataChannelS;\n                }\n                if (onDataChannelClose) {\n                    onDataChannelClose(otherUser);\n                }\n\n                updateConfigurationInfo();\n            };\n        }\n\n        function initIncomingChannel(otherUser) {\n            logDebug(\"initializing incoming channel handler for \" + otherUser);\n\n            peerConns[otherUser].pc.ondatachannel = function(event) {\n\n                logDebug(\"saw incoming data channel\");\n\n                var dataChannel = event.channel;\n                peerConns[otherUser].dataChannelR = dataChannel;\n                peerConns[otherUser].dataChannelS = dataChannel;\n                peerConns[otherUser].dataChannelReady = true;\n                dataChannel.onmessage = dataChannelMessageHandler;\n                dataChannel.onclose = function(event) {\n                    logDebug(\"saw dataChannelR.onclose event\");\n\n                    if (peerConns[otherUser]) {\n                        peerConns[otherUser].dataChannelReady = false;\n                        delete peerConns[otherUser].dataChannelR;\n                    }\n                    if (onDataChannelClose) {\n                        onDataChannelClose(otherUser);\n                    }\n\n                    updateConfigurationInfo();\n                };\n                dataChannel.onopen = function(event) {\n                    logDebug(\"saw dataChannel.onopen event\");\n\n                    if (peerConns[otherUser]) {\n                        dataChannel.send(\"dataChannelPrimed\");\n                    }\n                };\n            };\n        }\n\n        //\n        //  added for interoperability\n        //\n        // TODO check if both sides have the same browser and versions\n        if (dataEnabled) {\n            self.setPeerListener(function() {\n                if (peerConns[otherUser]) {\n                    peerConns[otherUser].dataChannelReady = true;\n                    if (peerConns[otherUser].callSuccessCB) {\n                        peerConns[otherUser].callSuccessCB(otherUser, \"datachannel\");\n                    }\n                    if (onDataChannelOpen) {\n                        onDataChannelOpen(otherUser, true);\n                    }\n                    updateConfigurationInfo();\n                } else {\n                    logDebug(\"failed to setup outgoing channel listener\");\n                }\n            }, \"dataChannelPrimed\", otherUser);\n\n            if (isInitiator) {\n                try {\n\n                    initOutGoingChannel(otherUser);\n                } catch (channelErrorEvent) {\n                    logDebug(\"failed to init outgoing channel\");\n                    failureCB(self.errCodes.SYSTEM_ERR,\n                            self.formatError(channelErrorEvent));\n                }\n            }\n            if (!isInitiator) {\n                initIncomingChannel(otherUser);\n            }\n        }\n\n        pc.onconnection = function() {\n            logDebug(\"setup pc.onconnection \");\n        };\n\n        //\n        // Temporary support for responding to acknowledgements of about streams being added.\n        //\n        self.setPeerListener(function(easyrtcid, msgType, msgData, targeting){\n             if( newPeerConn.streamsAddedAcks[msgData.streamName]) {\n                 (newPeerConn.streamsAddedAcks[msgData.streamName])(easyrtcid, msgData.streamName);\n                 delete newPeerConn.streamsAddedAcks[msgData.streamName];\n             }\n        }, \"easyrtc_streamReceived\", otherUser);\n        return pc;\n    }\n\n    /** @private */\n    function doAnswerBody(caller, msgData, streamNames) {\n        var pc = buildPeerConnection(caller, false, function(message) {\n            self.showError(self.errCodes.SYSTEM_ERR, message);\n        }, streamNames);\n        var newPeerConn = peerConns[caller];\n        if (!pc) {\n            logDebug(\"buildPeerConnection failed. Call not answered\");\n            return;\n        }\n        var setLocalAndSendMessage1 = function(sessionDescription) {\n\n            if (newPeerConn.cancelled) {\n                return;\n            }\n\n            var sendAnswer = function() {\n                logDebug(\"sending answer\");\n\n                function onSignalSuccess() {\n                    logDebug(\"sending success\");\n                }\n\n                function onSignalFailure(errorCode, errorText) {\n                    logDebug(\"sending error\");\n                    delete peerConns[caller];\n                    self.showError(errorCode, errorText);\n                }\n\n                sendSignalling(caller, \"answer\", sessionDescription, onSignalSuccess, onSignalFailure);\n                peerConns[caller].connectionAccepted = true;\n                sendQueuedCandidates(caller, onSignalSuccess, onSignalFailure);\n\n                if (pc.connectDataConnection) {\n                    logDebug(\"calling connectDataConnection(5002,5001)\");\n                    pc.connectDataConnection(5002, 5001);\n                }\n            };\n            if (sdpLocalFilter) {\n                sessionDescription.sdp = sdpLocalFilter(sessionDescription.sdp);\n            }\n            pc.setLocalDescription(sessionDescription, sendAnswer, function(message) {\n                self.showError(self.errCodes.INTERNAL_ERR, \"setLocalDescription: \" + message);\n            });\n        };\n        var sd = new RTCSessionDescription(msgData);\n\n        if (!sd) {\n            throw \"Could not create the RTCSessionDescription\";\n        }\n\n        logDebug(\"sdp ||  \" + JSON.stringify(sd));\n\n        var invokeCreateAnswer = function() {\n            if (newPeerConn.cancelled) {\n                return;\n            }\n            pc.createAnswer(setLocalAndSendMessage1,\n                function(message) {\n                    self.showError(self.errCodes.INTERNAL_ERR, \"create-answer: \" + message);\n                },\n                receivedMediaConstraints);\n        };\n\n        logDebug(\"about to call setRemoteDescription in doAnswer\");\n\n        try {\n\n            if (sdpRemoteFilter) {\n                sd.sdp = sdpRemoteFilter(sd.sdp);\n            }\n            pc.setRemoteDescription(sd, invokeCreateAnswer, function(message) {\n                self.showError(self.errCodes.INTERNAL_ERR, \"set-remote-description: \" + message);\n            });\n        } catch (srdError) {\n            logDebug(\"set remote description failed\");\n            self.showError(self.errCodes.INTERNAL_ERR, \"setRemoteDescription failed: \" + srdError.message);\n        }\n    }\n\n    /** @private */\n    function doAnswer(caller, msgData, streamNames) {\n        if (!streamNames && autoInitUserMedia) {\n            var localStream = self.getLocalStream();\n            if (!localStream && (self.videoEnabled || self.audioEnabled)) {\n                self.initMediaSource(\n                        function() {\n                            doAnswer(caller, msgData);\n                        },\n                        function(errorCode, error) {\n                            self.showError(self.errCodes.MEDIA_ERR, self.format(self.getConstantString(\"localMediaError\")));\n                        });\n                return;\n            }\n        }\n        if (use_fresh_ice_each_peer) {\n            self.getFreshIceConfig(function(succeeded) {\n                if (succeeded) {\n                    doAnswerBody(caller, msgData, streamNames);\n                }\n                else {\n                    self.showError(self.errCodes.CALL_ERR, \"Failed to get fresh ice config\");\n                }\n            });\n        }\n        else {\n            doAnswerBody(caller, msgData, streamNames);\n        }\n    }\n\n\n    /** @private */\n    function callBody(otherUser, callSuccessCB, callFailureCB, wasAcceptedCB, streamNames) {\n        acceptancePending[otherUser] = true;\n        var pc = buildPeerConnection(otherUser, true, callFailureCB, streamNames);\n        var message;\n        if (!pc) {\n            message = \"buildPeerConnection failed, call not completed\";\n            logDebug(message);\n            throw message;\n        }\n\n        peerConns[otherUser].callSuccessCB = callSuccessCB;\n        peerConns[otherUser].callFailureCB = callFailureCB;\n        peerConns[otherUser].wasAcceptedCB = wasAcceptedCB;\n        var peerConnObj = peerConns[otherUser];\n        var setLocalAndSendMessage0 = function(sessionDescription) {\n            if (peerConnObj.cancelled) {\n                return;\n            }\n            var sendOffer = function() {\n\n                sendSignalling(otherUser, \"offer\", sessionDescription, null, callFailureCB);\n            };\n            if (sdpLocalFilter) {\n                sessionDescription.sdp = sdpLocalFilter(sessionDescription.sdp);\n            }\n            pc.setLocalDescription(sessionDescription, sendOffer,\n                    function(errorText) {\n                        callFailureCB(self.errCodes.CALL_ERR, errorText);\n                    });\n        };\n        setTimeout(function() {\n            //\n            // if the call was cancelled, we don't want to continue getting the offer.\n            // we can tell the call was cancelled because there won't be a peerConn object\n            // for it.\n            //\n            if( !peerConns[otherUser]) {\n                return;\n            }\n            pc.createOffer(setLocalAndSendMessage0, function(errorObj) {\n                callFailureCB(self.errCodes.CALL_ERR, JSON.stringify(errorObj));\n            },\n                    receivedMediaConstraints);\n        }, 100);\n    }\n\n    /**\n     * Initiates a call to another user. If it succeeds, the streamAcceptor callback will be called.\n     * @param {String} otherUser - the easyrtcid of the peer being called.\n     * @param {Function} callSuccessCB (otherCaller, mediaType) - is called when the datachannel is established or the MediaStream is established. mediaType will have a value of \"audiovideo\" or \"datachannel\"\n     * @param {Function} callFailureCB (errorCode, errMessage) - is called if there was a system error interfering with the call.\n     * @param {Function} wasAcceptedCB (wasAccepted:boolean,otherUser:string) - is called when a call is accepted or rejected by another party. It can be left null.\n     * @param {Array} streamNames - optional array of streamNames.\n     * @example\n     *    easyrtc.call( otherEasyrtcid,\n     *        function(easyrtcid, mediaType){\n     *           console.log(\"Got mediaType \" + mediaType + \" from \" + easyrtc.idToName(easyrtcid));\n     *        },\n     *        function(errorCode, errMessage){\n     *           console.log(\"call to  \" + easyrtc.idToName(otherEasyrtcid) + \" failed:\" + errMessage);\n     *        },\n     *        function(wasAccepted, easyrtcid){\n     *            if( wasAccepted ){\n     *               console.log(\"call accepted by \" + easyrtc.idToName(easyrtcid));\n     *            }\n     *            else{\n     *                console.log(\"call rejected\" + easyrtc.idToName(easyrtcid));\n     *            }\n     *        });\n     */\n    this.call = function(otherUser, callSuccessCB, callFailureCB, wasAcceptedCB, streamNames) {\n\n        if (streamNames) {\n            if (typeof streamNames === \"string\") { // accept a string argument if passed.\n                streamNames = [streamNames];\n            }\n            else if (typeof streamNames.length === \"undefined\") {\n                self.showError(self.errCodes.DEVELOPER_ERR, \"easyrtc.call passed bad streamNames\");\n                return;\n            }\n        }\n\n        logDebug(\"initiating peer to peer call to \" + otherUser +\n                    \" audio=\" + self.audioEnabled +\n                    \" video=\" + self.videoEnabled +\n                    \" data=\" + dataEnabled);\n\n\n        if (!self.supportsPeerConnections()) {\n            callFailureCB(self.errCodes.CALL_ERR, self.getConstantString(\"noWebrtcSupport\"));\n            return;\n        }\n\n        var message;\n        //\n        // If we are sharing audio/video and we haven't allocated the local media stream yet,\n        // we'll do so, recalling our self on success.\n        //\n        if (!streamNames && autoInitUserMedia) {\n            var stream = self.getLocalStream();\n            if (!stream && (self.audioEnabled || self.videoEnabled)) {\n                self.initMediaSource(function() {\n                    self.call(otherUser, callSuccessCB, callFailureCB, wasAcceptedCB);\n                }, callFailureCB);\n                return;\n            }\n        }\n\n        if (!self.webSocket) {\n            message = \"Attempt to make a call prior to connecting to service\";\n            logDebug(message);\n            throw message;\n        }\n\n        //\n        // If B calls A, and then A calls B before accepting, then A should treat the attempt to\n        // call B as a positive offer to B's offer.\n        //\n        if (offersPending[otherUser]) {\n            wasAcceptedCB(true, otherUser);\n            doAnswer(otherUser, offersPending[otherUser], streamNames);\n            delete offersPending[otherUser];\n            self.callCancelled(otherUser, false);\n            return;\n        }\n\n        // do we already have a pending call?\n        if (typeof acceptancePending[otherUser] !== 'undefined') {\n            message = \"Call already pending acceptance\";\n            logDebug(message);\n            callFailureCB(self.errCodes.ALREADY_CONNECTED, message);\n            return;\n        }\n\n        if (use_fresh_ice_each_peer) {\n            self.getFreshIceConfig(function(succeeded) {\n                if (succeeded) {\n                    callBody(otherUser, callSuccessCB, callFailureCB, wasAcceptedCB, streamNames);\n                }\n                else {\n                    callFailureCB(self.errCodes.CALL_ERR, \"Attempt to get fresh ice configuration failed\");\n                }\n            });\n        }\n        else {\n            callBody(otherUser, callSuccessCB, callFailureCB, wasAcceptedCB, streamNames);\n        }\n    };\n\n    /** @private */\n    //\n    // this function check the deprecated MediaStream.ended attribute\n    // and new .active. Also fallback .enable on track for Firefox.\n    //\n    function isStreamActive(stream) {\n\n        var isActive;\n\n        if (stream.active === true || stream.ended === false)  {\n            isActive = true;\n        } else {\n            isActive = stream.getTracks().reduce(function (track) {\n                return track.enabled;\n            });\n        }\n\n        return isActive;\n    }\n\n    /** @private */\n    var queuedMessages = {};\n\n    /** @private */\n    function clearQueuedMessages(caller) {\n        queuedMessages[caller] = {\n            candidates: []\n        };\n    }\n\n    /** @private */\n    function closePeer(otherUser) {\n\n        if (acceptancePending[otherUser]) {\n            delete acceptancePending[otherUser];\n        }\n        if (offersPending[otherUser]) {\n            delete offersPending[otherUser];\n        }\n\n        if (\n          !peerConns[otherUser].cancelled &&\n              peerConns[otherUser].pc\n        ) {\n            try {\n                var remoteStreams = peerConns[otherUser].pc.getRemoteStreams();\n                for (var i = 0; i < remoteStreams.length; i++) {\n                    if (isStreamActive(remoteStreams[i])) {\n                        emitOnStreamClosed(otherUser, remoteStreams[i]);\n                        stopStream(remoteStreams[i]);\n                    }\n                }\n\n                peerConns[otherUser].pc.close();\n                peerConns[otherUser].cancelled = true;\n                logDebug(\"peer closed\");\n            } catch (err) {\n                logDebug(\"peer \" + otherUser + \" close failed:\" + err);\n            } finally {\n                if (self.onPeerClosed) {\n                    self.onPeerClosed(otherUser);\n                }\n            }\n        }\n    }\n\n    /** @private */\n    function hangupBody(otherUser) {\n        \n        logDebug(\"Hanging up on \" + otherUser);\n        clearQueuedMessages(otherUser);\n\n        if (peerConns[otherUser]) {\n\n            if (peerConns[otherUser].pc) {\n                closePeer(otherUser);\n            } \n\n            if (peerConns[otherUser]) {\n                delete peerConns[otherUser];\n            }\n\n            updateConfigurationInfo();\n            \n            if (self.webSocket) {\n                sendSignalling(otherUser, \"hangup\", null, function() {\n                    logDebug(\"hangup succeeds\");\n                }, function(errorCode, errorText) {\n                    logDebug(\"hangup failed:\" + errorText);\n                    self.showError(errorCode, errorText);\n                });\n            }\n        }\n    }\n\n    \n\n    /**\n     * Hang up on a particular user or all users.\n     *  @param {String} otherUser - the easyrtcid of the person to hang up on.\n     *  @example\n     *     easyrtc.hangup(someEasyrtcid);\n     */\n    this.hangup = function(otherUser) {\n        hangupBody(otherUser);\n        updateConfigurationInfo();\n    };\n\n    /**\n     * Hangs up on all current connections.\n     * @example\n     *    easyrtc.hangupAll();\n     */\n    this.hangupAll = function() {\n\n        var sawAConnection = false;\n        for (var otherUser in peerConns) {\n            if (!peerConns.hasOwnProperty(otherUser)) {\n                continue;\n            }\n            sawAConnection = true;\n            hangupBody(otherUser);\n        }\n\n        if (sawAConnection) {\n            updateConfigurationInfo();\n        }\n    };\n\n    /**\n     * Checks to see if data channels work between two peers.\n     * @param {String} otherUser - the other peer.\n     * @returns {Boolean} true if data channels work and are ready to be used\n     *   between the two peers.\n     */\n    this.doesDataChannelWork = function(otherUser) {\n        if (!peerConns[otherUser]) {\n            return false;\n        }\n        return !!peerConns[otherUser].dataChannelReady;\n    };\n\n    /**\n     * Return the media stream shared by a particular peer. This is needed when you\n     * add a stream in the middle of a call.\n     * @param {String} easyrtcid the peer.\n     * @param {String} remoteStreamName an optional argument supplying the streamName.\n     * @returns {Object} A mediaStream.\n     */\n    this.getRemoteStream = function(easyrtcid, remoteStreamName) {\n        if (!peerConns[easyrtcid]) {\n            self.showError(self.errCodes.DEVELOPER_ERR, \"attempt to get stream of uncalled party\");\n            throw \"Developer err: no such stream\";\n        }\n        else {\n            return getRemoteStreamByName(peerConns[easyrtcid], easyrtcid, remoteStreamName);\n        }\n    };\n\n    /**\n     * Assign a local streamName to a remote stream so that it can be forwarded to other callers.\n     * @param {String} easyrtcid the peer supplying the remote stream\n     * @param {String} remoteStreamName the streamName supplied by the peer.\n     * @param {String} localStreamName streamName used when passing the stream to other peers.\n     * @example\n     *    easyrtc.makeLocalStreamFromRemoteStream(sourcePeer, \"default\", \"forwardedStream\");\n     *    easyrtc.call(nextPeer, callSuccessCB, callFailureCB, wasAcceptedCB, [\"forwardedStream\"]);\n     */\n    this.makeLocalStreamFromRemoteStream = function(easyrtcid, remoteStreamName, localStreamName) {\n        var remoteStream;\n        if (peerConns[easyrtcid].pc) {\n            remoteStream = getRemoteStreamByName(peerConns[easyrtcid], easyrtcid, remoteStreamName);\n            if (remoteStream) {\n                registerLocalMediaStreamByName(remoteStream, localStreamName);\n            }\n            else {\n                throw \"Developer err: no such stream\";\n            }\n        }\n        else {\n            throw \"Developer err: no such peer \";\n        }\n    };\n\n    /**\n     * Add a named local stream to a call.\n     * @param {String} easyrtcId The id of client receiving the stream.\n     * @param {String} streamName The name of the stream.\n     * @param {Function} receiptHandler is a function that gets called when the other side sends a message\n     *   that the stream has been received. The receiptHandler gets called with an easyrtcid and a stream name. This\n     *   argument is optional.\n     */\n    this.addStreamToCall = function(easyrtcId, streamName, receiptHandler) {\n        if( !streamName) {\n            streamName = \"default\";\n        }\n        var stream = getLocalMediaStreamByName(streamName);\n        if (!stream) {\n            logDebug(\"attempt to add nonexistent stream \" + streamName);\n        }\n        else if (!peerConns[easyrtcId] || !peerConns[easyrtcId].pc) {\n            logDebug(\"Can't add stream before a call has started.\");\n        }\n        else {\n            var pc = peerConns[easyrtcId].pc;\n            peerConns[easyrtcId].enableNegotiateListener = true;\n            pc.addStream(stream);\n            if (receiptHandler) {\n                peerConns[easyrtcId].streamsAddedAcks[streamName] = receiptHandler;\n            }\n        }\n    };\n\n    //\n    // these three listeners support the ability to add/remove additional media streams on the fly.\n    //\n    this.setPeerListener(function(easyrtcid, msgType, msgData) {\n        if (!peerConns[easyrtcid] || !peerConns[easyrtcid].pc) {\n            self.showError(self.errCodes.DEVELOPER_ERR,\n                  \"Attempt to add additional stream before establishing the base call.\");\n        }\n        else {\n            var sdp = msgData.sdp;\n            var pc = peerConns[easyrtcid].pc;\n\n            var setLocalAndSendMessage1 = function(sessionDescription) {\n                var sendAnswer = function() {\n                   logDebug(\"sending answer\");\n\n                   function onSignalSuccess() {\n                        logDebug(\"sending answer succeeded\");\n\n                   }\n\n                   function onSignalFailure(errorCode, errorText) {\n                        logDebug(\"sending answer failed\");\n\n                       delete peerConns[easyrtcid];\n                       self.showError(errorCode, errorText);\n                   }\n\n                   sendSignalling(easyrtcid, \"answer\", sessionDescription,\n                           onSignalSuccess, onSignalFailure);\n                   peerConns[easyrtcid].connectionAccepted = true;\n                   sendQueuedCandidates(easyrtcid, onSignalSuccess, onSignalFailure);\n               };\n\n               if (sdpLocalFilter) {\n                   sessionDescription.sdp = sdpLocalFilter(sessionDescription.sdp);\n               }\n               pc.setLocalDescription(sessionDescription, sendAnswer, function(message) {\n                   self.showError(self.errCodes.INTERNAL_ERR, \"setLocalDescription: \" + msgData);\n               });\n            };\n\n            var invokeCreateAnswer = function() {\n               pc.createAnswer(setLocalAndSendMessage1,\n                    function(message) {\n                        self.showError(self.errCodes.INTERNAL_ERR, \"create-answer: \" + message);\n                    },\n                    receivedMediaConstraints);\n               self.sendPeerMessage(easyrtcid, \"__gotAddedMediaStream\", {sdp: sdp});\n            };\n\n            logDebug(\"about to call setRemoteDescription in doAnswer\");\n\n            try {\n\n                if (sdpRemoteFilter) {\n                    sdp.sdp = sdpRemoteFilter(sdp.sdp);\n                }\n                pc.setRemoteDescription(new RTCSessionDescription(sdp),\n                   invokeCreateAnswer, function(message) {\n                    self.showError(self.errCodes.INTERNAL_ERR, \"set-remote-description: \" + message);\n                });\n            } catch (srdError) {\n                logDebug(\"saw exception in setRemoteDescription\", srdError);\n                self.showError(self.errCodes.INTERNAL_ERR, \"setRemoteDescription failed: \" + srdError.message);\n            }\n        }\n    }, \"__addedMediaStream\");\n\n    this.setPeerListener(function(easyrtcid, msgType, msgData) {\n        if (!peerConns[easyrtcid] || !peerConns[easyrtcid].pc) {\n            logDebug(\"setPeerListener failed: __gotAddedMediaStream Unknow easyrtcid \" + easyrtcid);\n        }\n        else {\n            var sdp = msgData.sdp;\n            if (sdpRemoteFilter) {\n                sdp.sdp = sdpRemoteFilter(sdp.sdp);\n            }\n            var pc = peerConns[easyrtcid].pc;\n            pc.setRemoteDescription(new RTCSessionDescription(sdp), function(){},\n                    function(message) {\n                       self.showError(self.errCodes.INTERNAL_ERR, \"set-remote-description: \" + message);\n                    });\n        }\n\n    }, \"__gotAddedMediaStream\");\n\n    this.setPeerListener(function(easyrtcid, msgType, msgData) {\n        if (!peerConns[easyrtcid] || !peerConns[easyrtcid].pc) {\n            logDebug(\"setPeerListener failed: __closingMediaStream Unknow easyrtcid \" + easyrtcid);\n        }\n        else {\n            var stream = getRemoteStreamByName(peerConns[easyrtcid], easyrtcid, msgData.streamName);\n            if (stream) {\n                onRemoveStreamHelper(easyrtcid, stream);\n                stopStream(stream);\n            }\n        }\n\n    }, \"__closingMediaStream\");\n\n    /** @private */\n    this.dumpPeerConnectionInfo = function() {\n        var i;\n        for (var peer in peerConns) {\n            if (peerConns.hasOwnProperty(peer)) {\n                var pc = peerConns[peer].pc;\n                var remotes = pc.getRemoteStreams();\n                var remoteIds = [];\n                for (i = 0; i < remotes.length; i++) {\n                    remoteIds.push(remotes[i].id);\n                }\n                var locals = pc.getLocalStreams();\n                var localIds = [];\n                for (i = 0; i < locals.length; i++) {\n                    localIds.push(locals[i].id);\n                }\n\n                logDebug(\"For peer \" + peer);\n                logDebug(\"    \" + JSON.stringify({local: localIds, remote: remoteIds}));\n            }\n        }\n    };\n\n    /** @private */\n    function onRemoteHangup(otherUser) {\n\n        logDebug(\"Saw onRemote hangup event\");\n        clearQueuedMessages(otherUser);\n\n        if (peerConns[otherUser]) {\n\n            if (peerConns[otherUser].pc) {\n                closePeer(otherUser);\n            }\n            else {\n                if (self.callCancelled) {\n                    self.callCancelled(otherUser, true);\n                }\n            }\n\n            if (peerConns[otherUser]) {\n                delete peerConns[otherUser];\n            }\n        }\n        else {\n            if (self.callCancelled) {\n                self.callCancelled(otherUser, true);\n            }\n        }\n    }\n\n    /** @private */\n    //\n    // checks to see if a particular peer is in any room at all.\n    //\n    function isPeerInAnyRoom(id) {\n        var roomName;\n        for (roomName in lastLoggedInList) {\n            if (!lastLoggedInList.hasOwnProperty(roomName)) {\n                continue;\n            }\n            if (lastLoggedInList[roomName][id]) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Checks to see if a particular peer is present in any room.\n     * If it isn't, we assume it's logged out.\n     * @param {string} easyrtcid the easyrtcId of the peer.\n     */\n    this.isPeerInAnyRoom = function(easyrtcid) {\n         return isPeerInAnyRoom(easyrtcid);\n    };\n\n    /** @private */\n    function processLostPeers(peersInRoom) {\n        var id;\n        //\n        // check to see the person is still in at least one room. If not, we'll hangup\n        // on them. This isn't the correct behavior, but it's the best we can do without\n        // changes to the server.\n        //\n        for (id in peerConns) {\n            if (peerConns.hasOwnProperty(id) &&\n                    typeof peersInRoom[id] === 'undefined') {\n                if (!isPeerInAnyRoom(id)) {\n                    if (peerConns[id].pc || peerConns[id].isInitiator) {\n                        onRemoteHangup(id);\n                    }\n                    delete offersPending[id];\n                    delete acceptancePending[id];\n                    clearQueuedMessages(id);\n                }\n            }\n        }\n\n        for (id in offersPending) {\n            if (offersPending.hasOwnProperty(id) && !isPeerInAnyRoom(id)) {\n                onRemoteHangup(id);\n                clearQueuedMessages(id);\n                delete offersPending[id];\n                delete acceptancePending[id];\n            }\n        }\n\n        for (id in acceptancePending) {\n            if (acceptancePending.hasOwnProperty(id) && !isPeerInAnyRoom(id)) {\n                onRemoteHangup(id);\n                clearQueuedMessages(id);\n                delete acceptancePending[id];\n            }\n        }\n    }\n\n    /**\n     * The idea of aggregating timers is that there are events that convey state and these can fire more frequently\n     * than desired. Aggregating timers allow a bunch of events to be collapsed into one by only firing the last\n     * event.\n     * @private\n     */\n    var aggregatingTimers = {};\n\n    /**\n     * This function sets a timeout for a function to be called with the feature that if another\n     * invocation comes along within a particular interval (with the same key), the second invocation\n     * replaces the first. To prevent a continuous stream of events from preventing a callback from ever\n     * firing, we'll collapse no more than 20 events.\n     * @param {String} key A key used to identify callbacks that should be aggregated.\n     * @param {Function} callback The callback to invoke.\n     * @param {Number} period The aggregating period in milliseconds.\n     * @private\n     */\n    function addAggregatingTimer(key, callback, period) {\n        if( !period) {\n            period = 100; // 0.1 second\n        }\n        var counter = 0;\n        if( aggregatingTimers[key]) {\n            clearTimeout(aggregatingTimers[key].timer);\n            counter = aggregatingTimers[key].counter;\n        }\n        if( counter > 20) {\n            delete aggregatingTimers[key];\n            callback();\n        }\n        else {\n            aggregatingTimers[key] = {counter: counter +1};\n            aggregatingTimers[key].timer = setTimeout(function () {\n                delete aggregatingTimers[key];\n                callback();\n            }, period);\n        }\n    }\n\n    /** @private */\n    //\n    // this function gets called for each room when there is a room update.\n    //\n    function processOccupantList(roomName, occupantList) {\n        var myInfo = null;\n        var reducedList = {};\n\n        var id;\n        for (id in occupantList) {\n            if (occupantList.hasOwnProperty(id)) {\n                if (id === self.myEasyrtcid) {\n                    myInfo = occupantList[id];\n                }\n                else {\n                    reducedList[id] = occupantList[id];\n                }\n            }\n        }\n        //\n        // processLostPeers detects peers that have gone away and performs\n        // house keeping accordingly.\n        //\n        processLostPeers(reducedList);\n        //\n        //\n        //\n        addAggregatingTimer(\"roomOccupants&\" + roomName, function(){\n            if (roomOccupantListener) {\n                roomOccupantListener(roomName, reducedList, myInfo);\n            }\n            self.emitEvent(\"roomOccupants\", {roomName:roomName, occupants:lastLoggedInList});\n        }, 100);\n    }\n\n    /** @private */\n    function onChannelMsg(msg, ackAcceptorFunc) {\n\n        var targeting = {};\n        if (ackAcceptorFunc) {\n            ackAcceptorFunc(self.ackMessage);\n        }\n        if (msg.targetEasyrtcid) {\n            targeting.targetEasyrtcid = msg.targetEasyrtcid;\n        }\n        if (msg.targetRoom) {\n            targeting.targetRoom = msg.targetRoom;\n        }\n        if (msg.targetGroup) {\n            targeting.targetGroup = msg.targetGroup;\n        }\n        if (msg.senderEasyrtcid) {\n            self.receivePeerDistribute(msg.senderEasyrtcid, msg, targeting);\n        }\n        else {\n            if (receiveServerCB) {\n                receiveServerCB(msg.msgType, msg.msgData, targeting);\n            }\n            else {\n                logDebug(\"Unhandled server message \" + JSON.stringify(msg));\n            }\n        }\n    }\n\n    /** @private */\n    function processUrl(url) {\n        var ipAddress;\n        if (url.indexOf('turn:') === 0 || url.indexOf('turns:') === 0) {\n            ipAddress = url.split(/[@:&]/g)[1];\n            self._turnServers[ipAddress] = true;\n        } else if (url.indexOf('stun:') === 0 || url.indexOf('stuns:') === 0) {\n            ipAddress = url.split(/[@:&]/g)[1];\n            self._stunServers[ipAddress] = true;\n        }\n    }\n\n    /** @private */\n    function processIceConfig(iceConfig) {\n\n        var i, j, item;\n\n        pc_config = {\n            iceServers: []\n        };\n\n        self._turnServers = {};\n        self._stunServers = {};\n\n        if (\n            !iceConfig ||\n                !iceConfig.iceServers ||\n                    typeof iceConfig.iceServers.length === \"undefined\"\n        ) {\n            self.showError(\n                self.errCodes.DEVELOPER_ERR,\n                \"iceConfig received from server didn't have an array called iceServers, ignoring it\"\n            );\n        } else {\n            pc_config = {\n                iceServers: iceConfig.iceServers\n            };\n        }\n\n        for (i = 0; i < iceConfig.iceServers.length; i++) {\n            item = iceConfig.iceServers[i];\n            if( item.urls && item.urls.length ) {\n               for( j = 0; j < item.urls.length; j++ ) {\n                  processUrl(item.urls[j]);\n               }\n            }\n            else if( item.url ) {\n               processUrl(item.url);\n            }\n         }\n    }\n\n    /** @private */\n    function processSessionData(sessionData) {\n        if (sessionData) {\n            if (sessionData.easyrtcsid) {\n                self.easyrtcsid = sessionData.easyrtcsid;\n            }\n            if (sessionData.field) {\n                sessionFields = sessionData.field;\n            }\n        }\n    }\n\n    /** @private */\n    function processRoomData(roomData) {\n        self.roomData = roomData;\n\n        var k, roomName,\n            stuffToRemove, stuffToAdd,\n            id, removeId;\n\n        for (roomName in self.roomData) {\n            if (!self.roomData.hasOwnProperty(roomName)) {\n                continue;\n            }\n            if (roomData[roomName].roomStatus === \"join\") {\n                if (!(self.roomJoin[roomName])) {\n                    self.roomJoin[roomName] = roomData[roomName];\n                }\n                var mediaIds = buildMediaIds();\n                if (mediaIds !== {}) {\n                    self.setRoomApiField(roomName, \"mediaIds\", mediaIds);\n                }\n            }\n            else if (roomData[roomName].roomStatus === \"leave\") {\n                if (self.roomEntryListener) {\n                    self.roomEntryListener(false, roomName);\n                }\n                delete self.roomJoin[roomName];\n                delete lastLoggedInList[roomName];\n                continue;\n            }\n\n            if (roomData[roomName].clientList) {\n                lastLoggedInList[roomName] = roomData[roomName].clientList;\n            }\n            else if (roomData[roomName].clientListDelta) {\n                stuffToAdd = roomData[roomName].clientListDelta.updateClient;\n                if (stuffToAdd) {\n                    for (id in stuffToAdd) {\n                        if (!stuffToAdd.hasOwnProperty(id)) {\n                            continue;\n                        }\n                        if (!lastLoggedInList[roomName]) {\n                            lastLoggedInList[roomName] = [];\n                        }\n                        if( !lastLoggedInList[roomName][id] ) {\n                           lastLoggedInList[roomName][id] = stuffToAdd[id];\n                        }\n                        for( k in stuffToAdd[id] ) {\n                           if( k === \"apiField\" || k === \"presence\") {\n                              lastLoggedInList[roomName][id][k] = stuffToAdd[id][k];\n                           }\n                        }\n                    }\n                }\n                stuffToRemove = roomData[roomName].clientListDelta.removeClient;\n                if (stuffToRemove && lastLoggedInList[roomName]) {\n                    for (removeId in stuffToRemove) {\n                        if (stuffToRemove.hasOwnProperty(removeId)) {\n                            delete lastLoggedInList[roomName][removeId];\n                        }\n                    }\n                }\n            }\n            if (self.roomJoin[roomName] && roomData[roomName].field) {\n                fields.rooms[roomName] = roomData[roomName].field;\n            }\n            if (roomData[roomName].roomStatus === \"join\") {\n                if (self.roomEntryListener) {\n                    self.roomEntryListener(true, roomName);\n                }\n            }\n            processOccupantList(roomName, lastLoggedInList[roomName]);\n        }\n        self.emitEvent(\"roomOccupant\", lastLoggedInList);\n    }\n\n    /** @private */\n    function onChannelCmd(msg, ackAcceptorFn) {\n\n        var caller = msg.senderEasyrtcid;\n        var msgType = msg.msgType;\n        var msgData = msg.msgData;\n        var pc;\n\n        logDebug('received message of type ' + msgType);\n\n\n        if (typeof queuedMessages[caller] === \"undefined\") {\n            clearQueuedMessages(caller);\n        }\n\n        var processCandidateBody = function(caller, msgData) {\n            var candidate = null;\n\n            if( iceCandidateFilter ) {\n               msgData = iceCandidateFilter(msgData, true);\n               if( !msgData ) {\n                  return;\n               }\n            }\n\n            candidate = new RTCIceCandidate({\n                sdpMLineIndex: msgData.label,\n                candidate: msgData.candidate\n            });\n            pc = peerConns[caller].pc;\n\n            function iceAddSuccess() {\n                logDebug(\"iceAddSuccess: \" +\n                    JSON.stringify(candidate));\n                processCandicate(msgData.candidate);\n            }\n\n            function iceAddFailure(domError) {\n                self.showError(self.errCodes.ICECANDIDATE_ERR, \"bad ice candidate (\" + domError.name + \"): \" +\n                    JSON.stringify(candidate));\n            }\n\n            pc.addIceCandidate(candidate, iceAddSuccess, iceAddFailure);\n        };\n\n        var flushCachedCandidates = function(caller) {\n            var i;\n            if (queuedMessages[caller]) {\n                for (i = 0; i < queuedMessages[caller].candidates.length; i++) {\n                    processCandidateBody(caller, queuedMessages[caller].candidates[i]);\n                }\n                delete queuedMessages[caller];\n            }\n        };\n\n        var processOffer = function(caller, msgData) {\n\n            var helper = function(wasAccepted, streamNames) {\n\n                if (streamNames) {\n                    if (typeof streamNames === \"string\") {\n                        streamNames = [streamNames];\n                    }\n                    else if (streamNames.length === undefined) {\n                        self.showError(self.errCodes.DEVELOPER_ERR, \"accept callback passed invalid streamNames\");\n                        return;\n                    }\n                }\n\n                logDebug(\"offer accept=\" + wasAccepted);\n\n                delete offersPending[caller];\n\n                if (wasAccepted) {\n                    if (!self.supportsPeerConnections()) {\n                        self.showError(self.errCodes.CALL_ERR, self.getConstantString(\"noWebrtcSupport\"));\n                        return;\n                    }\n                    doAnswer(caller, msgData, streamNames);\n                    flushCachedCandidates(caller);\n                }\n                else {\n                    sendSignalling(caller, \"reject\", null, null, null);\n                    clearQueuedMessages(caller);\n                }\n            };\n            //\n            // There is a very rare case of two callers sending each other offers\n            // before receiving the others offer. In such a case, the caller with the\n            // greater valued easyrtcid will delete its pending call information and do a\n            // simple answer to the other caller's offer.\n            //\n            if (acceptancePending[caller] && caller < self.myEasyrtcid) {\n                delete acceptancePending[caller];\n                if (queuedMessages[caller]) {\n                    delete queuedMessages[caller];\n                }\n                if (peerConns[caller]) {\n                    if (peerConns[caller].wasAcceptedCB) {\n                        peerConns[caller].wasAcceptedCB(true, caller);\n                    }\n                    delete peerConns[caller];\n                }\n                helper(true);\n                return;\n            }\n\n            offersPending[caller] = msgData;\n            if (!self.acceptCheck) {\n                helper(true);\n            }\n            else {\n                self.acceptCheck(caller, helper);\n            }\n        };\n\n        function processReject(caller) {\n            delete acceptancePending[caller];\n            if (queuedMessages[caller]) {\n                delete queuedMessages[caller];\n            }\n            if (peerConns[caller]) {\n                if (peerConns[caller].wasAcceptedCB) {\n                    peerConns[caller].wasAcceptedCB(false, caller);\n                }\n                delete peerConns[caller];\n            }\n        }\n\n        function processAnswer(caller, msgData) {\n\n            delete acceptancePending[caller];\n\n            //\n            // if we've discarded the peer connection, ignore the answer.\n            //\n            if (!peerConns[caller]) {\n                return;\n            }\n            peerConns[caller].connectionAccepted = true;\n\n\n\n            if (peerConns[caller].wasAcceptedCB) {\n                peerConns[caller].wasAcceptedCB(true, caller);\n            }\n\n            var onSignalSuccess = function() {\n\n            };\n            var onSignalFailure = function(errorCode, errorText) {\n                if (peerConns[caller]) {\n                    delete peerConns[caller];\n                }\n                self.showError(errorCode, errorText);\n            };\n            // peerConns[caller].startedAV = true;\n            sendQueuedCandidates(caller, onSignalSuccess, onSignalFailure);\n            pc = peerConns[caller].pc;\n            var sd = new RTCSessionDescription(msgData);\n            if (!sd) {\n                throw \"Could not create the RTCSessionDescription\";\n            }\n\n            logDebug(\"about to call initiating setRemoteDescription\");\n\n            try {\n                if (sdpRemoteFilter) {\n                    sd.sdp = sdpRemoteFilter(sd.sdp);\n                }\n                pc.setRemoteDescription(sd, function() {\n                    if (pc.connectDataConnection) {\n                        logDebug(\"calling connectDataConnection(5001,5002)\");\n\n                        pc.connectDataConnection(5001, 5002); // these are like ids for data channels\n                    }\n                }, function(message){\n                     logDebug(\"setRemoteDescription failed \", message);\n                 });\n            } catch (smdException) {\n                logDebug(\"setRemoteDescription failed \", smdException);\n            }\n            flushCachedCandidates(caller);\n        }\n\n        function processCandidateQueue(caller, msgData) {\n\n            if (peerConns[caller] && peerConns[caller].pc) {\n                processCandidateBody(caller, msgData);\n            }\n            else {\n                if (!peerConns[caller]) {\n                    queuedMessages[caller] = {\n                        candidates: []\n                    };\n                }\n                queuedMessages[caller].candidates.push(msgData);\n            }\n        }\n\n        switch (msgType) {\n            case \"sessionData\":\n                processSessionData(msgData.sessionData);\n                break;\n            case \"roomData\":\n                processRoomData(msgData.roomData);\n                break;\n            case \"iceConfig\":\n                processIceConfig(msgData.iceConfig);\n                break;\n            case \"forwardToUrl\":\n                if (msgData.newWindow) {\n                    window.open(msgData.forwardToUrl.url);\n                }\n                else {\n                    window.location.href = msgData.forwardToUrl.url;\n                }\n                break;\n            case \"offer\":\n                processOffer(caller, msgData);\n                break;\n            case \"reject\":\n                processReject(caller);\n                break;\n            case \"answer\":\n                processAnswer(caller, msgData);\n                break;\n            case \"candidate\":\n                processCandidateQueue(caller, msgData);\n                break;\n            case \"hangup\":\n                onRemoteHangup(caller);\n                clearQueuedMessages(caller);\n                break;\n            case \"error\":\n                self.showError(msgData.errorCode, msgData.errorText);\n                break;\n            default:\n                self.showError(self.errCodes.DEVELOPER_ERR, \"received unknown message type from server, msgType is \" + msgType);\n                return;\n        }\n\n        if (ackAcceptorFn) {\n            ackAcceptorFn(self.ackMessage);\n        }\n    }\n\n    /**\n     * Sets the presence state on the server.\n     * @param {String} state - one of 'away','chat','dnd','xa'\n     * @param {String} statusText - User configurable status string. May be length limited.\n     * @example   easyrtc.updatePresence('dnd', 'sleeping');\n     */\n    this.updatePresence = function(state, statusText) {\n\n        self.presenceShow = state;\n        self.presenceStatus = statusText;\n\n        if (self.webSocketConnected) {\n            sendSignalling(null, 'setPresence', {\n                setPresence: {\n                    'show': self.presenceShow,\n                    'status': self.presenceStatus\n                }\n            }, null);\n        }\n    };\n\n    /**\n     * Fetch the collection of session fields as a map. The map has the structure:\n     *  {key1: {\"fieldName\": key1, \"fieldValue\": value1}, ...,\n     *   key2: {\"fieldName\": key2, \"fieldValue\": value2}\n     *  }\n     * @returns {Object}\n     */\n    this.getSessionFields = function() {\n        return sessionFields;\n    };\n\n    /**\n     * Fetch the value of a session field by name.\n     * @param {String} name - name of the session field to be fetched.\n     * @returns the field value (which can be anything). Returns undefined if the field does not exist.\n     */\n    this.getSessionField = function(name) {\n        if (sessionFields[name]) {\n            return sessionFields[name].fieldValue;\n        }\n        else {\n            return undefined;\n        }\n    };\n\n    /**\n     * Returns an array of easyrtcid's of peers in a particular room.\n     * @param roomName\n     * @returns {Array} of easyrtcids or null if the client is not in the room.\n     * @example\n     *     var occupants = easyrtc.getRoomOccupants(\"default\");\n     *     var i;\n     *     for( i = 0; i < occupants.length; i++ ) {\n     *         console.log( occupants[i] + \" is in the room\");\n     *     }\n     */\n    this.getRoomOccupantsAsArray = function(roomName) {\n        if (!lastLoggedInList[roomName]) {\n            return null;\n        }\n        else {\n            return Object.keys(lastLoggedInList[roomName]);\n        }\n    };\n\n    /**\n     * Returns a map of easyrtcid's of peers in a particular room. You should only test elements in the map to see if they are\n     * null; their actual values are not guaranteed to be the same in different releases.\n     * @param roomName\n     * @returns {Object} of easyrtcids or null if the client is not in the room.\n     * @example\n     *      if( easyrtc.getRoomOccupantsAsMap(\"default\")[some_easyrtcid]) {\n     *          console.log(\"yep, \" + some_easyrtcid + \" is in the room\");\n     *      }\n     */\n    this.getRoomOccupantsAsMap = function(roomName) {\n        return lastLoggedInList[roomName];\n    };\n\n    /**\n     * Returns true if the ipAddress parameter was the address of a turn server. This is done by checking against information\n     * collected during peer to peer calls. Don't expect it to work before the first call, or to identify turn servers that aren't\n     * in the ice config.\n     * @param ipAddress\n     * @returns {boolean} true if ip address is known to be that of a turn server, false otherwise.\n     */\n    this.isTurnServer = function(ipAddress) {\n        return !!self._turnServers[ipAddress];\n    };\n\n    /**\n     * Returns true if the ipAddress parameter was the address of a stun server. This is done by checking against information\n     * collected during peer to peer calls. Don't expect it to work before the first call, or to identify turn servers that aren't\n     * in the ice config.\n     * @param {string} ipAddress\n     * @returns {boolean} true if ip address is known to be that of a stun server, false otherwise.\n     */\n    this.isStunServer = function(ipAddress) {\n        return !!self._stunServers[ipAddress];\n    };\n\n    /**\n     * Request fresh ice config information from the server.\n     * This should be done periodically by long running applications.\n     * @param {Function} callback is called with a value of true on success, false on failure.\n     */\n    this.getFreshIceConfig = function(callback) {\n        var dataToShip = {\n            msgType: \"getIceConfig\",\n            msgData: {}\n        };\n        if (!callback) {\n            callback = function() {\n            };\n        }\n        self.webSocket.json.emit(\"easyrtcCmd\", dataToShip,\n                function(ackMsg) {\n                    if (ackMsg.msgType === \"iceConfig\") {\n                        processIceConfig(ackMsg.msgData.iceConfig);\n                        callback(true);\n                    }\n                    else {\n                        self.showError(ackMsg.msgData.errorCode, ackMsg.msgData.errorText);\n                        callback(false);\n                    }\n                }\n        );\n    };\n\n    /**\n     * This method allows you to join a single room. It may be called multiple times to be in\n     * multiple rooms simultaneously. It may be called before or after connecting to the server.\n     * Note: the successCB and failureDB will only be called if you are already connected to the server.\n     * @param {String} roomName the room to be joined.\n     * @param {Object} roomParameters application specific parameters, can be null.\n     * @param {Function} successCB called once, with a roomName as it's argument, once the room is joined.\n     * @param {Function} failureCB called if the room can not be joined. The arguments of failureCB are errorCode, errorText, roomName.\n     */\n    this.joinRoom = function(roomName, roomParameters, successCB, failureCB) {\n        if (self.roomJoin[roomName]) {\n            self.showError(self.errCodes.DEVELOPER_ERR, \"Attempt to join room \" + roomName + \" which you are already in.\");\n            return;\n        }\n\n        var newRoomData = {roomName: roomName};\n        if (roomParameters) {\n            try {\n                JSON.stringify(roomParameters);\n            } catch (error) {\n                self.showError(self.errCodes.DEVELOPER_ERR, \"non-jsonable parameter to easyrtc.joinRoom\");\n                throw \"Developer error, see application error messages\";\n            }\n            var parameters = {};\n            for (var key in roomParameters) {\n                if (roomParameters.hasOwnProperty(key)) {\n                    parameters[key] = roomParameters[key];\n                }\n            }\n            newRoomData.roomParameter = parameters;\n        }\n        var msgData = {\n            roomJoin: {}\n        };\n        var roomData;\n        var signallingSuccess, signallingFailure;\n        if (self.webSocket) {\n\n            msgData.roomJoin[roomName] = newRoomData;\n            signallingSuccess = function(msgType, msgData) {\n\n                roomData = msgData.roomData;\n                self.roomJoin[roomName] = newRoomData;\n                if (successCB) {\n                    successCB(roomName);\n                }\n\n                processRoomData(roomData);\n            };\n            signallingFailure = function(errorCode, errorText) {\n                if (failureCB) {\n                    failureCB(errorCode, errorText, roomName);\n                }\n                else {\n                    self.showError(errorCode, self.format(self.getConstantString(\"unableToEnterRoom\"), roomName, errorText));\n                }\n            };\n            sendSignalling(null, \"roomJoin\", msgData, signallingSuccess, signallingFailure);\n        }\n        else {\n            self.roomJoin[roomName] = newRoomData;\n        }\n\n    };\n\n    /**\n     * This function allows you to leave a single room. Note: the successCB and failureDB\n     *  arguments are optional and will only be called if you are already connected to the server.\n     * @param {String} roomName\n     * @param {Function} successCallback - A function which expects a roomName.\n     * @param {Function} failureCallback - A function which expects the following arguments: errorCode, errorText, roomName.\n     * @example\n     *    easyrtc.leaveRoom(\"freds_room\");\n     *    easyrtc.leaveRoom(\"freds_room\", function(roomName){ console.log(\"left the room\")},\n     *                       function(errorCode, errorText, roomName){ console.log(\"left the room\")});\n     */\n    this.leaveRoom = function(roomName, successCallback, failureCallback) {\n        var roomItem;\n        if (self.roomJoin[roomName]) {\n            if (!self.webSocket) {\n                delete self.roomJoin[roomName];\n            }\n            else {\n                roomItem = {};\n                roomItem[roomName] = {roomName: roomName};\n                sendSignalling(null, \"roomLeave\", {roomLeave: roomItem},\n                function(msgType, msgData) {\n                    var roomData = msgData.roomData;\n                    processRoomData(roomData);\n                    if (successCallback) {\n                        successCallback(roomName);\n                    }\n                },\n                        function(errorCode, errorText) {\n                            if (failureCallback) {\n                                failureCallback(errorCode, errorText, roomName);\n                            }\n                        });\n            }\n        }\n    };\n\n    /** Get a list of the rooms you are in. You must be connected to call this function.\n     * @returns {Object} A map whose keys are the room names\n     */\n    this.getRoomsJoined = function() {\n        var roomsIn = {};\n        var key;\n        for (key in self.roomJoin) {\n            if (self.roomJoin.hasOwnProperty(key)) {\n                roomsIn[key] = true;\n            }\n        }\n        return roomsIn;\n    };\n\n    /** Get server defined fields associated with a particular room. Only valid\n     * after a connection has been made.\n     * @param {String} roomName - the name of the room you want the fields for.\n     * @returns {Object} A dictionary containing entries of the form {key:{'fieldName':key, 'fieldValue':value1}} or undefined\n     * if you are not connected to the room.\n     */\n    this.getRoomFields = function(roomName) {\n        return (!fields || !fields.rooms || !fields.rooms[roomName]) ?\n                    undefined : fields.rooms[roomName];\n    };\n\n    /** Get server defined fields associated with the current application. Only valid\n     * after a connection has been made.\n     * @returns {Object} A dictionary containing entries of the form {key:{'fieldName':key, 'fieldValue':value1}}\n     */\n    this.getApplicationFields = function() {\n        return fields.application;\n    };\n\n    /** Get server defined fields associated with the connection. Only valid\n     * after a connection has been made.\n     * @returns {Object} A dictionary containing entries of the form {key:{'fieldName':key, 'fieldValue':value1}}\n     */\n    this.getConnectionFields = function() {\n        return fields.connection;\n    };\n\n    /**\n     * Supply a socket.io connection that will be used instead of allocating a new socket.\n     * The expected usage is that you allocate a websocket, assign options to it, call\n     * easyrtc.useThisSocketConnection, followed by easyrtc.connect or easyrtc.easyApp. Easyrtc will not attempt to\n     * close sockets that were supplied with easyrtc.useThisSocketConnection.\n     * @param {Object} alreadyAllocatedSocketIo A value allocated with the connect method of socket.io.\n     */\n    this.useThisSocketConnection = function(alreadyAllocatedSocketIo) {\n        preallocatedSocketIo = alreadyAllocatedSocketIo;\n    };\n\n    /** @private */\n    function processToken(msg) {\n        var msgData = msg.msgData;\n        logDebug(\"entered process token\");\n\n        if (msgData.easyrtcid) {\n            self.myEasyrtcid = msgData.easyrtcid;\n        }\n        if (msgData.field) {\n            fields.connection = msgData.field;\n        }\n        if (msgData.iceConfig) {\n            processIceConfig(msgData.iceConfig);\n        }\n\n        if (msgData.sessionData) {\n            processSessionData(msgData.sessionData);\n        }\n        if (msgData.roomData) {\n            processRoomData(msgData.roomData);\n        }\n        if (msgData.application.field) {\n            fields.application = msgData.application.field;\n        }\n    }\n\n    /** @private */\n    function sendAuthenticate(successCallback, errorCallback) {\n        //\n        // find our easyrtcsid\n        //\n        var cookies, target, i;\n        var easyrtcsid = null;\n\n        if (self.cookieId && document.cookie) {\n            cookies = document.cookie.split(/[; ]/g);\n            target = self.cookieId + \"=\";\n            for (i = 0; i < cookies.length; i++) {\n                if (cookies[i].indexOf(target) === 0) {\n                    easyrtcsid = cookies[i].substring(target.length);\n                }\n            }\n        }\n\n        var msgData = {\n            apiVersion: self.apiVersion,\n            applicationName: self.applicationName,\n            setUserCfg: collectConfigurationInfo(true)\n        };\n\n        if (!self.roomJoin) {\n            self.roomJoin = {};\n        }\n        if (self.presenceShow) {\n            msgData.setPresence = {\n                show: self.presenceShow,\n                status: self.presenceStatus\n            };\n        }\n        if (self.username) {\n            msgData.username = self.username;\n        }\n        if (self.roomJoin && !isEmptyObj(self.roomJoin)) {\n            msgData.roomJoin = self.roomJoin;\n        }\n        if (easyrtcsid) {\n            msgData.easyrtcsid = easyrtcsid;\n        }\n        if (credential) {\n            msgData.credential = credential;\n        }\n\n        self.webSocket.json.emit(\n            \"easyrtcAuth\",\n            {\n                msgType: \"authenticate\",\n                msgData: msgData\n            },\n            function(msg) {\n                var room;\n                if (msg.msgType === \"error\") {\n                    errorCallback(msg.msgData.errorCode, msg.msgData.errorText);\n                    self.roomJoin = {};\n                }\n                else {\n                    processToken(msg);\n                    if (self._roomApiFields) {\n                        for (room in self._roomApiFields) {\n                            if (self._roomApiFields.hasOwnProperty(room)) {\n                                enqueueSendRoomApi(room);\n                            }\n                        }\n                    }\n\n                    if (successCallback) {\n                        successCallback(self.myEasyrtcid);\n                    }\n                }\n            }\n        );\n    }\n\n    /** @private */\n    function connectToWSServer(successCallback, errorCallback) {\n        var i;\n        if (preallocatedSocketIo) {\n            self.webSocket = preallocatedSocketIo;\n        }\n        else if (!self.webSocket) {\n            try {\n               self.webSocket = io.connect(serverPath, connectionOptions);\n\n                if (!self.webSocket) {\n                    throw \"io.connect failed\";\n                }\n\n            } catch(socketErr) {\n                self.webSocket = 0;\n                errorCallback( self.errCodes.SYSTEM_ERROR, socketErr.toString());\n\n               return;\n            }\n        }\n        else {\n            for (i in self.websocketListeners) {\n                if (!self.websocketListeners.hasOwnProperty(i)) {\n                    continue;\n                }\n                self.webSocket.removeEventListener(self.websocketListeners[i].event,\n                        self.websocketListeners[i].handler);\n            }\n        }\n\n        self.websocketListeners = [];\n\n        function addSocketListener(event, handler) {\n            self.webSocket.on(event, handler);\n            self.websocketListeners.push({event: event, handler: handler});\n        }\n\n        addSocketListener(\"close\", function(event) {\n            logDebug(\"the web socket closed\");\n        });\n\n        addSocketListener('error', function(event) {\n            function handleErrorEvent() {\n                if (self.myEasyrtcid) {\n                    //\n                    // socket.io version 1 got rid of the socket member, moving everything up one level.\n                    //\n                    if (isSocketConnected(self.webSocket)) {\n                        self.showError(self.errCodes.SIGNAL_ERR, self.getConstantString(\"miscSignalError\"));\n                    }\n                    else {\n                        /* socket server went down. this will generate a 'disconnect' event as well, so skip this event */\n                        errorCallback(self.errCodes.CONNECT_ERR, self.getConstantString(\"noServer\"));\n                    }\n                }\n                else {\n                    errorCallback(self.errCodes.CONNECT_ERR, self.getConstantString(\"noServer\"));\n                }\n            }\n            handleErrorEvent();\n        });\n\n        function connectHandler(event) {\n            self.webSocketConnected = true;\n            if (!self.webSocket) {\n                self.showError(self.errCodes.CONNECT_ERR, self.getConstantString(\"badsocket\"));\n            }\n\n            logDebug(\"saw socket-server onconnect event\");\n\n            if (self.webSocketConnected) {\n                sendAuthenticate(successCallback, errorCallback);\n            }\n            else {\n                errorCallback(self.errCodes.SIGNAL_ERR, self.getConstantString(\"icf\"));\n            }\n        }\n\n        if (isSocketConnected(preallocatedSocketIo)) {\n            connectHandler(null);\n        }\n        else {\n            addSocketListener(\"connect\", connectHandler);\n        }\n\n        addSocketListener(\"easyrtcMsg\", onChannelMsg);\n        addSocketListener(\"easyrtcCmd\", onChannelCmd);\n        addSocketListener(\"disconnect\", function(/* code, reason, wasClean */) {\n\n            self.webSocketConnected = false;\n            updateConfigurationInfo = function() {}; // dummy update function\n            oldConfig = {};\n            disconnectBody();\n\n            if (self.disconnectListener) {\n                self.disconnectListener();\n            }\n        });\n    }\n\n    /**\n     * Connects to the EasyRTC signaling server. You must connect before trying to\n     * call other users.\n     * @param {String} applicationName is a string that identifies the application so that different applications can have different\n     *        lists of users. Note that the server configuration specifies a regular expression that is used to check application names\n     *        for validity. The default pattern is that of an identifier, spaces are not allowed.\n     * @param {Function} successCallback (easyrtcId, roomOwner) - is called on successful connect. easyrtcId is the\n     *   unique name that the client is known to the server by. A client usually only needs it's own easyrtcId for debugging purposes.\n     *       roomOwner is true if the user is the owner of a room. It's value is random if the user is in multiple rooms.\n     * @param {Function} errorCallback (errorCode, errorText) - is called on unsuccessful connect. if null, an alert is called instead.\n     *  The errorCode takes it's value from easyrtc.errCodes.\n     * @example\n     *   easyrtc.connect(\"my_chat_app\",\n     *                   function(easyrtcid, roomOwner){\n     *                       if( roomOwner){ console.log(\"I'm the room owner\"); }\n     *                       console.log(\"my id is \" + easyrtcid);\n     *                   },\n     *                   function(errorText){\n     *                       console.log(\"failed to connect \", erFrText);\n     *                   });\n     */\n    this.connect = function(applicationName, successCallback, errorCallback) {\n\n        // Detect invalid or missing socket.io\n        if (!io) {\n            self.showError(self.errCodes.DEVELOPER_ERR, \"Your HTML has not included the socket.io.js library\");\n        }\n\n        if (!preallocatedSocketIo && self.webSocket) {\n            self.showError(self.errCodes.DEVELOPER_ERR, \"Attempt to connect when already connected to socket server\");\n            return;\n        }\n        pc_config = {};\n        closedChannel = null;\n        oldConfig = {}; // used internally by updateConfiguration\n        queuedMessages = {};\n        self.applicationName = applicationName;\n        fields = {\n            rooms: {},\n            application: {},\n            connection: {}\n        };\n\n        logDebug(\"attempt to connect to WebRTC signalling server with application name=\" + applicationName);\n\n        if (errorCallback === null) {\n            errorCallback = function(errorCode, errorText) {\n                self.showError(errorCode, errorText);\n            };\n        }\n\n        connectToWSServer(successCallback, errorCallback);\n    };\n};\n\nreturn new Easyrtc();\n\n})); \n\n/* global define, module, require, console */\n/*!\n  Script: easyrtc_app.js\n\n    Provides support file and data transfer support to easyrtc.\n\n  About: License\n\n    Copyright (c) 2016, Priologic Software Inc.\n    All rights reserved.\n\n    Redistribution and use in source and binary forms, with or without\n    modification, are permitted provided that the following conditions are met:\n\n        * Redistributions of source code must retain the above copyright notice,\n          this list of conditions and the following disclaimer.\n        * Redistributions in binary form must reproduce the above copyright\n          notice, this list of conditions and the following disclaimer in the\n          documentation and/or other materials provided with the distribution.\n\n    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n    ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n    POSSIBILITY OF SUCH DAMAGE.\n*/\n\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        //RequireJS (AMD) build system\n        define('easyrtc_app',['easyrtc'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        //CommonJS build system\n        module.exports = factory(require('easyrtc'));\n    } else {\n        //Vanilla JS, ensure dependencies are loaded correctly\n        if (typeof window.easyrtc !== 'object' || !window.easyrtc) {\n            throw new Error(\"easyrtc_app requires easyrtc\");\n        }\n        root.easyrtc = factory(window.easyrtc);\n  }\n}(this, function (easyrtc, undefined) {\n\n    \"use strict\";\n\n    /**\n     * This file adds additional methods to Easyrtc for simplifying the \n     * management of video-mediastream assignment.\n     * @class Easyrtc_App\n     */\n\n    /** @private */\n    var autoAddCloseButtons = true;\n\n    /** By default, the easyApp routine sticks a \"close\" button on top of each caller\n     * video object that it manages. Call this function(before calling easyApp) to disable that particular feature.\n     * @function\n     * @memberOf Easyrtc_App\n     * @example\n     *    easyrtc.dontAddCloseButtons();\n     */\n    easyrtc.dontAddCloseButtons = function() {\n        autoAddCloseButtons = false;\n    };\n\n    /**\n     * This is a helper function for the easyApp method. It manages the assignment of video streams\n     * to video objects. It assumes\n     * @param {String} monitorVideoId is the id of the mirror video tag.\n     * @param {Array} videoIds is an array of ids of the caller video tags.\n     * @private\n     */\n    function easyAppBody(monitorVideoId, videoIds) {\n\n        var videoIdsP = videoIds || [],\n            numPEOPLE = videoIds.length,\n            videoIdToCallerMap = {},\n            onCall = null, \n            onHangup = null;\n\n        /**\n         * Validates that the video ids correspond to dom objects.\n         * @param {String} monitorVideoId\n         * @param {Array} videoIds\n         * @returns {Boolean}\n         * @private\n         */\n        function validateVideoIds(monitorVideoId, videoIds) {\n            var i;\n            // verify that video ids were not typos.\n            if (monitorVideoId && !document.getElementById(monitorVideoId)) {\n                easyrtc.showError(easyrtc.errCodes.DEVELOPER_ERR, \"The monitor video id passed to easyApp was bad, saw \" + monitorVideoId);\n                return false;\n            }\n    \n            for (i in videoIds) {\n                if (!videoIds.hasOwnProperty(i)) {\n                    continue;\n                }\n                var name = videoIds[i];\n                if (!document.getElementById(name)) {\n                    easyrtc.showError(easyrtc.errCodes.DEVELOPER_ERR, \"The caller video id '\" + name + \"' passed to easyApp was bad.\");\n                    return false;\n                }\n            }\n            return true;\n        }\n\n\n        function getCallerOfVideo(videoObject) {\n            return videoIdToCallerMap[videoObject.id];\n        }\n\n        function setCallerOfVideo(videoObject, callerEasyrtcId) {\n            videoIdToCallerMap[videoObject.id] = callerEasyrtcId;\n        }\n\n        function videoIsFree(obj) {\n            var caller = getCallerOfVideo(obj);\n            return (caller === \"\" || caller === null || caller === undefined);\n        }\n\n        function getIthVideo(i) {\n            if (videoIdsP[i]) {\n                return document.getElementById(videoIdsP[i]);\n            }\n            else {\n                return null;\n            }\n        }\n\n        function showVideo(video, stream) {\n            easyrtc.setVideoObjectSrc(video, stream);\n            if (video.style.visibility) {\n                video.style.visibility = 'visible';\n            }\n        }\n\n        function hideVideo(video) {\n            easyrtc.setVideoObjectSrc(video, \"\");\n            video.style.visibility = \"hidden\";\n        }\n\n        if (!validateVideoIds(monitorVideoId, videoIdsP)) {\n            throw \"bad video element id\";\n        }\n\n        if (monitorVideoId) {\n            document.getElementById(monitorVideoId).muted = \"muted\";\n        }\n\n        easyrtc.addEventListener(\"roomOccupants\", \n            function(eventName, eventData) {\n                var i;\n                for (i = 0; i < numPEOPLE; i++) {\n                    var video = getIthVideo(i);\n                    if (!videoIsFree(video)) {\n                if( !easyrtc.isPeerInAnyRoom(getCallerOfVideo(video))){\n                           if( onHangup ) {\n                               onHangup(getCallerOfVideo(video), i);\n                           }\n                           setCallerOfVideo(video, null);\n                        }\n                    }\n                }\n            }\n        );\n\n        /** Sets an event handler that gets called when an incoming MediaStream is assigned \n         * to a video object. The name is poorly chosen and reflects a simpler era when you could\n         * only have one media stream per peer connection.\n         * @function\n         * @memberOf Easyrtc_App\n         * @param {Function} cb has the signature function(easyrtcid, slot){}\n         * @example\n         *   easyrtc.setOnCall( function(easyrtcid, slot){\n         *      console.log(\"call with \" + easyrtcid + \"established\");\n         *   });\n         */\n        easyrtc.setOnCall = function(cb) {\n            onCall = cb;\n        };\n\n        /** Sets an event handler that gets called when a call is ended.\n         * it's only purpose (so far) is to support transitions on video elements.\n         x     * this function is only defined after easyrtc.easyApp is called.\n         * The slot is parameter is the index into the array of video ids.\n         * Note: if you call easyrtc.getConnectionCount() from inside your callback\n         * it's count will reflect the number of connections before the hangup started.\n         * @function\n         * @memberOf Easyrtc_App\n         * @param {Function} cb has the signature function(easyrtcid, slot){}\n         * @example\n         *   easyrtc.setOnHangup( function(easyrtcid, slot){\n         *      console.log(\"call with \" + easyrtcid + \"ended\");\n         *   });\n         */\n        easyrtc.setOnHangup = function(cb) {\n            onHangup = cb;\n        };\n\n        /** \n          * Get the easyrtcid of the ith caller, starting at 0.\n          * @function\n          * @memberOf Easyrtc_App\n          * @param {number} i\n          * @returns {String}\n          */\n        easyrtc.getIthCaller = function(i) {\n            if (i < 0 || i >= videoIdsP.length) {\n                return null;\n            }\n            var vid = getIthVideo(i);\n            return getCallerOfVideo(vid);\n        };\n\n        /** \n          * This is the complement of getIthCaller. Given an easyrtcid,\n          * it determines which slot the easyrtc is in.\n          * @function\n          * @memberOf Easyrtc_App\n          * @param {string} easyrtcid \n          * @returns {number} or -1 if the easyrtcid is not a caller.\n          */\n        easyrtc.getSlotOfCaller = function(easyrtcid) {\n            var i;\n            for (i = 0; i < numPEOPLE; i++) {\n                if (easyrtc.getIthCaller(i) === easyrtcid) {\n                    return i;\n                }\n            }\n            return -1; // caller not connected\n        };\n\n        easyrtc.setOnStreamClosed(function(caller) {\n            var i;\n            for (i = 0; i < numPEOPLE; i++) {\n                var video = getIthVideo(i);\n                if (getCallerOfVideo(video) === caller) {\n                    hideVideo(video);\n                    setCallerOfVideo(video, \"\");\n                    if (onHangup) {\n                        onHangup(caller, i);\n                    }\n                }\n            }\n        });\n\n        //\n        // Only accept incoming calls if we have a free video object to display\n        // them in.\n        //\n        easyrtc.setAcceptChecker(function(caller, helper) {\n            var i;\n            for (i = 0; i < numPEOPLE; i++) {\n                var video = getIthVideo(i);\n                if (videoIsFree(video)) {\n                    helper(true);\n                    return;\n                }\n            }\n            helper(false);\n        });\n\n        easyrtc.setStreamAcceptor(function(caller, stream) {\n            var i;\n            if (easyrtc.debugPrinter) {\n                easyrtc.debugPrinter(\"stream acceptor called\");\n            }\n\n            var video;\n\n            for (i = 0; i < numPEOPLE; i++) {\n                video = getIthVideo(i);\n                if (getCallerOfVideo(video) === caller) {\n                    showVideo(video, stream);\n                    if (onCall) {\n                        onCall(caller, i);\n                    }\n                    return;\n                }\n            }\n\n            for (i = 0; i < numPEOPLE; i++) {\n                video = getIthVideo(i);\n                if (videoIsFree(video)) {\n                    setCallerOfVideo(video, caller);\n                    if (onCall) {\n                        onCall(caller, i);\n                    }\n                    showVideo(video, stream);\n                    return;\n                }\n            }\n            //\n            // no empty slots, so drop whatever caller we have in the first slot and use that one.\n            //\n            video = getIthVideo(0);\n            if (video) {\n                easyrtc.hangup(getCallerOfVideo(video));\n                showVideo(video, stream);\n                if (onCall) {\n                    onCall(caller, 0);\n                }\n            }\n\n            setCallerOfVideo(video, caller);\n        });\n\n        var addControls, parentDiv, closeButton, i;\n        if (autoAddCloseButtons) {\n\n            addControls = function(video) {\n                parentDiv = video.parentNode;\n                setCallerOfVideo(video, \"\");\n                closeButton = document.createElement(\"div\");\n                closeButton.className = \"easyrtc_closeButton\";\n                closeButton.onclick = function() {\n                    if (getCallerOfVideo(video)) {\n                        easyrtc.hangup(getCallerOfVideo(video));\n                        hideVideo(video);\n                        setCallerOfVideo(video, \"\");\n                    }\n                };\n                parentDiv.appendChild(closeButton);\n            };\n\n            for (i = 0; i < numPEOPLE; i++) {\n                addControls(getIthVideo(i));\n            }\n        }\n\n        var monitorVideo = null;\n        if (easyrtc.videoEnabled && monitorVideoId !== null) {\n            monitorVideo = document.getElementById(monitorVideoId);\n            if (!monitorVideo) {\n                console.error(\"Programmer error: no object called \" + monitorVideoId);\n                return;\n            }\n            monitorVideo.muted = \"muted\";\n            monitorVideo.defaultMuted = true;\n        }\n    }\n\n    /**\n     * Provides a layer on top of the easyrtc.initMediaSource and easyrtc.connect, assign the local media stream to\n     * the video object identified by monitorVideoId, assign remote video streams to\n     * the video objects identified by videoIds, and then call onReady. One of it's\n     * side effects is to add hangup buttons to the remote video objects, buttons\n     * that only appear when you hover over them with the mouse cursor. This method will also add the\n     * easyrtcMirror class to the monitor video object so that it behaves like a mirror.\n     * @function\n     * @memberOf Easyrtc_App\n     *  @param {String} applicationName - name of the application.\n     *  @param {String} monitorVideoId - the id of the video object used for monitoring the local stream.\n     *  @param {Array} videoIds - an array of video object ids (strings)\n     *  @param {Function} onReady - a callback function used on success. It is called with the easyrtcId this peer is known to the server as.\n     *  @param {Function} onFailure - a callback function used on failure (failed to get local media or a connection of the signaling server).\n     *  @example\n     *     easyrtc.easyApp('multiChat', 'selfVideo', ['remote1', 'remote2', 'remote3'],\n     *              function(easyrtcId){\n     *                  console.log(\"successfully connected, I am \" + easyrtcId);\n     *              },\n     *              function(errorCode, errorText){\n     *                  console.log(errorText);\n     *              });\n     */\n    easyrtc.easyApp = function(applicationName, monitorVideoId, videoIds, onReady, onFailure) {\n        \n        var gotMediaCallback = null,\n            gotConnectionCallback = null;\n\n        easyAppBody(monitorVideoId, videoIds);\n\n        easyrtc.setGotMedia = function(gotMediaCB) {\n            gotMediaCallback = gotMediaCB;\n        };\n\n        //\n        // try to restablish broken connections that weren't caused by a hangup\n        //\n        easyrtc.setPeerClosedListener( function(easyrtcid) {\n           setTimeout( function() {\n               if( easyrtc.getSlotOfCaller(easyrtcid)  >= 0 && easyrtc.isPeerInAnyRoom(easyrtcid)) {\n                    easyrtc.call(easyrtcid, function(){}, function() {}, function(){});\n               }\n           }, 1000);\n        });\n\n        /** Sets an event handler that gets called when a connection to the signaling\n         * server has or has not been made. Can only be called after calling easyrtc.easyApp.\n         * @function\n         * @memberOf Easyrtc_App\n         * @param {Function} gotConnectionCB has the signature (gotConnection, errorText)\n         * @example\n         *    easyrtc.setGotConnection( function(gotConnection, errorText){\n         *        if( gotConnection ){\n         *            console.log(\"Successfully connected to signaling server\");\n         *        }\n         *        else{\n         *            console.log(\"Failed to connect to signaling server because: \" + errorText);\n         *        }\n         *    });\n         */\n        easyrtc.setGotConnection = function(gotConnectionCB) {\n            gotConnectionCallback = gotConnectionCB;\n        };\n        \n        function nextInitializationStep(/* token */) {\n            if (gotConnectionCallback) {\n                gotConnectionCallback(true, \"\");\n            }\n            onReady(easyrtc.myEasyrtcid);\n        }\n\n        function postGetUserMedia() {\n            if (gotMediaCallback) {\n                gotMediaCallback(true, null);\n            }\n            if (monitorVideoId !== null) {\n                easyrtc.setVideoObjectSrc(document.getElementById(monitorVideoId), easyrtc.getLocalStream());\n            }\n            function connectError(errorCode, errorText) {\n                if (gotConnectionCallback) {\n                    gotConnectionCallback(false, errorText);\n                }\n                else if (onFailure) {\n                    onFailure(easyrtc.errCodes.CONNECT_ERR, errorText);\n                }\n                else {\n                    easyrtc.showError(easyrtc.errCodes.CONNECT_ERR, errorText);\n                }\n            }\n\n            easyrtc.connect(applicationName, nextInitializationStep, connectError);\n        }\n\n        var stream = easyrtc.getLocalStream(null);\n        if (stream) {\n            postGetUserMedia();\n        }\n        else {\n            easyrtc.initMediaSource(\n                    postGetUserMedia,\n                    function(errorCode, errorText) {\n                        if (gotMediaCallback) {\n                            gotMediaCallback(false, errorText);\n                        }\n                        else if (onFailure) {\n                            onFailure(easyrtc.errCodes.MEDIA_ERR, errorText);\n                        }\n                        else {\n                            easyrtc.showError(easyrtc.errCodes.MEDIA_ERR, errorText);\n                        }\n                    },\n                    null // default stream\n                );\n        }\n    };\n\nreturn easyrtc;\n\n})); // end of module wrapper\n;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/js/easyrtc.js\n **/","'use strict';\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = require('util/');\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/~/node-libs-browser/~/assert/assert.js\n ** module id = 80\n ** module chunks = 3\n **/","\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup (uri, opts) {\n  if (typeof uri === 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n  if (parsed.query && !opts.query) {\n    opts.query = parsed.query;\n  }\n  return io.socket(parsed.path, opts);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/lib/index.js\n ** module id = 83\n ** module chunks = 3\n **/","\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url (uri, loc) {\n  var obj = uri;\n\n  // default to window.location\n  loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' === typeof uri) {\n    if ('/' === uri.charAt(0)) {\n      if ('/' === uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' !== typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    } else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/lib/url.js\n ** module id = 87\n ** module chunks = 3\n **/","\n/**\n * Module dependencies.\n */\n\nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager (uri, opts) {\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' === typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  var _parser = opts.parser || parser;\n  this.encoder = new _parser.Encoder();\n  this.decoder = new _parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function () {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function () {\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.generateId(nsp);\n    }\n  }\n};\n\n/**\n * generate `socket.id` for the given `nsp`\n *\n * @param {String} nsp\n * @return {String}\n * @api private\n */\n\nManager.prototype.generateId = function (nsp) {\n  return (nsp === '/' ? '' : (nsp + '#')) + this.engine.id;\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function (v) {\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function (v) {\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function (v) {\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function (v) {\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function (v) {\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function (v) {\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function () {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function (fn, opts) {\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function () {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function (data) {\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    // set timer\n    var timer = setTimeout(function () {\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function () {\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function () {\n  this.lastPing = new Date();\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function () {\n  this.emitAll('pong', new Date() - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function (data) {\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function (err) {\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function (nsp, opts) {\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp, opts);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function () {\n      socket.id = self.generateId(nsp);\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting event is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting () {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function (socket) {\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function (packet) {\n  debug('writing packet %j', packet);\n  var self = this;\n  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function (encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function () {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function () {\n  debug('cleanup');\n\n  var subsLength = this.subs.length;\n  for (var i = 0; i < subsLength; i++) {\n    var sub = this.subs.shift();\n    sub.destroy();\n  }\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function () {\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' === this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function (reason) {\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function () {\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function () {\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function (err) {\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function () {\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/lib/manager.js\n ** module id = 88\n ** module chunks = 3\n **/","\n/**\n * Module dependencies.\n */\n\nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket (io, nsp, opts) {\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  if (opts && opts.query) {\n    this.query = opts.query;\n  }\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function () {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function () {\n  if (this.connected) return this;\n\n  this.subEvents();\n  this.io.open(); // ensure open\n  if ('open' === this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function () {\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function (ev) {\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var packet = { type: parser.EVENT, data: args };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' === typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  delete this.flags;\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function (packet) {\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function () {\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' !== this.nsp) {\n    if (this.query) {\n      var query = typeof this.query === 'object' ? parseqs.encode(this.query) : this.query;\n      debug('sending connect packet with query %s', query);\n      this.packet({type: parser.CONNECT, query: query});\n    } else {\n      this.packet({type: parser.CONNECT});\n    }\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function (reason) {\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function (packet) {\n  if (packet.nsp !== this.nsp) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function (packet) {\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function (id) {\n  var self = this;\n  var sent = false;\n  return function () {\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    self.packet({\n      type: parser.ACK,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function (packet) {\n  var ack = this.acks[packet.id];\n  if ('function' === typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function () {\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function () {\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function () {\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function () {\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function () {\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function (compress) {\n  this.flags = this.flags || {};\n  this.flags.compress = compress;\n  return this;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/lib/socket.js\n ** module id = 89\n ** module chunks = 3\n **/","\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar hasBin = require('has-binary2');\nvar binary = require('./binary');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'ACK',\n  'ERROR',\n  'BINARY_EVENT',\n  'BINARY_ACK'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  if ((obj.type === exports.EVENT || obj.type === exports.ACK) && hasBin(obj.data)) {\n    obj.type = obj.type === exports.EVENT ? exports.BINARY_EVENT : exports.BINARY_ACK;\n  }\n\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    encodeAsBinary(obj, callback);\n  }\n  else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n\n  // first is type\n  var str = '' + obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    str += obj.attachments + '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' !== obj.nsp) {\n    str += obj.nsp + ',';\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    str += JSON.stringify(obj.data);\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an ecoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if (typeof obj === 'string') {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT === packet.type || exports.BINARY_ACK === packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  }\n  else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  }\n  else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var i = 0;\n  // look up type\n  var p = {\n    type: Number(str.charAt(0))\n  };\n\n  if (null == exports.types[p.type]) return error();\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT === p.type || exports.BINARY_ACK === p.type) {\n    var buf = '';\n    while (str.charAt(++i) !== '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) !== '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' === str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' === c) break;\n      p.nsp += c;\n      if (i === str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i === str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    p = tryParse(p, str.substr(i));\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\nfunction tryParse(p, str) {\n  try {\n    p.data = JSON.parse(str);\n  } catch(e){\n    return error();\n  }\n  return p; \n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length === this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error() {\n  return {\n    type: exports.ERROR,\n    data: 'parser error'\n  };\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/socket.io-parser/index.js\n ** module id = 98\n ** module chunks = 3\n **/","\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on (obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function () {\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/lib/on.js\n ** module id = 99\n ** module chunks = 3\n **/","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/debug/src/browser.js\n ** module id = 100\n ** module chunks = 3\n **/","/**\r\n * Parses an URI\r\n *\r\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\r\n * @api private\r\n */\r\n\r\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\r\n\r\nvar parts = [\r\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\r\n];\r\n\r\nmodule.exports = function parseuri(str) {\r\n    var src = str,\r\n        b = str.indexOf('['),\r\n        e = str.indexOf(']');\r\n\r\n    if (b != -1 && e != -1) {\r\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\r\n    }\r\n\r\n    var m = re.exec(str || ''),\r\n        uri = {},\r\n        i = 14;\r\n\r\n    while (i--) {\r\n        uri[parts[i]] = m[i] || '';\r\n    }\r\n\r\n    if (b != -1 && e != -1) {\r\n        uri.source = src;\r\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\r\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\r\n        uri.ipv6uri = true;\r\n    }\r\n\r\n    return uri;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/parseuri/index.js\n ** module id = 101\n ** module chunks = 3\n **/","\nmodule.exports = require('./lib/index');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/index.js\n ** module id = 102\n ** module chunks = 3\n **/","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/component-emitter/index.js\n ** module id = 103\n ** module chunks = 3\n **/","/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/component-bind/index.js\n ** module id = 104\n ** module chunks = 3\n **/","\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/indexof/index.js\n ** module id = 105\n ** module chunks = 3\n **/","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/backo2/index.js\n ** module id = 106\n ** module chunks = 3\n **/","module.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/to-array/index.js\n ** module id = 107\n ** module chunks = 3\n **/","/**\r\n * Compiles a querystring\r\n * Returns string representation of the object\r\n *\r\n * @param {Object}\r\n * @api private\r\n */\r\n\r\nexports.encode = function (obj) {\r\n  var str = '';\r\n\r\n  for (var i in obj) {\r\n    if (obj.hasOwnProperty(i)) {\r\n      if (str.length) str += '&';\r\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\r\n    }\r\n  }\r\n\r\n  return str;\r\n};\r\n\r\n/**\r\n * Parses a simple querystring into an object\r\n *\r\n * @param {String} qs\r\n * @api private\r\n */\r\n\r\nexports.decode = function(qs){\r\n  var qry = {};\r\n  var pairs = qs.split('&');\r\n  for (var i = 0, l = pairs.length; i < l; i++) {\r\n    var pair = pairs[i].split('=');\r\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\r\n  }\r\n  return qry;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/parseqs/index.js\n ** module id = 108\n ** module chunks = 3\n **/","/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof global.Blob === 'function' || toString.call(global.Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof global.File === 'function' || toString.call(global.File) === '[object FileConstructor]';\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet) {\n  var buffers = [];\n  var packetData = packet.data;\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData, buffers);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\nfunction _deconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (isBuf(data)) {\n    var placeholder = { _placeholder: true, num: buffers.length };\n    buffers.push(data);\n    return placeholder;\n  } else if (isArray(data)) {\n    var newData = new Array(data.length);\n    for (var i = 0; i < data.length; i++) {\n      newData[i] = _deconstructPacket(data[i], buffers);\n    }\n    return newData;\n  } else if (typeof data === 'object' && !(data instanceof Date)) {\n    var newData = {};\n    for (var key in data) {\n      newData[key] = _deconstructPacket(data[key], buffers);\n    }\n    return newData;\n  }\n  return data;\n}\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  packet.data = _reconstructPacket(packet.data, buffers);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\nfunction _reconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (data && data._placeholder) {\n    return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n  } else if (isArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      data[i] = _reconstructPacket(data[i], buffers);\n    }\n  } else if (typeof data === 'object') {\n    for (var key in data) {\n      data[key] = _reconstructPacket(data[key], buffers);\n    }\n  }\n\n  return data;\n}\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (typeof obj === 'object' && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/socket.io-parser/binary.js\n ** module id = 114\n ** module chunks = 3\n **/","\nmodule.exports = isBuf;\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/socket.io-parser/is-buffer.js\n ** module id = 115\n ** module chunks = 3\n **/","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/debug/src/debug.js\n ** module id = 116\n ** module chunks = 3\n **/","/* global Blob File */\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof global.Blob === 'function' || toString.call(global.Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof global.File === 'function' || toString.call(global.File) === '[object FileConstructor]';\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Supports Buffer, ArrayBuffer, Blob and File.\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary (obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  if (isArray(obj)) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (hasBinary(obj[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  if ((typeof global.Buffer === 'function' && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\n     (typeof global.ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||\n     (withNativeBlob && obj instanceof Blob) ||\n     (withNativeFile && obj instanceof File)\n    ) {\n    return true;\n  }\n\n  // see: https://github.com/Automattic/has-binary/pull/4\n  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {\n    return hasBinary(obj.toJSON(), true);\n  }\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/socket.io-parser/~/has-binary2/index.js\n ** module id = 118\n ** module chunks = 3\n **/","\nmodule.exports = require('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = require('engine.io-parser');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/lib/index.js\n ** module id = 119\n ** module chunks = 3\n **/","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/socket.io-parser/~/isarray/index.js\n ** module id = 122\n ** module chunks = 3\n **/","/**\n * Module dependencies.\n */\n\nvar transports = require('./transports/index');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parsejson = require('parsejson');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket (uri, opts) {\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' === typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure\n    : (global.location && 'https:' === location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port\n      ? location.port\n      : (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.transportOptions = opts.transportOptions || {};\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.prevBufferLen = 0;\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\n  this.forceNode = !!opts.forceNode;\n\n  // other options for Node.js client\n  var freeGlobal = typeof global === 'object' && global;\n  if (freeGlobal.global === freeGlobal) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n\n    if (opts.localAddress) {\n      this.localAddress = opts.localAddress;\n    }\n  }\n\n  // set on handshake\n  this.id = null;\n  this.upgrades = null;\n  this.pingInterval = null;\n  this.pingTimeout = null;\n\n  // set on heartbeat\n  this.pingIntervalTimer = null;\n  this.pingTimeoutTimer = null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports/index');\nSocket.parser = require('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // per-transport options\n  var options = this.transportOptions[name] || {};\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    query: query,\n    socket: this,\n    agent: options.agent || this.agent,\n    hostname: options.hostname || this.hostname,\n    port: options.port || this.port,\n    secure: options.secure || this.secure,\n    path: options.path || this.path,\n    forceJSONP: options.forceJSONP || this.forceJSONP,\n    jsonp: options.jsonp || this.jsonp,\n    forceBase64: options.forceBase64 || this.forceBase64,\n    enablesXDR: options.enablesXDR || this.enablesXDR,\n    timestampRequests: options.timestampRequests || this.timestampRequests,\n    timestampParam: options.timestampParam || this.timestampParam,\n    policyPort: options.policyPort || this.policyPort,\n    pfx: options.pfx || this.pfx,\n    key: options.key || this.key,\n    passphrase: options.passphrase || this.passphrase,\n    cert: options.cert || this.cert,\n    ca: options.ca || this.ca,\n    ciphers: options.ciphers || this.ciphers,\n    rejectUnauthorized: options.rejectUnauthorized || this.rejectUnauthorized,\n    perMessageDeflate: options.perMessageDeflate || this.perMessageDeflate,\n    extraHeaders: options.extraHeaders || this.extraHeaders,\n    forceNode: options.forceNode || this.forceNode,\n    localAddress: options.localAddress || this.localAddress,\n    requestTimeout: options.requestTimeout || this.requestTimeout,\n    protocols: options.protocols || void (0)\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function () {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function (transport) {\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function () {\n    self.onDrain();\n  })\n  .on('packet', function (packet) {\n    self.onPacket(packet);\n  })\n  .on('error', function (e) {\n    self.onError(e);\n  })\n  .on('close', function () {\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 });\n  var failed = false;\n  var self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen () {\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' === msg.type && 'probe' === msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' === transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' === self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport () {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  // Handle any error that happens while probing\n  function onerror (err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose () {\n    onerror('transport closed');\n  }\n\n  // When the socket is closed while we're probing\n  function onclose () {\n    onerror('socket closed');\n  }\n\n  // When the socket is upgraded while we're probing\n  function onupgrade (to) {\n    if (transport && to.name !== transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  // Remove all listeners on the transport and on self\n  function cleanup () {\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' === this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' === this.readyState || 'open' === this.readyState ||\n      'closing' === this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(parsejson(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if ('closed' === this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' === self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function () {\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function () {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' !== this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if ('function' === typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' === typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' === this.readyState || 'closed' === this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function () {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close () {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose () {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade () {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i < j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/lib/socket.js\n ** module id = 124\n ** module chunks = 3\n **/","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/debug/~/ms/index.js\n ** module id = 126\n ** module chunks = 3\n **/","/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n  this.forceNode = opts.forceNode;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n  this.localAddress = opts.localAddress;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' === this.readyState || '' === this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function (packets) {\n  if ('open' === this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function (data) {\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/lib/transport.js\n ** module id = 127\n ** module chunks = 3\n **/","/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling (opts) {\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (global.location) {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/lib/transports/index.js\n ** module id = 128\n ** module chunks = 3\n **/","/**\n * Module dependencies.\n */\n\nvar keys = require('./keys');\nvar hasBinary = require('has-binary2');\nvar sliceBuffer = require('arraybuffer.slice');\nvar after = require('after');\nvar utf8 = require('./utf8');\n\nvar base64encoder;\nif (global && global.ArrayBuffer) {\n  base64encoder = require('base64-arraybuffer');\n}\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = typeof navigator !== 'undefined' && /Android/i.test(navigator.userAgent);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = typeof navigator !== 'undefined' && /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = require('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if (typeof utf8encode === 'function') {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (Blob && data instanceof global.Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data), { strict: false }) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    packet.data = fr.result;\n    exports.encodePacket(packet, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (Blob && packet.data instanceof global.Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += global.btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  if (data === undefined) {\n    return err;\n  }\n  // String data\n  if (typeof data === 'string') {\n    if (data.charAt(0) === 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      data = tryDecode(data);\n      if (data === false) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\nfunction tryDecode(data) {\n  try {\n    data = utf8.decode(data, { strict: false });\n  } catch (e) {\n    return false;\n  }\n  return data;\n}\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!base64encoder) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, false, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data !== 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data === '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = '', n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (chr !== ':') {\n      length += chr;\n      continue;\n    }\n\n    if (length === '' || (length != (n = Number(length)))) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    msg = data.substr(i + 1, n);\n\n    if (length != msg.length) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    if (msg.length) {\n      packet = exports.decodePacket(msg, binaryType, false);\n\n      if (err.type === packet.type && err.data === packet.data) {\n        // parser error in individual packet - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      var ret = callback(packet, i + n, l);\n      if (false === ret) return;\n    }\n\n    // advance cursor\n    i += n;\n    length = '';\n  }\n\n  if (length !== '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] === 255) break;\n\n      // 310 = char length of Number.MAX_VALUE\n      if (msgLength.length > 310) {\n        return callback(err, 0, 1);\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/lib/browser.js\n ** module id = 129\n ** module chunks = 3\n **/","/**\r\n * JSON parse.\r\n *\r\n * @see Based on jQuery#parseJSON (MIT) and JSON2\r\n * @api private\r\n */\r\n\r\nvar rvalidchars = /^[\\],:{}\\s]*$/;\r\nvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\r\nvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\r\nvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\r\nvar rtrimLeft = /^\\s+/;\r\nvar rtrimRight = /\\s+$/;\r\n\r\nmodule.exports = function parsejson(data) {\r\n  if ('string' != typeof data || !data) {\r\n    return null;\r\n  }\r\n\r\n  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\r\n\r\n  // Attempt to parse using the native JSON parser first\r\n  if (global.JSON && JSON.parse) {\r\n    return JSON.parse(data);\r\n  }\r\n\r\n  if (rvalidchars.test(data.replace(rvalidescape, '@')\r\n      .replace(rvalidtokens, ']')\r\n      .replace(rvalidbraces, ''))) {\r\n    return (new Function('return ' + data))();\r\n  }\r\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/~/parsejson/index.js\n ** module id = 130\n ** module chunks = 3\n **/","// browser shim for xmlhttprequest module\n\nvar hasCORS = require('has-cors');\n\nmodule.exports = function (opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new global[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP');\n    } catch (e) { }\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/lib/xmlhttprequest.js\n ** module id = 131\n ** module chunks = 3\n **/","/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty () {}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR (opts) {\n  Polling.call(this, opts);\n  this.requestTimeout = opts.requestTimeout;\n  this.extraHeaders = opts.extraHeaders;\n\n  if (global.location) {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = opts.hostname !== global.location.hostname ||\n      port !== opts.port;\n    this.xs = opts.secure !== isSSL;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function (opts) {\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  opts.requestTimeout = this.requestTimeout;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function (data, fn) {\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function (err) {\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function () {\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function (data) {\n    self.onData(data);\n  });\n  req.on('error', function (err) {\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request (opts) {\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined !== opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n  this.requestTimeout = opts.requestTimeout;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function () {\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n\n    if ('POST' === this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    try {\n      xhr.setRequestHeader('Accept', '*/*');\n    } catch (e) {}\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n\n    if (this.requestTimeout) {\n      xhr.timeout = this.requestTimeout;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function () {\n        self.onLoad();\n      };\n      xhr.onerror = function () {\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 2) {\n          var contentType;\n          try {\n            contentType = xhr.getResponseHeader('Content-Type');\n          } catch (e) {}\n          if (contentType === 'application/octet-stream') {\n            xhr.responseType = 'arraybuffer';\n          }\n        }\n        if (4 !== xhr.readyState) return;\n        if (200 === xhr.status || 1223 === xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function () {\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function () {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function () {\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function (data) {\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function (err) {\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function (fromError) {\n  if ('undefined' === typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch (e) {}\n  }\n\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function () {\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type');\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response || this.xhr.responseText;\n    } else {\n      data = this.xhr.responseText;\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function () {\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function () {\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (global.document) {\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\n\nfunction unloadHandler () {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/lib/transports/polling-xhr.js\n ** module id = 132\n ** module chunks = 3\n **/","\n/**\n * Module requirements.\n */\n\nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    if (!global.___eio) global.___eio = [];\n    callbacks = global.___eio;\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function (e) {\n    self.onError('jsonp poll error', e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  } else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch (e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function () {\n      if (self.iframe.readyState === 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/lib/transports/polling-jsonp.js\n ** module id = 133\n ** module chunks = 3\n **/","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:websocket');\nvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\nvar NodeWebSocket;\nif (typeof window === 'undefined') {\n  try {\n    NodeWebSocket = require('ws');\n  } catch (e) { }\n}\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or try to resolve WebSocket-compatible\n * interface exposed by `ws` for Node-like environment.\n */\n\nvar WebSocket = BrowserWebSocket;\nif (!WebSocket && typeof window === 'undefined') {\n  WebSocket = NodeWebSocket;\n}\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;\n  this.protocols = opts.protocols;\n  if (!this.usingBrowserWebSocket) {\n    WebSocket = NodeWebSocket;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function () {\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var uri = this.uri();\n  var protocols = this.protocols;\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n  if (this.localAddress) {\n    opts.localAddress = this.localAddress;\n  }\n\n  try {\n    this.ws = this.usingBrowserWebSocket ? (protocols ? new WebSocket(uri, protocols) : new WebSocket(uri)) : new WebSocket(uri, protocols, opts);\n  } catch (err) {\n    return this.emit('error', err);\n  }\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'nodebuffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function () {\n  var self = this;\n\n  this.ws.onopen = function () {\n    self.onOpen();\n  };\n  this.ws.onclose = function () {\n    self.onClose();\n  };\n  this.ws.onmessage = function (ev) {\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function (e) {\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function (packet) {\n      parser.encodePacket(packet, self.supportsBinary, function (data) {\n        if (!self.usingBrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' === typeof data ? global.Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        // Sometimes the websocket has already been closed but the browser didn't\n        // have a chance of informing us about it yet, in that case send will\n        // throw an error\n        try {\n          if (self.usingBrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done () {\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function () {\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function () {\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function () {\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||\n    ('ws' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function () {\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/lib/transports/websocket.js\n ** module id = 134\n ** module chunks = 3\n **/","\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/lib/keys.js\n ** module id = 135\n ** module chunks = 3\n **/","/*! https://mths.be/utf8js v2.1.2 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint, strict) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tif (strict) {\n\t\t\t\tthrow Error(\n\t\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t\t' is not a scalar value'\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint, strict) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tif (!checkScalarValue(codePoint, strict)) {\n\t\t\t\tcodePoint = 0xFFFD;\n\t\t\t}\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string, opts) {\n\t\topts = opts || {};\n\t\tvar strict = false !== opts.strict;\n\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint, strict);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, its not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol(strict) {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\treturn checkScalarValue(codePoint, strict) ? codePoint : 0xFFFD;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString, opts) {\n\t\topts = opts || {};\n\t\tvar strict = false !== opts.strict;\n\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol(strict)) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar utf8 = {\n\t\t'version': '2.1.2',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = utf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/lib/utf8.js\n ** module id = 136\n ** module chunks = 3\n **/","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function () {\n  var XMLHttpRequest = require('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function () {\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function (onPause) {\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause () {\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function () {\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function () {\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function () {\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function (data) {\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function (packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' === self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' === packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' !== this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' === this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function () {\n  var self = this;\n\n  function close () {\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' === this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n  var callbackfn = function () {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  parser.encodePayload(packets, this.supportsBinary, function (data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' === schema && Number(this.port) !== 443) ||\n     ('http' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/lib/transports/polling.js\n ** module id = 138\n ** module chunks = 3\n **/","/* global Blob File */\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof global.Blob === 'function' || toString.call(global.Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof global.File === 'function' || toString.call(global.File) === '[object FileConstructor]';\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Supports Buffer, ArrayBuffer, Blob and File.\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary (obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  if (isArray(obj)) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (hasBinary(obj[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  if ((typeof global.Buffer === 'function' && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) ||\n     (typeof global.ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||\n     (withNativeBlob && obj instanceof Blob) ||\n     (withNativeFile && obj instanceof File)\n    ) {\n    return true;\n  }\n\n  // see: https://github.com/Automattic/has-binary/pull/4\n  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {\n    return hasBinary(obj.toJSON(), true);\n  }\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/has-binary2/index.js\n ** module id = 139\n ** module chunks = 3\n **/","/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/arraybuffer.slice/index.js\n ** module id = 140\n ** module chunks = 3\n **/","module.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/after/index.js\n ** module id = 141\n ** module chunks = 3\n **/","/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var a = new Blob(['hi']);\n    return a.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if Blob constructor supports ArrayBufferViews\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\n */\n\nvar blobSupportsArrayBufferView = blobSupported && (function() {\n  try {\n    var b = new Blob([new Uint8Array([1,2])]);\n    return b.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\n/**\n * Helper function that maps ArrayBufferViews to ArrayBuffers\n * Used by BlobBuilder constructor and old browsers that didn't\n * support it in the Blob constructor.\n */\n\nfunction mapArrayBufferViews(ary) {\n  for (var i = 0; i < ary.length; i++) {\n    var chunk = ary[i];\n    if (chunk.buffer instanceof ArrayBuffer) {\n      var buf = chunk.buffer;\n\n      // if this is a subarray, make a copy so we only\n      // include the subarray region from the underlying buffer\n      if (chunk.byteLength !== buf.byteLength) {\n        var copy = new Uint8Array(chunk.byteLength);\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n        buf = copy.buffer;\n      }\n\n      ary[i] = buf;\n    }\n  }\n}\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  mapArrayBufferViews(ary);\n\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nfunction BlobConstructor(ary, options) {\n  mapArrayBufferViews(ary);\n  return new Blob(ary, options || {});\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/blob/index.js\n ** module id = 142\n ** module chunks = 3\n **/","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(){\n  \"use strict\";\n\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n  // Use a lookup table to find the index.\n  var lookup = new Uint8Array(256);\n  for (var i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n  }\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = lookup[base64.charCodeAt(i)];\n      encoded2 = lookup[base64.charCodeAt(i+1)];\n      encoded3 = lookup[base64.charCodeAt(i+2)];\n      encoded4 = lookup[base64.charCodeAt(i+3)];\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/base64-arraybuffer/lib/base64-arraybuffer.js\n ** module id = 143\n ** module chunks = 3\n **/","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/has-cors/index.js\n ** module id = 144\n ** module chunks = 3\n **/","\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/~/component-inherit/index.js\n ** module id = 145\n ** module chunks = 3\n **/","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/~/yeast/index.js\n ** module id = 146\n ** module chunks = 3\n **/","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/socket.io-client/~/engine.io-client/~/engine.io-parser/~/has-binary2/~/isarray/index.js\n ** module id = 147\n ** module chunks = 3\n **/"],"sourceRoot":""}