webpackJsonp([9],{

/***/ 39:
/***/ function(module, exports, __webpack_require__) {

	"use strict";

	(function loadGauntouApi() {
	    var a = document.createElement("script");
	    var verDate = new Date();
	    var verStr = verDate.getFullYear().toString() + verDate.getMonth().toString() + verDate.getDate().toString();
	    a.type = "text/javascript";
	    a.id = "guantouApi-js";
	    a.async = !0;
	    a.src = (location.protocol == 'http:' ? "http:" : "https:") + "//pay.matchvs.com/h5/js/guantouAPI.js?v=" + verStr;
	    var c = document.getElementsByTagName("script")[0];
	    c.parentNode.insertBefore(a, c);
	})();

	var tongji = window.tongji = __webpack_require__(48);
	var url = __webpack_require__(4),
	    path = __webpack_require__(5),
	    clone = __webpack_require__(21),
	    qs = __webpack_require__(6).stringify;
	var gameID = 8888;

	// 调整startup_param
	if (startup_param.userID) {
	    startup_param.id = 'guantou.' + startup_param.userID;
	    var faceurl = clone(location);
	    faceurl.search = qs({ u: startup_param.headUrl });
	    faceurl.pathname = path.join(faceurl.pathname, '/CORS');
	    startup_param.face = url.format(faceurl);
	}

	window.pay = function (orderid, money, desc, cb) {
	    tongji.beginCharge(orderid, money, desc, startup_param.pf);
	    faceurl.pathname = path.join(location.pathname, 'pf/guantou/pay');
	    guantouApi.pay({ amount: money,
	        openOrderID: orderid,
	        openNotifyURL: url.format(faceurl),
	        userID: startup_param.userID,
	        gameID: gameID,
	        subject: '付款',
	        timestamp: new Date(),
	        body: desc,
	        token: startup_param.token });
	    tongji.endCharge(orderid, 'guantou');
	};

	window.preInvite = function (v, opt) {
	    var shareObj = {
	        type: 'link',
	        title: '牛牛大作战，房号:' + v + '(' + opt.pan + '局)',
	        link: 'http://h5.1357g.com/g/niuniu.app?room=' + v,
	        //link:'http://h5.1357g.com/wnn/res244.jpg',
	        imgUrl: location.origin + location.pathname + 'res/logo.png',
	        //dataUrl:'http://h5.1357g.com/wnn/res244.jpg',
	        desc: '轮庄，' + toRuleString(opt.rule) + ', ' + opt.dizhu + '底！'
	        //success: function (){},
	        //cancel: function (){}
	    };

	    window.invite = function () {
	        window.guantouApi.share({
	            title: '大手捕鱼',
	            link: 'http://h5.1357g.com/g/fish.app?pf=guantou',
	            desc: '测试而已'
	        });
	        tongji.invite(v, '');
	    };
	};
	window.invite = function () {
	    window.guantouApi.share({
	        title: '大手捕鱼',
	        link: 'http://h5.1357g.com/g/fish.app?pf=guantou',
	        desc: '测试而已'
	    });
	};
	window.share = function () {
	    window.guantouApi.share({
	        title: '大手捕鱼',
	        link: 'http://h5.1357g.com/g/fish.app?pf=guantou',
	        desc: '测试而已'
	    });
	    tongji.share();
	};
	window.preShareResult = function (roomid, setnum, participants, winners, img) {};

/***/ },

/***/ 48:
/***/ function(module, exports, __webpack_require__) {

	'use strict';

	var t = __webpack_require__(83);
	module.exports = t;

/***/ },

/***/ 83:
/***/ function(module, exports, __webpack_require__) {

	"use strict";

	var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	window.zhuge = window.zhuge || [];
	window.zhuge.methods = "_init debug identify track trackLink trackForm page".split(" ");
	window.zhuge.factory = function (b) {
	    return function () {
	        var a = Array.prototype.slice.call(arguments);
	        a.unshift(b);
	        window.zhuge.push(a);
	        return window.zhuge;
	    };
	};
	for (var i = 0; i < window.zhuge.methods.length; i++) {
	    var key = window.zhuge.methods[i];
	    window.zhuge[key] = window.zhuge.factory(key);
	}
	window.zhuge.load = function (b, x) {
	    if (!document.getElementById("zhuge-js")) {
	        var a = document.createElement("script");
	        var verDate = new Date();
	        var verStr = verDate.getFullYear().toString() + verDate.getMonth().toString() + verDate.getDate().toString();
	        a.type = "text/javascript";
	        a.id = "zhuge-js";
	        a.async = !0;
	        a.src = (location.protocol == 'http:' ? "http://sdk.zhugeio.com/zhuge.min.js?v=" : 'https://zgsdk.zhugeio.com/zhuge.min.js?v=') + verStr;
	        a.onerror = function () {
	            window.zhuge.identify = window.zhuge.track = function (ename, props, callback) {
	                if (callback && Object.prototype.toString.call(callback) === '[object Function]') callback();
	            };
	        };
	        var c = document.getElementsByTagName("script")[0];
	        c.parentNode.insertBefore(a, c);
	        window.zhuge._init(b, x);
	    }
	};
	window.zhuge.load('a6294c4a959947719afd7248e98fe072'); //配置应用的AppKey

	function noop() {}

	var Stat = function () {
	    function Stat() {
	        _classCallCheck(this, Stat);

	        this._delayOp = [];
	        this._inited = true;
	    }

	    _createClass(Stat, [{
	        key: "init",
	        value: function init(key) {
	            this._inited = true;
	            return;
	        }
	    }, {
	        key: "_delay",
	        value: function _delay(f) {
	            if (!this._inited) {
	                return this._delayOp.push({ f: f });
	            }
	            f();
	        }
	    }, {
	        key: "userin",
	        value: function userin(me) {
	            this._delay(function () {
	                var qudao = 0;
	                if (!!window.cordova) {
	                    var o = { "Android": 1, "BlackBerry 10": 2, "browser": 3, "iOS": 4, "WinCE": 5, "Tizen": 6, "Mac OS X": 7 };
	                    qudao = device.platform;
	                } else if (startup_param.pf == 'wechat') qudao = 'wechat';
	                zhuge.identify(me.id, {
	                    name: me.nickname,
	                    //预定义属性
	                    gender: startup_param.sex,
	                    //预定义属性
	                    level: me.level,
	                    gameServer: '通用',
	                    accountType: qudao
	                });
	            });
	        }
	    }, {
	        key: "userout",
	        value: function userout() {
	            this._delay(function () {
	                zhuge.track('userout');
	            });
	        }
	    }, {
	        key: "levelup",
	        value: function levelup(n) {
	            this._delay(function () {
	                zhuge.track('levelup', { level: n });
	            });
	        }
	    }, {
	        key: "reward",
	        value: function reward(n, reason) {
	            this._delay(function () {
	                zhuge.track('reward', { count: n, reason: reason });
	            });
	        }
	    }, {
	        key: "beginCharge",
	        value: function beginCharge(orderid, money, tickets, desc, payment) {
	            if (typeof tickets == 'string') {
	                payment = desc;
	                desc = tickets;
	                tickets = Math.floor(money / 3);
	            }
	            this._delay(function () {
	                zhuge.track('beginCharge', {
	                    orderId: orderid,
	                    iapId: desc,
	                    currencyAmount: money,
	                    currencyType: 'CNY',
	                    virtualCurrencyAmount: tickets,
	                    paymentType: payment
	                });
	            });
	        }
	    }, {
	        key: "endCharge",
	        value: function endCharge(orderid, payment) {
	            this._delay(function () {
	                zhuge.track('endCharge', {
	                    orderId: orderid,
	                    paymentType: payment
	                });
	            });
	        }
	    }, {
	        key: "enterGame",
	        value: function enterGame(tableid) {
	            this._delay(function () {
	                zhuge.track('enterGame', { table: tableid });
	            });
	        }
	    }, {
	        key: "startGame",
	        value: function startGame(tableid, name, tickets) {
	            this._delay(function () {
	                zhuge.track('startgame', { table: tableid, name: name });
	                if (tickets) zhuge.track('consume', { item: name, itemNumber: 1, priceInVirtualCurrency: tickets });
	            });
	        }
	    }, {
	        key: "endGame",
	        value: function endGame(tableid) {
	            this._delay(function () {
	                zhuge.track('endGame', { table: tableid });
	            });
	        }
	    }, {
	        key: "share",
	        value: function share() {
	            this._delay(function () {
	                zhuge.track('share', { user: { id: me.id, nickname: me.nickname } });
	            });
	        }
	    }, {
	        key: "invite",
	        value: function invite(tableid, tabledesc) {
	            this._delay(function () {
	                zhuge.track('invite', { user: { id: me.id, nickname: me.nickname }, table: { id: tableid, msg: tabledesc } });
	            });
	        }
	    }, {
	        key: "event",
	        value: function event(name, data) {
	            this._delay(function () {
	                zhuge.track(name, (typeof data === "undefined" ? "undefined" : _typeof(data)) == 'object' ? data : { data: data });
	            });
	        }

	        /**
	         * 
	         * @param {number} n , 换多少币
	         * @param {number} m ，上级币的数量
	         * @param {string|null} n_name, 本级货币名称，默认金币
	         * @param {string|null} m_name, 上级货币名称，默认钻石
	         */

	    }, {
	        key: "changeToVirtualCurrency",
	        value: function changeToVirtualCurrency(n, m, n_name, m_name) {
	            n_name = n_name || '金币';
	            m_name = m_name || '钻石';
	            this._delay(function () {
	                var detail = {};
	                detail[n_name] = n;
	                detail[m_name] = m;
	                zhuge.track('buyCoin', detail);
	            });
	        }
	        /**
	         * 消耗虚拟币，如果有3个参数，那么是消耗n*price的币，
	         * @param {string} name 
	         * @param {number} n 
	         * @param {number|null} price 
	         */

	    }, {
	        key: "consume",
	        value: function consume(name, n, price) {
	            this._delay(function () {
	                zhuge.track('consume', { item: name, itemNumber: n, priceInVirtualCurrency: price });
	            });
	        }
	    }]);

	    return Stat;
	}();

	var tongji = new Stat();
	window.onunload = tongji.userout.bind(tongji);

	module.exports = tongji;

/***/ }

});